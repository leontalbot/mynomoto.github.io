if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}

/*! jQuery v1.8.2 jquery.com | jquery.org/license */
(function(a,b){function G(a){var b=F[a]={};return p.each(a.split(s),function(a,c){b[c]=!0}),b}function J(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(I,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:+d+""===d?+d:H.test(d)?p.parseJSON(d):d}catch(f){}p.data(a,c,d)}else d=b}return d}function K(a){var b;for(b in a){if(b==="data"&&p.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function ba(){return!1}function bb(){return!0}function bh(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function bi(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function bj(a,b,c){b=b||0;if(p.isFunction(b))return p.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return p.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=p.grep(a,function(a){return a.nodeType===1});if(be.test(b))return p.filter(b,d,!c);b=p.filter(b,d)}return p.grep(a,function(a,d){return p.inArray(a,b)>=0===c})}function bk(a){var b=bl.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bC(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bD(a,b){if(b.nodeType!==1||!p.hasData(a))return;var c,d,e,f=p._data(a),g=p._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)p.event.add(b,c,h[c][d])}g.data&&(g.data=p.extend({},g.data))}function bE(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?(b.parentNode&&(b.outerHTML=a.outerHTML),p.support.html5Clone&&a.innerHTML&&!p.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):c==="input"&&bv.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(p.expando)}function bF(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bG(a){bv.test(a.type)&&(a.defaultChecked=a.checked)}function bY(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bW.length;while(e--){b=bW[e]+c;if(b in a)return b}return d}function bZ(a,b){return a=b||a,p.css(a,"display")==="none"||!p.contains(a.ownerDocument,a)}function b$(a,b){var c,d,e=[],f=0,g=a.length;for(;f<g;f++){c=a[f];if(!c.style)continue;e[f]=p._data(c,"olddisplay"),b?(!e[f]&&c.style.display==="none"&&(c.style.display=""),c.style.display===""&&bZ(c)&&(e[f]=p._data(c,"olddisplay",cc(c.nodeName)))):(d=bH(c,"display"),!e[f]&&d!=="none"&&p._data(c,"olddisplay",d))}for(f=0;f<g;f++){c=a[f];if(!c.style)continue;if(!b||c.style.display==="none"||c.style.display==="")c.style.display=b?e[f]||"":"none"}return a}function b_(a,b,c){var d=bP.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function ca(a,b,c,d){var e=c===(d?"border":"content")?4:b==="width"?1:0,f=0;for(;e<4;e+=2)c==="margin"&&(f+=p.css(a,c+bV[e],!0)),d?(c==="content"&&(f-=parseFloat(bH(a,"padding"+bV[e]))||0),c!=="margin"&&(f-=parseFloat(bH(a,"border"+bV[e]+"Width"))||0)):(f+=parseFloat(bH(a,"padding"+bV[e]))||0,c!=="padding"&&(f+=parseFloat(bH(a,"border"+bV[e]+"Width"))||0));return f}function cb(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=!0,f=p.support.boxSizing&&p.css(a,"boxSizing")==="border-box";if(d<=0||d==null){d=bH(a,b);if(d<0||d==null)d=a.style[b];if(bQ.test(d))return d;e=f&&(p.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+ca(a,b,c||(f?"border":"content"),e)+"px"}function cc(a){if(bS[a])return bS[a];var b=p("<"+a+">").appendTo(e.body),c=b.css("display");b.remove();if(c==="none"||c===""){bI=e.body.appendChild(bI||p.extend(e.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!bJ||!bI.createElement)bJ=(bI.contentWindow||bI.contentDocument).document,bJ.write("<!doctype html><html><body>"),bJ.close();b=bJ.body.appendChild(bJ.createElement(a)),c=bH(b,"display"),e.body.removeChild(bI)}return bS[a]=c,c}function ci(a,b,c,d){var e;if(p.isArray(b))p.each(b,function(b,e){c||ce.test(a)?d(a,e):ci(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&p.type(b)==="object")for(e in b)ci(a+"["+e+"]",b[e],c,d);else d(a,b)}function cz(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(s),h=0,i=g.length;if(p.isFunction(c))for(;h<i;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function cA(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h,i=a[f],j=0,k=i?i.length:0,l=a===cv;for(;j<k&&(l||!h);j++)h=i[j](c,d,e),typeof h=="string"&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=cA(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=cA(a,c,d,e,"*",g)),h}function cB(a,c){var d,e,f=p.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&p.extend(!0,a,e)}function cC(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);while(j[0]==="*")j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g)return g!==j[0]&&j.unshift(g),d[g]}function cD(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;a.dataFilter&&(b=a.dataFilter(b,a.dataType));if(g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if(e!=="*"){if(h!=="*"&&h!==e){c=i[h+" "+e]||i["* "+e];if(!c)for(d in i){f=d.split(" ");if(f[1]===e){c=i[h+" "+f[0]]||i["* "+f[0]];if(c){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}}}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function cL(){try{return new a.XMLHttpRequest}catch(b){}}function cM(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cU(){return setTimeout(function(){cN=b},0),cN=p.now()}function cV(a,b){p.each(b,function(b,c){var d=(cT[b]||[]).concat(cT["*"]),e=0,f=d.length;for(;e<f;e++)if(d[e].call(a,b,c))return})}function cW(a,b,c){var d,e=0,f=0,g=cS.length,h=p.Deferred().always(function(){delete i.elem}),i=function(){var b=cN||cU(),c=Math.max(0,j.startTime+j.duration-b),d=1-(c/j.duration||0),e=0,f=j.tweens.length;for(;e<f;e++)j.tweens[e].run(d);return h.notifyWith(a,[j,d,c]),d<1&&f?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:cN||cU(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=p.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(e),e},stop:function(b){var c=0,d=b?j.tweens.length:0;for(;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;cX(k,j.opts.specialEasing);for(;e<g;e++){d=cS[e].call(j,a,k,j.opts);if(d)return d}return cV(j,k),p.isFunction(j.opts.start)&&j.opts.start.call(a,j),p.fx.timer(p.extend(i,{anim:j,queue:j.opts.queue,elem:a})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cX(a,b){var c,d,e,f,g;for(c in a){d=p.camelCase(c),e=b[d],f=a[c],p.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=p.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function cY(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],q=a.nodeType&&bZ(a);c.queue||(j=p._queueHooks(a,"fx"),j.unqueued==null&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,p.queue(a,"fx").length||j.empty.fire()})})),a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],p.css(a,"display")==="inline"&&p.css(a,"float")==="none"&&(!p.support.inlineBlockNeedsLayout||cc(a.nodeName)==="inline"?m.display="inline-block":m.zoom=1)),c.overflow&&(m.overflow="hidden",p.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b){f=b[d];if(cP.exec(f)){delete b[d];if(f===(q?"hide":"show"))continue;o.push(d)}}g=o.length;if(g){h=p._data(a,"fxshow")||p._data(a,"fxshow",{}),q?p(a).show():l.done(function(){p(a).hide()}),l.done(function(){var b;p.removeData(a,"fxshow",!0);for(b in n)p.style(a,b,n[b])});for(d=0;d<g;d++)e=o[d],i=l.createTween(e,q?h[e]:0),n[e]=h[e]||p.style(a,e),e in h||(h[e]=i.start,q&&(i.end=i.start,i.start=e==="width"||e==="height"?1:0))}}function cZ(a,b,c,d,e){return new cZ.prototype.init(a,b,c,d,e)}function c$(a,b){var c,d={height:a},e=0;b=b?1:0;for(;e<4;e+=2-b)c=bV[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function da(a){return p.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c,d,e=a.document,f=a.location,g=a.navigator,h=a.jQuery,i=a.$,j=Array.prototype.push,k=Array.prototype.slice,l=Array.prototype.indexOf,m=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o=String.prototype.trim,p=function(a,b){return new p.fn.init(a,b,c)},q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,r=/\S/,s=/\s+/,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,y=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,z=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,A=/^-ms-/,B=/-([\da-z])/gi,C=function(a,b){return(b+"").toUpperCase()},D=function(){e.addEventListener?(e.removeEventListener("DOMContentLoaded",D,!1),p.ready()):e.readyState==="complete"&&(e.detachEvent("onreadystatechange",D),p.ready())},E={};p.fn=p.prototype={constructor:p,init:function(a,c,d){var f,g,h,i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?f=[null,a,null]:f=u.exec(a);if(f&&(f[1]||!c)){if(f[1])return c=c instanceof p?c[0]:c,i=c&&c.nodeType?c.ownerDocument||c:e,a=p.parseHTML(f[1],i,!0),v.test(f[1])&&p.isPlainObject(c)&&this.attr.call(a,c,!0),p.merge(this,a);g=e.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return d.find(a);this.length=1,this[0]=g}return this.context=e,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return p.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return k.call(this)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=p.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return p.each(this,a,b)},ready:function(a){return p.ready.promise().done(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(k.apply(this,arguments),"slice",k.call(arguments).join(","))},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:[].sort,splice:[].splice},p.fn.init.prototype=p.fn,p.extend=p.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;typeof h=="boolean"&&(k=h,h=arguments[1]||{},i=2),typeof h!="object"&&!p.isFunction(h)&&(h={}),j===i&&(h=this,--i);for(;i<j;i++)if((a=arguments[i])!=null)for(c in a){d=h[c],e=a[c];if(h===e)continue;k&&e&&(p.isPlainObject(e)||(f=p.isArray(e)))?(f?(f=!1,g=d&&p.isArray(d)?d:[]):g=d&&p.isPlainObject(d)?d:{},h[c]=p.extend(k,g,e)):e!==b&&(h[c]=e)}return h},p.extend({noConflict:function(b){return a.$===p&&(a.$=i),b&&a.jQuery===p&&(a.jQuery=h),p},isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(a===!0?--p.readyWait:p.isReady)return;if(!e.body)return setTimeout(p.ready,1);p.isReady=!0;if(a!==!0&&--p.readyWait>0)return;d.resolveWith(e,[p]),p.fn.trigger&&p(e).trigger("ready").off("ready")},isFunction:function(a){return p.type(a)==="function"},isArray:Array.isArray||function(a){return p.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):E[m.call(a)]||"object"},isPlainObject:function(a){if(!a||p.type(a)!=="object"||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!n.call(a,"constructor")&&!n.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||n.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return!a||typeof a!="string"?null:(typeof b=="boolean"&&(c=b,b=0),b=b||e,(d=v.exec(a))?[b.createElement(d[1])]:(d=p.buildFragment([a],b,c?null:[]),p.merge([],(d.cacheable?p.clone(d.fragment):d.fragment).childNodes)))},parseJSON:function(b){if(!b||typeof b!="string")return null;b=p.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(w.test(b.replace(y,"@").replace(z,"]").replace(x,"")))return(new Function("return "+b))();p.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||typeof c!="string")return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&r.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(A,"ms-").replace(B,C)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||p.isFunction(a);if(d){if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;f<g;)if(c.apply(a[f++],d)===!1)break}else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;f<g;)if(c.call(a[f],f,a[f++])===!1)break;return a},trim:o&&!o.call("﻿ ")?function(a){return a==null?"":o.call(a)}:function(a){return a==null?"":(a+"").replace(t,"")},makeArray:function(a,b){var c,d=b||[];return a!=null&&(c=p.type(a),a.length==null||c==="string"||c==="function"||c==="regexp"||p.isWindow(a)?j.call(d,a):p.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(l)return l.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if(typeof d=="number")for(;f<d;f++)a[e++]=c[f];else while(c[f]!==b)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;c=!!c;for(;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof p||i!==b&&typeof i=="number"&&(i>0&&a[0]&&a[i-1]||i===0||p.isArray(a));if(j)for(;h<i;h++)e=c(a[h],h,d),e!=null&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),e!=null&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return typeof c=="string"&&(d=a[c],c=a,a=d),p.isFunction(a)?(e=k.call(arguments,2),f=function(){return a.apply(c,e.concat(k.call(arguments)))},f.guid=a.guid=a.guid||p.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=d==null,k=0,l=a.length;if(d&&typeof d=="object"){for(k in d)p.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){i=h===b&&p.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(p(a),c)}):(c.call(a,e),c=null));if(c)for(;k<l;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),p.ready.promise=function(b){if(!d){d=p.Deferred();if(e.readyState==="complete")setTimeout(p.ready,1);else if(e.addEventListener)e.addEventListener("DOMContentLoaded",D,!1),a.addEventListener("load",p.ready,!1);else{e.attachEvent("onreadystatechange",D),a.attachEvent("onload",p.ready);var c=!1;try{c=a.frameElement==null&&e.documentElement}catch(f){}c&&c.doScroll&&function g(){if(!p.isReady){try{c.doScroll("left")}catch(a){return setTimeout(g,50)}p.ready()}}()}}return d.promise(b)},p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){E["[object "+b+"]"]=b.toLowerCase()}),c=p(e);var F={};p.Callbacks=function(a){a=typeof a=="string"?F[a]||G(a):p.extend({},a);var c,d,e,f,g,h,i=[],j=!a.once&&[],k=function(b){c=a.memory&&b,d=!0,h=f||0,f=0,g=i.length,e=!0;for(;i&&h<g;h++)if(i[h].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var b=i.length;(function d(b){p.each(b,function(b,c){var e=p.type(c);e==="function"&&(!a.unique||!l.has(c))?i.push(c):c&&c.length&&e!=="string"&&d(c)})})(arguments),e?g=i.length:c&&(f=b,k(c))}return this},remove:function(){return i&&p.each(arguments,function(a,b){var c;while((c=p.inArray(b,i,c))>-1)i.splice(c,1),e&&(c<=g&&g--,c<=h&&h--)}),this},has:function(a){return p.inArray(a,i)>-1},empty:function(){return i=[],this},disable:function(){return i=j=c=b,this},disabled:function(){return!i},lock:function(){return j=b,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],i&&(!d||j)&&(e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},p.extend({Deferred:function(a){var b=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(c){p.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](p.isFunction(g)?function(){var a=g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return a!=null?p.extend(a,d):d}},e={};return d.pipe=d.then,p.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=k.call(arguments),d=c.length,e=d!==1||a&&p.isFunction(a.promise)?d:0,f=e===1?a:p.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?k.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},h,i,j;if(d>1){h=new Array(d),i=new Array(d),j=new Array(d);for(;b<d;b++)c[b]&&p.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e}return e||f.resolveWith(j,c),f.promise()}}),p.support=function(){var b,c,d,f,g,h,i,j,k,l,m,n=e.createElement("div");n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5";if(!c||!c.length)return{};f=e.createElement("select"),g=f.appendChild(e.createElement("option")),h=n.getElementsByTagName("input")[0],b={leadingWhitespace:n.firstChild.nodeType===3,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:h.value==="on",optSelected:g.selected,getSetAttribute:n.className!=="t",enctype:!!e.createElement("form").enctype,html5Clone:e.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:e.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},h.checked=!0,b.noCloneChecked=h.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",m=function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"),n.detachEvent("onclick",m)),h=e.createElement("input"),h.value="t",h.setAttribute("type","radio"),b.radioValue=h.value==="t",h.setAttribute("checked","checked"),h.setAttribute("name","t"),n.appendChild(h),i=e.createDocumentFragment(),i.appendChild(n.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=h.checked,i.removeChild(h),i.appendChild(n);if(n.attachEvent)for(k in{submit:!0,change:!0,focusin:!0})j="on"+k,l=j in n,l||(n.setAttribute(j,"return;"),l=typeof n[j]=="function"),b[k+"Bubbles"]=l;return p(function(){var c,d,f,g,h="padding:0;margin:0;border:0;display:block;overflow:hidden;",i=e.getElementsByTagName("body")[0];if(!i)return;c=e.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(c,i.firstChild),d=e.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",l=f[0].offsetHeight===0,f[0].style.display="",f[1].style.display="none",b.reliableHiddenOffsets=l&&f[0].offsetHeight===0,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=d.offsetWidth===4,b.doesNotIncludeMarginInBodyOffset=i.offsetTop!==1,a.getComputedStyle&&(b.pixelPosition=(a.getComputedStyle(d,null)||{}).top!=="1%",b.boxSizingReliable=(a.getComputedStyle(d,null)||{width:"4px"}).width==="4px",g=e.createElement("div"),g.style.cssText=d.style.cssText=h,g.style.marginRight=g.style.width="0",d.style.width="1px",d.appendChild(g),b.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),typeof d.style.zoom!="undefined"&&(d.innerHTML="",d.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=d.offsetWidth===3,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=d.offsetWidth!==3,c.style.zoom=1),i.removeChild(c),c=d=f=g=null}),i.removeChild(n),c=d=f=g=h=i=n=null,b}();var H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!K(a)},data:function(a,c,d,e){if(!p.acceptData(a))return;var f,g,h=p.expando,i=typeof c=="string",j=a.nodeType,k=j?p.cache:a,l=j?a[h]:a[h]&&h;if((!l||!k[l]||!e&&!k[l].data)&&i&&d===b)return;l||(j?a[h]=l=p.deletedIds.pop()||p.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=p.noop));if(typeof c=="object"||typeof c=="function")e?k[l]=p.extend(k[l],c):k[l].data=p.extend(k[l].data,c);return f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[p.camelCase(c)]=d),i?(g=f[c],g==null&&(g=f[p.camelCase(c)])):g=f,g},removeData:function(a,b,c){if(!p.acceptData(a))return;var d,e,f,g=a.nodeType,h=g?p.cache:a,i=g?a[p.expando]:p.expando;if(!h[i])return;if(b){d=c?h[i]:h[i].data;if(d){p.isArray(b)||(b in d?b=[b]:(b=p.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?K:p.isEmptyObject)(d))return}}if(!c){delete h[i].data;if(!K(h[i]))return}g?p.cleanData([a],!0):p.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null},_data:function(a,b,c){return p.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&p.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),p.fn.extend({data:function(a,c){var d,e,f,g,h,i=this[0],j=0,k=null;if(a===b){if(this.length){k=p.data(i);if(i.nodeType===1&&!p._data(i,"parsedAttrs")){f=i.attributes;for(h=f.length;j<h;j++)g=f[j].name,g.indexOf("data-")||(g=p.camelCase(g.substring(5)),J(i,g,k[g]));p._data(i,"parsedAttrs",!0)}}return k}return typeof a=="object"?this.each(function(){p.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",p.access(this,function(c){if(c===b)return k=this.triggerHandler("getData"+e,[d[0]]),k===b&&i&&(k=p.data(i,a),k=J(i,a,k)),k===b&&d[1]?this.data(d[0]):k;d[1]=c,this.each(function(){var b=p(this);b.triggerHandler("setData"+e,d),p.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){p.removeData(this,a)})}}),p.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=p._data(a,b),c&&(!d||p.isArray(c)?d=p._data(a,b,p.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b),d=c.length,e=c.shift(),f=p._queueHooks(a,b),g=function(){p.dequeue(a,b)};e==="inprogress"&&(e=c.shift(),d--),e&&(b==="fx"&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return p._data(a,c)||p._data(a,c,{empty:p.Callbacks("once memory").add(function(){p.removeData(a,b+"queue",!0),p.removeData(a,c,!0)})})}}),p.fn.extend({queue:function(a,c){var d=2;return typeof a!="string"&&(c=a,a="fx",d--),arguments.length<d?p.queue(this[0],a):c===b?this:this.each(function(){var b=p.queue(this,a,c);p._queueHooks(this,a),a==="fx"&&b[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},delay:function(a,b){return a=p.fx?p.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=p.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};typeof a!="string"&&(c=a,a=b),a=a||"fx";while(h--)d=p._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var L,M,N,O=/[\t\r\n]/g,P=/\r/g,Q=/^(?:button|input)$/i,R=/^(?:button|input|object|select|textarea)$/i,S=/^a(?:rea|)$/i,T=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=p.support.getSetAttribute;p.fn.extend({attr:function(a,b){return p.access(this,p.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})},prop:function(a,b){return p.access(this,p.prop,a,b,arguments.length>1)},removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(s);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=p.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(s);for(h=0,i=this.length;h<i;h++){e=this[h];if(e.nodeType===1&&e.className){d=(" "+e.className+" ").replace(O," ");for(f=0,g=c.length;f<g;f++)while(d.indexOf(" "+c[f]+" ")>=0)d=d.replace(" "+c[f]+" "," ");e.className=a?p.trim(d):""}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return p.isFunction(a)?this.each(function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=p(this),h=b,i=a.split(s);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&p._data(this,"__className__",this.className),this.className=this.className||a===!1?"":p._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(O," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!arguments.length){if(f)return c=p.valHooks[f.type]||p.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(P,""):d==null?"":d);return}return e=p.isFunction(a),this.each(function(d){var f,g=p(this);if(this.nodeType!==1)return;e?f=a.call(this,d,g.val()):f=a,f==null?f="":typeof f=="number"?f+="":p.isArray(f)&&(f=p.map(f,function(a){return a==null?"":a+""})),c=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,f,"value")===b)this.value=f})}}),p.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i=a.type==="select-one";if(f<0)return null;c=i?f:0,d=i?f+1:h.length;for(;c<d;c++){e=h[c];if(e.selected&&(p.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!p.nodeName(e.parentNode,"optgroup"))){b=p(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?p(h[f]).val():g},set:function(a,b){var c=p.makeArray(b);return p(a).find("option").each(function(){this.selected=p.inArray(p(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(!a||i===3||i===8||i===2)return;if(e&&p.isFunction(p.fn[c]))return p(a)[c](d);if(typeof a.getAttribute=="undefined")return p.prop(a,c,d);h=i!==1||!p.isXMLDoc(a),h&&(c=c.toLowerCase(),g=p.attrHooks[c]||(T.test(c)?M:L));if(d!==b){if(d===null){p.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.split(s);for(;g<d.length;g++)e=d[g],e&&(c=p.propFix[e]||e,f=T.test(e),f||p.attr(a,e,""),a.removeAttribute(U?e:c),f&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(Q.test(a.nodeName)&&a.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&b==="radio"&&p.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return L&&p.nodeName(a,"button")?L.get(a,b):b in a?a.value:null},set:function(a,b,c){if(L&&p.nodeName(a,"button"))return L.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(!a||h===3||h===8||h===2)return;return g=h!==1||!p.isXMLDoc(a),g&&(c=p.propFix[c]||c,f=p.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):R.test(a.nodeName)||S.test(a.nodeName)&&a.href?0:b}}}}),M={get:function(a,c){var d,e=p.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?p.removeAttr(a,c):(d=p.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},U||(N={name:!0,id:!0,coords:!0},L=p.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(N[c]?d.value!=="":d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=e.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},p.each(["width","height"],function(a,b){p.attrHooks[b]=p.extend(p.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),p.attrHooks.contenteditable={get:L.get,set:function(a,b,c){b===""&&(b="false"),L.set(a,b,c)}}),p.support.hrefNormalized||p.each(["href","src","width","height"],function(a,c){p.attrHooks[c]=p.extend(p.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),p.support.style||(p.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),p.support.optSelected||(p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),p.support.enctype||(p.propFix.enctype="encoding"),p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(a,b){if(p.isArray(b))return a.checked=p.inArray(p(a).val(),b)>=0}})});var V=/^(?:textarea|input|select)$/i,W=/^([^\.]*|)(?:\.(.+)|)$/,X=/(?:^|\s)hover(\.\S+|)\b/,Y=/^key/,Z=/^(?:mouse|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=function(a){return p.event.special.hover?a:a.replace(X,"mouseenter$1 mouseleave$1")};p.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,q,r;if(a.nodeType===3||a.nodeType===8||!c||!d||!(g=p._data(a)))return;d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=p.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof p!="undefined"&&(!a||p.event.triggered!==a.type)?p.event.dispatch.apply(h.elem,arguments):b},h.elem=a),c=p.trim(_(c)).split(" ");for(j=0;j<c.length;j++){k=W.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=p.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=p.event.special[l]||{},n=p.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&p.expr.match.needsContext.test(f),namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),p.event.global[l]=!0}a=null},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,q,r=p.hasData(a)&&p._data(a);if(!r||!(m=r.events))return;b=p.trim(_(b||"")).split(" ");for(f=0;f<b.length;f++){g=W.exec(b[f])||[],h=i=g[1],j=g[2];if(!h){for(h in m)p.event.remove(a,h+b[f],c,d,!0);continue}n=p.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<o.length;l++)q=o[l],(e||i===q.origType)&&(!c||c.guid===q.guid)&&(!j||j.test(q.namespace))&&(!d||d===q.selector||d==="**"&&q.selector)&&(o.splice(l--,1),q.selector&&o.delegateCount--,n.remove&&n.remove.call(a,q));o.length===0&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,r.handle)===!1)&&p.removeEvent(a,h,r.handle),delete m[h])}p.isEmptyObject(m)&&(delete r.handle,p.removeData(a,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,f,g){if(!f||f.nodeType!==3&&f.nodeType!==8){var h,i,j,k,l,m,n,o,q,r,s=c.type||c,t=[];if($.test(s+p.event.triggered))return;s.indexOf("!")>=0&&(s=s.slice(0,-1),i=!0),s.indexOf(".")>=0&&(t=s.split("."),s=t.shift(),t.sort());if((!f||p.event.customEvent[s])&&!p.event.global[s])return;c=typeof c=="object"?c[p.expando]?c:new p.Event(s,c):new p.Event(s),c.type=s,c.isTrigger=!0,c.exclusive=i,c.namespace=t.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m=s.indexOf(":")<0?"on"+s:"";if(!f){h=p.cache;for(j in h)h[j].events&&h[j].events[s]&&p.event.trigger(c,d,h[j].handle.elem,!0);return}c.result=b,c.target||(c.target=f),d=d!=null?p.makeArray(d):[],d.unshift(c),n=p.event.special[s]||{};if(n.trigger&&n.trigger.apply(f,d)===!1)return;q=[[f,n.bindType||s]];if(!g&&!n.noBubble&&!p.isWindow(f)){r=n.delegateType||s,k=$.test(r+s)?f:f.parentNode;for(l=f;k;k=k.parentNode)q.push([k,r]),l=k;l===(f.ownerDocument||e)&&q.push([l.defaultView||l.parentWindow||a,r])}for(j=0;j<q.length&&!c.isPropagationStopped();j++)k=q[j][0],c.type=q[j][1],o=(p._data(k,"events")||{})[c.type]&&p._data(k,"handle"),o&&o.apply(k,d),o=m&&k[m],o&&p.acceptData(k)&&o.apply&&o.apply(k,d)===!1&&c.preventDefault();return c.type=s,!g&&!c.isDefaultPrevented()&&(!n._default||n._default.apply(f.ownerDocument,d)===!1)&&(s!=="click"||!p.nodeName(f,"a"))&&p.acceptData(f)&&m&&f[s]&&(s!=="focus"&&s!=="blur"||c.target.offsetWidth!==0)&&!p.isWindow(f)&&(l=f[m],l&&(f[m]=null),p.event.triggered=s,f[s](),p.event.triggered=b,l&&(f[m]=l)),c.result}return},dispatch:function(c){c=p.event.fix(c||a.event);var d,e,f,g,h,i,j,l,m,n,o=(p._data(this,"events")||{})[c.type]||[],q=o.delegateCount,r=k.call(arguments),s=!c.exclusive&&!c.namespace,t=p.event.special[c.type]||{},u=[];r[0]=c,c.delegateTarget=this;if(t.preDispatch&&t.preDispatch.call(this,c)===!1)return;if(q&&(!c.button||c.type!=="click"))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||c.type!=="click"){h={},j=[];for(d=0;d<q;d++)l=o[d],m=l.selector,h[m]===b&&(h[m]=l.needsContext?p(m,this).index(f)>=0:p.find(m,this,null,[f]).length),h[m]&&j.push(l);j.length&&u.push({elem:f,matches:j})}o.length>q&&u.push({elem:this,matches:o.slice(q)});for(d=0;d<u.length&&!c.isPropagationStopped();d++){i=u[d],c.currentTarget=i.elem;for(e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++){l=i.matches[e];if(s||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))c.data=l.data,c.handleObj=l,g=((p.event.special[l.origType]||{}).handle||l.handler).apply(i.elem,r),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation()))}}return t.postDispatch&&t.postDispatch.call(this,c),c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,f,g,h=c.button,i=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||e,f=d.documentElement,g=d.body,a.pageX=c.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[p.expando])return a;var b,c,d=a,f=p.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=p.Event(d);for(b=g.length;b;)c=g[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||e),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){p.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=p.extend(new p.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?p.event.trigger(e,null,b):p.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},p.event.handle=p.event.dispatch,p.removeEvent=e.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]=="undefined"&&(a[d]=null),a.detachEvent(d,c))},p.Event=function(a,b){if(this instanceof p.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?bb:ba):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),this[p.expando]=!0;else return new p.Event(a,b)},p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=bb;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=bb;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()},isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj,g=f.selector;if(!e||e!==d&&!p.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),p.support.submitBubbles||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=p.nodeName(c,"input")||p.nodeName(c,"button")?c.form:b;d&&!p._data(d,"_submit_attached")&&(p.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),p._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),p.support.changeBubbles||(p.event.special.change={setup:function(){if(V.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")p.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),p.event.simulate("change",this,a,!0)});return!1}p.event.add(this,"beforeactivate._change",function(a){var b=a.target;V.test(b.nodeName)&&!p._data(b,"_change_attached")&&(p.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&p.event.simulate("change",this.parentNode,a,!0)}),p._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),!V.test(this.nodeName)}}),p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function(){c++===0&&e.addEventListener(a,d,!0)},teardown:function(){--c===0&&e.removeEventListener(a,d,!0)}}}),p.fn.extend({on:function(a,c,d,e,f){var g,h;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=ba;else if(!e)return this;return f===1&&(g=e,e=function(a){return p().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if(typeof a=="object"){for(f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=ba),this.each(function(){p.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return p(this.context).on(a,this.selector,b,c),this},die:function(a,b){return p(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return p.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||p.guid++,d=0,e=function(c){var e=(p._data(this,"lastToggle"+a.guid)||0)%d;return p._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){p.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Y.test(b)&&(p.event.fixHooks[b]=p.event.keyHooks),Z.test(b)&&(p.event.fixHooks[b]=p.event.mouseHooks)}),function(a,b){function bc(a,b,c,d){c=c||[],b=b||r;var e,f,i,j,k=b.nodeType;if(!a||typeof a!="string")return c;if(k!==1&&k!==9)return[];i=g(b);if(!i&&!d)if(e=P.exec(a))if(j=e[1]){if(k===9){f=b.getElementById(j);if(!f||!f.parentNode)return c;if(f.id===j)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(j))&&h(b,f)&&f.id===j)return c.push(f),c}else{if(e[2])return w.apply(c,x.call(b.getElementsByTagName(a),0)),c;if((j=e[3])&&_&&b.getElementsByClassName)return w.apply(c,x.call(b.getElementsByClassName(j),0)),c}return bp(a.replace(L,"$1"),b,c,d,i)}function bd(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function be(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function bf(a){return z(function(b){return b=+b,z(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function bg(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}function bh(a,b){var c,d,f,g,h,i,j,k=C[o][a];if(k)return b?0:k.slice(0);h=a,i=[],j=e.preFilter;while(h){if(!c||(d=M.exec(h)))d&&(h=h.slice(d[0].length)),i.push(f=[]);c=!1;if(d=N.exec(h))f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=d[0].replace(L," ");for(g in e.filter)(d=W[g].exec(h))&&(!j[g]||(d=j[g](d,r,!0)))&&(f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=g,c.matches=d);if(!c)break}return b?h.length:h?bc.error(a):C(a,i).slice(0)}function bi(a,b,d){var e=b.dir,f=d&&b.dir==="parentNode",g=u++;return b.first?function(b,c,d){while(b=b[e])if(f||b.nodeType===1)return a(b,c,d)}:function(b,d,h){if(!h){var i,j=t+" "+g+" ",k=j+c;while(b=b[e])if(f||b.nodeType===1){if((i=b[o])===k)return b.sizset;if(typeof i=="string"&&i.indexOf(j)===0){if(b.sizset)return b}else{b[o]=k;if(a(b,d,h))return b.sizset=!0,b;b.sizset=!1}}}else while(b=b[e])if(f||b.nodeType===1)if(a(b,d,h))return b}}function bj(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bk(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),j&&b.push(h);return g}function bl(a,b,c,d,e,f){return d&&!d[o]&&(d=bl(d)),e&&!e[o]&&(e=bl(e,f)),z(function(f,g,h,i){if(f&&e)return;var j,k,l,m=[],n=[],o=g.length,p=f||bo(b||"*",h.nodeType?[h]:h,[],f),q=a&&(f||!b)?bk(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;c&&c(q,r,h,i);if(d){l=bk(r,n),d(l,[],h,i),j=l.length;while(j--)if(k=l[j])r[n[j]]=!(q[n[j]]=k)}if(f){j=a&&r.length;while(j--)if(k=r[j])f[m[j]]=!(g[m[j]]=k)}else r=bk(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):w.apply(g,r)})}function bm(a){var b,c,d,f=a.length,g=e.relative[a[0].type],h=g||e.relative[" "],i=g?1:0,j=bi(function(a){return a===b},h,!0),k=bi(function(a){return y.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==l)||((b=c).nodeType?j(a,c,d):k(a,c,d))}];for(;i<f;i++)if(c=e.relative[a[i].type])m=[bi(bj(m),c)];else{c=e.filter[a[i].type].apply(null,a[i].matches);if(c[o]){d=++i;for(;d<f;d++)if(e.relative[a[d].type])break;return bl(i>1&&bj(m),i>1&&a.slice(0,i-1).join("").replace(L,"$1"),c,i<d&&bm(a.slice(i,d)),d<f&&bm(a=a.slice(d)),d<f&&a.join(""))}m.push(c)}return bj(m)}function bn(a,b){var d=b.length>0,f=a.length>0,g=function(h,i,j,k,m){var n,o,p,q=[],s=0,u="0",x=h&&[],y=m!=null,z=l,A=h||f&&e.find.TAG("*",m&&i.parentNode||i),B=t+=z==null?1:Math.E;y&&(l=i!==r&&i,c=g.el);for(;(n=A[u])!=null;u++){if(f&&n){for(o=0;p=a[o];o++)if(p(n,i,j)){k.push(n);break}y&&(t=B,c=++g.el)}d&&((n=!p&&n)&&s--,h&&x.push(n))}s+=u;if(d&&u!==s){for(o=0;p=b[o];o++)p(x,q,i,j);if(h){if(s>0)while(u--)!x[u]&&!q[u]&&(q[u]=v.call(k));q=bk(q)}w.apply(k,q),y&&!h&&q.length>0&&s+b.length>1&&bc.uniqueSort(k)}return y&&(t=B,l=z),x};return g.el=0,d?z(g):g}function bo(a,b,c,d){var e=0,f=b.length;for(;e<f;e++)bc(a,b[e],c,d);return c}function bp(a,b,c,d,f){var g,h,j,k,l,m=bh(a),n=m.length;if(!d&&m.length===1){h=m[0]=m[0].slice(0);if(h.length>2&&(j=h[0]).type==="ID"&&b.nodeType===9&&!f&&e.relative[h[1].type]){b=e.find.ID(j.matches[0].replace(V,""),b,f)[0];if(!b)return c;a=a.slice(h.shift().length)}for(g=W.POS.test(a)?-1:h.length-1;g>=0;g--){j=h[g];if(e.relative[k=j.type])break;if(l=e.find[k])if(d=l(j.matches[0].replace(V,""),R.test(h[0].type)&&b.parentNode||b,f)){h.splice(g,1),a=d.length&&h.join("");if(!a)return w.apply(c,x.call(d,0)),c;break}}}return i(a,m)(d,b,f,c,R.test(a)),c}function bq(){}var c,d,e,f,g,h,i,j,k,l,m=!0,n="undefined",o=("sizcache"+Math.random()).replace(".",""),q=String,r=a.document,s=r.documentElement,t=0,u=0,v=[].pop,w=[].push,x=[].slice,y=[].indexOf||function(a){var b=0,c=this.length;for(;b<c;b++)if(this[b]===a)return b;return-1},z=function(a,b){return a[o]=b==null||b,a},A=function(){var a={},b=[];return z(function(c,d){return b.push(c)>e.cacheLength&&delete a[b.shift()],a[c]=d},a)},B=A(),C=A(),D=A(),E="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",G=F.replace("w","w#"),H="([*^$|!~]?=)",I="\\["+E+"*("+F+")"+E+"*(?:"+H+E+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+G+")|)|)"+E+"*\\]",J=":("+F+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+I+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)",L=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),M=new RegExp("^"+E+"*,"+E+"*"),N=new RegExp("^"+E+"*([\\x20\\t\\r\\n\\f>+~])"+E+"*"),O=new RegExp(J),P=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Q=/^:not/,R=/[\x20\t\r\n\f]*[+~]/,S=/:not\($/,T=/h\d/i,U=/input|select|textarea|button/i,V=/\\(?!\\)/g,W={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),NAME:new RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+J),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),needsContext:new RegExp("^"+E+"*[>+~]|"+K,"i")},X=function(a){var b=r.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},Y=X(function(a){return a.appendChild(r.createComment("")),!a.getElementsByTagName("*").length}),Z=X(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==n&&a.firstChild.getAttribute("href")==="#"}),$=X(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return b!=="boolean"&&b!=="string"}),_=X(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!a.getElementsByClassName||!a.getElementsByClassName("e").length?!1:(a.lastChild.className="e",a.getElementsByClassName("e").length===2)}),ba=X(function(a){a.id=o+0,a.innerHTML="<a name='"+o+"'></a><div name='"+o+"'></div>",s.insertBefore(a,s.firstChild);var b=r.getElementsByName&&r.getElementsByName(o).length===2+r.getElementsByName(o+0).length;return d=!r.getElementById(o),s.removeChild(a),b});try{x.call(s.childNodes,0)[0].nodeType}catch(bb){x=function(a){var b,c=[];for(;b=this[a];a++)c.push(b);return c}}bc.matches=function(a,b){return bc(a,null,null,b)},bc.matchesSelector=function(a,b){return bc(b,null,null,[a]).length>0},f=bc.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(e===1||e===9||e===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=f(a)}else if(e===3||e===4)return a.nodeValue}else for(;b=a[d];d++)c+=f(b);return c},g=bc.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1},h=bc.contains=s.contains?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&d.nodeType===1&&c.contains&&c.contains(d))}:s.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){while(b=b.parentNode)if(b===a)return!0;return!1},bc.attr=function(a,b){var c,d=g(a);return d||(b=b.toLowerCase()),(c=e.attrHandle[b])?c(a):d||$?a.getAttribute(b):(c=a.getAttributeNode(b),c?typeof a[b]=="boolean"?a[b]?b:null:c.specified?c.value:null:null)},e=bc.selectors={cacheLength:50,createPseudo:z,match:W,attrHandle:Z?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:d?function(a,b,c){if(typeof b.getElementById!==n&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==n&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==n&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:Y?function(a,b){if(typeof b.getElementsByTagName!==n)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if(a==="*"){var d,e=[],f=0;for(;d=c[f];f++)d.nodeType===1&&e.push(d);return e}return c},NAME:ba&&function(a,b){if(typeof b.getElementsByName!==n)return b.getElementsByName(name)},CLASS:_&&function(a,b,c){if(typeof b.getElementsByClassName!==n&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(V,""),a[3]=(a[4]||a[5]||"").replace(V,""),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1]==="nth"?(a[2]||bc.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*(a[2]==="even"||a[2]==="odd")),a[4]=+(a[6]+a[7]||a[2]==="odd")):a[2]&&bc.error(a[0]),a},PSEUDO:function(a){var b,c;if(W.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4])O.test(b)&&(c=bh(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b;return a.slice(0,3)}},filter:{ID:d?function(a){return a=a.replace(V,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(V,""),function(b){var c=typeof b.getAttributeNode!==n&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return a==="*"?function(){return!0}:(a=a.replace(V,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=B[o][a];return b||(b=B(a,new RegExp("(^|"+E+")"+a+"("+E+"|$)"))),function(a){return b.test(a.className||typeof a.getAttribute!==n&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return function(d,e){var f=bc.attr(d,a);return f==null?b==="!=":b?(f+="",b==="="?f===c:b==="!="?f!==c:b==="^="?c&&f.indexOf(c)===0:b==="*="?c&&f.indexOf(c)>-1:b==="$="?c&&f.substr(f.length-c.length)===c:b==="~="?(" "+f+" ").indexOf(c)>-1:b==="|="?f===c||f.substr(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d){return a==="nth"?function(a){var b,e,f=a.parentNode;if(c===1&&d===0)return!0;if(f){e=0;for(b=f.firstChild;b;b=b.nextSibling)if(b.nodeType===1){e++;if(a===b)break}}return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(a==="first")return!0;c=b;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0}}},PSEUDO:function(a,b){var c,d=e.pseudos[a]||e.setFilters[a.toLowerCase()]||bc.error("unsupported pseudo: "+a);return d[o]?d(b):d.length>1?(c=[a,a,"",b],e.setFilters.hasOwnProperty(a.toLowerCase())?z(function(a,c){var e,f=d(a,b),g=f.length;while(g--)e=y.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}):d}},pseudos:{not:z(function(a){var b=[],c=[],d=i(a.replace(L,"$1"));return d[o]?z(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)if(f=g[h])a[h]=!(b[h]=f)}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:z(function(a){return function(b){return bc(a,b).length>0}}),contains:z(function(a){return function(b){return(b.textContent||b.innerText||f(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!e.pseudos.empty(a)},empty:function(a){var b;a=a.firstChild;while(a){if(a.nodeName>"@"||(b=a.nodeType)===3||b===4)return!1;a=a.nextSibling}return!0},header:function(a){return T.test(a.nodeName)},text:function(a){var b,c;return a.nodeName.toLowerCase()==="input"&&(b=a.type)==="text"&&((c=a.getAttribute("type"))==null||c.toLowerCase()===b)},radio:bd("radio"),checkbox:bd("checkbox"),file:bd("file"),password:bd("password"),image:bd("image"),submit:be("submit"),reset:be("reset"),button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},input:function(a){return U.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:bf(function(a,b,c){return[0]}),last:bf(function(a,b,c){return[b-1]}),eq:bf(function(a,b,c){return[c<0?c+b:c]}),even:bf(function(a,b,c){for(var d=0;d<b;d+=2)a.push(d);return a}),odd:bf(function(a,b,c){for(var d=1;d<b;d+=2)a.push(d);return a}),lt:bf(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:bf(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},j=s.compareDocumentPosition?function(a,b){return a===b?(k=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b)return k=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,h=b.parentNode,i=g;if(g===h)return bg(a,b);if(!g)return-1;if(!h)return 1;while(i)e.unshift(i),i=i.parentNode;i=h;while(i)f.unshift(i),i=i.parentNode;c=e.length,d=f.length;for(var j=0;j<c&&j<d;j++)if(e[j]!==f[j])return bg(e[j],f[j]);return j===c?bg(a,f[j],-1):bg(e[j],b,1)},[0,0].sort(j),m=!k,bc.uniqueSort=function(a){var b,c=1;k=m,a.sort(j);if(k)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a},bc.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},i=bc.compile=function(a,b){var c,d=[],e=[],f=D[o][a];if(!f){b||(b=bh(a)),c=b.length;while(c--)f=bm(b[c]),f[o]?d.push(f):e.push(f);f=D(a,bn(e,d))}return f},r.querySelectorAll&&function(){var a,b=bp,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[":focus"],f=[":active",":focus"],h=s.matchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.oMatchesSelector||s.msMatchesSelector;X(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+E+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),X(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+E+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=new RegExp(e.join("|")),bp=function(a,d,f,g,h){if(!g&&!h&&(!e||!e.test(a))){var i,j,k=!0,l=o,m=d,n=d.nodeType===9&&a;if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){i=bh(a),(k=d.getAttribute("id"))?l=k.replace(c,"\\$&"):d.setAttribute("id",l),l="[id='"+l+"'] ",j=i.length;while(j--)i[j]=l+i[j].join("");m=R.test(a)&&d.parentNode||d,n=i.join(",")}if(n)try{return w.apply(f,x.call(m.querySelectorAll(n),0)),f}catch(p){}finally{k||d.removeAttribute("id")}}return b(a,d,f,g,h)},h&&(X(function(b){a=h.call(b,"div");try{h.call(b,"[test!='']:sizzle"),f.push("!=",J)}catch(c){}}),f=new RegExp(f.join("|")),bc.matchesSelector=function(b,c){c=c.replace(d,"='$1']");if(!g(b)&&!f.test(c)&&(!e||!e.test(c)))try{var i=h.call(b,c);if(i||a||b.document&&b.document.nodeType!==11)return i}catch(j){}return bc(c,null,null,[b]).length>0})}(),e.pseudos.nth=e.pseudos.eq,e.filters=bq.prototype=e.pseudos,e.setFilters=new bq,bc.attr=p.attr,p.find=bc,p.expr=bc.selectors,p.expr[":"]=p.expr.pseudos,p.unique=bc.uniqueSort,p.text=bc.getText,p.isXMLDoc=bc.isXML,p.contains=bc.contains}(a);var bc=/Until$/,bd=/^(?:parents|prev(?:Until|All))/,be=/^.[^:#\[\.,]*$/,bf=p.expr.match.needsContext,bg={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if(typeof a!="string")return p(a).filter(function(){for(b=0,c=h.length;b<c;b++)if(p.contains(h[b],this))return!0});g=this.pushStack("","find",a);for(b=0,c=this.length;b<c;b++){d=g.length,p.find(a,this[b],g);if(b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}}return g},has:function(a){var b,c=p(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(p.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bj(this,a,!1),"not",a)},filter:function(a){return this.pushStack(bj(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bf.test(a)?p(a,this.context).index(this[0])>=0:p.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d=0,e=this.length,f=[],g=bf.test(a)||typeof a!="string"?p(a,b||this.context):0;for(;d<e;d++){c=this[d];while(c&&c.ownerDocument&&c!==b&&c.nodeType!==11){if(g?g.index(c)>-1:p.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}}return f=f.length>1?p.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?typeof a=="string"?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?p(a,b):p.makeArray(a&&a.nodeType?[a]:a),d=p.merge(this.get(),c);return this.pushStack(bh(c[0])||bh(d[0])?d:p.unique(d))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),p.fn.andSelf=p.fn.addBack,p.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,"parentNode",c)},next:function(a){return bi(a,"nextSibling")},prev:function(a){return bi(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(c,d){var e=p.map(this,b,c);return bc.test(a)||(d=c),d&&typeof d=="string"&&(e=p.filter(d,e)),e=this.length>1&&!bg[a]?p.unique(e):e,this.length>1&&bd.test(a)&&(e=e.reverse()),this.pushStack(e,a,k.call(arguments).join(","))}}),p.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?p.find.matchesSelector(b[0],a)?[b[0]]:[]:p.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!p(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bl="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bm=/ jQuery\d+="(?:null|\d+)"/g,bn=/^\s+/,bo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bp=/<([\w:]+)/,bq=/<tbody/i,br=/<|&#?\w+;/,bs=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,bu=new RegExp("<(?:"+bl+")[\\s/>]","i"),bv=/^(?:checkbox|radio)$/,bw=/checked\s*(?:[^=]|=\s*.checked.)/i,bx=/\/(java|ecma)script/i,by=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,bz={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bA=bk(e),bB=bA.appendChild(e.createElement("div"));bz.optgroup=bz.option,bz.tbody=bz.tfoot=bz.colgroup=bz.caption=bz.thead,bz.th=bz.td,p.support.htmlSerialize||(bz._default=[1,"X<div>","</div>"]),p.fn.extend({text:function(a){return p.access(this,function(a){return a===b?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||e).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(p.isFunction(a))return this.each(function(b){p(this).wrapAll(a.call(this,b))});if(this[0]){var b=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return p.isFunction(a)?this.each(function(b){p(this).wrapInner(a.call(this,b))}):this.each(function(){var b=p(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(a,this),"before",this.selector)}},after:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(this,a),"after",this.selector)}},remove:function(a,b){var c,d=0;for(;(c=this[d])!=null;d++)if(!a||p.filter(a,[c]).length)!b&&c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),p.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){a.nodeType===1&&p.cleanData(a.getElementsByTagName("*"));while(a.firstChild)a.removeChild(a.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a){return p.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(bm,""):b;if(typeof a=="string"&&!bs.test(a)&&(p.support.htmlSerialize||!bu.test(a))&&(p.support.leadingWhitespace||!bn.test(a))&&!bz[(bp.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bo,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return bh(this[0])?this.length?this.pushStack(p(p.isFunction(a)?a():a),"replaceWith",a):this:p.isFunction(a)?this.each(function(b){var c=p(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=p(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;p(this).remove(),b?p(b).before(a):p(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],l=this.length;if(!p.support.checkClone&&l>1&&typeof j=="string"&&bw.test(j))return this.each(function(){p(this).domManip(a,c,d)});if(p.isFunction(j))return this.each(function(e){var f=p(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){e=p.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,g.childNodes.length===1&&(g=f);if(f){c=c&&p.nodeName(f,"tr");for(h=e.cacheable||l-1;i<l;i++)d.call(c&&p.nodeName(this[i],"table")?bC(this[i],"tbody"):this[i],i===h?g:p.clone(g,!0,!0))}g=f=null,k.length&&p.each(k,function(a,b){b.src?p.ajax?p.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):p.error("no ajax"):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(by,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),p.buildFragment=function(a,c,d){var f,g,h,i=a[0];return c=c||e,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,a.length===1&&typeof i=="string"&&i.length<512&&c===e&&i.charAt(0)==="<"&&!bt.test(i)&&(p.support.checkClone||!bw.test(i))&&(p.support.html5Clone||!bu.test(i))&&(g=!0,f=p.fragments[i],h=f!==b),f||(f=c.createDocumentFragment(),p.clean(a,c,f,d),g&&(p.fragments[i]=h&&f)),{fragment:f,cacheable:g}},p.fragments={},p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(c){var d,e=0,f=[],g=p(c),h=g.length,i=this.length===1&&this[0].parentNode;if((i==null||i&&i.nodeType===11&&i.childNodes.length===1)&&h===1)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),p(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),p.extend({clone:function(a,b,c){var d,e,f,g;p.support.html5Clone||p.isXMLDoc(a)||!bu.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bB.innerHTML=a.outerHTML,bB.removeChild(g=bB.firstChild));if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!p.isXMLDoc(a)){bE(a,g),d=bF(a),e=bF(g);for(f=0;d[f];++f)e[f]&&bE(d[f],e[f])}if(b){bD(a,g);if(c){d=bF(a),e=bF(g);for(f=0;d[f];++f)bD(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var f,g,h,i,j,k,l,m,n,o,q,r,s=b===e&&bA,t=[];if(!b||typeof b.createDocumentFragment=="undefined")b=e;for(f=0;(h=a[f])!=null;f++){typeof h=="number"&&(h+="");if(!h)continue;if(typeof h=="string")if(!br.test(h))h=b.createTextNode(h);else{s=s||bk(b),l=b.createElement("div"),s.appendChild(l),h=h.replace(bo,"<$1></$2>"),i=(bp.exec(h)||["",""])[1].toLowerCase(),j=bz[i]||bz._default,k=j[0],l.innerHTML=j[1]+h+j[2];while(k--)l=l.lastChild;if(!p.support.tbody){m=bq.test(h),n=i==="table"&&!m?l.firstChild&&l.firstChild.childNodes:j[1]==="<table>"&&!m?l.childNodes:[];for(g=n.length-1;g>=0;--g)p.nodeName(n[g],"tbody")&&!n[g].childNodes.length&&n[g].parentNode.removeChild(n[g])}!p.support.leadingWhitespace&&bn.test(h)&&l.insertBefore(b.createTextNode(bn.exec(h)[0]),l.firstChild),h=l.childNodes,l.parentNode.removeChild(l)}h.nodeType?t.push(h):p.merge(t,h)}l&&(h=l=s=null);if(!p.support.appendChecked)for(f=0;(h=t[f])!=null;f++)p.nodeName(h,"input")?bG(h):typeof h.getElementsByTagName!="undefined"&&p.grep(h.getElementsByTagName("input"),bG);if(c){q=function(a){if(!a.type||bx.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(f=0;(h=t[f])!=null;f++)if(!p.nodeName(h,"script")||!q(h))c.appendChild(h),typeof h.getElementsByTagName!="undefined"&&(r=p.grep(p.merge([],h.getElementsByTagName("script")),q),t.splice.apply(t,[f+1,0].concat(r)),f+=r.length)}return t},cleanData:function(a,b){var c,d,e,f,g=0,h=p.expando,i=p.cache,j=p.support.deleteExpando,k=p.event.special;for(;(e=a[g])!=null;g++)if(b||p.acceptData(e)){d=e[h],c=d&&i[d];if(c){if(c.events)for(f in c.events)k[f]?p.event.remove(e,f):p.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,p.deletedIds.push(d))}}}}),function(){var a,b;p.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=p.uaMatch(g.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),p.browser=b,p.sub=function(){function a(b,c){return new a.fn.init(b,c)}p.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function c(c,d){return d&&d instanceof p&&!(d instanceof a)&&(d=a(d)),p.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(e);return a}}();var bH,bI,bJ,bK=/alpha\([^)]*\)/i,bL=/opacity=([^)]*)/,bM=/^(top|right|bottom|left)$/,bN=/^(none|table(?!-c[ea]).+)/,bO=/^margin/,bP=new RegExp("^("+q+")(.*)$","i"),bQ=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),bR=new RegExp("^([-+])=("+q+")","i"),bS={},bT={position:"absolute",visibility:"hidden",display:"block"},bU={letterSpacing:0,fontWeight:400},bV=["Top","Right","Bottom","Left"],bW=["Webkit","O","Moz","ms"],bX=p.fn.toggle;p.fn.extend({css:function(a,c){return p.access(this,function(a,c,d){return d!==b?p.style(a,c,d):p.css(a,c)},a,c,arguments.length>1)},show:function(){return b$(this,!0)},hide:function(){return b$(this)},toggle:function(a,b){var c=typeof a=="boolean";return p.isFunction(a)&&p.isFunction(b)?bX.apply(this,arguments):this.each(function(){(c?a:bZ(this))?p(this).show():p(this).hide()})}}),p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bH(a,"opacity");return c===""?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var f,g,h,i=p.camelCase(c),j=a.style;c=p.cssProps[i]||(p.cssProps[i]=bY(j,i)),h=p.cssHooks[c]||p.cssHooks[i];if(d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];g=typeof d,g==="string"&&(f=bR.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(p.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!p.cssNumber[i]&&(d+="px");if(!h||!("set"in h)||(d=h.set(a,d,e))!==b)try{j[c]=d}catch(k){}},css:function(a,c,d,e){var f,g,h,i=p.camelCase(c);return c=p.cssProps[i]||(p.cssProps[i]=bY(a.style,i)),h=p.cssHooks[c]||p.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=bH(a,c)),f==="normal"&&c in bU&&(f=bU[c]),d||e!==b?(g=parseFloat(f),d||p.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?bH=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h[c],d===""&&!p.contains(b.ownerDocument,b)&&(d=p.style(b,c)),bQ.test(d)&&bO.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:e.documentElement.currentStyle&&(bH=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return e==null&&f&&f[b]&&(e=f[b]),bQ.test(e)&&!bM.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),e===""?"auto":e}),p.each(["height","width"],function(a,b){p.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth===0&&bN.test(bH(a,"display"))?p.swap(a,bT,function(){return cb(a,b,d)}):cb(a,b,d)},set:function(a,c,d){return b_(a,c,d?ca(a,b,d,p.support.boxSizing&&p.css(a,"boxSizing")==="border-box"):0)}}}),p.support.opacity||(p.cssHooks.opacity={get:function(a,b){return bL.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=p.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&p.trim(f.replace(bK,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bK.test(f)?f.replace(bK,e):f+" "+e}}),p(function(){p.support.reliableMarginRight||(p.cssHooks.marginRight={get:function(a,b){return p.swap(a,{display:"inline-block"},function(){if(b)return bH(a,"marginRight")})}}),!p.support.pixelPosition&&p.fn.position&&p.each(["top","left"],function(a,b){p.cssHooks[b]={get:function(a,c){if(c){var d=bH(a,b);return bQ.test(d)?p(a).position()[b]+"px":d}}}})}),p.expr&&p.expr.filters&&(p.expr.filters.hidden=function(a){return a.offsetWidth===0&&a.offsetHeight===0||!p.support.reliableHiddenOffsets&&(a.style&&a.style.display||bH(a,"display"))==="none"},p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)}),p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bV[d]+b]=e[d]||e[d-2]||e[0];return f}},bO.test(a)||(p.cssHooks[a+b].set=b_)});var cd=/%20/g,ce=/\[\]$/,cf=/\r?\n/g,cg=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ch=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ch.test(this.nodeName)||cg.test(this.type))}).map(function(a,b){var c=p(this).val();return c==null?null:p.isArray(c)?p.map(c,function(a,c){return{name:b.name,value:a.replace(cf,"\r\n")}}):{name:b.name,value:c.replace(cf,"\r\n")}}).get()}}),p.param=function(a,c){var d,e=[],f=function(a,b){b=p.isFunction(b)?b():b==null?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=p.ajaxSettings&&p.ajaxSettings.traditional);if(p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){f(this.name,this.value)});else for(d in a)ci(d,a[d],c,f);return e.join("&").replace(cd,"+")};var cj,ck,cl=/#.*$/,cm=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,co=/^(?:GET|HEAD)$/,cp=/^\/\//,cq=/\?/,cr=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cs=/([?&])_=[^&]*/,ct=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,cu=p.fn.load,cv={},cw={},cx=["*/"]+["*"];try{ck=f.href}catch(cy){ck=e.createElement("a"),ck.href="",ck=ck.href}cj=ct.exec(ck.toLowerCase())||[],p.fn.load=function(a,c,d){if(typeof a!="string"&&cu)return cu.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),p.isFunction(c)?(d=c,c=b):c&&typeof c=="object"&&(f="POST"),p.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?p("<div>").append(a.replace(cr,"")).find(e):a)}),this},p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.on(b,a)}}),p.each(["get","post"],function(a,c){p[c]=function(a,d,e,f){return p.isFunction(d)&&(f=f||e,e=d,d=b),p.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),p.extend({getScript:function(a,c){return p.get(a,b,c,"script")},getJSON:function(a,b,c){return p.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cB(a,p.ajaxSettings):(b=a,a=p.ajaxSettings),cB(a,b),a},ajaxSettings:{url:ck,isLocal:cn.test(cj[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cx},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:cz(cv),ajaxTransport:cz(cw),ajax:function(a,c){function y(a,c,f,i){var k,s,t,u,w,y=c;if(v===2)return;v=2,h&&clearTimeout(h),g=b,e=i||"",x.readyState=a>0?4:0,f&&(u=cC(l,x,f));if(a>=200&&a<300||a===304)l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(p.lastModified[d]=w),w=x.getResponseHeader("Etag"),w&&(p.etag[d]=w)),a===304?(y="notmodified",k=!0):(k=cD(l,u),y=k.state,s=k.data,t=k.error,k=!t);else{t=y;if(!y||a)y="error",a<0&&(a=0)}x.status=a,x.statusText=(c||y)+"",k?o.resolveWith(m,[s,y,x]):o.rejectWith(m,[x,y,t]),x.statusCode(r),r=b,j&&n.trigger("ajax"+(k?"Success":"Error"),[x,l,k?s:t]),q.fireWith(m,[x,y]),j&&(n.trigger("ajaxComplete",[x,l]),--p.active||p.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d,e,f,g,h,i,j,k,l=p.ajaxSetup({},c),m=l.context||l,n=m!==l&&(m.nodeType||m instanceof p)?p(m):p.event,o=p.Deferred(),q=p.Callbacks("once memory"),r=l.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=u[c]=u[c]||a,t[a]=b}return this},getAllResponseHeaders:function(){return v===2?e:null},getResponseHeader:function(a){var c;if(v===2){if(!f){f={};while(c=cm.exec(e))f[c[1].toLowerCase()]=c[2]}c=f[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(l.mimeType=a),this},abort:function(a){return a=a||w,g&&g.abort(a),y(0,a),this}};o.promise(x),x.success=x.done,x.error=x.fail,x.complete=q.add,x.statusCode=function(a){if(a){var b;if(v<2)for(b in a)r[b]=[r[b],a[b]];else b=a[x.status],x.always(b)}return this},l.url=((a||l.url)+"").replace(cl,"").replace(cp,cj[1]+"//"),l.dataTypes=p.trim(l.dataType||"*").toLowerCase().split(s),l.crossDomain==null&&(i=ct.exec(l.url.toLowerCase())||!1,l.crossDomain=i&&i.join(":")+(i[3]?"":i[1]==="http:"?80:443)!==cj.join(":")+(cj[3]?"":cj[1]==="http:"?80:443)),l.data&&l.processData&&typeof l.data!="string"&&(l.data=p.param(l.data,l.traditional)),cA(cv,l,c,x);if(v===2)return x;j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!co.test(l.type),j&&p.active++===0&&p.event.trigger("ajaxStart");if(!l.hasContent){l.data&&(l.url+=(cq.test(l.url)?"&":"?")+l.data,delete l.data),d=l.url;if(l.cache===!1){var z=p.now(),A=l.url.replace(cs,"$1_="+z);l.url=A+(A===l.url?(cq.test(l.url)?"&":"?")+"_="+z:"")}}(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(d=d||l.url,p.lastModified[d]&&x.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&x.setRequestHeader("If-None-Match",p.etag[d])),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+cx+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)x.setRequestHeader(k,l.headers[k]);if(!l.beforeSend||l.beforeSend.call(m,x,l)!==!1&&v!==2){w="abort";for(k in{success:1,error:1,complete:1})x[k](l[k]);g=cA(cw,l,c,x);if(!g)y(-1,"No Transport");else{x.readyState=1,j&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{v=1,g.send(t,y)}catch(B){if(v<2)y(-1,B);else throw B}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var cE=[],cF=/\?/,cG=/(=)\?(?=&|$)|\?\?/,cH=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cE.pop()||p.expando+"_"+cH++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&cG.test(j),m=k&&!l&&typeof i=="string"&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&cG.test(i);if(c.dataTypes[0]==="jsonp"||l||m)return f=c.jsonpCallback=p.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(cG,"$1"+f):m?c.data=i.replace(cG,"$1"+f):k&&(c.url+=(cF.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||p.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,cE.push(f)),h&&p.isFunction(g)&&g(h[0]),h=g=b}),"script"}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),p.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=e.head||e.getElementsByTagName("head")[0]||e.documentElement;return{send:function(f,g){c=e.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||g(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cI,cJ=a.ActiveXObject?function(){for(var a in cI)cI[a](0,1)}:!1,cK=0;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&cL()||cM()}:cL,function(a){p.extend(p.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(p.ajaxSettings.xhr()),p.support.ajax&&p.ajaxTransport(function(c){if(!c.crossDomain||p.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||i.readyState===4)){d=b,g&&(i.onreadystatechange=p.noop,cJ&&delete cI[g]);if(e)i.readyState!==4&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}!h&&c.isLocal&&!c.crossDomain?h=l.text?200:404:h===1223&&(h=204)}}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?i.readyState===4?setTimeout(d,0):(g=++cK,cJ&&(cI||(cI={},p(a).unload(cJ)),cI[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var cN,cO,cP=/^(?:toggle|show|hide)$/,cQ=new RegExp("^(?:([-+])=|)("+q+")([a-z%]*)$","i"),cR=/queueHooks$/,cS=[cY],cT={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=cQ.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){c=+f[2],d=f[3]||(p.cssNumber[a]?"":"px");if(d!=="px"&&h){h=p.css(e.elem,a,!0)||c||1;do i=i||".5",h=h/i,p.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&i!==1&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};p.Animation=p.extend(cW,{tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;d<e;d++)c=a[d],cT[c]=cT[c]||[],cT[c].unshift(b)},prefilter:function(a,b){b?cS.unshift(a):cS.push(a)}}),p.Tween=cZ,cZ.prototype={constructor:cZ,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(p.cssNumber[c]?"":"px")},cur:function(){var a=cZ.propHooks[this.prop];return a&&a.get?a.get(this):cZ.propHooks._default.get(this)},run:function(a){var b,c=cZ.propHooks[this.prop];return this.options.duration?this.pos=b=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):cZ.propHooks._default.set(this),this}},cZ.prototype.init.prototype=cZ.prototype,cZ.propHooks={_default:{get:function(a){var b;return a.elem[a.prop]==null||!!a.elem.style&&a.elem.style[a.prop]!=null?(b=p.css(a.elem,a.prop,!1,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(a.elem.style[p.cssProps[a.prop]]!=null||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},cZ.propHooks.scrollTop=cZ.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function(d,e,f){return d==null||typeof d=="boolean"||!a&&p.isFunction(d)&&p.isFunction(e)?c.apply(this,arguments):this.animate(c$(b,!0),d,e,f)}}),p.fn.extend({fadeTo:function(a,b,c,d){return this.filter(bZ).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=p.isEmptyObject(a),f=p.speed(b,c,d),g=function(){var b=cW(this,p.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=a!=null&&a+"queueHooks",f=p.timers,g=p._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cR.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&p.dequeue(this,a)})}}),p.each({slideDown:c$("show"),slideUp:c$("hide"),slideToggle:c$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),p.speed=function(a,b,c){var d=a&&typeof a=="object"?p.extend({},a):{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};d.duration=p.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in p.fx.speeds?p.fx.speeds[d.duration]:p.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(){p.isFunction(d.old)&&d.old.call(this),d.queue&&p.dequeue(this,d.queue)},d},p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},p.timers=[],p.fx=cZ.prototype.init,p.fx.tick=function(){var a,b=p.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||p.fx.stop()},p.fx.timer=function(a){a()&&p.timers.push(a)&&!cO&&(cO=setInterval(p.fx.tick,p.fx.interval))},p.fx.interval=13,p.fx.stop=function(){clearInterval(cO),cO=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fx.step={},p.expr&&p.expr.filters&&(p.expr.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length});var c_=/^(?:body|html)$/i;p.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){p.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(!l)return;return(d=l.body)===k?p.offset.bodyOffset(k):(c=l.documentElement,p.contains(c,k)?(typeof k.getBoundingClientRect!="undefined"&&(j=k.getBoundingClientRect()),e=da(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},p.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return p.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(p.css(a,"marginTop"))||0,c+=parseFloat(p.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=p.css(a,"position");d==="static"&&(a.style.position="relative");var e=p(a),f=e.offset(),g=p.css(a,"top"),h=p.css(a,"left"),i=(d==="absolute"||d==="fixed")&&p.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),p.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},p.fn.extend({position:function(){if(!this[0])return;var a=this[0],b=this.offsetParent(),c=this.offset(),d=c_.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(p.css(a,"marginTop"))||0,c.left-=parseFloat(p.css(a,"marginLeft"))||0,d.top+=parseFloat(p.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(p.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||e.body;while(a&&!c_.test(a.nodeName)&&p.css(a,"position")==="static")a=a.offsetParent;return a||e.body})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);p.fn[a]=function(e){return p.access(this,function(a,e,f){var g=da(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?p(g).scrollLeft():f,d?f:p(g).scrollTop()):a[e]=f},a,e,arguments.length,null)}}),p.each({Height:"height",Width:"width"},function(a,c){p.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){p.fn[e]=function(e,f){var g=arguments.length&&(d||typeof e!="boolean"),h=d||(e===!0||f===!0?"margin":"border");return p.access(this,function(c,d,e){var f;return p.isWindow(c)?c.document.documentElement["client"+a]:c.nodeType===9?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?p.css(c,d,e,h):p.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=p,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return p})})(window);
!function(a){function b(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function c(){var a=require("util");return"Markdown.mk_block( "+a.inspect(this.toString())+", "+a.inspect(this.trailing)+", "+a.inspect(this.lineNumber)+" )"}function d(a){for(var b=0,c=-1;-1!==(c=a.indexOf("\n",c+1));)b++;return b}function e(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function f(a){if("string"==typeof a)return e(a);var b=a.shift(),c={},d=[];for(!a.length||"object"!=typeof a[0]||a[0]instanceof Array||(c=a.shift());a.length;)d.push(f(a.shift()));var g="";for(var h in c)g+=" "+h+'="'+e(c[h])+'"';return"img"===b||"br"===b||"hr"===b?"<"+b+g+"/>":"<"+b+g+">"+d.join("")+"</"+b+">"}function g(a,b,c){var d;c=c||{};var e=a.slice(0);"function"==typeof c.preprocessTreeNode&&(e=c.preprocessTreeNode(e,b));var f=o(e);if(f){e[1]={};for(d in f)e[1][d]=f[d];f=e[1]}if("string"==typeof e)return e;switch(e[0]){case"header":e[0]="h"+e[1].level,delete e[1].level;break;case"bulletlist":e[0]="ul";break;case"numberlist":e[0]="ol";break;case"listitem":e[0]="li";break;case"para":e[0]="p";break;case"markdown":e[0]="html",f&&delete f.references;break;case"code_block":e[0]="pre",d=f?2:1;var h=["code"];h.push.apply(h,e.splice(d,e.length-d)),e[d]=h;break;case"inlinecode":e[0]="code";break;case"img":e[1].src=e[1].href,delete e[1].href;break;case"linebreak":e[0]="br";break;case"link":e[0]="a";break;case"link_ref":e[0]="a";var i=b[f.ref];if(!i)return f.original;delete f.ref,f.href=i.href,i.title&&(f.title=i.title),delete f.original;break;case"img_ref":e[0]="img";var i=b[f.ref];if(!i)return f.original;delete f.ref,f.src=i.href,i.title&&(f.title=i.title),delete f.original}if(d=1,f){for(var j in e[1]){d=2;break}1===d&&e.splice(d,1)}for(;d<e.length;++d)e[d]=g(e[d],b,c);return e}function h(a){for(var b=o(a)?2:1;b<a.length;)"string"==typeof a[b]?b+1<a.length&&"string"==typeof a[b+1]?a[b]+=a.splice(b+1,1)[0]:++b:(h(a[b]),++b)}function i(a,b){function c(a){this.len_after=a,this.name="close_"+b}var d=a+"_state",e="strong"===a?"em_state":"strong_state";return function(f){if(this[d][0]===b)return this[d].shift(),[f.length,new c(f.length-b.length)];var g=this[e].slice(),h=this[d].slice();this[d].unshift(b);var i=this.processInline(f.substr(b.length)),j=i[i.length-1];if(this[d].shift(),j instanceof c){i.pop();var k=f.length-j.len_after;return[k,[a].concat(i)]}return this[e]=g,this[d]=h,[b.length,b]}}function j(a){for(var b=a.split(""),c=[""],d=!1;b.length;){var e=b.shift();switch(e){case" ":d?c[c.length-1]+=e:c.push("");break;case"'":case'"':d=!d;break;case"\\":e=b.shift();default:c[c.length-1]+=e}}return c}var k={};k.mk_block=function(a,d,e){1===arguments.length&&(d="\n\n");var f=new String(a);return f.trailing=d,f.inspect=c,f.toSource=b,void 0!==e&&(f.lineNumber=e),f};var l=k.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};k.forEach=Array.prototype.forEach?function(a,b,c){return a.forEach(b,c)}:function(a,b,c){for(var d=0;d<a.length;d++)b.call(c||a,a[d],d,a)},k.isEmpty=function(a){for(var b in a)if(hasOwnProperty.call(a,b))return!1;return!0},k.extract_attr=function(a){return l(a)&&a.length>1&&"object"==typeof a[1]&&!l(a[1])?a[1]:void 0};var m=function(a){switch(typeof a){case"undefined":this.dialect=m.dialects.Gruber;break;case"object":this.dialect=a;break;default:if(!(a in m.dialects))throw new Error("Unknown Markdown dialect '"+String(a)+"'");this.dialect=m.dialects[a]}this.em_state=[],this.strong_state=[],this.debug_indent=""};m.dialects={};var n=m.mk_block=k.mk_block,l=k.isArray;m.parse=function(a,b){var c=new m(b);return c.toTree(a)},m.prototype.split_blocks=function(a){a=a.replace(/(\r\n|\n|\r)/g,"\n");var b,c=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,e=[],f=1;for(null!==(b=/^(\s*\n)/.exec(a))&&(f+=d(b[0]),c.lastIndex=b[0].length);null!==(b=c.exec(a));)"\n#"===b[2]&&(b[2]="\n",c.lastIndex--),e.push(n(b[1],b[2],f)),f+=d(b[0]);return e},m.prototype.processBlock=function(a,b){var c=this.dialect.block,d=c.__order__;if("__call__"in c)return c.__call__.call(this,a,b);for(var e=0;e<d.length;e++){var f=c[d[e]].call(this,a,b);if(f)return(!l(f)||f.length>0&&!l(f[0]))&&this.debug(d[e],"didn't return a proper array"),f}return[]},m.prototype.processInline=function(a){return this.dialect.inline.__call__.call(this,String(a))},m.prototype.toTree=function(a,b){var c=a instanceof Array?a:this.split_blocks(a),d=this.tree;try{for(this.tree=b||this.tree||["markdown"];c.length;){var e=this.processBlock(c.shift(),c);e.length&&this.tree.push.apply(this.tree,e)}return this.tree}finally{b&&(this.tree=d)}},m.prototype.debug=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,a),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,a)},m.prototype.loop_re_over_block=function(a,b,c){for(var d,e=b.valueOf();e.length&&null!==(d=a.exec(e));)e=e.substr(d[0].length),c.call(this,d);return e},m.buildBlockOrder=function(a){var b=[];for(var c in a)"__order__"!==c&&"__call__"!==c&&b.push(c);a.__order__=b},m.buildInlinePatterns=function(a){var b=[];for(var c in a)if(!c.match(/^__.*__$/)){var d=c.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");b.push(1===c.length?d:"(?:"+d+")")}b=b.join("|"),a.__patterns__=b;var e=a.__call__;a.__call__=function(a,c){return void 0!==c?e.call(this,a,c):e.call(this,a,b)}};var o=k.extract_attr;m.renderJsonML=function(a,b){b=b||{},b.root=b.root||!1;var c=[];if(b.root)c.push(f(a));else for(a.shift(),!a.length||"object"!=typeof a[0]||a[0]instanceof Array||a.shift();a.length;)c.push(f(a.shift()));return c.join("\n\n")},m.toHTMLTree=function(a,b,c){"string"==typeof a&&(a=this.parse(a,b));var d=o(a),e={};d&&d.references&&(e=d.references);var f=g(a,e,c);return h(f),f},m.toHTML=function(a,b,c){var d=this.toHTMLTree(a,b,c);return this.renderJsonML(d)};var p={};p.inline_until_char=function(a,b){for(var c=0,d=[];;){if(a.charAt(c)===b)return c++,[c,d];if(c>=a.length)return null;var e=this.dialect.inline.__oneElement__.call(this,a.substr(c));c+=e[0],d.push.apply(d,e.slice(1))}},p.subclassDialect=function(a){function b(){}function c(){}return b.prototype=a.block,c.prototype=a.inline,{block:new b,inline:new c}};var q=k.forEach,o=k.extract_attr,n=k.mk_block,r=k.isEmpty,s=p.inline_until_char,t={block:{atxHeader:function(a,b){var c=a.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!c)return void 0;var d=["header",{level:c[1].length}];return Array.prototype.push.apply(d,this.processInline(c[2])),c[0].length<a.length&&b.unshift(n(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[d]},setextHeader:function(a,b){var c=a.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!c)return void 0;var d="="===c[2]?1:2,e=["header",{level:d},c[1]];return c[0].length<a.length&&b.unshift(n(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[e]},code:function(a,b){var c=[],d=/^(?: {0,3}\t| {4})(.*)\n?/;if(!a.match(d))return void 0;a:for(;;){var e=this.loop_re_over_block(d,a.valueOf(),function(a){c.push(a[1])});if(e.length){b.unshift(n(e,a.trailing));break a}if(!b.length)break a;if(!b[0].match(d))break a;c.push(a.trailing.replace(/[^\n]/g,"").substring(2)),a=b.shift()}return[["code_block",c.join("\n")]]},horizRule:function(a,b){var c=a.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!c)return void 0;var d=[["hr"]];if(c[1]){var e=n(c[1],"",a.lineNumber);d.unshift.apply(d,this.toTree(e,[]))}return c[3]&&b.unshift(n(c[3],a.trailing,a.lineNumber+1)),d},lists:function(){function a(a){return new RegExp("(?:^("+i+"{0,"+a+"} {0,3})("+f+")\\s+)|"+"(^"+i+"{0,"+(a-1)+"}[ ]{0,4})")}function b(a){return a.replace(/ {0,3}\t/g,"    ")}function c(a,b,c,d){if(b)return a.push(["para"].concat(c)),void 0;var e=a[a.length-1]instanceof Array&&"para"===a[a.length-1][0]?a[a.length-1]:a;d&&a.length>1&&c.unshift(d);for(var f=0;f<c.length;f++){var g=c[f],h="string"==typeof g;h&&e.length>1&&"string"==typeof e[e.length-1]?e[e.length-1]+=g:e.push(g)}}function d(a,b){for(var c=new RegExp("^("+i+"{"+a+"}.*?\\n?)*$"),d=new RegExp("^"+i+"{"+a+"}","gm"),e=[];b.length>0&&c.exec(b[0]);){var f=b.shift(),g=f.replace(d,"");e.push(n(g,f.trailing,f.lineNumber))}return e}function e(a,b,c){var d=a.list,e=d[d.length-1];if(!(e[1]instanceof Array&&"para"===e[1][0]))if(b+1===c.length)e.push(["para"].concat(e.splice(1,e.length-1)));else{var f=e.pop();e.push(["para"].concat(e.splice(1,e.length-1)),f)}}var f="[*+-]|\\d+\\.",g=/[*+-]/,h=new RegExp("^( {0,3})("+f+")[ 	]+"),i="(?: {0,3}\\t| {4})";return function(f,i){function j(a){var b=g.exec(a[2])?["bulletlist"]:["numberlist"];return n.push({list:b,indent:a[1]}),b}var k=f.match(h);if(!k)return void 0;for(var l,m,n=[],o=j(k),p=!1,r=[n[0].list];;){for(var s=f.split(/(?=\n)/),t="",u="",v=0;v<s.length;v++){u="";var w=s[v].replace(/^\n/,function(a){return u=a,""}),x=a(n.length);if(k=w.match(x),void 0!==k[1]){t.length&&(c(l,p,this.processInline(t),u),p=!1,t=""),k[1]=b(k[1]);var y=Math.floor(k[1].length/4)+1;if(y>n.length)o=j(k),l.push(o),l=o[1]=["listitem"];else{var z=!1;for(m=0;m<n.length;m++)if(n[m].indent===k[1]){o=n[m].list,n.splice(m+1,n.length-(m+1)),z=!0;break}z||(y++,y<=n.length?(n.splice(y,n.length-y),o=n[y-1].list):(o=j(k),l.push(o))),l=["listitem"],o.push(l)}u=""}w.length>k[0].length&&(t+=u+w.substr(k[0].length))}t.length&&(c(l,p,this.processInline(t),u),p=!1,t="");var A=d(n.length,i);A.length>0&&(q(n,e,this),l.push.apply(l,this.toTree(A,[])));var B=i[0]&&i[0].valueOf()||"";if(!B.match(h)&&!B.match(/^ /))break;f=i.shift();var C=this.dialect.block.horizRule(f,i);if(C){r.push.apply(r,C);break}q(n,e,this),p=!0}return r}}(),blockquote:function(a,b){if(!a.match(/^>/m))return void 0;var c=[];if(">"!==a[0]){for(var d=a.split(/\n/),e=[],f=a.lineNumber;d.length&&">"!==d[0][0];)e.push(d.shift()),f++;var g=n(e.join("\n"),"\n",a.lineNumber);c.push.apply(c,this.processBlock(g,[])),a=n(d.join("\n"),a.trailing,f)}for(;b.length&&">"===b[0][0];){var h=b.shift();a=n(a+a.trailing+h,h.trailing,a.lineNumber)}var i=a.replace(/^> ?/gm,""),j=(this.tree,this.toTree(i,["blockquote"])),k=o(j);return k&&k.references&&(delete k.references,r(k)&&j.splice(1,1)),c.push(j),c},referenceDefn:function(a,b){var c=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!a.match(c))return void 0;o(this.tree)||this.tree.splice(1,0,{});var d=o(this.tree);void 0===d.references&&(d.references={});var e=this.loop_re_over_block(c,a,function(a){a[2]&&"<"===a[2][0]&&">"===a[2][a[2].length-1]&&(a[2]=a[2].substring(1,a[2].length-1));var b=d.references[a[1].toLowerCase()]={href:a[2]};void 0!==a[4]?b.title=a[4]:void 0!==a[5]&&(b.title=a[5])});return e.length&&b.unshift(n(e,a.trailing)),[]},para:function(a){return[["para"].concat(this.processInline(a))]}},inline:{__oneElement__:function(a,b,c){var d,e;b=b||this.dialect.inline.__patterns__;var f=new RegExp("([\\s\\S]*?)("+(b.source||b)+")");if(d=f.exec(a),!d)return[a.length,a];if(d[1])return[d[1].length,d[1]];var e;return d[2]in this.dialect.inline&&(e=this.dialect.inline[d[2]].call(this,a.substr(d.index),d,c||[])),e=e||[d[2].length,d[2]]},__call__:function(a,b){function c(a){"string"==typeof a&&"string"==typeof e[e.length-1]?e[e.length-1]+=a:e.push(a)}for(var d,e=[];a.length>0;)d=this.dialect.inline.__oneElement__.call(this,a,b,e),a=a.substr(d.shift()),q(d,c);return e},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(a){return this.dialect.inline.__escape__.exec(a)?[2,a.charAt(1)]:[1,"\\"]},"![":function(a){var b=a.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(b){b[2]&&"<"===b[2][0]&&">"===b[2][b[2].length-1]&&(b[2]=b[2].substring(1,b[2].length-1)),b[2]=this.dialect.inline.__call__.call(this,b[2],/\\/)[0];var c={alt:b[1],href:b[2]||""};return void 0!==b[4]&&(c.title=b[4]),[b[0].length,["img",c]]}return b=a.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),b?[b[0].length,["img_ref",{alt:b[1],ref:b[2].toLowerCase(),original:b[0]}]]:[2,"!["]},"[":function v(a){var b=String(a),c=s.call(this,a.substr(1),"]");if(!c)return[1,"["];var v,d,e=1+c[0],f=c[1];a=a.substr(e);var g=a.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(g){var h=g[1];if(e+=g[0].length,h&&"<"===h[0]&&">"===h[h.length-1]&&(h=h.substring(1,h.length-1)),!g[3])for(var i=1,j=0;j<h.length;j++)switch(h[j]){case"(":i++;break;case")":0===--i&&(e-=h.length-j,h=h.substring(0,j))}return h=this.dialect.inline.__call__.call(this,h,/\\/)[0],d={href:h||""},void 0!==g[3]&&(d.title=g[3]),v=["link",d].concat(f),[e,v]}return g=a.match(/^\s*\[(.*?)\]/),g?(e+=g[0].length,d={ref:(g[1]||String(f)).toLowerCase(),original:b.substr(0,e)},v=["link_ref",d].concat(f),[e,v]):1===f.length&&"string"==typeof f[0]?(d={ref:f[0].toLowerCase(),original:b.substr(0,e)},v=["link_ref",d,f[0]],[e,v]):[1,"["]},"<":function(a){var b;return null!==(b=a.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?b[3]?[b[0].length,["link",{href:"mailto:"+b[3]},b[3]]]:"mailto"===b[2]?[b[0].length,["link",{href:b[1]},b[1].substr("mailto:".length)]]:[b[0].length,["link",{href:b[1]},b[1]]]:[1,"<"]},"`":function(a){var b=a.match(/(`+)(([\s\S]*?)\1)/);return b&&b[2]?[b[1].length+b[2].length,["inlinecode",b[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}}};t.inline["**"]=i("strong","**"),t.inline.__=i("strong","__"),t.inline["*"]=i("em","*"),t.inline._=i("em","_"),m.dialects.Gruber=t,m.buildBlockOrder(m.dialects.Gruber.block),m.buildInlinePatterns(m.dialects.Gruber.inline);var u=p.subclassDialect(t),o=k.extract_attr,q=k.forEach;u.processMetaHash=function(a){for(var b=j(a),c={},d=0;d<b.length;++d)if(/^#/.test(b[d]))c.id=b[d].substring(1);else if(/^\./.test(b[d]))c["class"]=c["class"]?c["class"]+b[d].replace(/./," "):b[d].substring(1);else if(/\=/.test(b[d])){var e=b[d].split(/\=/);c[e[0]]=e[1]}return c},u.block.document_meta=function(a){if(a.lineNumber>1)return void 0;if(!a.match(/^(?:\w+:.*\n)*\w+:.*$/))return void 0;o(this.tree)||this.tree.splice(1,0,{});var b=a.split(/\n/);for(var c in b){var d=b[c].match(/(\w+):\s*(.*)$/),e=d[1].toLowerCase(),f=d[2];this.tree[1][e]=f}return[]},u.block.block_meta=function(a){var b=a.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!b)return void 0;var c,d=this.dialect.processMetaHash(b[2]);if(""===b[1]){var e=this.tree[this.tree.length-1];if(c=o(e),"string"==typeof e)return void 0;c||(c={},e.splice(1,0,c));for(var f in d)c[f]=d[f];return[]}var g=a.replace(/\n.*$/,""),h=this.processBlock(g,[]);c=o(h[0]),c||(c={},h[0].splice(1,0,c));for(var f in d)c[f]=d[f];return h},u.block.definition_list=function(a,b){var c,d,e=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,f=["dl"];if(!(d=a.match(e)))return void 0;for(var g=[a];b.length&&e.exec(b[0]);)g.push(b.shift());for(var h=0;h<g.length;++h){var d=g[h].match(e),i=d[1].replace(/\n$/,"").split(/\n/),j=d[2].split(/\n:\s+/);for(c=0;c<i.length;++c)f.push(["dt",i[c]]);for(c=0;c<j.length;++c)f.push(["dd"].concat(this.processInline(j[c].replace(/(\n)\s+/,"$1"))))}return[f]},u.block.table=function w(a){var b,c,d=function(a,b){b=b||"\\s",b.match(/^[\\|\[\]{}?*.+^$]$/)&&(b="\\"+b);for(var c,d=[],e=new RegExp("^((?:\\\\.|[^\\\\"+b+"])*)"+b+"(.*)");c=a.match(e);)d.push(c[1]),a=c[2];return d.push(a),d},e=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,f=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(c=a.match(e))c[3]=c[3].replace(/^\s*\|/gm,"");else if(!(c=a.match(f)))return void 0;var w=["table",["thead",["tr"]],["tbody"]];c[2]=c[2].replace(/\|\s*$/,"").split("|");var g=[];for(q(c[2],function(a){a.match(/^\s*-+:\s*$/)?g.push({align:"right"}):a.match(/^\s*:-+\s*$/)?g.push({align:"left"}):a.match(/^\s*:-+:\s*$/)?g.push({align:"center"}):g.push({})}),c[1]=d(c[1].replace(/\|\s*$/,""),"|"),b=0;b<c[1].length;b++)w[1][1].push(["th",g[b]||{}].concat(this.processInline(c[1][b].trim())));return q(c[3].replace(/\|\s*$/gm,"").split("\n"),function(a){var c=["tr"];for(a=d(a,"|"),b=0;b<a.length;b++)c.push(["td",g[b]||{}].concat(this.processInline(a[b].trim())));w[2].push(c)},this),[w]},u.inline["{:"]=function(a,b,c){if(!c.length)return[2,"{:"];var d=c[c.length-1];if("string"==typeof d)return[2,"{:"];var e=a.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!e)return[2,"{:"];var f=this.dialect.processMetaHash(e[1]),g=o(d);g||(g={},d.splice(1,0,g));for(var h in f)g[h]=f[h];return[e[0].length,""]},m.dialects.Maruku=u,m.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,m.buildBlockOrder(m.dialects.Maruku.block),m.buildInlinePatterns(m.dialects.Maruku.inline),a.Markdown=m,a.parse=m.parse,a.toHTML=m.toHTML,a.toHTMLTree=m.toHTMLTree,a.renderJsonML=m.renderJsonML}(function(){return window.markdown={},window.markdown}());
!function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return o(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t){!function(e){"use strict";if(!e._muiLoadedJS){e._muiLoadedJS=!0;var n=t("./lib/jqLite.js"),i=t("./forms.js"),o=t("./ripple.js"),r=t("./dropdowns.js"),s=t("./overlay.js");e.mui={overlay:s},n.ready(function(){i.initListeners(),o.initListeners(),r.initListeners()})}}(window)},{"./dropdowns.js":3,"./forms.js":4,"./lib/jqLite.js":5,"./overlay.js":7,"./ripple.js":8}],2:[function(t,e){e.exports={debug:!0}},{}],3:[function(t,e){"use strict";function n(t){t._muiDropdown!==!0&&(t._muiDropdown=!0,r.on(t,"click",i))}function i(t){if(0===t.button){var e=this;null===e.getAttribute("disabled")&&setTimeout(function(){t.defaultPrevented||o(e)},0)}}function o(t){function e(t){t.stopPropagation()}function n(){r.removeClass(a,l),r.off(c,"click",n),r.off(a,"click",e),r.off(t,"click",e)}function i(){var i=o.getBoundingClientRect(),s=t.getBoundingClientRect(),u=s.top-i.top+s.height;r.css(a,"top",u+"px"),r.addClass(a,l),r.on(t,"click",e),r.on(a,"click",e),r.on(c,"click",n)}var o=t.parentNode,a=t.nextElementSibling,c=o.ownerDocument;return a&&r.hasClass(a,u)?void(r.hasClass(a,l)?n():i()):void s.raiseError("Dropdown menu element not found")}var r=t("./lib/jqLite.js"),s=t("./lib/util.js"),a='[data-toggle="dropdown"]',l="mui-open",u="mui-dropdown-menu",c="mui-dropdown-inserted";e.exports={initListeners:function(){for(var t=document,e=t.querySelectorAll(a),i=e.length-1;i>=0;i--)n(e[i]);s.onAnimationStart(c,n)}}},{"./lib/jqLite.js":5,"./lib/util.js":6}],4:[function(t,e){"use strict";function n(t){if(t._muiFloatLabel!==!0){t._muiFloatLabel=!0;var e=t.previousElementSibling;e.value.length&&s.addClass(t,f),s.on(e,"input",i),setTimeout(function(){var e=".15s ease-out";s.css(t,{"-webkit-transition":e,"-moz-transition":e,"-o-transition":e,transition:e})},150),o()===!1&&(s.css(t,"cursor","text"),s.on(t,"click",function(){s.hasClass(t,f)||e.focus()}))}}function i(t){var e=t.target,n=e.nextElementSibling;s.hasClass(n,c)&&(0===e.value.length?s.removeClass(n,f):s.addClass(n,f))}function o(){if(void 0!==r)return r;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",r="auto"===t.style.pointerEvents}var r,s=t("./lib/jqLite.js"),a=t("./lib/util.js"),l="mui-form-control",u="mui-form-group",c="mui-form-floating-label",f=c+"-active",d="mui-form-floating-label-inserted";e.exports={formControlClass:l,formGroupClass:u,floatingLabelBaseClass:c,floatingLabelActiveClass:f,initialize:n,initListeners:function(){for(var t=document,e=t.getElementsByClassName(c),i=e.length-1;i>=0;i--)n(e[i]);a.onAnimationStart(d,n)}}},{"./lib/jqLite.js":5,"./lib/util.js":6}],5:[function(t,e){"use strict";function n(t,e){if(e&&t.setAttribute){for(var n,i=d(t),o=e.split(" "),r=0;r<o.length;r++)n=o[r].trim(),-1===i.indexOf(" "+n+" ")&&(i+=n+" ");t.setAttribute("class",i.trim())}}function i(t,e,n){if(void 0===e)return getComputedStyle(t);var i=r(e);{if("object"!==i){"string"===i&&void 0!==n&&(t.style[m(e)]=n);var o=getComputedStyle(t),s="array"===r(e);if(!s)return p(t,e,o);for(var a,l={},u=0;u<e.length;u++)a=e[u],l[a]=p(t,a,o);return l}for(var a in e)t.style[m(a)]=e[a]}}function o(t,e){return e&&t.getAttribute?d(t).indexOf(" "+e+" ")>-1:!1}function r(t){if(void 0===t)return"undefined";var e=Object.prototype.toString.call(t);if(0===e.indexOf("[object "))return e.slice(8,-1).toLowerCase();throw"Could not understand type: "+e}function s(t,e,n,i){i=void 0===i?!1:i,t.addEventListener(e,n,i);var o=t._muiEventCache=t._muiEventCache||{};o[e]=o[e]||[],o[e].push([n,i])}function a(t,e,n,i){i=void 0===i?!1:i;var o,r,s=t._muiEventCache=t._muiEventCache||{},a=s[e]||[];for(r=a.length;r--;)o=a[r],(void 0===n||o[0]===n&&o[1]===i)&&(a.splice(r,1),t.removeEventListener(e,o[0],o[1]))}function l(t,e,n){s(t,e,function i(){a(t,e,n),a(t,e,i)}),s(t,e,fn)}function u(t){var e,n,i=window,o=document.documentElement,r=t.getBoundingClientRect();return e=(i.pageXOffset||o.scrollLeft)-(o.clientLeft||0),n=(i.pageYOffset||o.scrollTop)-(o.clientTop||0),{top:r.top+n,left:r.left+e,height:r.height,width:r.width}}function c(t){var e=!1,n=!0,i=document,o=i.defaultView,r=i.documentElement,s=i.addEventListener?"addEventListener":"attachEvent",a=i.addEventListener?"removeEventListener":"detachEvent",l=i.addEventListener?"":"on",u=function(n){("readystatechange"!=n.type||"complete"==i.readyState)&&(("load"==n.type?o:i)[a](l+n.type,u,!1),!e&&(e=!0)&&t.call(o,n.type||n))},c=function(){try{r.doScroll("left")}catch(t){return void setTimeout(c,50)}u("poll")};if("complete"==i.readyState)t.call(o,"lazy");else{if(i.createEventObject&&r.doScroll){try{n=!o.frameElement}catch(f){}n&&c()}i[s](l+"DOMContentLoaded",u,!1),i[s](l+"readystatechange",u,!1),o[s](l+"load",u,!1)}}function f(t,e){if(e&&t.setAttribute){for(var n,i=d(t),o=e.split(" "),r=0;r<o.length;r++)for(n=o[r].trim();i.indexOf(" "+n+" ")>=0;)i=i.replace(" "+n+" "," ");t.setAttribute("class",i.trim())}}function d(t){var e=(t.getAttribute("class")||"").replace(/[\n\t]/g,"");return" "+e+" "}function m(t){return t.replace(g,function(t,e,n,i){return i?n.toUpperCase():n}).replace(h,"Moz$1")}function p(t,e,n){var i;return i=n.getPropertyValue(e),""!==i||t.ownerDocument||(i=t.style[m(e)]),i}var v,g=/([\:\-\_]+(.))/g,h=/^moz([A-Z])/;v={multiple:!0,selected:!0,checked:!0,disabled:!0,readonly:!0,required:!0,open:!0},e.exports={addClass:n,css:i,hasClass:o,off:a,offset:u,on:s,one:l,ready:c,removeClass:f,type:r}},{}],6:[function(t,e){"use strict";function n(){if(a.debug&&"undefined"!=typeof u.console)try{u.console.log.apply(u.console,arguments)}catch(t){var e=Array.prototype.slice.call(arguments);u.console.log(e.join("\n"))}}function i(t){if(c.createStyleSheet)c.createStyleSheet().cssText=t;else{var e=c.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(c.createTextNode(t)),f.insertBefore(e,f.firstChild)}}function o(t){throw"MUI Error: "+t}function r(t,e){t in d?d[t].push(e):d[t]=[e],void 0===d._initialized&&(l.on(c,"animationstart",s),l.on(c,"mozAnimationStart",s),l.on(c,"webkitAnimationStart",s),d._initialized=!0)}function s(t){var e=d[t.animationName];if(e)for(var n=e.length-1;n>=0;n--)e[n](t.target)}var a=t("../config.js"),l=t("./jqLite.js"),u=window,c=window.document,f=c.head||c.getElementsByTagName("head")[0]||c.documentElement,d={};e.exports={log:n,loadStyle:i,onAnimationStart:r,raiseError:o}},{"../config.js":2,"./jqLite.js":5}],7:[function(t,e){"use strict";function n(t){var e=document.body,n=document.getElementById(s);return"on"===t?(o.addClass(e,r),n||(n=document.createElement("div"),n.setAttribute("id",s),e.appendChild(n))):"off"===t?(n&&n.parentNode.removeChild(n),o.removeClass(e,r)):i.raiseError("Expecting 'on' or 'off'"),n}var i=t("./lib/util.js"),o=t("./lib/jqLite.js"),r="mui-overlay-on",s="mui-overlay";e.exports=n},{"./lib/jqLite.js":5,"./lib/util.js":6}],8:[function(t,e){"use strict";function n(t){t._muiRipple!==!0&&(t._muiRipple=!0,"INPUT"!==t.tagName&&o.on(t,"mousedown",i))}function i(t){if(0===t.button){var e=this;if(e.disabled!==!0){var n=document.createElement("div");n.className=l;var i,r,s=o.offset(e),u=t.pageX-s.left,c=t.pageY-s.top;i=o.hasClass(e,a)?s.height/2:s.height,r=i/2,o.css(n,{height:i+"px",width:i+"px",top:c-r+"px",left:u-r+"px"}),e.appendChild(n),window.setTimeout(function(){e.removeChild(n)},2e3)}}}var o=t("./lib/jqLite.js"),r=t("./lib/util.js"),s="mui-btn",a="mui-btn-floating",l="mui-ripple-effect",u="mui-btn-inserted";e.exports={initListeners:function(){for(var t=document,e=t.getElementsByClassName(s),i=e.length-1;i>=0;i--)n(e[i]);r.onAnimationStart(u,n)}}},{"./lib/jqLite.js":5,"./lib/util.js":6}]},{},[1]);
!function(e){"undefined"!=typeof exports?e(exports):(window.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return window.hljs}))}(function(e){function n(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function t(e){return e.nodeName.toLowerCase()}function r(e,n){var t=e&&e.exec(n);return t&&0==t.index}function a(e){var n=(e.className+" "+(e.parentNode?e.parentNode.className:"")).split(/\s+/);return n=n.map(function(e){return e.replace(/^lang(uage)?-/,"")}),n.filter(function(e){return N(e)||/no(-?)highlight/.test(e)})[0]}function o(e,n){var t={};for(var r in e)t[r]=e[r];if(n)for(var r in n)t[r]=n[r];return t}function i(e){var n=[];return function r(e,a){for(var o=e.firstChild;o;o=o.nextSibling)3==o.nodeType?a+=o.nodeValue.length:1==o.nodeType&&(n.push({event:"start",offset:a,node:o}),a=r(o,a),t(o).match(/br|hr|img|input/)||n.push({event:"stop",offset:a,node:o}));return a}(e,0),n}function c(e,r,a){function o(){return e.length&&r.length?e[0].offset!=r[0].offset?e[0].offset<r[0].offset?e:r:"start"==r[0].event?e:r:e.length?e:r}function i(e){function r(e){return" "+e.nodeName+'="'+n(e.value)+'"'}l+="<"+t(e)+Array.prototype.map.call(e.attributes,r).join("")+">"}function c(e){l+="</"+t(e)+">"}function u(e){("start"==e.event?i:c)(e.node)}for(var s=0,l="",f=[];e.length||r.length;){var g=o();if(l+=n(a.substr(s,g[0].offset-s)),s=g[0].offset,g==e){f.reverse().forEach(c);do u(g.splice(0,1)[0]),g=o();while(g==e&&g.length&&g[0].offset==s);f.reverse().forEach(i)}else"start"==g[0].event?f.push(g[0].node):f.pop(),u(g.splice(0,1)[0])}return l+n(a.substr(s))}function u(e){function n(e){return e&&e.source||e}function t(t,r){return RegExp(n(t),"m"+(e.cI?"i":"")+(r?"g":""))}function r(a,i){if(!a.compiled){if(a.compiled=!0,a.k=a.k||a.bK,a.k){var c={},u=function(n,t){e.cI&&(t=t.toLowerCase()),t.split(" ").forEach(function(e){var t=e.split("|");c[t[0]]=[n,t[1]?Number(t[1]):1]})};"string"==typeof a.k?u("keyword",a.k):Object.keys(a.k).forEach(function(e){u(e,a.k[e])}),a.k=c}a.lR=t(a.l||/\b[A-Za-z0-9_]+\b/,!0),i&&(a.bK&&(a.b="\\b("+a.bK.split(" ").join("|")+")\\b"),a.b||(a.b=/\B|\b/),a.bR=t(a.b),a.e||a.eW||(a.e=/\B|\b/),a.e&&(a.eR=t(a.e)),a.tE=n(a.e)||"",a.eW&&i.tE&&(a.tE+=(a.e?"|":"")+i.tE)),a.i&&(a.iR=t(a.i)),void 0===a.r&&(a.r=1),a.c||(a.c=[]);var s=[];a.c.forEach(function(e){e.v?e.v.forEach(function(n){s.push(o(e,n))}):s.push("self"==e?a:e)}),a.c=s,a.c.forEach(function(e){r(e,a)}),a.starts&&r(a.starts,i);var l=a.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([a.tE,a.i]).map(n).filter(Boolean);a.t=l.length?t(l.join("|"),!0):{exec:function(){return null}}}}r(e)}function s(e,t,a,o){function i(e,n){for(var t=0;t<n.c.length;t++)if(r(n.c[t].bR,e))return n.c[t]}function c(e,n){return r(e.eR,n)?e:e.eW?c(e.parent,n):void 0}function f(e,n){return!a&&r(n.iR,e)}function g(e,n){var t=x.cI?n[0].toLowerCase():n[0];return e.k.hasOwnProperty(t)&&e.k[t]}function p(e,n,t,r){var a=r?"":E.classPrefix,o='<span class="'+a,i=t?"":"</span>";return o+=e+'">',o+n+i}function d(){if(!w.k)return n(y);var e="",t=0;w.lR.lastIndex=0;for(var r=w.lR.exec(y);r;){e+=n(y.substr(t,r.index-t));var a=g(w,r);a?(B+=a[1],e+=p(a[0],n(r[0]))):e+=n(r[0]),t=w.lR.lastIndex,r=w.lR.exec(y)}return e+n(y.substr(t))}function h(){if(w.sL&&!R[w.sL])return n(y);var e=w.sL?s(w.sL,y,!0,L[w.sL]):l(y);return w.r>0&&(B+=e.r),"continuous"==w.subLanguageMode&&(L[w.sL]=e.top),p(e.language,e.value,!1,!0)}function v(){return void 0!==w.sL?h():d()}function b(e,t){var r=e.cN?p(e.cN,"",!0):"";e.rB?(M+=r,y=""):e.eB?(M+=n(t)+r,y=""):(M+=r,y=t),w=Object.create(e,{parent:{value:w}})}function m(e,t){if(y+=e,void 0===t)return M+=v(),0;var r=i(t,w);if(r)return M+=v(),b(r,t),r.rB?0:t.length;var a=c(w,t);if(a){var o=w;o.rE||o.eE||(y+=t),M+=v();do w.cN&&(M+="</span>"),B+=w.r,w=w.parent;while(w!=a.parent);return o.eE&&(M+=n(t)),y="",a.starts&&b(a.starts,""),o.rE?0:t.length}if(f(t,w))throw new Error('Illegal lexeme "'+t+'" for mode "'+(w.cN||"<unnamed>")+'"');return y+=t,t.length||1}var x=N(e);if(!x)throw new Error('Unknown language: "'+e+'"');u(x);for(var w=o||x,L={},M="",k=w;k!=x;k=k.parent)k.cN&&(M=p(k.cN,"",!0)+M);var y="",B=0;try{for(var C,j,I=0;;){if(w.t.lastIndex=I,C=w.t.exec(t),!C)break;j=m(t.substr(I,C.index-I),C[0]),I=C.index+j}m(t.substr(I));for(var k=w;k.parent;k=k.parent)k.cN&&(M+="</span>");return{r:B,value:M,language:e,top:w}}catch(A){if(-1!=A.message.indexOf("Illegal"))return{r:0,value:n(t)};throw A}}function l(e,t){t=t||E.languages||Object.keys(R);var r={r:0,value:n(e)},a=r;return t.forEach(function(n){if(N(n)){var t=s(n,e,!1);t.language=n,t.r>a.r&&(a=t),t.r>r.r&&(a=r,r=t)}}),a.language&&(r.second_best=a),r}function f(e){return E.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,n){return n.replace(/\t/g,E.tabReplace)})),E.useBR&&(e=e.replace(/\n/g,"<br>")),e}function g(e,n,t){var r=n?x[n]:t,a=[e.trim()];return e.match(/(\s|^)hljs(\s|$)/)||a.push("hljs"),r&&a.push(r),a.join(" ").trim()}function p(e){var n=a(e);if(!/no(-?)highlight/.test(n)){var t;E.useBR?(t=document.createElementNS("http://www.w3.org/1999/xhtml","div"),t.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):t=e;var r=t.textContent,o=n?s(n,r,!0):l(r),u=i(t);if(u.length){var p=document.createElementNS("http://www.w3.org/1999/xhtml","div");p.innerHTML=o.value,o.value=c(u,i(p),r)}o.value=f(o.value),e.innerHTML=o.value,e.className=g(e.className,n,o.language),e.result={language:o.language,re:o.r},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.r})}}function d(e){E=o(E,e)}function h(){if(!h.called){h.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,p)}}function v(){addEventListener("DOMContentLoaded",h,!1),addEventListener("load",h,!1)}function b(n,t){var r=R[n]=t(e);r.aliases&&r.aliases.forEach(function(e){x[e]=n})}function m(){return Object.keys(R)}function N(e){return R[e]||R[x[e]]}var E={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},R={},x={};return e.highlight=s,e.highlightAuto=l,e.fixMarkup=f,e.highlightBlock=p,e.configure=d,e.initHighlighting=h,e.initHighlightingOnLoad=v,e.registerLanguage=b,e.listLanguages=m,e.getLanguage=N,e.inherit=o,e.IR="[a-zA-Z][a-zA-Z0-9_]*",e.UIR="[a-zA-Z_][a-zA-Z0-9_]*",e.NR="\\b\\d+(\\.\\d+)?",e.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BNR="\\b(0b[01]+)",e.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BE={b:"\\\\[\\s\\S]",r:0},e.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[e.BE]},e.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[e.BE]},e.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/},e.CLCM={cN:"comment",b:"//",e:"$",c:[e.PWM]},e.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[e.PWM]},e.HCM={cN:"comment",b:"#",e:"$",c:[e.PWM]},e.NM={cN:"number",b:e.NR,r:0},e.CNM={cN:"number",b:e.CNR,r:0},e.BNM={cN:"number",b:e.BNR,r:0},e.CSSNM={cN:"number",b:e.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},e.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[e.BE,{b:/\[/,e:/\]/,r:0,c:[e.BE]}]},e.TM={cN:"title",b:e.IR,r:0},e.UTM={cN:"title",b:e.UIR,r:0},e});
hljs.registerLanguage("clojure",function(e){var t={built_in:"def cond apply if-not if-let if not not= = < > <= >= == + / * - rem quot neg? pos? delay? symbol? keyword? true? false? integer? empty? coll? list? set? ifn? fn? associative? sequential? sorted? counted? reversible? number? decimal? class? distinct? isa? float? rational? reduced? ratio? odd? even? char? seq? vector? string? map? nil? contains? zero? instance? not-every? not-any? libspec? -> ->> .. . inc compare do dotimes mapcat take remove take-while drop letfn drop-last take-last drop-while while intern condp case reduced cycle split-at split-with repeat replicate iterate range merge zipmap declare line-seq sort comparator sort-by dorun doall nthnext nthrest partition eval doseq await await-for let agent atom send send-off release-pending-sends add-watch mapv filterv remove-watch agent-error restart-agent set-error-handler error-handler set-error-mode! error-mode shutdown-agents quote var fn loop recur throw try monitor-enter monitor-exit defmacro defn defn- macroexpand macroexpand-1 for dosync and or when when-not when-let comp juxt partial sequence memoize constantly complement identity assert peek pop doto proxy defstruct first rest cons defprotocol cast coll deftype defrecord last butlast sigs reify second ffirst fnext nfirst nnext defmulti defmethod meta with-meta ns in-ns create-ns import refer keys select-keys vals key val rseq name namespace promise into transient persistent! conj! assoc! dissoc! pop! disj! use class type num float double short byte boolean bigint biginteger bigdec print-method print-dup throw-if printf format load compile get-in update-in pr pr-on newline flush read slurp read-line subvec with-open memfn time re-find re-groups rand-int rand mod locking assert-valid-fdecl alias resolve ref deref refset swap! reset! set-validator! compare-and-set! alter-meta! reset-meta! commute get-validator alter ref-set ref-history-count ref-min-history ref-max-history ensure sync io! new next conj set! to-array future future-call into-array aset gen-class reduce map filter find empty hash-map hash-set sorted-map sorted-map-by sorted-set sorted-set-by vec vector seq flatten reverse assoc dissoc list disj get union difference intersection extend extend-type extend-protocol int nth delay count concat chunk chunk-buffer chunk-append chunk-first chunk-rest max min dec unchecked-inc-int unchecked-inc unchecked-dec-inc unchecked-dec unchecked-negate unchecked-add-int unchecked-add unchecked-subtract-int unchecked-subtract chunk-next chunk-cons chunked-seq? prn vary-meta lazy-seq spread list* str find-keyword keyword symbol gensym force rationalize"},r="a-zA-Z_\\-!.?+*=<>&#'",n="["+r+"]["+r+"0-9/;:]*",a="[-+]?\\d+(\\.\\d+)?",o={b:n,r:0},s={cN:"number",b:a,r:0},c=e.inherit(e.QSM,{i:null}),i={cN:"comment",b:";",e:"$",r:0},d={cN:"literal",b:/\b(true|false|nil)\b/},l={cN:"collection",b:"[\\[\\{]",e:"[\\]\\}]"},m={cN:"comment",b:"\\^"+n},p={cN:"comment",b:"\\^\\{",e:"\\}"},u={cN:"attribute",b:"[:]"+n},f={cN:"list",b:"\\(",e:"\\)"},h={eW:!0,r:0},y={k:t,l:n,cN:"keyword",b:n,starts:h},b=[f,c,m,p,i,u,l,s,d,o];return f.c=[{cN:"comment",b:"comment"},y,h],h.c=b,l.c=b,{aliases:["clj"],i:/\S/,c:[f,c,m,p,i,u,l,s,d]}});
!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return t>n?-1:n>t?1:n>=t?0:0/0}function r(n){return null===n?0/0:+n}function u(n){return!isNaN(n)}function i(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function c(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function l(){this._=Object.create(null)}function s(n){return(n+="")===pa||n[0]===va?va+n:n}function f(n){return(n+="")[0]===va?n.slice(1):n}function h(n){return s(n)in this._}function g(n){return(n=s(n))in this._&&delete this._[n]}function p(){var n=[];for(var t in this._)n.push(f(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=da.length;r>e;++e){var u=da[e]+t;if(u in n)return u}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new l;return t.on=function(t,u){var i,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function S(){ta.event.preventDefault()}function k(){for(var n,t=ta.event;n=t.sourceEvent;)t=n;return t}function E(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=ta.event;u.target=n,ta.event=u,t[u.type].apply(e,r)}finally{ta.event=i}}},t}function A(n){return ya(n,_a),n}function N(n){return"function"==typeof n?n:function(){return Ma(n,this)}}function C(n){return"function"==typeof n?n:function(){return xa(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ta.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?i:u}function q(n){return n.trim().replace(/\s+/g," ")}function L(n){return new RegExp("(?:^|\\s+)"+ta.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=T(n).map(D);var u=n.length;return"function"==typeof t?r:e}function D(n){var t=L(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",q(u+" "+n))):e.setAttribute("class",q(u.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ta.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return ba(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;r>e;e++)for(var u,i=n[e],o=0,a=i.length;a>o;o++)(u=i[o])&&t(u,o,e);return n}function Z(n){return ya(n,Sa),n}function V(n){var t,e;return function(r,u,i){var o,a=n[i].update,c=a.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(o=a[t])&&++t<c;);return o}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=c(t,ra(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t,e=new RegExp("^__on([^.]+)"+ta.requote(n)+"$");for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),c=$;a>0&&(n=n.slice(0,a));var l=ka.get(n);return l&&(n=l,c=B),a?t?u:r:t?b:i}function $(n,t){return function(e){var r=ta.event;ta.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ta.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++Aa,u="click"+r,i=ta.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==Ea&&(Ea="onselectstart"in e?!1:x(e.style,"userSelect")),Ea){var o=n(e).style,a=o[Ea];o[Ea]="none"}return function(n){if(i.on(r,null),Ea&&(o[Ea]=a),n){var t=function(){i.on(u,null)};i.on(u,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var u=r.createSVGPoint();if(0>Na){var i=t(n);if(i.scrollX||i.scrollY){r=ta.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Na=!(o.f||o.e),r.remove()}}return Na?(u.x=e.pageX,u.y=e.pageY):(u.x=e.clientX,u.y=e.clientY),u=u.matrixTransform(n.getScreenCTM().inverse()),[u.x,u.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return ta.event.changedTouches[0].identifier}function K(n){return n>0?1:0>n?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nt(n){return n>1?0:-1>n?qa:Math.acos(n)}function tt(n){return n>1?Ra:-1>n?-Ra:Math.asin(n)}function et(n){return((n=Math.exp(n))-1/n)/2}function rt(n){return((n=Math.exp(n))+1/n)/2}function ut(n){return((n=Math.exp(2*n))-1)/(n+1)}function it(n){return(n=Math.sin(n/2))*n}function ot(){}function at(n,t,e){return this instanceof at?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof at?new at(n.h,n.s,n.l):bt(""+n,_t,at):new at(n,t,e)}function ct(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(o-i)*n/60:180>n?o:240>n?i+(o-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,i=2*e-o,new mt(u(n+120),u(n),u(n-120))}function lt(n,t,e){return this instanceof lt?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof lt?new lt(n.h,n.c,n.l):n instanceof ft?gt(n.l,n.a,n.b):gt((n=wt((n=ta.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new lt(n,t,e)}function st(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new ft(e,Math.cos(n*=Da)*t,Math.sin(n)*t)}function ft(n,t,e){return this instanceof ft?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof ft?new ft(n.l,n.a,n.b):n instanceof lt?st(n.h,n.c,n.l):wt((n=mt(n)).r,n.g,n.b):new ft(n,t,e)}function ht(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=pt(u)*Xa,r=pt(r)*$a,i=pt(i)*Ba,new mt(dt(3.2404542*u-1.5371385*r-.4985314*i),dt(-.969266*u+1.8760108*r+.041556*i),dt(.0556434*u-.2040259*r+1.0572252*i))}function gt(n,t,e){return n>0?new lt(Math.atan2(e,t)*Pa,Math.sqrt(t*t+e*e),n):new lt(0/0,0/0,n)}function pt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function vt(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function dt(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mt(n,t,e){return this instanceof mt?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mt?new mt(n.r,n.g,n.b):bt(""+n,mt,ct):new mt(n,t,e)}function yt(n){return new mt(n>>16,n>>8&255,255&n)}function Mt(n){return yt(n)+""}function xt(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function bt(n,t,e){var r,u,i,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(n))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(kt(u[0]),kt(u[1]),kt(u[2]))}return(i=Ga.get(n.toLowerCase()))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&i)>>4,o=o>>4|o,a=240&i,a=a>>4|a,c=15&i,c=c<<4|c):7===n.length&&(o=(16711680&i)>>16,a=(65280&i)>>8,c=255&i)),t(o,a,c))}function _t(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-i,c=(o+i)/2;return a?(u=.5>c?a/(o+i):a/(2-o-i),r=n==o?(t-e)/a+(e>t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=0/0,u=c>0&&1>c?0:r),new at(r,u,c)}function wt(n,t,e){n=St(n),t=St(t),e=St(e);var r=vt((.4124564*n+.3575761*t+.1804375*e)/Xa),u=vt((.2126729*n+.7151522*t+.072175*e)/$a),i=vt((.0193339*n+.119192*t+.9503041*e)/Ba);return ft(116*u-16,500*(r-u),200*(u-i))}function St(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function kt(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function Et(n){return"function"==typeof n?n:function(){return n}}function At(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Nt(t,e,n,r)}}function Nt(n,t,e,r){function u(){var n,t=c.status;if(!t&&zt(c)||t>=200&&300>t||304===t){try{n=e.call(i,c)}catch(r){return void o.error.call(i,r)}o.load.call(i,n)}else o.error.call(i,c)}var i={},o=ta.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState>3&&u()},c.onprogress=function(n){var t=ta.event;ta.event=n;try{o.progress.call(i,c)}finally{ta.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(l=n,i):l},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(ra(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)for(var s in a)c.setRequestHeader(s,a[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=l&&(c.responseType=l),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},ta.rebind(i,o,"on"),null==r?i:i.get(Ct(r))}function Ct(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function zt(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qt(){var n=Lt(),t=Tt()-n;t>24?(isFinite(t)&&(clearTimeout(tc),tc=setTimeout(qt,t)),nc=0):(nc=1,rc(qt))}function Lt(){var n=Date.now();for(ec=Ka;ec;)n>=ec.t&&(ec.f=ec.c(n-ec.t)),ec=ec.n;return n}function Tt(){for(var n,t=Ka,e=1/0;t;)t.f?t=n?n.n=t.n:Ka=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return Qa=n,e}function Rt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Dt(n,t){var e=Math.pow(10,3*ga(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Pt(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r&&e?function(n,t){for(var u=n.length,i=[],o=0,a=r[0],c=0;u>0&&a>0&&(c+a+1>t&&(a=Math.max(1,t-c)),i.push(n.substring(u-=a,u+a)),!((c+=a+1)>t));)a=r[o=(o+1)%r.length];return i.reverse().join(e)}:y;return function(n){var e=ic.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",c=e[4]||"",l=e[5],s=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="="),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+g.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===c&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=oc.get(g)||Ut;var M=l&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===a?"":a;if(0>p){var c=ta.formatPrefix(n,h);n=c.scale(n),e=c.symbol+d}else n*=p;n=g(n,h);var x,b,_=n.lastIndexOf(".");if(0>_){var w=y?n.lastIndexOf("e"):-1;0>w?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!l&&f&&(x=i(x,1/0));var S=v.length+x.length+b.length+(M?0:u.length),k=s>S?new Array(S=s-S+1).join(r):"";return M&&(x=i(k+x,k.length?s-b.length:1/0)),u+=v,n=x+b,("<"===o?u+n+k:">"===o?k+u+n:"^"===o?k.substring(0,S>>=1)+u+n+k.substring(S):u+(M?n:k+n))+e}}}function Ut(n){return n+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ft(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new cc(e-1)),1),e}function i(n,e){return t(n=new cc(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i>1)for(;r>o;)e(o)%i||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{cc=jt;var r=new jt;return r._=n,o(r,t,e)}finally{cc=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=Ht(n);return c.floor=c,c.round=Ht(r),c.ceil=Ht(u),c.offset=Ht(i),c.range=a,n}function Ht(n){return function(t,e){try{cc=jt;var r=new jt;return r._=t,n(r,e)._}finally{cc=Date}}}function Ot(n){function t(n){function t(t){for(var e,u,i,o=[],a=-1,c=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(c,a)),null!=(u=sc[e=n.charAt(++a)])&&(e=n.charAt(++a)),(i=N[e])&&(e=i(t,null==u?"e"===e?" ":"0":u)),o.push(e),c=a+1);return o.push(n.slice(c,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&cc!==jt,o=new(i?jt:cc);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,o,a=0,c=t.length,l=e.length;c>a;){if(r>=l)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=C[o in sc?t.charAt(a++):o],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){E.lastIndex=0;var r=E.exec(t.slice(e));return r?(n.m=A.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,N.c.toString(),t,r)}function c(n,t,r){return e(n,N.x.toString(),t,r)}function l(n,t,r){return e(n,N.X.toString(),t,r)}function s(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{cc=jt;var t=new cc;return t._=n,r(t)}finally{cc=Date}}var r=t(n);return e.parse=function(n){try{cc=jt;var t=r.parse(n);return t&&t._}finally{cc=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ae;var M=ta.map(),x=Yt(v),b=Zt(v),_=Yt(d),w=Zt(d),S=Yt(m),k=Zt(m),E=Yt(y),A=Zt(y);p.forEach(function(n,t){M.set(n.toLowerCase(),t)});var N={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return It(n.getDate(),t,2)},e:function(n,t){return It(n.getDate(),t,2)},H:function(n,t){return It(n.getHours(),t,2)},I:function(n,t){return It(n.getHours()%12||12,t,2)},j:function(n,t){return It(1+ac.dayOfYear(n),t,3)},L:function(n,t){return It(n.getMilliseconds(),t,3)},m:function(n,t){return It(n.getMonth()+1,t,2)},M:function(n,t){return It(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return It(n.getSeconds(),t,2)},U:function(n,t){return It(ac.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return It(ac.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return It(n.getFullYear()%100,t,2)},Y:function(n,t){return It(n.getFullYear()%1e4,t,4)},Z:ie,"%":function(){return"%"}},C={a:r,A:u,b:i,B:o,c:a,d:Qt,e:Qt,H:te,I:te,j:ne,L:ue,m:Kt,M:ee,p:s,S:re,U:Xt,w:Vt,W:$t,x:c,X:l,y:Wt,Y:Bt,Z:Jt,"%":oe};return t}function It(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function Yt(n){return new RegExp("^(?:"+n.map(ta.requote).join("|")+")","i")}function Zt(n){for(var t=new l,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function Vt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Xt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function $t(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Bt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Wt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.y=Gt(+r[0]),e+r[0].length):-1}function Jt(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Gt(n){return n+(n>68?1900:2e3)}function Kt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Qt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function ne(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function te(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ee(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function re(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ue(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ie(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=ga(t)/60|0,u=ga(t)%60;return e+It(r,"0",2)+It(u,"0",2)}function oe(n,t,e){hc.lastIndex=0;var r=hc.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ae(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ce(){}function le(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function se(n,t){n&&dc.hasOwnProperty(n.type)&&dc[n.type](n,t)}function fe(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function he(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)fe(n[e],t,1);t.polygonEnd()}function ge(){function n(n,t){n*=Da,t=t*Da/2+qa/4;var e=n-r,o=e>=0?1:-1,a=o*e,c=Math.cos(t),l=Math.sin(t),s=i*l,f=u*c+s*Math.cos(a),h=s*o*Math.sin(a);yc.add(Math.atan2(h,f)),r=n,u=c,i=l}var t,e,r,u,i;Mc.point=function(o,a){Mc.point=n,r=(t=o)*Da,u=Math.cos(a=(e=a)*Da/2+qa/4),i=Math.sin(a)},Mc.lineEnd=function(){n(t,e)}}function pe(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function ve(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function de(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function me(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ye(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Me(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function xe(n){return[Math.atan2(n[1],n[0]),tt(n[2])]}function be(n,t){return ga(n[0]-t[0])<Ca&&ga(n[1]-t[1])<Ca}function _e(n,t){n*=Da;var e=Math.cos(t*=Da);we(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function we(n,t,e){++xc,_c+=(n-_c)/xc,wc+=(t-wc)/xc,Sc+=(e-Sc)/xc}function Se(){function n(n,u){n*=Da;var i=Math.cos(u*=Da),o=i*Math.cos(n),a=i*Math.sin(n),c=Math.sin(u),l=Math.atan2(Math.sqrt((l=e*c-r*a)*l+(l=r*o-t*c)*l+(l=t*a-e*o)*l),t*o+e*a+r*c);bc+=l,kc+=l*(t+(t=o)),Ec+=l*(e+(e=a)),Ac+=l*(r+(r=c)),we(t,e,r)}var t,e,r;qc.point=function(u,i){u*=Da;var o=Math.cos(i*=Da);t=o*Math.cos(u),e=o*Math.sin(u),r=Math.sin(i),qc.point=n,we(t,e,r)}}function ke(){qc.point=_e}function Ee(){function n(n,t){n*=Da;var e=Math.cos(t*=Da),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),l=u*c-i*a,s=i*o-r*c,f=r*a-u*o,h=Math.sqrt(l*l+s*s+f*f),g=r*o+u*a+i*c,p=h&&-nt(g)/h,v=Math.atan2(h,g);Nc+=p*l,Cc+=p*s,zc+=p*f,bc+=v,kc+=v*(r+(r=o)),Ec+=v*(u+(u=a)),Ac+=v*(i+(i=c)),we(r,u,i)}var t,e,r,u,i;qc.point=function(o,a){t=o,e=a,qc.point=n,o*=Da;var c=Math.cos(a*=Da);r=c*Math.cos(o),u=c*Math.sin(o),i=Math.sin(a),we(r,u,i)},qc.lineEnd=function(){n(t,e),qc.lineEnd=ke,qc.point=_e}}function Ae(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function Ne(){return!0}function Ce(n,t,e,r,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(be(e,r)){u.lineStart();for(var a=0;t>a;++a)u.point((e=n[a])[0],e[1]);return void u.lineEnd()}var c=new qe(e,n,null,!0),l=new qe(e,null,c,!1);c.o=l,i.push(c),o.push(l),c=new qe(r,n,null,!1),l=new qe(r,null,c,!0),c.o=l,i.push(c),o.push(l)}}),o.sort(t),ze(i),ze(o),i.length){for(var a=0,c=e,l=o.length;l>a;++a)o[a].e=c=!c;for(var s,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;s=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,l=s.length;l>a;++a)u.point((f=s[a])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){s=g.p.z;for(var a=s.length-1;a>=0;--a)u.point((f=s[a])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,s=g.z,p=!p}while(!g.v);u.lineEnd()}}}function ze(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function qe(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Le(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function a(n,t){var e=u(n,t);d.point(e[0],e[1])}function c(){y.point=a,d.lineStart()}function l(){y.point=o,d.lineEnd()}function s(n,t){v.push([n,t]);var e=u(n,t);x.point(e[0],e[1])}function f(){x.lineStart(),v=[]}function h(){s(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&t){n=e[0];var u,r=n.length-1,o=-1;if(r>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++o<r;)i.point((u=n[o])[0],u[1]);i.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Te))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:o,lineStart:c,lineEnd:l,polygonStart:function(){y.point=s,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=c,y.lineEnd=l,g=ta.merge(g);var n=Fe(m,p);g.length?(b||(i.polygonStart(),b=!0),Ce(g,De,n,e,i)):n&&(b||(i.polygonStart(),b=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},M=Re(),x=t(M),b=!1;return y}}function Te(n){return n.length>1}function Re(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function De(n,t){return((n=n.x)[0]<0?n[1]-Ra-Ca:Ra-n[1])-((t=t.x)[0]<0?t[1]-Ra-Ca:Ra-t[1])}function Pe(n){var t,e=0/0,r=0/0,u=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(i,o){var a=i>0?qa:-qa,c=ga(i-e);ga(c-qa)<Ca?(n.point(e,r=(r+o)/2>0?Ra:-Ra),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(i,r),t=0):u!==a&&c>=qa&&(ga(e-u)<Ca&&(e-=u*Ca),ga(i-a)<Ca&&(i-=a*Ca),r=Ue(e,r,i,o),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=i,r=o),u=a},lineEnd:function(){n.lineEnd(),e=r=0/0},clean:function(){return 2-t}}}function Ue(n,t,e,r){var u,i,o=Math.sin(n-e);return ga(o)>Ca?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+r)/2}function je(n,t,e,r){var u;if(null==n)u=e*Ra,r.point(-qa,u),r.point(0,u),r.point(qa,u),r.point(qa,0),r.point(qa,-u),r.point(0,-u),r.point(-qa,-u),r.point(-qa,0),r.point(-qa,u);else if(ga(n[0]-t[0])>Ca){var i=n[0]<t[0]?qa:-qa;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function Fe(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;yc.reset();for(var a=0,c=t.length;c>a;++a){var l=t[a],s=l.length;if(s)for(var f=l[0],h=f[0],g=f[1]/2+qa/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===s&&(d=0),n=l[d];var m=n[0],y=n[1]/2+qa/4,M=Math.sin(y),x=Math.cos(y),b=m-h,_=b>=0?1:-1,w=_*b,S=w>qa,k=p*M;if(yc.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),i+=S?b+_*La:b,S^h>=e^m>=e){var E=de(pe(f),pe(n));Me(E);var A=de(u,E);Me(A);var N=(S^b>=0?-1:1)*tt(A[2]);(r>N||r===N&&(E[0]||E[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=m,p=M,v=x,f=n}}return(-Ca>i||Ca>i&&0>yc)^1&o}function He(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0>f?qa:-qa),h):0;if(!e&&(l=c=v)&&n.lineStart(),v!==c&&(g=r(e,p),(be(e,g)||be(p,g))&&(p[0]+=Ca,p[1]+=Ca,v=t(p[0],p[1]))),v!==c)s=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&&e&&o^v){var m;d&i||!(m=r(p,e,!0))||(s=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&be(e,p)||n.point(p[0],p[1]),e=p,c=v,i=d},lineEnd:function(){c&&n.lineEnd(),e=null},clean:function(){return s|(l&&c)<<1}}}function r(n,t,e){var r=pe(n),u=pe(t),o=[1,0,0],a=de(r,u),c=ve(a,a),l=a[0],s=c-l*l;if(!s)return!e&&n;var f=i*c/s,h=-i*l/s,g=de(o,a),p=ye(o,f),v=ye(a,h);me(p,v);var d=g,m=ve(p,d),y=ve(d,d),M=m*m-y*(ve(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=ye(d,(-m-x)/y);if(me(b,p),b=xe(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],E=t[1];w>S&&(_=w,w=S,S=_);var A=S-w,N=ga(A-qa)<Ca,C=N||Ca>A;if(!N&&k>E&&(_=k,k=E,E=_),C?N?k+E>0^b[1]<(ga(b[0]-w)<Ca?k:E):k<=b[1]&&b[1]<=E:A>qa^(w<=b[0]&&b[0]<=S)){var z=ye(d,(-m+x)/y);return me(z,p),[b,xe(z)]}}}function u(t,e){var r=o?n:qa-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),o=i>0,a=ga(i)>Ca,c=gr(n,6*Da);return Le(t,e,c,o?[0,-n]:[-qa,n-qa])}function Oe(n,t,e,r){return function(u){var i,o=u.a,a=u.b,c=o.x,l=o.y,s=a.x,f=a.y,h=0,g=1,p=s-c,v=f-l;if(i=n-c,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-c,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-l,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-l,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={x:c+h*p,y:l+h*v}),1>g&&(u.b={x:c+g*p,y:l+g*v}),u}}}}}}function Ie(n,t,e,r){function u(r,u){return ga(r[0]-n)<Ca?u>0?0:3:ga(r[0]-e)<Ca?u>0?2:1:ga(r[1]-t)<Ca?u>0?1:0:u>0?3:2}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],u=0;e>u;++u)for(var i,o=1,a=d[u],c=a.length,l=a[0];c>o;++o)i=a[o],l[1]<=r?i[1]>r&&Q(l,i,n)>0&&++t:i[1]<=r&&Q(l,i,n)<0&&--t,l=i;return 0!==t}function l(i,a,c,l){var s=0,f=0;if(null==i||(s=u(i,c))!==(f=u(a,c))||o(i,a)<0^c>0){do l.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+c+4)%4)!==f)}else l.point(a[0],a[1])}function s(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){s(n,t)&&a.point(n,t)}function h(){C.point=p,d&&d.push(m=[]),S=!0,w=!1,b=_=0/0}function g(){v&&(p(y,M),x&&w&&A.rejoin(),v.push(A.buffer())),C.point=f,w&&a.lineEnd()}function p(n,t){n=Math.max(-Tc,Math.min(Tc,n)),t=Math.max(-Tc,Math.min(Tc,t));var e=s(n,t);if(d&&m.push([n,t]),S)y=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};N(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,m,y,M,x,b,_,w,S,k,E=a,A=Re(),N=Oe(n,t,e,r),C={point:f,lineStart:h,lineEnd:g,polygonStart:function(){a=A,v=[],d=[],k=!0},polygonEnd:function(){a=E,v=ta.merge(v);var t=c([n,r]),e=k&&t,u=v.length;(e||u)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),u&&Ce(v,i,t,l,a),a.polygonEnd()),v=d=m=null}};return C}}function Ye(n){var t=0,e=qa/3,r=ir(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*qa/180,e=n[1]*qa/180):[t/qa*180,e/qa*180]},u}function Ze(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),o-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/u,tt((i-(n*n+e*e)*u*u)/(2*u))]},e}function Ve(){function n(n,t){Dc+=u*n-r*t,r=n,u=t}var t,e,r,u;Hc.point=function(i,o){Hc.point=n,t=r=i,e=u=o},Hc.lineEnd=function(){n(t,e)}}function Xe(n,t){Pc>n&&(Pc=n),n>jc&&(jc=n),Uc>t&&(Uc=t),t>Fc&&(Fc=t)}function $e(){function n(n,t){o.push("M",n,",",t,i)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function u(){o.push("Z")}var i=Be(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return i=Be(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Be(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function We(n,t){_c+=n,wc+=t,++Sc}function Je(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(u*u+i*i);kc+=o*(t+n)/2,Ec+=o*(e+r)/2,Ac+=o,We(t=n,e=r)}var t,e;Ic.point=function(r,u){Ic.point=n,We(t=r,e=u)}}function Ge(){Ic.point=We}function Ke(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(e*e+i*i);kc+=o*(r+n)/2,Ec+=o*(u+t)/2,Ac+=o,o=u*n-r*t,Nc+=o*(r+n),Cc+=o*(u+t),zc+=3*o,We(r=n,u=t)}var t,e,r,u;Ic.point=function(i,o){Ic.point=n,We(t=r=i,e=u=o)},Ic.lineEnd=function(){n(t,e)}}function Qe(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,La)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:u,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function nr(n){function t(n){return(a?r:e)(n)}function e(t){return rr(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=0/0,S.point=i,t.lineStart()}function i(e,r){var i=pe([e,r]),o=n(e,r);u(M,x,y,b,_,w,M=o[0],x=o[1],y=e,b=i[0],_=i[1],w=i[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=l,S.lineEnd=s}function l(n,t){i(f=n,h=t),g=M,p=x,v=b,d=_,m=w,S.point=i}function s(){u(M,x,y,b,_,w,g,p,f,v,d,m,a,t),S.lineEnd=o,o()}var f,h,g,p,v,d,m,y,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c
},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,a,c,l,s,f,h,g,p,v,d,m){var y=s-t,M=f-e,x=y*y+M*M;if(x>4*i&&d--){var b=a+g,_=c+p,w=l+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),E=ga(ga(w)-1)<Ca||ga(r-h)<Ca?(r+h)/2:Math.atan2(_,b),A=n(E,k),N=A[0],C=A[1],z=N-t,q=C-e,L=M*z-y*q;(L*L/x>i||ga((y*z+M*q)/x-.5)>.3||o>a*g+c*p+l*v)&&(u(t,e,r,a,c,l,N,C,E,b/=S,_/=S,w,d,m),m.point(N,C),u(N,C,E,b,_,w,s,f,h,g,p,v,d,m))}}var i=.5,o=Math.cos(30*Da),a=16;return t.precision=function(n){return arguments.length?(a=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function tr(n){var t=nr(function(t,e){return n([t*Pa,e*Pa])});return function(n){return or(t(n))}}function er(n){this.stream=n}function rr(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ur(n){return ir(function(){return n})()}function ir(n){function t(n){return n=a(n[0]*Da,n[1]*Da),[n[0]*h+c,l-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(l-n[1])/h),n&&[n[0]*Pa,n[1]*Pa]}function r(){a=Ae(o=lr(m,M,x),i);var n=i(v,d);return c=g-n[0]*h,l=p+n[1]*h,u()}function u(){return s&&(s.valid=!1,s=null),t}var i,o,a,c,l,s,f=nr(function(n,t){return n=i(n,t),[n[0]*h+c,l-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,M=0,x=0,b=Lc,_=y,w=null,S=null;return t.stream=function(n){return s&&(s.valid=!1),s=or(b(o,f(_(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,Lc):He((w=+n)*Da),u()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Ie(n[0][0],n[0][1],n[1][0],n[1][1]):y,u()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Da,d=n[1]%360*Da,r()):[v*Pa,d*Pa]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Da,M=n[1]%360*Da,x=n.length>2?n[2]%360*Da:0,r()):[m*Pa,M*Pa,x*Pa]},ta.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function or(n){return rr(n,function(t,e){n.point(t*Da,e*Da)})}function ar(n,t){return[n,t]}function cr(n,t){return[n>qa?n-La:-qa>n?n+La:n,t]}function lr(n,t,e){return n?t||e?Ae(fr(n),hr(t,e)):fr(n):t||e?hr(t,e):cr}function sr(n){return function(t,e){return t+=n,[t>qa?t-La:-qa>t?t+La:t,e]}}function fr(n){var t=sr(n);return t.invert=sr(-n),t}function hr(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*r+a*u;return[Math.atan2(c*i-s*o,a*r-l*u),tt(s*i+c*o)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*i-c*o;return[Math.atan2(c*i+l*o,a*r+s*u),tt(s*r-a*u)]},e}function gr(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var c=o*t;null!=u?(u=pr(e,u),i=pr(e,i),(o>0?i>u:u>i)&&(u+=o*La)):(u=n+o*La,i=n-.5*c);for(var l,s=u;o>0?s>i:i>s;s-=c)a.point((l=xe([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],l[1])}}function pr(n,t){var e=pe(t);e[0]-=n,Me(e);var r=nt(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ca)%(2*Math.PI)}function vr(n,t,e){var r=ta.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function dr(n,t,e){var r=ta.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function mr(n){return n.source}function yr(n){return n.target}function Mr(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=u*Math.cos(n),l=u*Math.sin(n),s=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(it(r-t)+u*o*it(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*s,u=e*l+t*f,o=e*i+t*a;return[Math.atan2(u,r)*Pa,Math.atan2(o,Math.sqrt(r*r+u*u))*Pa]}:function(){return[n*Pa,t*Pa]};return p.distance=h,p}function xr(){function n(n,u){var i=Math.sin(u*=Da),o=Math.cos(u),a=ga((n*=Da)-t),c=Math.cos(a);Yc+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*i-e*o*c)*a),e*i+r*o*c),t=n,e=i,r=o}var t,e,r;Zc.point=function(u,i){t=u*Da,e=Math.sin(i*=Da),r=Math.cos(i),Zc.point=n},Zc.lineEnd=function(){Zc.point=Zc.lineEnd=b}}function br(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,r*o),Math.asin(r&&e*i/r)]},e}function _r(n,t){function e(n,t){o>0?-Ra+Ca>t&&(t=-Ra+Ca):t>Ra-Ca&&(t=Ra-Ca);var e=o/Math.pow(u(t),i);return[e*Math.sin(i*n),o-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(qa/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=K(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(o/r,1/i))-Ra]},e):Sr}function wr(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return ga(u)<Ca?ar:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-K(u)*Math.sqrt(n*n+e*e)]},e)}function Sr(n,t){return[n,Math.log(Math.tan(qa/4+t/2))]}function kr(n){var t,e=ur(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=i.apply(e,arguments);if(o===e){if(t=null==n){var a=qa*r(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Er(n,t){return[Math.log(Math.tan(qa/4+t/2)),-n]}function Ar(n){return n[0]}function Nr(n){return n[1]}function Cr(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function zr(n,t){return n[0]-t[0]||n[1]-t[1]}function qr(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Lr(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,c=n[1],l=e[1],s=t[1]-c,f=r[1]-l,h=(a*(c-l)-f*(u-i))/(f*o-a*s);return[u+h*o,c+h*s]}function Tr(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Rr(){tu(this),this.edge=this.site=this.circle=null}function Dr(n){var t=el.pop()||new Rr;return t.site=n,t}function Pr(n){Xr(n),Qc.remove(n),el.push(n),tu(n)}function Ur(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,o=n.N,a=[n];Pr(n);for(var c=i;c.circle&&ga(e-c.circle.x)<Ca&&ga(r-c.circle.cy)<Ca;)i=c.P,a.unshift(c),Pr(c),c=i;a.unshift(c),Xr(c);for(var l=o;l.circle&&ga(e-l.circle.x)<Ca&&ga(r-l.circle.cy)<Ca;)o=l.N,a.push(l),Pr(l),l=o;a.push(l),Xr(l);var s,f=a.length;for(s=1;f>s;++s)l=a[s],c=a[s-1],Kr(l.edge,c.site,l.site,u);c=a[0],l=a[f-1],l.edge=Jr(c.site,l.site,null,u),Vr(c),Vr(l)}function jr(n){for(var t,e,r,u,i=n.x,o=n.y,a=Qc._;a;)if(r=Fr(a,o)-i,r>Ca)a=a.L;else{if(u=i-Hr(a,o),!(u>Ca)){r>-Ca?(t=a.P,e=a):u>-Ca?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Dr(n);if(Qc.insert(t,c),t||e){if(t===e)return Xr(t),e=Dr(t.site),Qc.insert(c,e),c.edge=e.edge=Jr(t.site,c.site),Vr(t),void Vr(e);if(!e)return void(c.edge=Jr(t.site,c.site));Xr(t),Xr(e);var l=t.site,s=l.x,f=l.y,h=n.x-s,g=n.y-f,p=e.site,v=p.x-s,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,M=v*v+d*d,x={x:(d*y-g*M)/m+s,y:(h*M-v*y)/m+f};Kr(e.edge,l,p,x),c.edge=Jr(l,n,null,x),e.edge=Jr(n,p,null,x),Vr(t),Vr(e)}}function Fr(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var o=n.P;if(!o)return-1/0;e=o.site;var a=e.x,c=e.y,l=c-t;if(!l)return a;var s=a-r,f=1/i-1/l,h=s/l;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*l)-c+l/2+u-i/2)))/f+r:(r+a)/2}function Hr(n,t){var e=n.N;if(e)return Fr(e,t);var r=n.site;return r.y===t?r.x:1/0}function Or(n){this.site=n,this.edges=[]}function Ir(n){for(var t,e,r,u,i,o,a,c,l,s,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Kc,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(a=i.edges,c=a.length,o=0;c>o;)s=a[o].end(),r=s.x,u=s.y,l=a[++o%c].start(),t=l.x,e=l.y,(ga(r-t)>Ca||ga(u-e)>Ca)&&(a.splice(o,0,new Qr(Gr(i.site,s,ga(r-f)<Ca&&p-u>Ca?{x:f,y:ga(t-f)<Ca?e:p}:ga(u-p)<Ca&&h-r>Ca?{x:ga(e-p)<Ca?t:h,y:p}:ga(r-h)<Ca&&u-g>Ca?{x:h,y:ga(t-h)<Ca?e:g}:ga(u-g)<Ca&&r-f>Ca?{x:ga(e-g)<Ca?t:f,y:g}:null),i.site,null)),++c)}function Yr(n,t){return t.angle-n.angle}function Zr(){tu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vr(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var o=u.x,a=u.y,c=r.x-o,l=r.y-a,s=i.x-o,f=i.y-a,h=2*(c*f-l*s);if(!(h>=-za)){var g=c*c+l*l,p=s*s+f*f,v=(f*g-l*p)/h,d=(c*p-s*g)/h,f=d+a,m=rl.pop()||new Zr;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,M=tl._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}tl.insert(y,m),y||(nl=m)}}}}function Xr(n){var t=n.circle;t&&(t.P||(nl=t.N),tl.remove(t),rl.push(t),tu(t),n.circle=null)}function $r(n){for(var t,e=Gc,r=Oe(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Br(t,n)||!r(t)||ga(t.a.x-t.b.x)<Ca&&ga(t.a.y-t.b.y)<Ca)&&(t.a=t.b=null,e.splice(u,1))}function Br(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],l=t[1][1],s=n.l,f=n.r,h=s.x,g=s.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(o>d||d>=a)return;if(h>p){if(i){if(i.y>=l)return}else i={x:d,y:c};e={x:d,y:l}}else{if(i){if(i.y<c)return}else i={x:d,y:l};e={x:d,y:c}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=l)return}else i={x:(c-u)/r,y:c};e={x:(l-u)/r,y:l}}else{if(i){if(i.y<c)return}else i={x:(l-u)/r,y:l};e={x:(c-u)/r,y:c}}else if(v>g){if(i){if(i.x>=a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}else{if(i){if(i.x<o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}return n.a=i,n.b=e,!0}function Wr(n,t){this.l=n,this.r=t,this.a=this.b=null}function Jr(n,t,e,r){var u=new Wr(n,t);return Gc.push(u),e&&Kr(u,n,t,e),r&&Kr(u,t,n,r),Kc[n.i].edges.push(new Qr(u,n,t)),Kc[t.i].edges.push(new Qr(u,t,n)),u}function Gr(n,t,e){var r=new Wr(n,null);return r.a=t,r.b=e,Gc.push(r),r}function Kr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function Qr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function nu(){this._=null}function tu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function eu(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ru(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function uu(n){for(;n.L;)n=n.L;return n}function iu(n,t){var e,r,u,i=n.sort(ou).pop();for(Gc=[],Kc=new Array(n.length),Qc=new nu,tl=new nu;;)if(u=nl,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(Kc[i.i]=new Or(i),jr(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Ur(u.arc)}t&&($r(t),Ir(t));var o={cells:Kc,edges:Gc};return Qc=tl=Gc=Kc=null,o}function ou(n,t){return t.y-n.y||t.x-n.x}function au(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function cu(n){return n.x}function lu(n){return n.y}function su(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fu(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5*(e+u),a=.5*(r+i),c=t.nodes;c[0]&&fu(n,c[0],e,r,o,a),c[1]&&fu(n,c[1],o,r,u,a),c[2]&&fu(n,c[2],e,a,o,i),c[3]&&fu(n,c[3],o,a,u,i)}}function hu(n,t,e,r,u,i,o){var a,c=1/0;return function l(n,s,f,h,g){if(!(s>i||f>o||r>h||u>g)){if(p=n.point){var p,v=t-n.x,d=e-n.y,m=v*v+d*d;if(c>m){var y=Math.sqrt(c=m);r=t-y,u=e-y,i=t+y,o=e+y,a=p}}for(var M=n.nodes,x=.5*(s+h),b=.5*(f+g),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;k>S;++S)if(n=M[3&S])switch(3&S){case 0:l(n,s,f,x,b);break;case 1:l(n,x,f,h,b);break;case 2:l(n,s,b,x,g);break;case 3:l(n,x,b,h,g)}}}(n,r,u,i,o),a}function gu(n,t){n=ta.rgb(n),t=ta.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return"#"+xt(Math.round(e+i*n))+xt(Math.round(r+o*n))+xt(Math.round(u+a*n))}}function pu(n,t){var e,r={},u={};for(e in n)e in t?r[e]=mu(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function vu(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function du(n,t){var e,r,u,i=il.lastIndex=ol.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(e=il.exec(n))&&(r=ol.exec(t));)(u=r.index)>i&&(u=t.slice(i,u),a[o]?a[o]+=u:a[++o]=u),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:vu(e,r)})),i=ol.lastIndex;return i<t.length&&(u=t.slice(i),a[o]?a[o]+=u:a[++o]=u),a.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var e,r=0;t>r;++r)a[(e=c[r]).i]=e.x(n);return a.join("")})}function mu(n,t){for(var e,r=ta.interpolators.length;--r>=0&&!(e=ta.interpolators[r](n,t)););return e}function yu(n,t){var e,r=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a>e;++e)r.push(mu(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;o>e;++e)u[e]=t[e];return function(n){for(e=0;a>e;++e)u[e]=r[e](n);return u}}function Mu(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function xu(n){return function(t){return 1-n(1-t)}}function bu(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function _u(n){return n*n}function wu(n){return n*n*n}function Su(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function ku(n){return function(t){return Math.pow(t,n)}}function Eu(n){return 1-Math.cos(n*Ra)}function Au(n){return Math.pow(2,10*(n-1))}function Nu(n){return 1-Math.sqrt(1-n*n)}function Cu(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/La*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*La/t)}}function zu(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function qu(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Lu(n,t){n=ta.hcl(n),t=ta.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return st(e+i*n,r+o*n,u+a*n)+""}}function Tu(n,t){n=ta.hsl(n),t=ta.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return ct(e+i*n,r+o*n,u+a*n)+""}}function Ru(n,t){n=ta.lab(n),t=ta.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return ht(e+i*n,r+o*n,u+a*n)+""}}function Du(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Pu(n){var t=[n.a,n.b],e=[n.c,n.d],r=ju(t),u=Uu(t,e),i=ju(Fu(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Pa,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Pa:0}function Uu(n,t){return n[0]*t[0]+n[1]*t[1]}function ju(n){var t=Math.sqrt(Uu(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Fu(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Hu(n,t){var e,r=[],u=[],i=ta.transform(n),o=ta.transform(t),a=i.translate,c=o.translate,l=i.rotate,s=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),u.push({i:1,x:vu(a[0],c[0])},{i:3,x:vu(a[1],c[1])})):r.push(c[0]||c[1]?"translate("+c+")":""),l!=s?(l-s>180?s+=360:s-l>180&&(l+=360),u.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vu(l,s)})):s&&r.push(r.pop()+"rotate("+s+")"),f!=h?u.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vu(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),u.push({i:e-4,x:vu(g[0],p[0])},{i:e-2,x:vu(g[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),e=u.length,function(n){for(var t,i=-1;++i<e;)r[(t=u[i]).i]=t.x(n);return r.join("")}}function Ou(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Iu(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Yu(n){for(var t=n.source,e=n.target,r=Vu(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Zu(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Vu(n,t){if(n===t)return n;for(var e=Zu(n),r=Zu(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function Xu(n){n.fixed|=2}function $u(n){n.fixed&=-7}function Bu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Wu(n){n.fixed&=-5}function Ju(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,o=n.nodes,a=o.length,c=-1;++c<a;)i=o[c],null!=i&&(Ju(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*e[n.point.index];n.charge+=n.pointCharge=l,r+=l*n.point.x,u+=l*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function Gu(n,t){return ta.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=ri,n}function Ku(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function Qu(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(i=n.children)&&(u=i.length))for(var u,i,o=-1;++o<u;)e.push(i[o]);for(;null!=(n=r.pop());)t(n)}function ni(n){return n.children}function ti(n){return n.value}function ei(n,t){return t.value-n.value}function ri(n){return ta.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function ui(n){return n.x}function ii(n){return n.y}function oi(n,t,e){n.y0=t,n.y=e}function ai(n){return ta.range(n.length)}function ci(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function li(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function si(n){return n.reduce(fi,0)}function fi(n,t){return n+t[1]}function hi(n,t){return gi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function gi(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function pi(n){return[ta.min(n),ta.max(n)]}function vi(n,t){return n.value-t.value}function di(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function mi(n,t){n._pack_next=t,t._pack_prev=n}function yi(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Mi(n){function t(n){s=Math.min(n.x-n.r,s),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(l=e.length)){var e,r,u,i,o,a,c,l,s=1/0,f=-1/0,h=1/0,g=-1/0;if(e.forEach(xi),r=e[0],r.x=-r.r,r.y=0,t(r),l>1&&(u=e[1],u.x=u.r,u.y=0,t(u),l>2))for(i=e[2],wi(r,u,i),t(i),di(r,i),r._pack_prev=i,di(i,u),u=r._pack_next,o=3;l>o;o++){wi(r,u,i=e[o]);var p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)if(yi(a,i)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&&!yi(c,i);c=c._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?mi(r,u=a):mi(r=c,u),o--):(di(r,i),u=i,t(i))}var m=(s+f)/2,y=(h+g)/2,M=0;for(o=0;l>o;o++)i=e[o],i.x-=m,i.y-=y,M=Math.max(M,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=M,e.forEach(bi)}}function xi(n){n._pack_next=n._pack_prev=n}function bi(n){delete n._pack_next,delete n._pack_prev}function _i(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,o=u.length;++i<o;)_i(u[i],t,e,r)}function wi(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var o=t.r+e.r,a=u*u+i*i;o*=o,r*=r;var c=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*u+l*i,e.y=n.y+c*i-l*u}else e.x=n.x+r,e.y=n.y}function Si(n,t){return n.parent==t.parent?1:2}function ki(n){var t=n.children;return t.length?t[0]:n.t}function Ei(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ai(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Ni(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Ci(n,t,e){return n.a.parent===t.parent?n.a:e}function zi(n){return 1+ta.max(n,function(n){return n.y})}function qi(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Li(n){var t=n.children;return t&&t.length?Li(t[0]):n}function Ti(n){var t,e=n.children;return e&&(t=e.length)?Ti(e[t-1]):n}function Ri(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Di(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Pi(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Ui(n){return n.rangeExtent?n.rangeExtent():Pi(n.range())}function ji(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Fi(n,t){var e,r=0,u=n.length-1,i=n[r],o=n[u];return i>o&&(e=r,r=u,u=e,e=i,i=o,o=e),n[r]=t.floor(i),n[u]=t.ceil(o),n}function Hi(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ml}function Oi(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=ta.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function Ii(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Oi:ji,c=r?Iu:Ou;return o=u(n,t,c,e),a=u(t,n,c,mu),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Du)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Xi(n,t)},i.tickFormat=function(t,e){return $i(n,t,e)},i.nice=function(t){return Zi(n,t),u()},i.copy=function(){return Ii(n,t,e,r)},u()}function Yi(n,t){return ta.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Zi(n,t){return Fi(n,Hi(Vi(n,t)[2]))}function Vi(n,t){null==t&&(t=10);var e=Pi(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Xi(n,t){return ta.range.apply(ta,Vi(n,t))}function $i(n,t,e){var r=Vi(n,t);if(e){var u=ic.exec(e);if(u.shift(),"s"===u[8]){var i=ta.formatPrefix(Math.max(ga(r[0]),ga(r[1])));return u[7]||(u[7]="."+Bi(i.scale(r[2]))),u[8]="f",e=ta.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+Wi(u[8],r)),e=u.join("")}else e=",."+Bi(r[2])+"f";return ta.format(e)}function Bi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function Wi(n,t){var e=Bi(t[2]);return n in yl?Math.abs(e-Bi(Math.max(ga(t[0]),ga(t[1]))))+ +("e"!==n):e-2*("%"===n)}function Ji(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),o):t},o.nice=function(){var t=Fi(r.map(u),e?Math:xl);return n.domain(t),r=t.map(i),o},o.ticks=function(){var n=Pi(r),o=[],a=n[0],c=n[1],l=Math.floor(u(a)),s=Math.ceil(u(c)),f=t%1?2:t;if(isFinite(s-l)){if(e){for(;s>l;l++)for(var h=1;f>h;h++)o.push(i(l)*h);o.push(i(l))}else for(o.push(i(l));l++<s;)for(var h=f-1;h>0;h--)o.push(i(l)*h);for(l=0;o[l]<a;l++);for(s=o.length;o[s-1]>c;s--);o=o.slice(l,s)}return o},o.tickFormat=function(n,t){if(!arguments.length)return Ml;arguments.length<2?t=Ml:"function"!=typeof t&&(t=ta.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/i(c(u(n)+r))<=a?t(n):""}},o.copy=function(){return Ji(n.copy(),t,e,r)},Yi(o,n)}function Gi(n,t,e){function r(t){return n(u(t))}var u=Ki(t),i=Ki(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Xi(e,n)},r.tickFormat=function(n,t){return $i(e,n,t)},r.nice=function(n){return r.domain(Zi(e,n))},r.exponent=function(o){return arguments.length?(u=Ki(t=o),i=Ki(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return Gi(n.copy(),t,e)},Yi(r,n)}function Ki(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function Qi(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]}function r(t,e){return ta.range(n.length).map(function(n){return t+e*n})}var u,i,o;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new l;for(var i,o=-1,a=r.length;++o<a;)u.has(i=r[o])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,o=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=(c+l)/2,0):(l-c)/(n.length-1+a);return i=r(c+s*a/2,s),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=l=Math.round((c+l)/2),0):(l-c)/(n.length-1+a)|0;return i=r(c+Math.round(s*a/2+(l-c-(n.length-1+a)*s)/2),s),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=(f-s)/(n.length-a+2*c);return i=r(s+h*c,h),l&&i.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=Math.floor((f-s)/(n.length-a+2*c));return i=r(s+Math.round((f-s-(n.length-a)*h)/2),h),l&&i.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Pi(t.a[0])},e.copy=function(){return Qi(n,t)},e.domain(n)}function no(n,t){function i(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=ta.quantile(n,e/r);return o}function o(n){return isNaN(n=+n)?void 0:t[ta.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(u).sort(e),i()):n},o.range=function(n){return arguments.length?(t=n,i()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),0>e?[0/0,0/0]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return no(n,t)},i()}function to(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?0/0:t/i+n,[t,t+1/i]},r.copy=function(){return to(n,t,e)},u()}function eo(n,t){function e(e){return e>=e?t[ta.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return eo(n,t)},e}function ro(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Xi(n,t)},t.tickFormat=function(t,e){return $i(n,t,e)},t.copy=function(){return ro(n)},t}function uo(){return 0}function io(n){return n.innerRadius}function oo(n){return n.outerRadius}function ao(n){return n.startAngle}function co(n){return n.endAngle}function lo(n){return n&&n.padAngle}function so(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function fo(n,t,e,r,u){var i=n[0]-t[0],o=n[1]-t[1],a=(u?r:-r)/Math.sqrt(i*i+o*o),c=a*o,l=-a*i,s=n[0]+c,f=n[1]+l,h=t[0]+c,g=t[1]+l,p=(s+h)/2,v=(f+g)/2,d=h-s,m=g-f,y=d*d+m*m,M=e-r,x=s*g-h*f,b=(0>m?-1:1)*Math.sqrt(M*M*y-x*x),_=(x*m-d*b)/y,w=(-x*d-m*b)/y,S=(x*m+d*b)/y,k=(-x*d+m*b)/y,E=_-p,A=w-v,N=S-p,C=k-v;return E*E+A*A>N*N+C*C&&(_=S,w=k),[[_-c,w-l],[_*e/M,w*e/M]]}function ho(n){function t(t){function o(){l.push("M",i(n(s),a))}for(var c,l=[],s=[],f=-1,h=t.length,g=Et(e),p=Et(r);++f<h;)u.call(this,c=t[f],f)?s.push([+g.call(this,c,f),+p.call(this,c,f)]):s.length&&(o(),s=[]);return s.length&&o(),l.length?l.join(""):null}var e=Ar,r=Nr,u=Ne,i=go,o=i.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=El.get(n)||go).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function go(n){return n.join("L")}function po(n){return go(n)+"Z"}function vo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function mo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function yo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function Mo(n,t){return n.length<4?go(n):n[1]+_o(n.slice(1,-1),wo(n,t))}function xo(n,t){return n.length<3?go(n):n[0]+_o((n.push(n[0]),n),wo([n[n.length-2]].concat(n,[n[1]]),t))}function bo(n,t){return n.length<3?go(n):n[0]+_o(n,wo(n,t))}function _o(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return go(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],u=n[1],c=2),t.length>1){a=t[1],i=n[c],c++,r+="C"+(u[0]+o[0])+","+(u[1]+o[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var l=2;l<t.length;l++,c++)i=n[c],a=t[l],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){var s=n[c];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+s[0]+","+s[1]}return r}function wo(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],o=n[1],a=1,c=n.length;++a<c;)e=i,i=o,o=n[a],r.push([u*(o[0]-e[0]),u*(o[1]-e[1])]);return r}function So(n){if(n.length<3)return go(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],c=[u,",",i,"L",No(Cl,o),",",No(Cl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Co(c,o,a);return n.pop(),c.push("L",r),c.join("")}function ko(n){if(n.length<4)return go(n);for(var t,e=[],r=-1,u=n.length,i=[0],o=[0];++r<3;)t=n[r],i.push(t[0]),o.push(t[1]);for(e.push(No(Cl,i)+","+No(Cl,o)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Co(e,i,o);return e.join("")}function Eo(n){for(var t,e,r=-1,u=n.length,i=u+4,o=[],a=[];++r<4;)e=n[r%u],o.push(e[0]),a.push(e[1]);for(t=[No(Cl,o),",",No(Cl,a)],--r;++r<i;)e=n[r%u],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Co(t,o,a);return t.join("")}function Ao(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],o=n[0][1],a=n[e][0]-i,c=n[e][1]-o,l=-1;++l<=e;)r=n[l],u=l/e,r[0]=t*r[0]+(1-t)*(i+u*a),r[1]=t*r[1]+(1-t)*(o+u*c);return So(n)}function No(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Co(n,t,e){n.push("C",No(Al,t),",",No(Al,e),",",No(Nl,t),",",No(Nl,e),",",No(Cl,t),",",No(Cl,e))}function zo(n,t){return(t[1]-n[1])/(t[0]-n[0])}function qo(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=zo(u,i);++t<e;)r[t]=(o+(o=zo(u=i,i=n[t+1])))/2;return r[t]=o,r}function Lo(n){for(var t,e,r,u,i=[],o=qo(n),a=-1,c=n.length-1;++a<c;)t=zo(n[a],n[a+1]),ga(t)<Ca?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),o[a]=u*e,o[a+1]=u*r));for(a=-1;++a<=c;)u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),i.push([u||0,o[a]*u||0]);return i}function To(n){return n.length<3?go(n):n[0]+_o(n,Lo(n))}function Ro(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]-Ra,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Do(n){function t(t){function c(){v.push("M",a(n(m),f),s,l(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,M=t.length,x=Et(e),b=Et(u),_=e===r?function(){return g}:Et(r),w=u===i?function(){return p}:Et(i);++y<M;)o.call(this,h=t[y],y)?(d.push([g=+x.call(this,h,y),p=+b.call(this,h,y)]),m.push([+_.call(this,h,y),+w.call(this,h,y)])):d.length&&(c(),d=[],m=[]);return d.length&&c(),v.length?v.join(""):null}var e=Ar,r=Ar,u=0,i=Nr,o=Ne,a=go,c=a.key,l=a,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r
},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=El.get(n)||go).key,l=a.reverse||a,s=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Po(n){return n.radius}function Uo(n){return[n.x,n.y]}function jo(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Ra;return[e*Math.cos(r),e*Math.sin(r)]}}function Fo(){return 64}function Ho(){return"circle"}function Oo(n){var t=Math.sqrt(n/qa);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Io(n){return function(){var t,e;(t=this[n])&&(e=t[t.active])&&(--t.count?delete t[t.active]:delete this[n],t.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function Yo(n,t,e){return ya(n,Pl),n.namespace=t,n.id=e,n}function Zo(n,t,e,r){var u=n.id,i=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[i][u].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[i][u].tween.set(t,e)}))}function Vo(n){return null==n&&(n=""),function(){this.textContent=n}}function Xo(n){return null==n?"__transition__":"__transition_"+n+"__"}function $o(n,t,e,r,u){var i=n[e]||(n[e]={active:0,count:0}),o=i[r];if(!o){var a=u.time;o=i[r]={tween:new l,time:a,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++i.count,ta.timer(function(u){function c(e){if(i.active>r)return s();var u=i[i.active];u&&(--i.count,delete i[i.active],u.event&&u.event.interrupt.call(n,n.__data__,u.index)),i.active=r,o.event&&o.event.start.call(n,n.__data__,t),o.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&v.push(r)}),h=o.ease,f=o.duration,ta.timer(function(){return p.c=l(e||1)?Ne:l,1},0,a)}function l(e){if(i.active!==r)return 1;for(var u=e/f,a=h(u),c=v.length;c>0;)v[--c].call(n,a);return u>=1?(o.event&&o.event.end.call(n,n.__data__,t),s()):void 0}function s(){return--i.count?delete i[r]:delete n[e],1}var f,h,g=o.delay,p=ec,v=[];return p.t=g+a,u>=g?c(u-g):void(p.c=c)},0,a)}}function Bo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function Wo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function Jo(n){return n.toISOString()}function Go(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=ta.bisect(Vl,u);return i==Vl.length?[t.year,Vi(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Vl[i-1]<Vl[i]/u?i-1:i]:[Bl,Vi(n,e)[2]]}return r.invert=function(t){return Ko(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Ko)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Ko(+e+1),t).length}var i=r.domain(),o=Pi(i),a=null==n?u(o,10):"number"==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),r.domain(Fi(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=Ko(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Ko(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Pi(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],Ko(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Go(n.copy(),t,e)},Yi(r,n)}function Ko(n){return new Date(n)}function Qo(n){return JSON.parse(n.responseText)}function na(n){var t=ua.createRange();return t.selectNode(ua.body),t.createContextualFragment(n.responseText)}var ta={version:"3.5.5"},ea=[].slice,ra=function(n){return ea.call(n)},ua=this.document;if(ua)try{ra(ua.documentElement.childNodes)[0].nodeType}catch(ia){ra=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),ua)try{ua.createElement("DIV").style.setProperty("opacity",0,"")}catch(oa){var aa=this.Element.prototype,ca=aa.setAttribute,la=aa.setAttributeNS,sa=this.CSSStyleDeclaration.prototype,fa=sa.setProperty;aa.setAttribute=function(n,t){ca.call(this,n,t+"")},aa.setAttributeNS=function(n,t,e){la.call(this,n,t,e+"")},sa.setProperty=function(n,t,e){fa.call(this,n,t+"",e)}}ta.ascending=e,ta.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:0/0},ta.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},ta.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},ta.extent=function(n,t){var e,r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=n[i])&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<o;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},ta.sum=function(n,t){var e,r=0,i=n.length,o=-1;if(1===arguments.length)for(;++o<i;)u(e=+n[o])&&(r+=e);else for(;++o<i;)u(e=+t.call(n,n[o],o))&&(r+=e);return r},ta.mean=function(n,t){var e,i=0,o=n.length,a=-1,c=o;if(1===arguments.length)for(;++a<o;)u(e=r(n[a]))?i+=e:--c;else for(;++a<o;)u(e=r(t.call(n,n[a],a)))?i+=e:--c;return c?i/c:void 0},ta.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},ta.median=function(n,t){var i,o=[],a=n.length,c=-1;if(1===arguments.length)for(;++c<a;)u(i=r(n[c]))&&o.push(i);else for(;++c<a;)u(i=r(t.call(n,n[c],c)))&&o.push(i);return o.length?ta.quantile(o.sort(e),.5):void 0},ta.variance=function(n,t){var e,i,o=n.length,a=0,c=0,l=-1,s=0;if(1===arguments.length)for(;++l<o;)u(e=r(n[l]))&&(i=e-a,a+=i/++s,c+=i*(e-a));else for(;++l<o;)u(e=r(t.call(n,n[l],l)))&&(i=e-a,a+=i/++s,c+=i*(e-a));return s>1?c/(s-1):void 0},ta.deviation=function(){var n=ta.variance.apply(this,arguments);return n?Math.sqrt(n):n};var ha=i(e);ta.bisectLeft=ha.left,ta.bisect=ta.bisectRight=ha.right,ta.bisector=function(n){return i(1===n.length?function(t,r){return e(n(t),r)}:n)},ta.shuffle=function(n,t,e){(i=arguments.length)<3&&(e=n.length,2>i&&(t=0));for(var r,u,i=e-t;i;)u=Math.random()*i--|0,r=n[i+t],n[i+t]=n[u+t],n[u+t]=r;return n},ta.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ta.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},ta.zip=function(){if(!(r=arguments.length))return[];for(var n=-1,t=ta.min(arguments,o),e=new Array(t);++n<t;)for(var r,u=-1,i=e[n]=new Array(r);++u<r;)i[u]=arguments[u][n];return e},ta.transpose=function(n){return ta.zip.apply(ta,n)},ta.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ta.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ta.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ta.merge=function(n){for(var t,e,r,u=n.length,i=-1,o=0;++i<u;)o+=n[i].length;for(e=new Array(o);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--o]=r[t];return e};var ga=Math.abs;ta.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,u=[],i=a(ga(e)),o=-1;if(n*=i,t*=i,e*=i,0>e)for(;(r=n+e*++o)>t;)u.push(r/i);else for(;(r=n+e*++o)<t;)u.push(r/i);return u},ta.map=function(n,t){var e=new l;if(n instanceof l)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,u=-1,i=n.length;if(1===arguments.length)for(;++u<i;)e.set(u,n[u]);else for(;++u<i;)e.set(t.call(n,r=n[u],u),r)}else for(var o in n)e.set(o,n[o]);return e};var pa="__proto__",va="\x00";c(l,{has:h,get:function(n){return this._[s(n)]},set:function(n,t){return this._[s(n)]=t},remove:g,keys:p,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:f(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t),this._[t])}}),ta.nest=function(){function n(t,o,a){if(a>=i.length)return r?r.call(u,o):e?o.sort(e):o;for(var c,s,f,h,g=-1,p=o.length,v=i[a++],d=new l;++g<p;)(h=d.get(c=v(s=o[g])))?h.push(s):d.set(c,[s]);return t?(s=t(),f=function(e,r){s.set(e,n(t,r,a))}):(s={},f=function(e,r){s[e]=n(t,r,a)}),d.forEach(f),s}function t(n,e){if(e>=i.length)return n;var r=[],u=o[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],o=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(ta.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return o[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},ta.set=function(n){var t=new m;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},c(m,{has:h,add:function(n){return this._[s(n+="")]=!0,n},remove:g,values:p,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t))}}),ta.behavior={},ta.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=M(n,t,t[e]);return n};var da=["webkit","ms","moz","Moz","o","O"];ta.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ta.event=null,ta.requote=function(n){return n.replace(ma,"\\$&")};var ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ya={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},Ma=function(n,t){return t.querySelector(n)},xa=function(n,t){return t.querySelectorAll(n)},ba=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(ba=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(Ma=function(n,t){return Sizzle(n,t)[0]||null},xa=Sizzle,ba=Sizzle.matchesSelector),ta.selection=function(){return ta.select(ua.documentElement)};var _a=ta.selection.prototype=[];_a.select=function(n){var t,e,r,u,i=[];n=N(n);for(var o=-1,a=this.length;++o<a;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,l=r.length;++c<l;)(u=r[c])?(t.push(e=n.call(u,u.__data__,c,o)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return A(i)},_a.selectAll=function(n){var t,e,r=[];n=C(n);for(var u=-1,i=this.length;++u<i;)for(var o=this[u],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=ra(n.call(e,e.__data__,a,u))),t.parentNode=e);return A(r)};var wa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ta.ns={prefix:wa,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.slice(0,t),n=n.slice(t+1)),wa.hasOwnProperty(e)?{space:wa[e],local:n}:n}},_a.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ta.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},_a.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!L(n[u]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},_a.style=function(n,e,r){var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(2>u){var i=this.node();return t(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},_a.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},_a.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},_a.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},_a.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},_a.insert=function(n,t){return n=j(n),t=N(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},_a.remove=function(){return this.each(F)},_a.data=function(n,t){function e(n,e){var r,u,i,o=n.length,f=e.length,h=Math.min(o,f),g=new Array(f),p=new Array(f),v=new Array(o);if(t){var d,m=new l,y=new Array(o);for(r=-1;++r<o;)m.has(d=t.call(u=n[r],u.__data__,r))?v[r]=u:m.set(d,u),y[r]=d;for(r=-1;++r<f;)(u=m.get(d=t.call(e,i=e[r],r)))?u!==!0&&(g[r]=u,u.__data__=i):p[r]=H(i),m.set(d,!0);for(r=-1;++r<o;)m.get(y[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=H(i);for(;f>r;++r)p[r]=H(e[r]);for(;o>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,a.push(p),c.push(g),s.push(v)}var r,u,i=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++i<o;)(u=r[i])&&(n[i]=u.__data__);return n}var a=Z([]),c=A([]),s=A([]);if("function"==typeof n)for(;++i<o;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<o;)e(r=this[i],n);return c.enter=function(){return a},c.exit=function(){return s},c},_a.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},_a.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return A(u)},_a.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},_a.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},_a.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},_a.call=function(n){var t=ra(arguments);return n.apply(t[0]=this,t),this},_a.empty=function(){return!this.node()},_a.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},_a.size=function(){var n=0;return Y(this,function(){++n}),n};var Sa=[];ta.selection.enter=Z,ta.selection.enter.prototype=Sa,Sa.append=_a.append,Sa.empty=_a.empty,Sa.node=_a.node,Sa.call=_a.call,Sa.size=_a.size,Sa.select=function(n){for(var t,e,r,u,i,o=[],a=-1,c=this.length;++a<c;){r=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(var l=-1,s=u.length;++l<s;)(i=u[l])?(t.push(r[l]=e=n.call(u.parentNode,i.__data__,l,a)),e.__data__=i.__data__):t.push(null)}return A(o)},Sa.insert=function(n,t){return arguments.length<2&&(t=V(this)),_a.insert.call(this,n,t)},ta.select=function(t){var e;return"string"==typeof t?(e=[Ma(t,ua)],e.parentNode=ua.documentElement):(e=[t],e.parentNode=n(t)),A([e])},ta.selectAll=function(n){var t;return"string"==typeof n?(t=ra(xa(n,ua)),t.parentNode=ua.documentElement):(t=n,t.parentNode=null),A([t])},_a.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var ka=ta.map({mouseenter:"mouseover",mouseleave:"mouseout"});ua&&ka.forEach(function(n){"on"+n in ua&&ka.remove(n)});var Ea,Aa=0;ta.mouse=function(n){return J(n,k())};var Na=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ta.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,u=0,i=t.length;i>u;++u)if((r=t[u]).identifier===e)return J(n,r)},ta.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(n,t,e,i,o){return function(){function a(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],p|=n|e,M=r,g({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:n,dy:e}))}function c(){t(h,v)&&(m.on(i+d,null).on(o+d,null),y(p&&ta.event.target===f),g({type:"dragend"}))}var l,s=this,f=ta.event.target,h=s.parentNode,g=r.of(s,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=ta.select(e(f)).on(i+d,a).on(o+d,c),y=W(f),M=t(h,v);u?(l=u.apply(s,arguments),l=[l.x-M[0],l.y-M[1]]):l=[0,0],g({type:"dragstart"})}}var r=E(n,"drag","dragstart","dragend"),u=null,i=e(b,ta.mouse,t,"mousemove","mouseup"),o=e(G,ta.touch,y,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},ta.rebind(n,r,"on")},ta.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ra(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Ca=1e-6,za=Ca*Ca,qa=Math.PI,La=2*qa,Ta=La-Ca,Ra=qa/2,Da=qa/180,Pa=180/qa,Ua=Math.SQRT2,ja=2,Fa=4;ta.interpolateZoom=function(n,t){function e(n){var t=n*y;if(m){var e=rt(v),o=i/(ja*h)*(e*ut(Ua*t+v)-et(v));return[r+o*l,u+o*s,i*e/rt(Ua*t+v)]}return[r+n*l,u+n*s,i*Math.exp(Ua*t)]}var r=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],l=o-r,s=a-u,f=l*l+s*s,h=Math.sqrt(f),g=(c*c-i*i+Fa*f)/(2*i*ja*h),p=(c*c-i*i-Fa*f)/(2*c*ja*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p),m=d-v,y=(m||Math.log(c/i))/Ua;return e.duration=1e3*y,e},ta.behavior.zoom=function(){function n(n){n.on(q,f).on(Oa+".zoom",g).on("dblclick.zoom",p).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function u(n){k.k=Math.max(N[0],Math.min(N[1],n))}function i(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:k.x,y:k.y,k:k.k},u(Math.pow(2,o)),i(d=e,r),t=ta.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function a(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function c(n){z++||n({type:"zoomstart"})}function l(n){a(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function s(n){--z||n({type:"zoomend"}),d=null}function f(){function n(){f=1,i(ta.mouse(u),g),l(a)}function r(){h.on(L,null).on(T,null),p(f&&ta.event.target===o),s(a)}var u=this,o=ta.event.target,a=D.of(u,arguments),f=0,h=ta.select(t(u)).on(L,n).on(T,r),g=e(ta.mouse(u)),p=W(u);Dl.call(u),c(a)}function h(){function n(){var n=ta.touches(p);return g=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=ta.event.target;ta.select(t).on(x,r).on(b,a),_.push(t);for(var e=ta.event.changedTouches,u=0,i=e.length;i>u;++u)d[e[u].identifier]=null;var c=n(),l=Date.now();if(1===c.length){if(500>l-M){var s=c[0];o(p,s,d[s.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=l}else if(c.length>1){var s=c[0],f=c[1],h=s[0]-f[0],g=s[1]-f[1];m=h*h+g*g}}function r(){var n,t,e,r,o=ta.touches(p);Dl.call(p);for(var a=0,c=o.length;c>a;++a,r=null)if(e=o[a],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var s=(s=e[0]-n[0])*s+(s=e[1]-n[1])*s,f=m&&Math.sqrt(s/m);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],u(f*g)}M=null,i(n,t),l(v)}function a(){if(ta.event.touches.length){for(var t=ta.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var u in d)return void n()}ta.selectAll(_).on(y,null),w.on(q,f).on(R,h),E(),s(v)}var g,p=this,v=D.of(p,arguments),d={},m=0,y=".zoom-"+ta.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,_=[],w=ta.select(p),E=W(p);t(),c(v),w.on(q,null).on(R,t)}function g(){var n=D.of(this,arguments);y?clearTimeout(y):(v=e(d=m||ta.mouse(this)),Dl.call(this),c(n)),y=setTimeout(function(){y=null,s(n)},50),S(),u(Math.pow(2,.002*Ha())*k.k),i(d,v),l(n)}function p(){var n=ta.mouse(this),t=Math.log(k.k)/Math.LN2;o(this,n,e(n),ta.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,m,y,M,x,b,_,w,k={x:0,y:0,k:1},A=[960,500],N=Ia,C=250,z=0,q="mousedown.zoom",L="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=E(n,"zoomstart","zoom","zoomend");return Oa||(Oa="onwheel"in ua?(Ha=function(){return-ta.event.deltaY*(ta.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ua?(Ha=function(){return ta.event.wheelDelta},"mousewheel"):(Ha=function(){return-ta.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Tl?ta.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},c(n)}).tween("zoom:zoom",function(){var e=A[0],r=A[1],u=d?d[0]:e/2,i=d?d[1]:r/2,o=ta.interpolateZoom([(u-k.x)/k.k,(i-k.y)/k.k,e/k.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:u-r[0]*a,y:i-r[1]*a,k:a},l(n)}}).each("interrupt.zoom",function(){s(n)}).each("end.zoom",function(){s(n)}):(this.__chart__=k,c(n),l(n),s(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},a(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:+t},a(),n):k.k},n.scaleExtent=function(t){return arguments.length?(N=null==t?Ia:[+t[0],+t[1]],n):N},n.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],n):m},n.size=function(t){return arguments.length?(A=t&&[+t[0],+t[1]],n):A},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},ta.rebind(n,D,"on")};var Ha,Oa,Ia=[0,1/0];ta.color=ot,ot.prototype.toString=function(){return this.rgb()+""},ta.hsl=at;var Ya=at.prototype=new ot;Ya.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new at(this.h,this.s,this.l/n)},Ya.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new at(this.h,this.s,n*this.l)},Ya.rgb=function(){return ct(this.h,this.s,this.l)},ta.hcl=lt;var Za=lt.prototype=new ot;Za.brighter=function(n){return new lt(this.h,this.c,Math.min(100,this.l+Va*(arguments.length?n:1)))},Za.darker=function(n){return new lt(this.h,this.c,Math.max(0,this.l-Va*(arguments.length?n:1)))},Za.rgb=function(){return st(this.h,this.c,this.l).rgb()},ta.lab=ft;var Va=18,Xa=.95047,$a=1,Ba=1.08883,Wa=ft.prototype=new ot;Wa.brighter=function(n){return new ft(Math.min(100,this.l+Va*(arguments.length?n:1)),this.a,this.b)},Wa.darker=function(n){return new ft(Math.max(0,this.l-Va*(arguments.length?n:1)),this.a,this.b)},Wa.rgb=function(){return ht(this.l,this.a,this.b)},ta.rgb=mt;var Ja=mt.prototype=new ot;Ja.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new mt(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mt(u,u,u)},Ja.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mt(n*this.r,n*this.g,n*this.b)},Ja.hsl=function(){return _t(this.r,this.g,this.b)},Ja.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var Ga=ta.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ga.forEach(function(n,t){Ga.set(n,yt(t))}),ta.functor=Et,ta.xhr=At(y),ta.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var o=Nt(n,t,null==e?r:u(e),i);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:u(n)):e},o}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(s>=l)return o;if(u)return u=!1,i;var t=s;if(34===n.charCodeAt(t)){for(var e=t;e++<l;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}s=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++s):10===r&&(u=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;l>s;){var r=n.charCodeAt(s++),a=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(s)&&(++s,++a);else if(r!==c)continue;return n.slice(t,s-a)}return n.slice(t)}for(var r,u,i={},o={},a=[],l=n.length,s=0,f=0;(r=e())!==o;){for(var h=[];r!==i&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,f++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new m,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(o).join(n)].concat(t.map(function(t){return u.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},ta.csv=ta.dsv(",","text/csv"),ta.tsv=ta.dsv("	","text/tab-separated-values");var Ka,Qa,nc,tc,ec,rc=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ta.timer=function(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,f:!1,n:null};Qa?Qa.n=i:Ka=i,Qa=i,nc||(tc=clearTimeout(tc),nc=1,rc(qt))},ta.timer.flush=function(){Lt(),Tt()},ta.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var uc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Dt);ta.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=ta.round(n,Rt(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),uc[8+e/3]};var ic=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,oc=ta.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ta.round(n,Rt(n,t))).toFixed(Math.max(0,Math.min(20,Rt(n*(1+1e-15),t))))}}),ac=ta.time={},cc=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){lc.setUTCDate.apply(this._,arguments)},setDay:function(){lc.setUTCDay.apply(this._,arguments)},setFullYear:function(){lc.setUTCFullYear.apply(this._,arguments)},setHours:function(){lc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){lc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){lc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){lc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){lc.setUTCSeconds.apply(this._,arguments)},setTime:function(){lc.setTime.apply(this._,arguments)}};var lc=Date.prototype;ac.year=Ft(function(n){return n=ac.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ac.years=ac.year.range,ac.years.utc=ac.year.utc.range,ac.day=Ft(function(n){var t=new cc(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ac.days=ac.day.range,ac.days.utc=ac.day.utc.range,ac.dayOfYear=function(n){var t=ac.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=ac[n]=Ft(function(n){return(n=ac.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ac.year(n).getDay();return Math.floor((ac.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ac[n+"s"]=e.range,ac[n+"s"].utc=e.utc.range,ac[n+"OfYear"]=function(n){var e=ac.year(n).getDay();return Math.floor((ac.dayOfYear(n)+(e+t)%7)/7)}}),ac.week=ac.sunday,ac.weeks=ac.sunday.range,ac.weeks.utc=ac.sunday.utc.range,ac.weekOfYear=ac.sundayOfYear;var sc={"-":"",_:" ",0:"0"},fc=/^\s*\d+/,hc=/^%/;ta.locale=function(n){return{numberFormat:Pt(n),timeFormat:Ot(n)}};var gc=ta.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ta.format=gc.numberFormat,ta.geo={},ce.prototype={s:0,t:0,add:function(n){le(n,this.t,pc),le(pc.s,this.s,this),this.s?this.t+=pc.t:this.s=pc.t
},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pc=new ce;ta.geo.stream=function(n,t){n&&vc.hasOwnProperty(n.type)?vc[n.type](n,t):se(n,t)};var vc={Feature:function(n,t){se(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)se(e[r].geometry,t)}},dc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){fe(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)fe(e[r],t,0)},Polygon:function(n,t){he(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)he(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)se(e[r],t)}};ta.geo.area=function(n){return mc=0,ta.geo.stream(n,Mc),mc};var mc,yc=new ce,Mc={sphere:function(){mc+=4*qa},point:b,lineStart:b,lineEnd:b,polygonStart:function(){yc.reset(),Mc.lineStart=ge},polygonEnd:function(){var n=2*yc;mc+=0>n?4*qa+n:n,Mc.lineStart=Mc.lineEnd=Mc.point=b}};ta.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=pe([t*Da,e*Da]);if(m){var u=de(m,r),i=[u[1],-u[0],0],o=de(i,u);Me(o),o=xe(o);var c=t-p,l=c>0?1:-1,v=o[0]*Pa*l,d=ga(c)>180;if(d^(v>l*p&&l*t>v)){var y=o[1]*Pa;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>l*p&&l*t>v)){var y=-o[1]*Pa;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t)}else n(t,e);m=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=ga(r)>180?r+(r>0?360:-360):r}else v=n,d=e;Mc.point(n,e),t(n,e)}function i(){Mc.lineStart()}function o(){u(v,d),Mc.lineEnd(),ga(y)>Ca&&(s=-(h=180)),x[0]=s,x[1]=h,m=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,v,d,m,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=u,b.lineStart=i,b.lineEnd=o,y=0,Mc.polygonStart()},polygonEnd:function(){Mc.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>yc?(s=-(h=180),f=-(g=90)):y>Ca?g=90:-Ca>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],ta.geo.stream(n,b);var t=M.length;if(t){M.sort(c);for(var e,r=1,u=M[0],i=[u];t>r;++r)e=M[r],l(e[0],u)||l(e[1],u)?(a(u[0],e[1])>a(u[0],u[1])&&(u[1]=e[1]),a(e[0],u[1])>a(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(var o,e,p=-1/0,t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(o=a(u[1],e[0]))>p&&(p=o,s=e[0],h=u[1])}return M=x=null,1/0===s||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[s,f],[h,g]]}}(),ta.geo.centroid=function(n){xc=bc=_c=wc=Sc=kc=Ec=Ac=Nc=Cc=zc=0,ta.geo.stream(n,qc);var t=Nc,e=Cc,r=zc,u=t*t+e*e+r*r;return za>u&&(t=kc,e=Ec,r=Ac,Ca>bc&&(t=_c,e=wc,r=Sc),u=t*t+e*e+r*r,za>u)?[0/0,0/0]:[Math.atan2(e,t)*Pa,tt(r/Math.sqrt(u))*Pa]};var xc,bc,_c,wc,Sc,kc,Ec,Ac,Nc,Cc,zc,qc={sphere:b,point:_e,lineStart:Se,lineEnd:ke,polygonStart:function(){qc.lineStart=Ee},polygonEnd:function(){qc.lineStart=Se}},Lc=Le(Ne,Pe,je,[-qa,-qa/2]),Tc=1e9;ta.geo.clipExtent=function(){var n,t,e,r,u,i,o={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(a){return arguments.length?(i=Ie(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&&(u.valid=!1,u=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ta.geo.conicEqualArea=function(){return Ye(Ze)}).raw=Ze,ta.geo.albers=function(){return ta.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ta.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,e(i,o),t||(r(i,o),t)||u(i,o),t}var t,e,r,u,i=ta.geo.albers(),o=ta.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ta.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?o:u>=.166&&.234>u&&r>=-.214&&-.115>r?a:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var l=i.scale(),s=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[s-.455*l,f-.238*l],[s+.455*l,f+.238*l]]).stream(c).point,r=o.translate([s-.307*l,f+.201*l]).clipExtent([[s-.425*l+Ca,f+.12*l+Ca],[s-.214*l-Ca,f+.234*l-Ca]]).stream(c).point,u=a.translate([s-.205*l,f+.212*l]).clipExtent([[s-.214*l+Ca,f+.166*l+Ca],[s-.115*l-Ca,f+.234*l-Ca]]).stream(c).point,n},n.scale(1070)};var Rc,Dc,Pc,Uc,jc,Fc,Hc={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Dc=0,Hc.lineStart=Ve},polygonEnd:function(){Hc.lineStart=Hc.lineEnd=Hc.point=b,Rc+=ga(Dc/2)}},Oc={point:Xe,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Ic={point:We,lineStart:Je,lineEnd:Ge,polygonStart:function(){Ic.lineStart=Ke},polygonEnd:function(){Ic.point=We,Ic.lineStart=Je,Ic.lineEnd=Ge}};ta.geo.path=function(){function n(n){return n&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=u(i)),ta.geo.stream(n,o)),i.result()}function t(){return o=null,n}var e,r,u,i,o,a=4.5;return n.area=function(n){return Rc=0,ta.geo.stream(n,u(Hc)),Rc},n.centroid=function(n){return _c=wc=Sc=kc=Ec=Ac=Nc=Cc=zc=0,ta.geo.stream(n,u(Ic)),zc?[Nc/zc,Cc/zc]:Ac?[kc/Ac,Ec/Ac]:Sc?[_c/Sc,wc/Sc]:[0/0,0/0]},n.bounds=function(n){return jc=Fc=-(Pc=Uc=1/0),ta.geo.stream(n,u(Oc)),[[Pc,Uc],[jc,Fc]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||tr(n):y,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new $e:new Qe(n),"function"!=typeof a&&i.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),n):a},n.projection(ta.geo.albersUsa()).context(null)},ta.geo.transform=function(n){return{stream:function(t){var e=new er(t);for(var r in n)e[r]=n[r];return e}}},er.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ta.geo.projection=ur,ta.geo.projectionMutator=ir,(ta.geo.equirectangular=function(){return ur(ar)}).raw=ar.invert=ar,ta.geo.rotation=function(n){function t(t){return t=n(t[0]*Da,t[1]*Da),t[0]*=Pa,t[1]*=Pa,t}return n=lr(n[0]%360*Da,n[1]*Da,n.length>2?n[2]*Da:0),t.invert=function(t){return t=n.invert(t[0]*Da,t[1]*Da),t[0]*=Pa,t[1]*=Pa,t},t},cr.invert=ar,ta.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=lr(-n[0]*Da,-n[1]*Da,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Pa,n[1]*=Pa}}),{type:"Polygon",coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=gr((t=+r)*Da,u*Da),n):t},n.precision=function(r){return arguments.length?(e=gr(t*Da,(u=+r)*Da),n):u},n.angle(90)},ta.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Da,u=n[1]*Da,i=t[1]*Da,o=Math.sin(r),a=Math.cos(r),c=Math.sin(u),l=Math.cos(u),s=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*o)*e+(e=l*s-c*f*a)*e),c*s+l*f*a)},ta.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ta.range(Math.ceil(i/d)*d,u,d).map(h).concat(ta.range(Math.ceil(l/m)*m,c,m).map(g)).concat(ta.range(Math.ceil(r/p)*p,e,p).filter(function(n){return ga(n%d)>Ca}).map(s)).concat(ta.range(Math.ceil(a/v)*v,o,v).filter(function(n){return ga(n%m)>Ca}).map(f))}var e,r,u,i,o,a,c,l,s,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],l=+t[0][1],c=+t[1][1],i>u&&(t=i,i=u,u=t),l>c&&(t=l,l=c,c=t),n.precision(y)):[[i,l],[u,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(y)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,s=vr(a,o,90),f=dr(r,e,y),h=vr(l,c,90),g=dr(i,u,y),n):y},n.majorExtent([[-180,-90+Ca],[180,90-Ca]]).minorExtent([[-180,-80-Ca],[180,80+Ca]])},ta.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=mr,u=yr;return n.distance=function(){return ta.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},ta.geo.interpolate=function(n,t){return Mr(n[0]*Da,n[1]*Da,t[0]*Da,t[1]*Da)},ta.geo.length=function(n){return Yc=0,ta.geo.stream(n,Zc),Yc};var Yc,Zc={sphere:b,point:b,lineStart:xr,lineEnd:b,polygonStart:b,polygonEnd:b},Vc=br(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ta.geo.azimuthalEqualArea=function(){return ur(Vc)}).raw=Vc;var Xc=br(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},y);(ta.geo.azimuthalEquidistant=function(){return ur(Xc)}).raw=Xc,(ta.geo.conicConformal=function(){return Ye(_r)}).raw=_r,(ta.geo.conicEquidistant=function(){return Ye(wr)}).raw=wr;var $c=br(function(n){return 1/n},Math.atan);(ta.geo.gnomonic=function(){return ur($c)}).raw=$c,Sr.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Ra]},(ta.geo.mercator=function(){return kr(Sr)}).raw=Sr;var Bc=br(function(){return 1},Math.asin);(ta.geo.orthographic=function(){return ur(Bc)}).raw=Bc;var Wc=br(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ta.geo.stereographic=function(){return ur(Wc)}).raw=Wc,Er.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Ra]},(ta.geo.transverseMercator=function(){var n=kr(Er),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Er,ta.geom={},ta.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,u=Et(e),i=Et(r),o=n.length,a=[],c=[];for(t=0;o>t;t++)a.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(a.sort(zr),t=0;o>t;t++)c.push([a[t][0],-a[t][1]]);var l=Cr(a),s=Cr(c),f=s[0]===l[0],h=s[s.length-1]===l[l.length-1],g=[];for(t=l.length-1;t>=0;--t)g.push(n[a[l[t]][2]]);for(t=+f;t<s.length-h;++t)g.push(n[a[s[t]][2]]);return g}var e=Ar,r=Nr;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ta.geom.polygon=function(n){return ya(n,Jc),n};var Jc=ta.geom.polygon.prototype=[];Jc.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},Jc.centroid=function(n){var t,e,r=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],i+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[i*n,o*n]},Jc.clip=function(n){for(var t,e,r,u,i,o,a=Tr(n),c=-1,l=this.length-Tr(this),s=this[l-1];++c<l;){for(t=n.slice(),n.length=0,u=this[c],i=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],qr(o,s,u)?(qr(i,s,u)||n.push(Lr(i,o,s,u)),n.push(o)):qr(i,s,u)&&n.push(Lr(i,o,s,u)),i=o;a&&n.push(n[0]),s=u}return n};var Gc,Kc,Qc,nl,tl,el=[],rl=[];Or.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Yr),t.length},Qr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nu.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=uu(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(eu(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ru(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(ru(this,e),n=e,e=n.U),e.C=!1,r.C=!0,eu(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,o=n.R;if(e=i?o?uu(o):i:o,u?u.L===n?u.L=e:u.R=e:this._=e,i&&o?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==o?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=o,o.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,eu(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ru(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,eu(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,ru(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,eu(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,ru(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},ta.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return iu(e(n),a).cells.forEach(function(e,a){var c=e.edges,l=e.site,s=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=r&&l.x<=i&&l.y>=u&&l.y<=o?[[r,o],[i,o],[i,u],[r,u]]:[];s.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Ca)*Ca,y:Math.round(o(n,t)/Ca)*Ca,i:t}})}var r=Ar,u=Nr,i=r,o=u,a=ul;return n?t(n):(t.links=function(n){return iu(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return iu(e(n)).cells.forEach(function(e,r){for(var u,i,o=e.site,a=e.edges.sort(Yr),c=-1,l=a.length,s=a[l-1].edge,f=s.l===o?s.r:s.l;++c<l;)u=s,i=f,s=a[c].edge,f=s.l===o?s.r:s.l,r<i.i&&r<f.i&&au(o,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=Et(r=n),t):r},t.y=function(n){return arguments.length?(o=Et(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?ul:n,t):a===ul?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===ul?null:a&&a[1]},t)};var ul=[[-1e6,-1e6],[1e6,1e6]];ta.geom.delaunay=function(n){return ta.geom.voronoi().triangles(n)},ta.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,s=n.y;if(null!=c)if(ga(c-e)+ga(s-r)<.01)l(n,t,e,r,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,l(n,f,c,s,u,i,o,a),l(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else l(n,t,e,r,u,i,o,a)}function l(n,t,e,r,u,o,a,c){var l=.5*(u+a),s=.5*(o+c),f=e>=l,h=r>=s,g=h<<1|f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=su()),f?u=l:a=l,h?o=s:c=s,i(n,t,e,r,u,o,a,c)}var s,f,h,g,p,v,d,m,y,M=Et(a),x=Et(c);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,o)for(g=0;p>g;++g)s=n[g],s.x<v&&(v=s.x),s.y<d&&(d=s.y),s.x>m&&(m=s.x),s.y>y&&(y=s.y),f.push(s.x),h.push(s.y);else for(g=0;p>g;++g){var b=+M(s=n[g],g),_=+x(s,g);v>b&&(v=b),d>_&&(d=_),b>m&&(m=b),_>y&&(y=_),f.push(b),h.push(_)}var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=su();if(k.add=function(n){i(k,n,+M(n,++g),+x(n,g),v,d,m,y)},k.visit=function(n){fu(n,k,v,d,m,y)},k.find=function(n){return hu(k,n[0],n[1],v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=s=null,k}var o,a=Ar,c=Nr;return(o=arguments.length)?(a=cu,c=lu,3===o&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(a=n,i):a},i.y=function(n){return arguments.length?(c=n,i):c},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},ta.interpolateRgb=gu,ta.interpolateObject=pu,ta.interpolateNumber=vu,ta.interpolateString=du;var il=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ol=new RegExp(il.source,"g");ta.interpolate=mu,ta.interpolators=[function(n,t){var e=typeof t;return("string"===e?Ga.has(t)||/^(#|rgb\(|hsl\()/.test(t)?gu:du:t instanceof ot?gu:Array.isArray(t)?yu:"object"===e&&isNaN(t)?pu:vu)(n,t)}],ta.interpolateArray=yu;var al=function(){return y},cl=ta.map({linear:al,poly:ku,quad:function(){return _u},cubic:function(){return wu},sin:function(){return Eu},exp:function(){return Au},circle:function(){return Nu},elastic:Cu,back:zu,bounce:function(){return qu}}),ll=ta.map({"in":y,out:xu,"in-out":bu,"out-in":function(n){return bu(xu(n))}});ta.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=cl.get(e)||al,r=ll.get(r)||y,Mu(r(e.apply(null,ea.call(arguments,1))))},ta.interpolateHcl=Lu,ta.interpolateHsl=Tu,ta.interpolateLab=Ru,ta.interpolateRound=Du,ta.transform=function(n){var t=ua.createElementNS(ta.ns.prefix.svg,"g");return(ta.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Pu(e?e.matrix:sl)})(n)},Pu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var sl={a:1,b:0,c:0,d:1,e:0,f:0};ta.interpolateTransform=Hu,ta.layout={},ta.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Yu(n[e]));return t}},ta.layout.chord=function(){function n(){var n,l,f,h,g,p={},v=[],d=ta.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(l=0,g=-1;++g<i;)l+=u[h][g];v.push(l),m.push(ta.range(i)),n+=l}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&m.forEach(function(n,t){n.sort(function(n,e){return a(u[t][n],u[t][e])})}),n=(La-s*i)/n,l=0,h=-1;++h<i;){for(f=l,g=-1;++g<i;){var y=d[h],M=m[y][g],x=u[y][M],b=l,_=l+=x*n;p[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/n},l+=s}for(h=-1;++h<i;)for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,o,a,c,l={},s=0;return l.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,l):u},l.padding=function(n){return arguments.length?(s=n,e=r=null,l):s},l.sortGroups=function(n){return arguments.length?(o=n,e=r=null,l):o},l.sortSubgroups=function(n){return arguments.length?(a=n,e=null,l):a},l.sortChords=function(n){return arguments.length?(c=n,e&&t(),l):c},l.chords=function(){return e||n(),e},l.groups=function(){return r||n(),r},l},ta.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=u-e,c=i*i+o*o;if(c>a*a/d){if(p>c){var l=t.charge/c;n.px-=i*l,n.py-=o*l}return!0}if(t.point&&c&&p>c){var l=t.pointCharge/c;n.px-=i*l,n.py-=o*l}}return!t.charge}}function t(n){n.px=ta.event.x,n.py=ta.event.y,a.resume()}var e,r,u,i,o,a={},c=ta.dispatch("start","tick","end"),l=[1,1],s=.9,f=fl,h=hl,g=-30,p=gl,v=.1,d=.64,m=[],M=[];return a.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,a,f,h,p,d,y,x,b=m.length,_=M.length;for(e=0;_>e;++e)a=M[e],f=a.source,h=a.target,y=h.x-f.x,x=h.y-f.y,(p=y*y+x*x)&&(p=r*i[e]*((p=Math.sqrt(p))-u[e])/p,y*=p,x*=p,h.x-=y*(d=f.weight/(h.weight+f.weight)),h.y-=x*d,f.x+=y*(d=1-d),f.y+=x*d);if((d=r*v)&&(y=l[0]/2,x=l[1]/2,e=-1,d))for(;++e<b;)a=m[e],a.x+=(y-a.x)*d,a.y+=(x-a.y)*d;if(g)for(Ju(t=ta.geom.quadtree(m),r,o),e=-1;++e<b;)(a=m[e]).fixed||t.visit(n(a));for(e=-1;++e<b;)a=m[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*s,a.y-=(a.py-(a.py=a.y))*s);c.tick({type:"tick",alpha:r})},a.nodes=function(n){return arguments.length?(m=n,a):m},a.links=function(n){return arguments.length?(M=n,a):M},a.size=function(n){return arguments.length?(l=n,a):l},a.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,a):f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(s=+n,a):s},a.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,a):g},a.chargeDistance=function(n){return arguments.length?(p=n*n,a):Math.sqrt(p)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),ta.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;c>a;++a)e[a]=[];for(a=0;s>a;++a){var u=M[a];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var i,o=e[t],a=-1,l=o.length;++a<l;)if(!isNaN(i=o[a][n]))return i;return Math.random()*r}var t,e,r,c=m.length,s=M.length,p=l[0],v=l[1];for(t=0;c>t;++t)(r=m[t]).index=t,r.weight=0;for(t=0;s>t;++t)r=M[t],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(t=0;c>t;++t)r=m[t],isNaN(r.x)&&(r.x=n("x",p)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof f)for(t=0;s>t;++t)u[t]=+f.call(this,M[t],t);else for(t=0;s>t;++t)u[t]=f;if(i=[],"function"==typeof h)for(t=0;s>t;++t)i[t]=+h.call(this,M[t],t);else for(t=0;s>t;++t)i[t]=h;if(o=[],"function"==typeof g)for(t=0;c>t;++t)o[t]=+g.call(this,m[t],t);else for(t=0;c>t;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=ta.behavior.drag().origin(y).on("dragstart.force",Xu).on("drag.force",t).on("dragend.force",$u)),arguments.length?void this.on("mouseover.force",Bu).on("mouseout.force",Wu).call(e):e},ta.rebind(a,c,"on")};var fl=20,hl=1,gl=1/0;ta.layout.hierarchy=function(){function n(u){var i,o=[u],a=[];for(u.depth=0;null!=(i=o.pop());)if(a.push(i),(l=e.call(n,i,i.depth))&&(c=l.length)){for(var c,l,s;--c>=0;)o.push(s=l[c]),s.parent=i,s.depth=i.depth+1;r&&(i.value=0),i.children=l}else r&&(i.value=+r.call(n,i,i.depth)||0),delete i.children;return Qu(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),a}var t=ei,e=ni,r=ti;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(Ku(t,function(n){n.children&&(n.value=0)}),Qu(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ta.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(o=i.length)){var o,a,c,l=-1;for(r=t.value?r/t.value:0;++l<o;)n(a=i[l],e,c=a.value*r,u),e+=c}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}var r=ta.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},Gu(e,r)},ta.layout.pie=function(){function n(o){var a,c=o.length,l=o.map(function(e,r){return+t.call(n,e,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof u?u.apply(this,arguments):u)-s,h=Math.min(Math.abs(f)/c,+("function"==typeof i?i.apply(this,arguments):i)),g=h*(0>f?-1:1),p=(f-c*g)/ta.sum(l),v=ta.range(c),d=[];return null!=e&&v.sort(e===pl?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])}),v.forEach(function(n){d[n]={data:o[n],value:a=l[n],startAngle:s,endAngle:s+=a*p+g,padAngle:h}}),d}var t=Number,e=pl,r=0,u=La,i=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n.padAngle=function(t){return arguments.length?(i=t,n):i},n};var pl={};ta.layout.stack=function(){function n(a,c){if(!(h=a.length))return a;var l=a.map(function(e,r){return t.call(n,e,r)}),s=l.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,s,c);l=ta.permute(l,f),s=ta.permute(s,f);var h,g,p,v,d=r.call(n,s,c),m=l[0].length;for(p=0;m>p;++p)for(u.call(n,l[0][p],v=d[p],s[0][p][1]),g=1;h>g;++g)u.call(n,l[g][p],v+=s[g-1][p][1],s[g][p][1]);return a}var t=y,e=ai,r=ci,u=oi,i=ui,o=ii;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:vl.get(t)||ai,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:dl.get(t)||ci,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};var vl=ta.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(li),i=n.map(si),o=ta.range(r).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,l=[],s=[];for(t=0;r>t;++t)e=o[t],c>a?(a+=i[e],l.push(e)):(c+=i[e],s.push(e));return s.reverse().concat(l)},reverse:function(n){return ta.range(n.length).reverse()},"default":ai}),dl=ta.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,o=[],a=0,c=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;i>e;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,u,i,o,a,c,l,s=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=l=0,e=1;h>e;++e){for(t=0,u=0;s>t;++t)u+=n[t][e][1];for(t=0,i=0,a=f[e][0]-f[e-1][0];s>t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t>r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;i+=o*n[t][e][1]}g[e]=c-=u?i/u*a:0,l>c&&(l=c)}for(e=0;h>e;++e)g[e]-=l;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,o=1/u,a=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=o}for(e=0;i>e;++e)a[e]=0;return a},zero:ci});ta.layout.histogram=function(){function n(n,i){for(var o,a,c=[],l=n.map(e,this),s=r.call(this,l,i),f=u.call(this,s,l,i),i=-1,h=l.length,g=f.length-1,p=t?1:1/h;++i<g;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g>0)for(i=-1;++i<h;)a=l[i],a>=s[0]&&a<=s[1]&&(o=c[ta.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}var t=!0,e=Number,r=pi,u=hi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=Et(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return gi(n,t)}:Et(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ta.layout.pack=function(){function n(n,i){var o=e.call(this,n,i),a=o[0],c=u[0],l=u[1],s=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Qu(a,function(n){n.r=+s(n.value)}),Qu(a,Mi),r){var f=r*(t?1:Math.max(2*a.r/c,2*a.r/l))/2;Qu(a,function(n){n.r+=f}),Qu(a,Mi),Qu(a,function(n){n.r-=f})}return _i(a,c/2,l/2,t?1:1/Math.max(2*a.r/c,2*a.r/l)),o}var t,e=ta.layout.hierarchy().sort(vi),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Gu(n,e)},ta.layout.tree=function(){function n(n,u){var s=o.call(this,n,u),f=s[0],h=t(f);if(Qu(h,e),h.parent.m=-h.z,Ku(h,r),l)Ku(f,i);else{var g=f,p=f,v=f;Ku(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=a(g,p)/2-g.x,m=c[0]/(p.x+a(p,g)/2+d),y=c[1]/(v.depth||1);Ku(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return s}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var u,i=t.children,o=0,a=i.length;a>o;++o)r.push((i[o]=u={_:i[o],parent:t,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Ni(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+a(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r,u=n,i=n,o=t,c=u.parent.children[0],l=u.m,s=i.m,f=o.m,h=c.m;o=Ei(o),u=ki(u),o&&u;)c=ki(c),i=Ei(i),i.a=n,r=o.z+f-u.z-l+a(o._,u._),r>0&&(Ai(Ci(o,n,e),n,r),l+=r,s+=r),f+=o.m,l+=u.m,h+=c.m,s+=i.m;o&&!Ei(i)&&(i.t=o,i.m+=f-s),u&&!ki(c)&&(c.t=u,c.m+=l-h,e=n)}return e}function i(n){n.x*=c[0],n.y=n.depth*c[1]}var o=ta.layout.hierarchy().sort(null).value(null),a=Si,c=[1,1],l=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(l=null==(c=t)?i:null,n):l?null:c},n.nodeSize=function(t){return arguments.length?(l=null==(c=t)?null:i,n):l?c:null},Gu(n,o)},ta.layout.cluster=function(){function n(n,i){var o,a=t.call(this,n,i),c=a[0],l=0;Qu(c,function(n){var t=n.children;t&&t.length?(n.x=qi(t),n.y=zi(t)):(n.x=o?l+=e(n,o):0,n.y=0,o=n)});var s=Li(c),f=Ti(c),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return Qu(c,u?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=ta.layout.hierarchy().sort(null).value(null),e=Si,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},Gu(n,t)},ta.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var i=e.children;if(i&&i.length){var o,a,c,l=f(e),s=[],h=i.slice(),p=1/0,v="slice"===g?l.dx:"dice"===g?l.dy:"slice-dice"===g?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(n(h,l.dx*l.dy/e.value),s.area=0;(c=h.length)>0;)s.push(o=h[c-1]),s.area+=o.area,"squarify"!==g||(a=r(s,v))<=p?(h.pop(),p=a):(s.area-=s.pop().area,u(s,v,l,!1),v=Math.min(l.dx,l.dy),s.length=s.area=0,p=1/0);s.length&&(u(s,v,l,!0),s.length=s.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,o=f(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;i=a.pop();)c.push(i),c.area+=i.area,null!=i.z&&(u(c,i.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,o=n.length,a=e.x,l=e.y,s=t?c(n.area/t):0;if(t==e.dx){for((r||s>e.dy)&&(s=e.dy);++i<o;)u=n[i],u.x=a,u.y=l,u.dy=s,a+=u.dx=Math.min(e.x+e.dx-a,s?c(u.area/s):0);u.z=!0,u.dx+=e.x+e.dx-a,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);++i<o;)u=n[i],u.x=a,u.y=l,u.dx=s,l+=u.dy=Math.min(e.y+e.dy-l,s?c(u.area/s):0);u.z=!1,u.dy+=e.y+e.dy-l,e.x+=s,e.dx-=s}}function i(r){var u=o||a(r),i=u[0];return i.x=0,i.y=0,i.dx=l[0],i.dy=l[1],o&&a.revalue(i),n([i],i.dx*i.dy/i.value),(o?e:t)(i),h&&(o=u),u}var o,a=ta.layout.hierarchy(),c=Math.round,l=[1,1],s=null,f=Ri,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));
return i.size=function(n){return arguments.length?(l=n,i):l},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ri(t):Di(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Di(t,n)}if(!arguments.length)return s;var r;return f=null==(s=n)?Ri:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(c=n?Math.round:Number,i):c!=Number},i.sticky=function(n){return arguments.length?(h=n,o=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},Gu(i,a)},ta.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=ta.random.normal.apply(ta,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ta.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},ta.scale={};var ml={floor:y,ceil:y};ta.scale.linear=function(){return Ii([0,1],[0,1],mu,!1)};var yl={s:1,g:1,p:1,r:1,e:1};ta.scale.log=function(){return Ji(ta.scale.linear().domain([0,1]),10,!0,[1,10])};var Ml=ta.format(".0e"),xl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ta.scale.pow=function(){return Gi(ta.scale.linear(),1,[0,1])},ta.scale.sqrt=function(){return ta.scale.pow().exponent(.5)},ta.scale.ordinal=function(){return Qi([],{t:"range",a:[[]]})},ta.scale.category10=function(){return ta.scale.ordinal().range(bl)},ta.scale.category20=function(){return ta.scale.ordinal().range(_l)},ta.scale.category20b=function(){return ta.scale.ordinal().range(wl)},ta.scale.category20c=function(){return ta.scale.ordinal().range(Sl)};var bl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mt),_l=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mt),wl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mt),Sl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mt);ta.scale.quantile=function(){return no([],[])},ta.scale.quantize=function(){return to(0,1,[0,1])},ta.scale.threshold=function(){return eo([.5],[0,1])},ta.scale.identity=function(){return ro([0,1])},ta.svg={},ta.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),s=o.apply(this,arguments)-Ra,f=a.apply(this,arguments)-Ra,h=Math.abs(f-s),g=s>f?0:1;if(n>l&&(p=l,l=n,n=p),h>=Ta)return t(l,g)+(n?t(n,1-g):"")+"Z";var p,v,d,m,y,M,x,b,_,w,S,k,E=0,A=0,N=[];if((m=(+c.apply(this,arguments)||0)/2)&&(d=i===kl?Math.sqrt(n*n+l*l):+i.apply(this,arguments),g||(A*=-1),l&&(A=tt(d/l*Math.sin(m))),n&&(E=tt(d/n*Math.sin(m)))),l){y=l*Math.cos(s+A),M=l*Math.sin(s+A),x=l*Math.cos(f-A),b=l*Math.sin(f-A);var C=Math.abs(f-s-2*A)<=qa?0:1;if(A&&so(y,M,x,b)===g^C){var z=(s+f)/2;y=l*Math.cos(z),M=l*Math.sin(z),x=b=null}}else y=M=0;if(n){_=n*Math.cos(f-E),w=n*Math.sin(f-E),S=n*Math.cos(s+E),k=n*Math.sin(s+E);var q=Math.abs(s-f+2*E)<=qa?0:1;if(E&&so(_,w,S,k)===1-g^q){var L=(s+f)/2;_=n*Math.cos(L),w=n*Math.sin(L),S=k=null}}else _=w=0;if((p=Math.min(Math.abs(l-n)/2,+u.apply(this,arguments)))>.001){v=l>n^g?0:1;var T=null==S?[_,w]:null==x?[y,M]:Lr([y,M],[S,k],[x,b],[_,w]),R=y-T[0],D=M-T[1],P=x-T[0],U=b-T[1],j=1/Math.sin(Math.acos((R*P+D*U)/(Math.sqrt(R*R+D*D)*Math.sqrt(P*P+U*U)))/2),F=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(null!=x){var H=Math.min(p,(l-F)/(j+1)),O=fo(null==S?[_,w]:[S,k],[y,M],l,H,g),I=fo([x,b],[_,w],l,H,g);p===H?N.push("M",O[0],"A",H,",",H," 0 0,",v," ",O[1],"A",l,",",l," 0 ",1-g^so(O[1][0],O[1][1],I[1][0],I[1][1]),",",g," ",I[1],"A",H,",",H," 0 0,",v," ",I[0]):N.push("M",O[0],"A",H,",",H," 0 1,",v," ",I[0])}else N.push("M",y,",",M);if(null!=S){var Y=Math.min(p,(n-F)/(j-1)),Z=fo([y,M],[S,k],n,-Y,g),V=fo([_,w],null==x?[y,M]:[x,b],n,-Y,g);p===Y?N.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",V[1],"A",n,",",n," 0 ",g^so(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-g," ",Z[1],"A",Y,",",Y," 0 0,",v," ",Z[0]):N.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",Z[0])}else N.push("L",_,",",w)}else N.push("M",y,",",M),null!=x&&N.push("A",l,",",l," 0 ",C,",",g," ",x,",",b),N.push("L",_,",",w),null!=S&&N.push("A",n,",",n," 0 ",q,",",1-g," ",S,",",k);return N.push("Z"),N.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=io,r=oo,u=uo,i=kl,o=ao,a=co,c=lo;return n.innerRadius=function(t){return arguments.length?(e=Et(t),n):e},n.outerRadius=function(t){return arguments.length?(r=Et(t),n):r},n.cornerRadius=function(t){return arguments.length?(u=Et(t),n):u},n.padRadius=function(t){return arguments.length?(i=t==kl?kl:Et(t),n):i},n.startAngle=function(t){return arguments.length?(o=Et(t),n):o},n.endAngle=function(t){return arguments.length?(a=Et(t),n):a},n.padAngle=function(t){return arguments.length?(c=Et(t),n):c},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Ra;return[Math.cos(t)*n,Math.sin(t)*n]},n};var kl="auto";ta.svg.line=function(){return ho(y)};var El=ta.map({linear:go,"linear-closed":po,step:vo,"step-before":mo,"step-after":yo,basis:So,"basis-open":ko,"basis-closed":Eo,bundle:Ao,cardinal:bo,"cardinal-open":Mo,"cardinal-closed":xo,monotone:To});El.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Al=[0,2/3,1/3,0],Nl=[0,1/3,2/3,0],Cl=[0,1/6,2/3,1/6];ta.svg.line.radial=function(){var n=ho(Ro);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},mo.reverse=yo,yo.reverse=mo,ta.svg.area=function(){return Do(y)},ta.svg.area.radial=function(){var n=Do(Ro);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ta.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),l=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,l)?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+u(l.r,l.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=c.call(n,u,r)-Ra,s=l.call(n,u,r)-Ra;return{r:i,a0:o,a1:s,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>qa)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=mr,o=yr,a=Po,c=ao,l=co;return n.radius=function(t){return arguments.length?(a=Et(t),n):a},n.source=function(t){return arguments.length?(i=Et(t),n):i},n.target=function(t){return arguments.length?(o=Et(t),n):o},n.startAngle=function(t){return arguments.length?(c=Et(t),n):c},n.endAngle=function(t){return arguments.length?(l=Et(t),n):l},n},ta.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)/2,c=[i,{x:i.x,y:a},{x:o.x,y:a},o];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=mr,e=yr,r=Uo;return n.source=function(e){return arguments.length?(t=Et(e),n):t},n.target=function(t){return arguments.length?(e=Et(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ta.svg.diagonal.radial=function(){var n=ta.svg.diagonal(),t=Uo,e=n.projection;return n.projection=function(n){return arguments.length?e(jo(t=n)):t},n},ta.svg.symbol=function(){function n(n,r){return(zl.get(t.call(this,n,r))||Oo)(e.call(this,n,r))}var t=Ho,e=Fo;return n.type=function(e){return arguments.length?(t=Et(e),n):t},n.size=function(t){return arguments.length?(e=Et(t),n):e},n};var zl=ta.map({circle:Oo,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Ll)),e=t*Ll;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/ql),e=t*ql/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/ql),e=t*ql/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ta.svg.symbolTypes=zl.keys();var ql=Math.sqrt(3),Ll=Math.tan(30*Da);_a.transition=function(n){for(var t,e,r=Tl||++Ul,u=Xo(n),i=[],o=Rl||{time:Date.now(),ease:Su,delay:0,duration:250},a=-1,c=this.length;++a<c;){i.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(e=l[s])&&$o(e,s,u,r,o),t.push(e)}return Yo(i,u,r)},_a.interrupt=function(n){return this.each(null==n?Dl:Io(Xo(n)))};var Tl,Rl,Dl=Io(Xo()),Pl=[],Ul=0;Pl.call=_a.call,Pl.empty=_a.empty,Pl.node=_a.node,Pl.size=_a.size,ta.transition=function(n,t){return n&&n.transition?Tl?n.transition(t):n:ta.selection().transition(n)},ta.transition.prototype=Pl,Pl.select=function(n){var t,e,r,u=this.id,i=this.namespace,o=[];n=N(n);for(var a=-1,c=this.length;++a<c;){o.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(r=l[s])&&(e=n.call(r,r.__data__,s,a))?("__data__"in r&&(e.__data__=r.__data__),$o(e,s,i,u,r[i][u]),t.push(e)):t.push(null)}return Yo(o,i,u)},Pl.selectAll=function(n){var t,e,r,u,i,o=this.id,a=this.namespace,c=[];n=C(n);for(var l=-1,s=this.length;++l<s;)for(var f=this[l],h=-1,g=f.length;++h<g;)if(r=f[h]){i=r[a][o],e=n.call(r,r.__data__,h,l),c.push(t=[]);for(var p=-1,v=e.length;++p<v;)(u=e[p])&&$o(u,p,a,o,i),t.push(u)}return Yo(c,a,o)},Pl.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]);for(var e=this[i],a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return Yo(u,this.namespace,this.id)},Pl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(u){u[r][e].tween.set(n,t)})},Pl.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?Hu:mu,a=ta.ns.qualify(n);return Zo(this,"attr."+n,t,a.local?i:u)},Pl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=ta.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Pl.style=function(n,e,r){function u(){this.style.removeProperty(n)}function i(e){return null==e?u:(e+="",function(){var u,i=t(this).getComputedStyle(this,null).getPropertyValue(n);return i!==e&&(u=mu(i,e),function(t){this.style.setProperty(n,u(t),r)})})}var o=arguments.length;if(3>o){if("string"!=typeof n){2>o&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Zo(this,"style."+n,e,i)},Pl.styleTween=function(n,e,r){function u(u,i){var o=e.call(this,u,i,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,u)},Pl.text=function(n){return Zo(this,"text",n,Vo)},Pl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Pl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ta.ease.apply(ta,arguments)),Y(this,function(r){r[e][t].ease=n}))},Pl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,u,i){r[e][t].delay=+n.call(r,r.__data__,u,i)}:(n=+n,function(r){r[e][t].delay=n}))},Pl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,u,i){r[e][t].duration=Math.max(1,n.call(r,r.__data__,u,i))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Pl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var u=Rl,i=Tl;try{Tl=e,Y(this,function(t,u,i){Rl=t[r][e],n.call(t,t.__data__,u,i)})}finally{Rl=u,Tl=i}}else Y(this,function(u){var i=u[r][e];(i.event||(i.event=ta.dispatch("start","end","interrupt"))).on(n,t)});return this},Pl.transition=function(){for(var n,t,e,r,u=this.id,i=++Ul,o=this.namespace,a=[],c=0,l=this.length;l>c;c++){a.push(n=[]);for(var t=this[c],s=0,f=t.length;f>s;s++)(e=t[s])&&(r=e[o][u],$o(e,s,o,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Yo(a,o,i)},ta.svg.axis=function(){function n(n){n.each(function(){var n,l=ta.select(this),s=this.__chart__||e,f=this.__chart__=e.copy(),h=null==c?f.ticks?f.ticks.apply(f,a):f.domain():c,g=null==t?f.tickFormat?f.tickFormat.apply(f,a):y:t,p=l.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ca),d=ta.transition(p.exit()).style("opacity",Ca).remove(),m=ta.transition(p.order()).style("opacity",1),M=Math.max(u,0)+o,x=Ui(f),b=l.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ta.transition(b));v.append("line"),v.append("text");var w,S,k,E,A=v.select("line"),N=m.select("line"),C=p.select("text").text(g),z=v.select("text"),q=m.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=Bo,w="x",k="y",S="x2",E="y2",C.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+L*i+"V0H"+x[1]+"V"+L*i)):(n=Wo,w="y",k="x",S="y2",E="x2",C.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),_.attr("d","M"+L*i+","+x[0]+"H0V"+x[1]+"H"+L*i)),A.attr(E,L*u),z.attr(k,L*M),N.attr(S,0).attr(E,L*u),q.attr(w,0).attr(k,L*M),f.rangeBand){var T=f,R=T.rangeBand()/2;s=f=function(n){return T(n)+R}}else s.rangeBand?s=f:d.call(n,f,s);v.call(n,s,f),m.call(n,f,f)})}var t,e=ta.scale.linear(),r=jl,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Fl?t+"":jl,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var jl="bottom",Fl={top:1,right:1,bottom:1,left:1};ta.svg.brush=function(){function n(t){t.each(function(){var t=ta.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(v,y);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Hl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var c,f=ta.transition(t),h=ta.transition(o);l&&(c=Ui(l),h.attr("x",c[0]).attr("width",c[1]-c[0]),r(f)),s&&(c=Ui(s),h.attr("y",c[0]).attr("height",c[1]-c[0]),u(f)),e(f)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+f[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",f[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function u(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==ta.event.keyCode&&(C||(M=null,q[0]-=f[1],q[1]-=h[1],C=2),S())}function v(){32==ta.event.keyCode&&2==C&&(q[0]+=f[1],q[1]+=h[1],C=0,S())}function d(){var n=ta.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(ta.event.altKey?(M||(M=[(f[0]+f[1])/2,(h[0]+h[1])/2]),q[0]=f[+(n[0]<M[0])],q[1]=h[+(n[1]<M[1])]):M=null),A&&m(n,l,0)&&(r(k),t=!0),N&&m(n,s,1)&&(u(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function m(n,t,e){var r,u,i=Ui(t),c=i[0],l=i[1],s=q[e],v=e?h:f,d=v[1]-v[0];return C&&(c-=s,l-=d+s),r=(e?p:g)?Math.max(c,Math.min(l,n[e])):n[e],C?u=(r+=s)+d:(M&&(s=Math.max(c,Math.min(l,2*M[e]-r))),r>s?(u=r,r=s):u=s),v[0]!=r||v[1]!=u?(e?a=null:o=null,v[0]=r,v[1]=u,!0):void 0}function y(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ta.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=ta.select(ta.event.target),w=c.of(b,arguments),k=ta.select(b),E=_.datum(),A=!/^(n|s)$/.test(E)&&l,N=!/^(e|w)$/.test(E)&&s,C=_.classed("extent"),z=W(b),q=ta.mouse(b),L=ta.select(t(b)).on("keydown.brush",i).on("keyup.brush",v);if(ta.event.changedTouches?L.on("touchmove.brush",d).on("touchend.brush",y):L.on("mousemove.brush",d).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),C)q[0]=f[0]-q[0],q[1]=h[0]-q[1];else if(E){var T=+/w$/.test(E),R=+/^n/.test(E);x=[f[1-T]-q[0],h[1-R]-q[1]],q[0]=f[T],q[1]=h[R]}else ta.event.altKey&&(M=q.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),ta.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var o,a,c=E(n,"brushstart","brush","brushend"),l=null,s=null,f=[0,0],h=[0,0],g=!0,p=!0,v=Ol[0];return n.event=function(n){n.each(function(){var n=c.of(this,arguments),t={x:f,y:h,i:o,j:a},e=this.__chart__||t;this.__chart__=t,Tl?ta.select(this).transition().each("start.brush",function(){o=e.i,a=e.j,f=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=yu(f,t.x),r=yu(h,t.y);return o=a=null,function(u){f=t.x=e(u),h=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(l=t,v=Ol[!l<<1|!s],n):l},n.y=function(t){return arguments.length?(s=t,v=Ol[!l<<1|!s],n):s},n.clamp=function(t){return arguments.length?(l&&s?(g=!!t[0],p=!!t[1]):l?g=!!t:s&&(p=!!t),n):l&&s?[g,p]:l?g:s?p:null},n.extent=function(t){var e,r,u,i,c;return arguments.length?(l&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),o=[e,r],l.invert&&(e=l(e),r=l(r)),e>r&&(c=e,e=r,r=c),(e!=f[0]||r!=f[1])&&(f=[e,r])),s&&(u=t[0],i=t[1],l&&(u=u[1],i=i[1]),a=[u,i],s.invert&&(u=s(u),i=s(i)),u>i&&(c=u,u=i,i=c),(u!=h[0]||i!=h[1])&&(h=[u,i])),n):(l&&(o?(e=o[0],r=o[1]):(e=f[0],r=f[1],l.invert&&(e=l.invert(e),r=l.invert(r)),e>r&&(c=e,e=r,r=c))),s&&(a?(u=a[0],i=a[1]):(u=h[0],i=h[1],s.invert&&(u=s.invert(u),i=s.invert(i)),u>i&&(c=u,u=i,i=c))),l&&s?[[e,u],[r,i]]:l?[e,r]:s&&[u,i])},n.clear=function(){return n.empty()||(f=[0,0],h=[0,0],o=a=null),n},n.empty=function(){return!!l&&f[0]==f[1]||!!s&&h[0]==h[1]},ta.rebind(n,c,"on")};var Hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ol=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Il=ac.format=gc.timeFormat,Yl=Il.utc,Zl=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Il.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jo:Zl,Jo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Jo.toString=Zl.toString,ac.second=Ft(function(n){return new cc(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ac.seconds=ac.second.range,ac.seconds.utc=ac.second.utc.range,ac.minute=Ft(function(n){return new cc(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ac.minutes=ac.minute.range,ac.minutes.utc=ac.minute.utc.range,ac.hour=Ft(function(n){var t=n.getTimezoneOffset()/60;return new cc(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ac.hours=ac.hour.range,ac.hours.utc=ac.hour.utc.range,ac.month=Ft(function(n){return n=ac.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ac.months=ac.month.range,ac.months.utc=ac.month.utc.range;var Vl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xl=[[ac.second,1],[ac.second,5],[ac.second,15],[ac.second,30],[ac.minute,1],[ac.minute,5],[ac.minute,15],[ac.minute,30],[ac.hour,1],[ac.hour,3],[ac.hour,6],[ac.hour,12],[ac.day,1],[ac.day,2],[ac.week,1],[ac.month,1],[ac.month,3],[ac.year,1]],$l=Il.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",Ne]]),Bl={range:function(n,t,e){return ta.range(Math.ceil(n/e)*e,+t,e).map(Ko)},floor:y,ceil:y};Xl.year=ac.year,ac.scale=function(){return Go(ta.scale.linear(),Xl,$l)};var Wl=Xl.map(function(n){return[n[0].utc,n[1]]}),Jl=Yl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",Ne]]);Wl.year=ac.year.utc,ac.scale.utc=function(){return Go(ta.scale.linear(),Wl,Jl)},ta.text=At(function(n){return n.responseText}),ta.json=function(n,t){return Nt(n,"application/json",Qo,t)},ta.html=function(n,t){return Nt(n,"text/html",na,t)},ta.xml=At(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(ta):"object"==typeof module&&module.exports&&(module.exports=ta),this.d3=ta}();
(function(factory){if(typeof define==="function"&&define.amd){define(["d3","topojson"],factory)}else{var tj=typeof topojson==="undefined"?null:topojson;vg=factory(d3,tj)}})(function(d3,topojson){var vg={version:"1.5.0",d3:d3,topojson:topojson};var toString=Object.prototype.toString;vg.isObject=function(obj){return obj===Object(obj)};vg.isFunction=function(obj){return toString.call(obj)=="[object Function]"};vg.isString=function(obj){return toString.call(obj)=="[object String]"};vg.isArray=Array.isArray||function(obj){return toString.call(obj)=="[object Array]"};vg.isNumber=function(obj){return toString.call(obj)=="[object Number]"};vg.isBoolean=function(obj){return toString.call(obj)=="[object Boolean]"};vg.isTree=function(obj){return obj&&obj.__vgtree__};vg.tree=function(obj,children){var d=[obj];d.__vgtree__=true;d.children=children||"children";return d};vg.number=function(s){return s===null?null:+s};vg.boolean=function(s){return s===null?null:!!s};vg.date=function(s){return s===null?null:Date.parse(s)};vg.startsWith=String.prototype.startsWith?function(string,searchString){return string.startsWith(searchString)}:function(string,searchString){return string.lastIndexOf(searchString,0)===0};vg.identity=function(x){return x};vg.true=function(){return true};vg.extend=function(obj){for(var x,name,i=1,len=arguments.length;i<len;++i){x=arguments[i];for(name in x){obj[name]=x[name]}}return obj};vg.duplicate=function(obj){return JSON.parse(JSON.stringify(obj))};vg.field=function(f){return f.split("\\.").map(function(d){return d.split(".")}).reduce(function(a,b){if(a.length){a[a.length-1]+="."+b.shift()}a.push.apply(a,b);return a},[])};vg.accessor=function(f){var s;return vg.isFunction(f)||f==null?f:vg.isString(f)&&(s=vg.field(f)).length>1?function(x){return s.reduce(function(x,f){return x[f]},x)}:function(x){return x[f]}};vg.mutator=function(f){var s;return vg.isString(f)&&(s=vg.field(f)).length>1?function(x,v){for(var i=0;i<s.length-1;++i)x=x[s[i]];x[s[i]]=v}:function(x,v){x[f]=v}};vg.comparator=function(sort){var sign=[];if(sort===undefined)sort=[];sort=vg.array(sort).map(function(f){var s=1;if(f[0]==="-"){s=-1;f=f.slice(1)}else if(f[0]==="+"){s=+1;f=f.slice(1)}sign.push(s);return vg.accessor(f)});return function(a,b){var i,n,f,x,y;for(i=0,n=sort.length;i<n;++i){f=sort[i];x=f(a);y=f(b);if(x<y)return-1*sign[i];if(x>y)return sign[i]}return 0}};vg.cmp=function(a,b){if(a<b){return-1}else if(a>b){return 1}else if(a>=b){return 0}else if(a===null&&b===null){return 0}else if(a===null){return-1}else if(b===null){return 1}return NaN};vg.numcmp=function(a,b){return a-b};vg.array=function(x){return x!=null?vg.isArray(x)?x:[x]:[]};vg.values=function(x){return vg.isObject(x)&&!vg.isArray(x)&&x.values?x.values:x};vg.str=function(x){return vg.isArray(x)?"["+x.map(vg.str)+"]":vg.isObject(x)?JSON.stringify(x):vg.isString(x)?"'"+vg_escape_str(x)+"'":x};var escape_str_re=/(^|[^\\])'/g;function vg_escape_str(x){return x.replace(escape_str_re,"$1\\'")}vg.keystr=function(values){return values.join("|")};vg.keys=function(x){var keys=[];for(var key in x)keys.push(key);return keys};vg.toMap=function(list){return list.reduce(function(obj,x){return obj[x]=1,obj},{})};vg.unique=function(data,f,results){if(!vg.isArray(data)||data.length===0)return[];f=f||vg.identity;results=results||[];var u={};for(var v,idx,i=0,n=data.length;i<n;++i){v=f(data[i]);if(v in u)continue;u[v]=true;results.push(v)}return results};vg.minIndex=function(data,f){if(!vg.isArray(data)||data.length==0)return-1;f=f||vg.identity;var idx=0,min=f(data[0]),v=min;for(var i=1,n=data.length;i<n;++i){v=f(data[i]);if(v<min){min=v;idx=i}}return idx};vg.maxIndex=function(data,f){if(!vg.isArray(data)||data.length==0)return-1;f=f||vg.identity;var idx=0,max=f(data[0]),v=max;for(var i=1,n=data.length;i<n;++i){v=f(data[i]);if(v>max){max=v;idx=i}}return idx};vg.bins=function(opt){opt=opt||{};var maxb=opt.maxbins||1024,base=opt.base||10,div=opt.div||[5,2],mins=opt.minstep||0,logb=Math.log(base),level=Math.ceil(Math.log(maxb)/logb),min=opt.min,max=opt.max,span=max-min,step=Math.max(mins,Math.pow(base,Math.round(Math.log(span)/logb)-level)),nbins=Math.ceil(span/step),precision,v,i,eps;if(opt.step!=null){step=opt.step}else if(opt.steps){step=opt.steps[Math.min(opt.steps.length-1,vg_bisectLeft(opt.steps,span/maxb,0,opt.steps.length))]}else{do{step*=base;nbins=Math.ceil(span/step)}while(nbins>maxb);for(i=0;i<div.length;++i){v=step/div[i];if(v>=mins&&span/v<=maxb){step=v;nbins=Math.ceil(span/step)}}}v=Math.log(step);precision=v>=0?0:~~(-v/logb)+1;eps=(min<0?-1:1)*Math.pow(base,-precision-1);min=Math.min(min,Math.floor(min/step+eps)*step);max=Math.ceil(max/step)*step;return{start:min,stop:max,step:step,unit:precision}};function vg_bisectLeft(a,x,lo,hi){while(lo<hi){var mid=lo+hi>>>1;if(vg.cmp(a[mid],x)<0){lo=mid+1}else{hi=mid}}return lo}vg.truncate=function(s,length,pos,word,ellipsis){var len=s.length;if(len<=length)return s;ellipsis=ellipsis||"...";var l=Math.max(0,length-ellipsis.length);switch(pos){case"left":return ellipsis+(word?vg_truncateOnWord(s,l,1):s.slice(len-l));case"middle":case"center":var l1=Math.ceil(l/2),l2=Math.floor(l/2);return(word?vg_truncateOnWord(s,l1):s.slice(0,l1))+ellipsis+(word?vg_truncateOnWord(s,l2,1):s.slice(len-l2));default:return(word?vg_truncateOnWord(s,l):s.slice(0,l))+ellipsis}};function vg_truncateOnWord(s,len,rev){var cnt=0,tok=s.split(vg_truncate_word_re);if(rev){s=(tok=tok.reverse()).filter(function(w){cnt+=w.length;return cnt<=len}).reverse()}else{s=tok.filter(function(w){cnt+=w.length;return cnt<=len})}return s.length?s.join("").trim():tok[0].slice(0,len)}var vg_truncate_word_re=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/;function vg_write(msg){vg.config.isNode?process.stderr.write(msg+"\n"):console.log(msg)}function vg_error(msg){vg.config.isNode?process.stderr.write(msg+"\n"):console.error(msg)}vg.log=function(msg){vg_write("[Vega Log] "+msg)};vg.error=function(msg){vg_error("[Vega Err] "+msg)};vg.config={};vg.config.isNode=false;vg.config.domainWhiteList=false;vg.config.safeMode=false;vg.config.baseURL="";vg.config.defaultProtocol="http:";vg.config.svgNamespace='version="1.1" xmlns="http://www.w3.org/2000/svg" '+'xmlns:xlink="http://www.w3.org/1999/xlink"';vg.config.autopadInset=5;vg.config.scale={time:d3.time.scale,utc:d3.time.scale.utc};vg.config.render={lineWidth:1,lineCap:"butt",font:"sans-serif",fontSize:11};vg.config.axis={orient:"bottom",ticks:10,padding:3,axisColor:"#000",gridColor:"#d8d8d8",tickColor:"#000",tickLabelColor:"#000",axisWidth:1,tickWidth:1,tickSize:6,tickLabelFontSize:11,tickLabelFont:"sans-serif",titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold",titleOffset:35};vg.config.legend={orient:"right",offset:10,padding:3,gradientStrokeColor:"#888",gradientStrokeWidth:1,gradientHeight:16,gradientWidth:100,labelColor:"#000",labelFontSize:10,labelFont:"sans-serif",labelAlign:"left",labelBaseline:"middle",labelOffset:8,symbolShape:"circle",symbolSize:50,symbolColor:"#888",symbolStrokeWidth:1,titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold"};vg.config.color={rgb:[128,128,128],lab:[50,0,0],hcl:[0,0,50],hsl:[0,0,.5]};vg.config.range={category10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],category20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],shapes:["circle","cross","diamond","square","triangle-down","triangle-up"]};vg.Bounds=function(){var bounds=function(b){this.clear();if(b)this.union(b)};var prototype=bounds.prototype;prototype.clear=function(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this};prototype.set=function(x1,y1,x2,y2){this.x1=x1;this.y1=y1;this.x2=x2;this.y2=y2;return this};prototype.add=function(x,y){if(x<this.x1)this.x1=x;if(y<this.y1)this.y1=y;if(x>this.x2)this.x2=x;if(y>this.y2)this.y2=y;return this};prototype.expand=function(d){this.x1-=d;this.y1-=d;this.x2+=d;this.y2+=d;return this};prototype.round=function(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this};prototype.translate=function(dx,dy){this.x1+=dx;this.x2+=dx;this.y1+=dy;this.y2+=dy;return this};prototype.rotate=function(angle,x,y){var cos=Math.cos(angle),sin=Math.sin(angle),cx=x-x*cos+y*sin,cy=y-x*sin-y*cos,x1=this.x1,x2=this.x2,y1=this.y1,y2=this.y2;return this.clear().add(cos*x1-sin*y1+cx,sin*x1+cos*y1+cy).add(cos*x1-sin*y2+cx,sin*x1+cos*y2+cy).add(cos*x2-sin*y1+cx,sin*x2+cos*y1+cy).add(cos*x2-sin*y2+cx,sin*x2+cos*y2+cy)};prototype.union=function(b){if(b.x1<this.x1)this.x1=b.x1;if(b.y1<this.y1)this.y1=b.y1;if(b.x2>this.x2)this.x2=b.x2;if(b.y2>this.y2)this.y2=b.y2;return this};prototype.encloses=function(b){return b&&(this.x1<=b.x1&&this.x2>=b.x2&&this.y1<=b.y1&&this.y2>=b.y2)};prototype.intersects=function(b){return b&&!(this.x2<b.x1||this.x1>b.x2||this.y2<b.y1||this.y1>b.y2)};prototype.contains=function(x,y){return!(x<this.x1||x>this.x2||y<this.y1||y>this.y2)};prototype.width=function(){return this.x2-this.x1};prototype.height=function(){return this.y2-this.y1};return bounds}();vg.Gradient=function(){function gradient(type){this.id="grad_"+vg_gradient_id++;this.type=type||"linear";this.stops=[];this.x1=0;this.x2=1;this.y1=0;this.y2=0}var prototype=gradient.prototype;prototype.stop=function(offset,color){this.stops.push({offset:offset,color:color});return this};return gradient}();var vg_gradient_id=0;vg.canvas={};vg.canvas.path=function(){var cmdLength={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},re=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)-/g,/\s|,|###/];function parse(path){var result=[],currentPath,chunks,parsed;path=path.slice().replace(re[0],"###$1").split(re[1]).slice(1);for(var i=0,j,chunksParsed,len=path.length;i<len;i++){currentPath=path[i];chunks=currentPath.slice(1).trim().replace(re[2],"$1###-").split(re[3]);chunksParsed=[currentPath.charAt(0)];for(var j=0,jlen=chunks.length;j<jlen;j++){parsed=parseFloat(chunks[j]);if(!isNaN(parsed)){chunksParsed.push(parsed)}}var command=chunksParsed[0].toLowerCase(),commandLength=cmdLength[command];if(chunksParsed.length-1>commandLength){for(var k=1,klen=chunksParsed.length;k<klen;k+=commandLength){result.push([chunksParsed[0]].concat(chunksParsed.slice(k,k+commandLength)))}}else{result.push(chunksParsed)}}return result}function drawArc(g,x,y,coords,bounds,l,t){var rx=coords[0];var ry=coords[1];var rot=coords[2];var large=coords[3];var sweep=coords[4];var ex=coords[5];var ey=coords[6];var segs=arcToSegments(ex,ey,rx,ry,large,sweep,rot,x,y);for(var i=0;i<segs.length;i++){var bez=segmentToBezier.apply(null,segs[i]);g.bezierCurveTo.apply(g,bez);bounds.add(bez[0]-l,bez[1]-t);bounds.add(bez[2]-l,bez[3]-t);bounds.add(bez[4]-l,bez[5]-t)}}function boundArc(x,y,coords,bounds){var rx=coords[0];var ry=coords[1];var rot=coords[2];var large=coords[3];var sweep=coords[4];var ex=coords[5];var ey=coords[6];var segs=arcToSegments(ex,ey,rx,ry,large,sweep,rot,x,y);for(var i=0;i<segs.length;i++){var bez=segmentToBezier.apply(null,segs[i]);bounds.add(bez[0],bez[1]);bounds.add(bez[2],bez[3]);bounds.add(bez[4],bez[5])}}var arcToSegmentsCache={},segmentToBezierCache={},join=Array.prototype.join,argsStr;function arcToSegments(x,y,rx,ry,large,sweep,rotateX,ox,oy){argsStr=join.call(arguments);if(arcToSegmentsCache[argsStr]){return arcToSegmentsCache[argsStr]}var th=rotateX*(Math.PI/180);var sin_th=Math.sin(th);var cos_th=Math.cos(th);rx=Math.abs(rx);ry=Math.abs(ry);var px=cos_th*(ox-x)*.5+sin_th*(oy-y)*.5;var py=cos_th*(oy-y)*.5-sin_th*(ox-x)*.5;var pl=px*px/(rx*rx)+py*py/(ry*ry);if(pl>1){pl=Math.sqrt(pl);rx*=pl;ry*=pl}var a00=cos_th/rx;var a01=sin_th/rx;var a10=-sin_th/ry;var a11=cos_th/ry;var x0=a00*ox+a01*oy;var y0=a10*ox+a11*oy;var x1=a00*x+a01*y;var y1=a10*x+a11*y;var d=(x1-x0)*(x1-x0)+(y1-y0)*(y1-y0);var sfactor_sq=1/d-.25;if(sfactor_sq<0)sfactor_sq=0;var sfactor=Math.sqrt(sfactor_sq);if(sweep==large)sfactor=-sfactor;var xc=.5*(x0+x1)-sfactor*(y1-y0);var yc=.5*(y0+y1)+sfactor*(x1-x0);var th0=Math.atan2(y0-yc,x0-xc);var th1=Math.atan2(y1-yc,x1-xc);var th_arc=th1-th0;if(th_arc<0&&sweep==1){th_arc+=2*Math.PI}else if(th_arc>0&&sweep==0){th_arc-=2*Math.PI}var segments=Math.ceil(Math.abs(th_arc/(Math.PI*.5+.001)));var result=[];for(var i=0;i<segments;i++){var th2=th0+i*th_arc/segments;var th3=th0+(i+1)*th_arc/segments;result[i]=[xc,yc,th2,th3,rx,ry,sin_th,cos_th]}return arcToSegmentsCache[argsStr]=result}function segmentToBezier(cx,cy,th0,th1,rx,ry,sin_th,cos_th){argsStr=join.call(arguments);if(segmentToBezierCache[argsStr]){return segmentToBezierCache[argsStr]}var a00=cos_th*rx;var a01=-sin_th*ry;var a10=sin_th*rx;var a11=cos_th*ry;var cos_th0=Math.cos(th0);var sin_th0=Math.sin(th0);var cos_th1=Math.cos(th1);var sin_th1=Math.sin(th1);var th_half=.5*(th1-th0);var sin_th_h2=Math.sin(th_half*.5);var t=8/3*sin_th_h2*sin_th_h2/Math.sin(th_half);var x1=cx+cos_th0-t*sin_th0;var y1=cy+sin_th0+t*cos_th0;var x3=cx+cos_th1;var y3=cy+sin_th1;var x2=x3+t*sin_th1;var y2=y3-t*cos_th1;return segmentToBezierCache[argsStr]=[a00*x1+a01*y1,a10*x1+a11*y1,a00*x2+a01*y2,a10*x2+a11*y2,a00*x3+a01*y3,a10*x3+a11*y3]}function render(g,path,l,t){var current,previous=null,x=0,y=0,controlX=0,controlY=0,tempX,tempY,tempControlX,tempControlY,bounds=new vg.Bounds;if(l==undefined)l=0;if(t==undefined)t=0;g.beginPath();for(var i=0,len=path.length;i<len;++i){current=path[i];switch(current[0]){case"l":x+=current[1];y+=current[2];g.lineTo(x+l,y+t);bounds.add(x,y);break;case"L":x=current[1];y=current[2];g.lineTo(x+l,y+t);bounds.add(x,y);break;case"h":x+=current[1];g.lineTo(x+l,y+t);bounds.add(x,y);break;case"H":x=current[1];g.lineTo(x+l,y+t);bounds.add(x,y);break;case"v":y+=current[1];g.lineTo(x+l,y+t);bounds.add(x,y);break;case"V":y=current[1];g.lineTo(x+l,y+t);bounds.add(x,y);break;case"m":x+=current[1];y+=current[2];g.moveTo(x+l,y+t);bounds.add(x,y);break;case"M":x=current[1];y=current[2];g.moveTo(x+l,y+t);bounds.add(x,y);break;case"c":tempX=x+current[5];tempY=y+current[6];controlX=x+current[3];controlY=y+current[4];g.bezierCurveTo(x+current[1]+l,y+current[2]+t,controlX+l,controlY+t,tempX+l,tempY+t);bounds.add(x+current[1],y+current[2]);bounds.add(controlX,controlY);bounds.add(tempX,tempY);x=tempX;y=tempY;break;case"C":x=current[5];y=current[6];controlX=current[3];controlY=current[4];g.bezierCurveTo(current[1]+l,current[2]+t,controlX+l,controlY+t,x+l,y+t);bounds.add(current[1],current[2]);bounds.add(controlX,controlY);bounds.add(x,y);break;case"s":tempX=x+current[3];tempY=y+current[4];controlX=2*x-controlX;controlY=2*y-controlY;g.bezierCurveTo(controlX+l,controlY+t,x+current[1]+l,y+current[2]+t,tempX+l,tempY+t);bounds.add(controlX,controlY);bounds.add(x+current[1],y+current[2]);bounds.add(tempX,tempY);controlX=x+current[1];controlY=y+current[2];x=tempX;y=tempY;break;case"S":tempX=current[3];tempY=current[4];controlX=2*x-controlX;controlY=2*y-controlY;g.bezierCurveTo(controlX+l,controlY+t,current[1]+l,current[2]+t,tempX+l,tempY+t);x=tempX;y=tempY;bounds.add(current[1],current[2]);bounds.add(controlX,controlY);bounds.add(tempX,tempY);controlX=current[1];controlY=current[2];break;case"q":tempX=x+current[3];tempY=y+current[4];controlX=x+current[1];controlY=y+current[2];g.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t);x=tempX;y=tempY;bounds.add(controlX,controlY);bounds.add(tempX,tempY);break;case"Q":tempX=current[3];tempY=current[4];g.quadraticCurveTo(current[1]+l,current[2]+t,tempX+l,tempY+t);x=tempX;y=tempY;controlX=current[1];controlY=current[2];bounds.add(controlX,controlY);bounds.add(tempX,tempY);break;case"t":tempX=x+current[1];tempY=y+current[2];if(previous[0].match(/[QqTt]/)===null){controlX=x;controlY=y}else if(previous[0]==="t"){controlX=2*x-tempControlX;controlY=2*y-tempControlY}else if(previous[0]==="q"){controlX=2*x-controlX;controlY=2*y-controlY}tempControlX=controlX;tempControlY=controlY;g.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t);x=tempX;y=tempY;controlX=x+current[1];controlY=y+current[2];bounds.add(controlX,controlY);bounds.add(tempX,tempY);break;case"T":tempX=current[1];tempY=current[2];controlX=2*x-controlX;controlY=2*y-controlY;g.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t);x=tempX;y=tempY;bounds.add(controlX,controlY);bounds.add(tempX,tempY);break;case"a":drawArc(g,x+l,y+t,[current[1],current[2],current[3],current[4],current[5],current[6]+x+l,current[7]+y+t],bounds,l,t);x+=current[6];y+=current[7];break;case"A":drawArc(g,x+l,y+t,[current[1],current[2],current[3],current[4],current[5],current[6]+l,current[7]+t],bounds,l,t);x=current[6];y=current[7];break;case"z":case"Z":g.closePath();break}previous=current}return bounds.translate(l,t)}function bounds(path,bounds){var current,previous=null,x=0,y=0,controlX=0,controlY=0,tempX,tempY,tempControlX,tempControlY;for(var i=0,len=path.length;i<len;++i){current=path[i];switch(current[0]){case"l":x+=current[1];y+=current[2];bounds.add(x,y);break;case"L":x=current[1];y=current[2];bounds.add(x,y);break;case"h":x+=current[1];bounds.add(x,y);break;case"H":x=current[1];bounds.add(x,y);break;case"v":y+=current[1];bounds.add(x,y);break;case"V":y=current[1];bounds.add(x,y);break;case"m":x+=current[1];y+=current[2];bounds.add(x,y);break;case"M":x=current[1];y=current[2];bounds.add(x,y);break;case"c":tempX=x+current[5];tempY=y+current[6];controlX=x+current[3];controlY=y+current[4];bounds.add(x+current[1],y+current[2]);bounds.add(controlX,controlY);bounds.add(tempX,tempY);x=tempX;y=tempY;break;case"C":x=current[5];y=current[6];controlX=current[3];controlY=current[4];bounds.add(current[1],current[2]);bounds.add(controlX,controlY);bounds.add(x,y);break;case"s":tempX=x+current[3];tempY=y+current[4];controlX=2*x-controlX;controlY=2*y-controlY;bounds.add(controlX,controlY);bounds.add(x+current[1],y+current[2]);bounds.add(tempX,tempY);controlX=x+current[1];controlY=y+current[2];x=tempX;y=tempY;break;case"S":tempX=current[3];tempY=current[4];controlX=2*x-controlX;controlY=2*y-controlY;x=tempX;y=tempY;bounds.add(current[1],current[2]);bounds.add(controlX,controlY);bounds.add(tempX,tempY);controlX=current[1];controlY=current[2];break;case"q":tempX=x+current[3];tempY=y+current[4];controlX=x+current[1];controlY=y+current[2];x=tempX;y=tempY;bounds.add(controlX,controlY);bounds.add(tempX,tempY);break;case"Q":tempX=current[3];tempY=current[4];x=tempX;y=tempY;controlX=current[1];controlY=current[2];bounds.add(controlX,controlY);bounds.add(tempX,tempY);break;case"t":tempX=x+current[1];tempY=y+current[2];if(previous[0].match(/[QqTt]/)===null){controlX=x;controlY=y}else if(previous[0]==="t"){controlX=2*x-tempControlX;controlY=2*y-tempControlY}else if(previous[0]==="q"){controlX=2*x-controlX;controlY=2*y-controlY}tempControlX=controlX;tempControlY=controlY;x=tempX;y=tempY;controlX=x+current[1];controlY=y+current[2];bounds.add(controlX,controlY);bounds.add(tempX,tempY);break;case"T":tempX=current[1];tempY=current[2];controlX=2*x-controlX;controlY=2*y-controlY;x=tempX;y=tempY;bounds.add(controlX,controlY);bounds.add(tempX,tempY);break;case"a":boundArc(x,y,[current[1],current[2],current[3],current[4],current[5],current[6]+x,current[7]+y],bounds);x+=current[6];y+=current[7];break;case"A":boundArc(x,y,[current[1],current[2],current[3],current[4],current[5],current[6],current[7]],bounds);x=current[6];y=current[7];break;case"z":case"Z":break}previous=current}return bounds}function area(items){var o=items[0];var area;if(o.orient==="horizontal"){area=d3.svg.area().y(function(d){return d.y}).x0(function(d){return d.x}).x1(function(d){return d.x+d.width})}else{area=d3.svg.area().x(function(d){return d.x}).y1(function(d){return d.y}).y0(function(d){return d.y+d.height})}if(o.interpolate)area.interpolate(o.interpolate);if(o.tension!=null)area.tension(o.tension);return area(items)}function line(items){var o=items[0];var line=d3.svg.line().x(function(d){return d.x}).y(function(d){return d.y});if(o.interpolate)line.interpolate(o.interpolate);if(o.tension!=null)line.tension(o.tension);return line(items)}return{parse:parse,render:render,bounds:bounds,area:area,line:line}}();vg.canvas.marks=function(){var parsePath=vg.canvas.path.parse,renderPath=vg.canvas.path.render,halfpi=Math.PI/2,sqrt3=Math.sqrt(3),tan30=Math.tan(30*Math.PI/180),tmpBounds=new vg.Bounds;function arcPath(g,o){var x=o.x||0,y=o.y||0,ir=o.innerRadius||0,or=o.outerRadius||0,sa=(o.startAngle||0)-Math.PI/2,ea=(o.endAngle||0)-Math.PI/2;g.beginPath();if(ir===0)g.moveTo(x,y);else g.arc(x,y,ir,sa,ea,0);g.arc(x,y,or,ea,sa,1);g.closePath()}function areaPath(g,items){var o=items[0],m=o.mark,p=m.pathCache||(m.pathCache=parsePath(vg.canvas.path.area(items)));renderPath(g,p)}function linePath(g,items){var o=items[0],m=o.mark,p=m.pathCache||(m.pathCache=parsePath(vg.canvas.path.line(items)));renderPath(g,p)}function pathPath(g,o){if(o.path==null)return;var p=o.pathCache||(o.pathCache=parsePath(o.path));return renderPath(g,p,o.x,o.y)}function symbolPath(g,o){g.beginPath();var size=o.size!=null?o.size:100,x=o.x,y=o.y,r,t,rx,ry;if(o.shape==null||o.shape==="circle"){r=Math.sqrt(size/Math.PI);g.arc(x,y,r,0,2*Math.PI,0);g.closePath();return}switch(o.shape){case"cross":r=Math.sqrt(size/5)/2;t=3*r;g.moveTo(x-t,y-r);g.lineTo(x-r,y-r);g.lineTo(x-r,y-t);g.lineTo(x+r,y-t);g.lineTo(x+r,y-r);g.lineTo(x+t,y-r);g.lineTo(x+t,y+r);g.lineTo(x+r,y+r);g.lineTo(x+r,y+t);g.lineTo(x-r,y+t);g.lineTo(x-r,y+r);g.lineTo(x-t,y+r);break;case"diamond":ry=Math.sqrt(size/(2*tan30));rx=ry*tan30;g.moveTo(x,y-ry);g.lineTo(x+rx,y);g.lineTo(x,y+ry);g.lineTo(x-rx,y);break;case"square":t=Math.sqrt(size);r=t/2;g.rect(x-r,y-r,t,t);break;case"triangle-down":rx=Math.sqrt(size/sqrt3);ry=rx*sqrt3/2;g.moveTo(x,y+ry);g.lineTo(x+rx,y-ry);g.lineTo(x-rx,y-ry);break;case"triangle-up":rx=Math.sqrt(size/sqrt3);ry=rx*sqrt3/2;g.moveTo(x,y-ry);g.lineTo(x+rx,y+ry);g.lineTo(x-rx,y+ry)}g.closePath()}function lineStroke(g,items){var o=items[0],lw=o.strokeWidth,lc=o.strokeCap;g.lineWidth=lw!=null?lw:vg.config.render.lineWidth;g.lineCap=lc!=null?lc:vg.config.render.lineCap;linePath(g,items)}function ruleStroke(g,o){var x1=o.x||0,y1=o.y||0,x2=o.x2!=null?o.x2:x1,y2=o.y2!=null?o.y2:y1,lw=o.strokeWidth,lc=o.strokeCap;g.lineWidth=lw!=null?lw:vg.config.render.lineWidth;g.lineCap=lc!=null?lc:vg.config.render.lineCap;g.beginPath();g.moveTo(x1,y1);g.lineTo(x2,y2)}function drawPathOne(path,g,o,items){var fill=o.fill,stroke=o.stroke,opac,lc,lw;path(g,items);opac=o.opacity==null?1:o.opacity;if(opac==0||!fill&&!stroke)return;if(fill){g.globalAlpha=opac*(o.fillOpacity==null?1:o.fillOpacity);g.fillStyle=color(g,o,fill);g.fill()}if(stroke){lw=(lw=o.strokeWidth)!=null?lw:vg.config.render.lineWidth;if(lw>0){g.globalAlpha=opac*(o.strokeOpacity==null?1:o.strokeOpacity);g.strokeStyle=color(g,o,stroke);g.lineWidth=lw;g.lineCap=(lc=o.strokeCap)!=null?lc:vg.config.render.lineCap;g.vgLineDash(o.strokeDash||null);g.vgLineDashOffset(o.strokeDashOffset||0);g.stroke()}}}function drawPathAll(path,g,scene,bounds){var i,len,item;for(i=0,len=scene.items.length;i<len;++i){item=scene.items[i];if(bounds&&!bounds.intersects(item.bounds))continue;drawPathOne(path,g,item,item)}}function drawRect(g,scene,bounds){if(!scene.items.length)return;var items=scene.items,o,fill,stroke,opac,lc,lw,x,y,w,h;for(var i=0,len=items.length;i<len;++i){o=items[i];if(bounds&&!bounds.intersects(o.bounds))continue;x=o.x||0;y=o.y||0;w=o.width||0;h=o.height||0;opac=o.opacity==null?1:o.opacity;if(opac==0)continue;if(fill=o.fill){g.globalAlpha=opac*(o.fillOpacity==null?1:o.fillOpacity);g.fillStyle=color(g,o,fill);g.fillRect(x,y,w,h)}if(stroke=o.stroke){lw=(lw=o.strokeWidth)!=null?lw:vg.config.render.lineWidth;if(lw>0){g.globalAlpha=opac*(o.strokeOpacity==null?1:o.strokeOpacity);g.strokeStyle=color(g,o,stroke);g.lineWidth=lw;g.lineCap=(lc=o.strokeCap)!=null?lc:vg.config.render.lineCap;g.vgLineDash(o.strokeDash||null);g.vgLineDashOffset(o.strokeDashOffset||0);g.strokeRect(x,y,w,h)}}}}function drawRule(g,scene,bounds){if(!scene.items.length)return;var items=scene.items,o,stroke,opac,lc,lw,x1,y1,x2,y2;for(var i=0,len=items.length;i<len;++i){o=items[i];if(bounds&&!bounds.intersects(o.bounds))continue;x1=o.x||0;y1=o.y||0;x2=o.x2!=null?o.x2:x1;y2=o.y2!=null?o.y2:y1;opac=o.opacity==null?1:o.opacity;if(opac==0)continue;if(stroke=o.stroke){lw=(lw=o.strokeWidth)!=null?lw:vg.config.render.lineWidth;if(lw>0){g.globalAlpha=opac*(o.strokeOpacity==null?1:o.strokeOpacity);g.strokeStyle=color(g,o,stroke);g.lineWidth=lw;g.lineCap=(lc=o.strokeCap)!=null?lc:vg.config.render.lineCap;g.vgLineDash(o.strokeDash||null);g.vgLineDashOffset(o.strokeDashOffset||0);g.beginPath();g.moveTo(x1,y1);g.lineTo(x2,y2);g.stroke()}}}}function drawImage(g,scene,bounds){if(!scene.items.length)return;var renderer=this,items=scene.items,o;for(var i=0,len=items.length;i<len;++i){o=items[i];if(bounds&&!bounds.intersects(o.bounds))continue;if(!(o.image&&o.image.url===o.url)){o.image=renderer.loadImage(o.url);o.image.url=o.url}var x,y,w,h,opac;w=o.width||o.image&&o.image.width||0;h=o.height||o.image&&o.image.height||0;x=(o.x||0)-(o.align==="center"?w/2:o.align==="right"?w:0);y=(o.y||0)-(o.baseline==="middle"?h/2:o.baseline==="bottom"?h:0);if(o.image.loaded){g.globalAlpha=(opac=o.opacity)!=null?opac:1;g.drawImage(o.image,x,y,w,h)}}}function drawText(g,scene,bounds){if(!scene.items.length)return;var items=scene.items,o,fill,stroke,opac,lw,x,y,r,t;for(var i=0,len=items.length;i<len;++i){o=items[i];if(bounds&&!bounds.intersects(o.bounds))continue;g.font=vg.scene.fontString(o);g.textAlign=o.align||"left";g.textBaseline=o.baseline||"alphabetic";opac=o.opacity==null?1:o.opacity;if(opac==0)continue;x=o.x||0;y=o.y||0;if(r=o.radius){t=(o.theta||0)-Math.PI/2;x+=r*Math.cos(t);y+=r*Math.sin(t)}if(o.angle){g.save();g.translate(x,y);g.rotate(o.angle*Math.PI/180);x=o.dx||0;y=o.dy||0}else{x+=o.dx||0;y+=o.dy||0}if(fill=o.fill){g.globalAlpha=opac*(o.fillOpacity==null?1:o.fillOpacity);g.fillStyle=color(g,o,fill);g.fillText(o.text,x,y)}if(stroke=o.stroke){lw=(lw=o.strokeWidth)!=null?lw:1;if(lw>0){g.globalAlpha=opac*(o.strokeOpacity==null?1:o.strokeOpacity);g.strokeStyle=color(o,stroke);g.lineWidth=lw;g.strokeText(o.text,x,y)}}if(o.angle)g.restore()}}function drawAll(pathFunc){return function(g,scene,bounds){drawPathAll(pathFunc,g,scene,bounds)}}function drawOne(pathFunc){return function(g,scene,bounds){if(!scene.items.length)return;if(bounds&&!bounds.intersects(scene.items[0].bounds))return;drawPathOne(pathFunc,g,scene.items[0],scene.items)}}function drawGroup(g,scene,bounds){if(!scene.items.length)return;var items=scene.items,group,axes,legends,renderer=this,gx,gy,gb,i,n,j,m;drawRect(g,scene,bounds);for(i=0,n=items.length;i<n;++i){group=items[i];axes=group.axisItems||[];legends=group.legendItems||[];gx=group.x||0;gy=group.y||0;g.save();g.translate(gx,gy);if(group.clip){g.beginPath();g.rect(0,0,group.width||0,group.height||0);g.clip()}if(bounds)bounds.translate(-gx,-gy);for(j=0,m=axes.length;j<m;++j){if(axes[j].def.layer==="back"){renderer.draw(g,axes[j],bounds)}}for(j=0,m=group.items.length;j<m;++j){renderer.draw(g,group.items[j],bounds)}for(j=0,m=axes.length;j<m;++j){if(axes[j].def.layer!=="back"){renderer.draw(g,axes[j],bounds)}}for(j=0,m=legends.length;j<m;++j){renderer.draw(g,legends[j],bounds)}if(bounds)bounds.translate(gx,gy);g.restore()}}function color(g,o,value){return value.id?gradient(g,value,o.bounds):value}function gradient(g,p,b){var w=b.width(),h=b.height(),x1=b.x1+p.x1*w,y1=b.y1+p.y1*h,x2=b.x1+p.x2*w,y2=b.y1+p.y2*h,grad=g.createLinearGradient(x1,y1,x2,y2),stop=p.stops,i,n;for(i=0,n=stop.length;i<n;++i){grad.addColorStop(stop[i].offset,stop[i].color)}return grad}function pickGroup(g,scene,x,y,gx,gy){if(scene.items.length===0||scene.bounds&&!scene.bounds.contains(gx,gy)){return false}var items=scene.items,subscene,group,hit,dx,dy,handler=this,i,j;for(i=items.length;--i>=0;){group=items[i];dx=group.x||0;dy=group.y||0;g.save();g.translate(dx,dy);for(j=group.items.length;--j>=0;){subscene=group.items[j];if(subscene.interactive===false)continue;hit=handler.pick(subscene,x,y,gx-dx,gy-dy);if(hit){g.restore();return hit}}g.restore()}return scene.interactive?pickAll(hitTests.group,g,scene,x,y,gx,gy):false}function pickAll(test,g,scene,x,y,gx,gy){if(!scene.items.length)return false;var o,b,i;if(g._ratio!==1){x*=g._ratio;y*=g._ratio}for(i=scene.items.length;--i>=0;){o=scene.items[i];b=o.bounds;if(b&&!b.contains(gx,gy)||!b)continue;if(test(g,o,x,y,gx,gy))return o}return false}function pickArea(g,scene,x,y,gx,gy){if(!scene.items.length)return false;var items=scene.items,o,b,i,di,dd,od,dx,dy;b=items[0].bounds;if(b&&!b.contains(gx,gy))return false;if(g._ratio!==1){x*=g._ratio;y*=g._ratio}if(!hitTests.area(g,items,x,y))return false;return items[0]}function pickLine(g,scene,x,y,gx,gy){if(!scene.items.length)return false;var items=scene.items,o,b,i,di,dd,od,dx,dy;b=items[0].bounds;if(b&&!b.contains(gx,gy))return false;if(g._ratio!==1){x*=g._ratio;y*=g._ratio}if(!hitTests.line(g,items,x,y))return false;return items[0]}function pick(test){return function(g,scene,x,y,gx,gy){return pickAll(test,g,scene,x,y,gx,gy)}}function textHit(g,o,x,y,gx,gy){if(!o.fontSize)return false;if(!o.angle)return true;var b=vg.scene.bounds.text(o,tmpBounds,true),a=-o.angle*Math.PI/180,cos=Math.cos(a),sin=Math.sin(a),x=o.x,y=o.y,px=cos*gx-sin*gy+(x-x*cos+y*sin),py=sin*gx+cos*gy+(y-x*sin-y*cos);return b.contains(px,py)}var hitTests={text:textHit,rect:function(g,o,x,y){return true},image:function(g,o,x,y){return true},group:function(g,o,x,y){return o.fill||o.stroke},rule:function(g,o,x,y){if(!g.isPointInStroke)return false;ruleStroke(g,o);return g.isPointInStroke(x,y)},line:function(g,s,x,y){if(!g.isPointInStroke)return false;lineStroke(g,s);return g.isPointInStroke(x,y)},arc:function(g,o,x,y){arcPath(g,o);return g.isPointInPath(x,y)},area:function(g,s,x,y){areaPath(g,s);return g.isPointInPath(x,y)},path:function(g,o,x,y){pathPath(g,o);return g.isPointInPath(x,y)},symbol:function(g,o,x,y){symbolPath(g,o);return g.isPointInPath(x,y)}};return{draw:{group:drawGroup,area:drawOne(areaPath),line:drawOne(linePath),arc:drawAll(arcPath),path:drawAll(pathPath),symbol:drawAll(symbolPath),rect:drawRect,rule:drawRule,text:drawText,image:drawImage,drawOne:drawOne,drawAll:drawAll},pick:{group:pickGroup,area:pickArea,line:pickLine,arc:pick(hitTests.arc),path:pick(hitTests.path),symbol:pick(hitTests.symbol),rect:pick(hitTests.rect),rule:pick(hitTests.rule),text:pick(hitTests.text),image:pick(hitTests.image),pickAll:pickAll}}}();vg.canvas.Renderer=function(){var renderer=function(){this._ctx=null;this._el=null;this._bgcolor=null;this._imgload=0};var prototype=renderer.prototype;prototype.initialize=function(el,width,height,pad,bgcolor){this._el=el;this.background(bgcolor);if(!el)return this;var canvas=d3.select(el).selectAll("canvas.marks").data([1]);canvas.enter().append("canvas").attr("class","marks");canvas.exit().remove();return this.resize(width,height,pad)};prototype.background=function(bgcolor){this._bgcolor=bgcolor;return this};prototype.resize=function(width,height,pad){this._width=width;this._height=height;this._padding=pad;if(this._el){var canvas=d3.select(this._el).select("canvas.marks");canvas.attr("width",width+pad.left+pad.right).attr("height",height+pad.top+pad.bottom);var s;this._ctx=canvas.node().getContext("2d");this._ctx._ratio=s=scaleCanvas(canvas.node(),this._ctx)||1;this._ctx.setTransform(s,0,0,s,s*pad.left,s*pad.top)}initializeLineDash(this._ctx);return this};function scaleCanvas(canvas,ctx){var devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1,ratio=devicePixelRatio/backingStoreRatio;if(devicePixelRatio!==backingStoreRatio){var w=canvas.width,h=canvas.height;
canvas.setAttribute("width",w*ratio);canvas.setAttribute("height",h*ratio);canvas.style.width=w+"px";canvas.style.height=h+"px"}return ratio}function initializeLineDash(ctx){if(ctx.vgLineDash)return;var NODASH=[];if(ctx.setLineDash){ctx.vgLineDash=function(dash){this.setLineDash(dash||NODASH)};ctx.vgLineDashOffset=function(off){this.lineDashOffset=off}}else if(ctx.webkitLineDash!==undefined){ctx.vgLineDash=function(dash){this.webkitLineDash=dash||NODASH};ctx.vgLineDashOffset=function(off){this.webkitLineDashOffset=off}}else if(ctx.mozDash!==undefined){ctx.vgLineDash=function(dash){this.mozDash=dash};ctx.vgLineDashOffset=function(off){}}else{ctx.vgLineDash=function(dash){};ctx.vgLineDashOffset=function(off){}}}prototype.context=function(ctx){if(ctx){this._ctx=ctx;return this}else return this._ctx};prototype.element=function(){return this._el};prototype.pendingImages=function(){return this._imgload};function translatedBounds(item,bounds){var b=new vg.Bounds(bounds);while((item=item.mark.group)!=null){b.translate(item.x||0,item.y||0)}return b}function getBounds(items){return!items?null:vg.array(items).reduce(function(b,item){return b.union(translatedBounds(item,item.bounds)).union(translatedBounds(item,item["bounds:prev"]))},new vg.Bounds)}function setBounds(g,bounds){var bbox=null;if(bounds){bbox=new vg.Bounds(bounds).round();g.beginPath();g.rect(bbox.x1,bbox.y1,bbox.width(),bbox.height());g.clip()}return bbox}prototype.render=function(scene,items){var g=this._ctx,pad=this._padding,w=this._width+pad.left+pad.right,h=this._height+pad.top+pad.bottom,bb=null,bb2;this._scene=scene;g.save();bb=setBounds(g,getBounds(items));this.clear(-pad.left,-pad.top,w,h);this.draw(g,scene,bb);if(items){g.restore();g.save();bb2=setBounds(g,getBounds(items));if(!bb.encloses(bb2)){this.clear(-pad.left,-pad.top,w,h);this.draw(g,scene,bb2)}}g.restore();this._scene=null};prototype.draw=function(ctx,scene,bounds){var marktype=scene.marktype,renderer=vg.canvas.marks.draw[marktype];renderer.call(this,ctx,scene,bounds)};prototype.clear=function(x,y,w,h){var g=this._ctx;g.clearRect(x,y,w,h);if(this._bgcolor!=null){g.fillStyle=this._bgcolor;g.fillRect(x,y,w,h)}};prototype.renderAsync=function(scene){var renderer=this;if(renderer._async_id){clearTimeout(renderer._async_id)}renderer._async_id=setTimeout(function(){renderer.render(scene);delete renderer._async_id},50)};prototype.loadImage=function(uri){var renderer=this,scene=renderer._scene,image=null,url;if(vg.config.isNode){renderer._imgload+=1;image=new(require("canvas").Image);vg.data.load(uri,function(err,data){renderer._imgload-=1;if(err){vg.error(err);return}vg.log("LOAD IMAGE: "+uri);image.src=data;image.loaded=true})}else{image=new Image;url=vg.data.load.sanitizeUrl(uri);if(!url){return}renderer._imgload+=1;image.onload=function(){vg.log("LOAD IMAGE: "+url);image.loaded=true;renderer._imgload-=1;renderer.renderAsync(scene)};image.src=url}return image};return renderer}();vg.canvas.Handler=function(){var handler=function(el,model){this._active=null;this._down=null;this._handlers={};if(el)this.initialize(el);if(model)this.model(model)};var prototype=handler.prototype;prototype.initialize=function(el,pad,obj){this._el=d3.select(el).node();this._canvas=d3.select(el).select("canvas.marks").node();this._padding=pad;this._obj=obj||null;var canvas=this._canvas,that=this;events.forEach(function(type){canvas.addEventListener(type,function(evt){prototype[type].call(that,evt)})});return this};prototype.padding=function(pad){this._padding=pad;return this};prototype.model=function(model){if(!arguments.length)return this._model;this._model=model;return this};prototype.handlers=function(){var h=this._handlers;return vg.keys(h).reduce(function(a,k){return h[k].reduce(function(a,x){return a.push(x),a},a)},[])};var events=["mouseup","dblclick","wheel","keydown","keypress","keyup","mousewheel"];events.forEach(function(type){prototype[type]=function(evt){this.fire(type,evt)}});events.push("mousedown");events.push("mousemove");events.push("mouseout");events.push("click");function eventName(name){var i=name.indexOf(".");return i<0?name:name.slice(0,i)}prototype.mousemove=function(evt){var pad=this._padding,b=evt.target.getBoundingClientRect(),x=evt.clientX-b.left,y=evt.clientY-b.top,a=this._active,p=this.pick(this._model.scene(),x,y,x-pad.left,y-pad.top);if(p===a){this.fire("mousemove",evt);return}else if(a){this.fire("mouseout",evt)}this._active=p;if(p){this.fire("mouseover",evt)}};prototype.mouseout=function(evt){if(this._active){this.fire("mouseout",evt)}this._active=null};prototype.mousedown=function(evt){this._down=this._active;this.fire("mousedown",evt)};prototype.click=function(evt){if(this._down===this._active){this.fire("click",evt);this._down=null}};prototype.DOMMouseScroll=function(evt){this.fire("mousewheel",evt)};prototype.fire=function(type,evt){var a=this._active,h=this._handlers[type];if(a&&h){for(var i=0,len=h.length;i<len;++i){h[i].handler.call(this._obj,evt,a)}}};prototype.on=function(type,handler){var name=eventName(type),h=this._handlers;h=h[name]||(h[name]=[]);h.push({type:type,handler:handler});return this};prototype.off=function(type,handler){var name=eventName(type),h=this._handlers[name];if(!h)return;for(var i=h.length;--i>=0;){if(h[i].type!==type)continue;if(!handler||h[i].handler===handler)h.splice(i,1)}return this};prototype.context=function(){return this._canvas.getContext("2d")};prototype.pick=function(scene,x,y,gx,gy){var g=this.context(),marktype=scene.marktype,picker=vg.canvas.marks.pick[marktype];return picker.call(this,g,scene,x,y,gx,gy)};return handler}();vg.svg={};vg.svg.marks=function(){function x(o){return o.x||0}function y(o){return o.y||0}function xw(o){return o.x+o.width||0}function yh(o){return o.y+o.height||0}function key(o){return o.key}function size(o){return o.size==null?100:o.size}function shape(o){return o.shape||"circle"}var arc_path=d3.svg.arc(),area_path_v=d3.svg.area().x(x).y1(y).y0(yh),area_path_h=d3.svg.area().y(y).x0(xw).x1(x),line_path=d3.svg.line().x(x).y(y),symbol_path=d3.svg.symbol().type(shape).size(size);var mark_id=0,clip_id=0;var textAlign={left:"start",center:"middle",right:"end"};var styles={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"};var styleProps=vg.keys(styles);function style(d){var i,n,prop,name,value,o=d.mark?d:d.length?d[0]:null;if(o===null)return;for(i=0,n=styleProps.length;i<n;++i){prop=styleProps[i];name=styles[prop];value=o[prop];if(value==null){if(name==="fill")this.style.setProperty(name,"none",null);else this.style.removeProperty(name)}else{if(value.id){vg.svg._cur._defs.gradient[value.id]=value;value="url("+window.location.href+"#"+value.id+")"}this.style.setProperty(name,value+"",null)}}}function arc(o){var x=o.x||0,y=o.y||0;this.setAttribute("transform","translate("+x+","+y+")");this.setAttribute("d",arc_path(o))}function area(items){if(!items.length)return;var o=items[0],path=o.orient==="horizontal"?area_path_h:area_path_v;path.interpolate(o.interpolate||"linear").tension(o.tension==null?.7:o.tension);this.setAttribute("d",path(items))}function line(items){if(!items.length)return;var o=items[0];line_path.interpolate(o.interpolate||"linear").tension(o.tension==null?.7:o.tension);this.setAttribute("d",line_path(items))}function path(o){var x=o.x||0,y=o.y||0;this.setAttribute("transform","translate("+x+","+y+")");if(o.path!=null)this.setAttribute("d",o.path)}function rect(o){this.setAttribute("x",o.x||0);this.setAttribute("y",o.y||0);this.setAttribute("width",o.width||0);this.setAttribute("height",o.height||0)}function rule(o){var x1=o.x||0,y1=o.y||0;this.setAttribute("x1",x1);this.setAttribute("y1",y1);this.setAttribute("x2",o.x2!=null?o.x2:x1);this.setAttribute("y2",o.y2!=null?o.y2:y1)}function symbol(o){var x=o.x||0,y=o.y||0;this.setAttribute("transform","translate("+x+","+y+")");this.setAttribute("d",symbol_path(o))}function image(o){var w=o.width||o.image&&o.image.width||0,h=o.height||o.image&&o.image.height||0,x=o.x-(o.align==="center"?w/2:o.align==="right"?w:0),y=o.y-(o.baseline==="middle"?h/2:o.baseline==="bottom"?h:0),url=vg.data.load.sanitizeUrl(o.url);if(url){this.setAttributeNS("http://www.w3.org/1999/xlink","href",url)}this.setAttribute("x",x);this.setAttribute("y",y);this.setAttribute("width",w);this.setAttribute("height",h)}function fontString(o){var f=(o.fontStyle?o.fontStyle+" ":"")+(o.fontVariant?o.fontVariant+" ":"")+(o.fontWeight?o.fontWeight+" ":"")+(o.fontSize!=null?o.fontSize:vg.config.render.fontSize)+"px "+(o.font||vg.config.render.font);return f}function text(o){var x=o.x||0,y=o.y||0,dx=o.dx||0,dy=o.dy||0,a=o.angle||0,r=o.radius||0,align=textAlign[o.align||"left"],base=o.baseline==="top"?".9em":o.baseline==="middle"?".35em":0;if(r){var t=(o.theta||0)-Math.PI/2;x+=r*Math.cos(t);y+=r*Math.sin(t)}this.setAttribute("x",x+dx);this.setAttribute("y",y+dy);this.setAttribute("text-anchor",align);if(a)this.setAttribute("transform","rotate("+a+" "+x+","+y+")");else this.removeAttribute("transform");if(base)this.setAttribute("dy",base);else this.removeAttribute("dy");this.textContent=o.text;this.style.setProperty("font",fontString(o),null)}function group(o){var x=o.x||0,y=o.y||0;this.setAttribute("transform","translate("+x+","+y+")");if(o.clip){var c={width:o.width||0,height:o.height||0},id=o.clip_id||(o.clip_id="clip"+clip_id++);vg.svg._cur._defs.clipping[id]=c;this.setAttribute("clip-path","url(#"+id+")")}}function group_bg(o){var w=o.width||0,h=o.height||0;this.setAttribute("width",w);this.setAttribute("height",h)}function cssClass(def){var cls="type-"+def.type;if(def.name)cls+=" "+def.name;return cls}function draw(tag,attr,nest){return function(g,scene,index){drawMark(g,scene,index,tag,attr,nest)}}function drawMark(g,scene,index,tag,attr,nest){var data=nest?[scene.items]:scene.items,evts=scene.interactive===false?"none":null,grps=g.node().childNodes,notG=tag!=="g",p=(p=grps[index+1])?d3.select(p):g.append("g").attr("id","g"+ ++mark_id).attr("class",cssClass(scene.def));var id=p.attr("id"),s="#"+id+" > "+tag,m=p.selectAll(s).data(data),e=m.enter().append(tag);if(notG){p.style("pointer-events",evts);e.each(function(d){if(d.mark)d._svg=this;else if(d.length)d[0]._svg=this})}else{e.append("rect").attr("class","background").style("pointer-events",evts)}m.exit().remove();m.each(attr);if(notG)m.each(style);else p.selectAll(s+" > rect.background").each(group_bg).each(style);return p}function drawGroup(g,scene,index){var p=drawMark(g,scene,index,"g",group),c=p.node().childNodes,n=c.length,i,j,m;for(i=0;i<n;++i){var items=c[i].__data__.items,legends=c[i].__data__.legendItems||[],axes=c[i].__data__.axisItems||[],sel=d3.select(c[i]),idx=0;for(j=0,m=axes.length;j<m;++j){if(axes[j].def.layer==="back"){drawGroup.call(this,sel,axes[j],idx++)}}for(j=0,m=items.length;j<m;++j){this.draw(sel,items[j],idx++)}for(j=0,m=axes.length;j<m;++j){if(axes[j].def.layer!=="back"){drawGroup.call(this,sel,axes[j],idx++)}}for(j=0,m=legends.length;j<m;++j){drawGroup.call(this,sel,legends[j],idx++)}}}return{update:{group:rect,area:area,line:line,arc:arc,path:path,symbol:symbol,rect:rect,rule:rule,text:text,image:image},nested:{area:true,line:true},style:style,draw:{group:drawGroup,area:draw("path",area,true),line:draw("path",line,true),arc:draw("path",arc),path:draw("path",path),symbol:draw("path",symbol),rect:draw("rect",rect),rule:draw("line",rule),text:draw("text",text),image:draw("image",image),draw:draw}}}();vg.svg.Renderer=function(){var renderer=function(){this._svg=null;this._ctx=null;this._el=null;this._defs={gradient:{},clipping:{}}};var prototype=renderer.prototype;prototype.initialize=function(el,width,height,pad,bgcolor){this._el=el;d3.select(el).select("svg.marks").remove();this._svg=d3.select(el).append("svg").attr("class","marks");if(bgcolor!=null){this._svg.style("background-color",bgcolor)}this._ctx=this._svg.append("g");return this.resize(width,height,pad)};prototype.resize=function(width,height,pad){this._width=width;this._height=height;this._padding=pad;this._svg.attr("width",width+pad.left+pad.right).attr("height",height+pad.top+pad.bottom);this._ctx.attr("transform","translate("+pad.left+","+pad.top+")");return this};prototype.context=function(){return this._ctx};prototype.element=function(){return this._el};prototype.updateDefs=function(){var svg=this._svg,all=this._defs,dgrad=vg.keys(all.gradient),dclip=vg.keys(all.clipping),defs=svg.select("defs"),grad,clip;if(dgrad.length===0&&dclip.length==0){defs.remove();return}if(defs.empty())defs=svg.insert("defs",":first-child");grad=defs.selectAll("linearGradient").data(dgrad,vg.identity);grad.enter().append("linearGradient").attr("id",vg.identity);grad.exit().remove();grad.each(function(id){var def=all.gradient[id],grd=d3.select(this);grd.attr({x1:def.x1,x2:def.x2,y1:def.y1,y2:def.y2});stop=grd.selectAll("stop").data(def.stops);stop.enter().append("stop");stop.exit().remove();stop.attr("offset",function(d){return d.offset}).attr("stop-color",function(d){return d.color})});clip=defs.selectAll("clipPath").data(dclip,vg.identity);clip.enter().append("clipPath").attr("id",vg.identity);clip.exit().remove();clip.each(function(id){var def=all.clipping[id],cr=d3.select(this).selectAll("rect").data([1]);cr.enter().append("rect");cr.attr("x",0).attr("y",0).attr("width",def.width).attr("height",def.height)})};prototype.render=function(scene,items){vg.svg._cur=this;if(items){this.renderItems(vg.array(items))}else{this.draw(this._ctx,scene,-1)}this.updateDefs();delete vg.svg._cur};prototype.renderItems=function(items){var item,node,type,nest,i,n,marks=vg.svg.marks;for(i=0,n=items.length;i<n;++i){item=items[i];node=item._svg;type=item.mark.marktype;item=marks.nested[type]?item.mark.items:item;marks.update[type].call(node,item);marks.style.call(node,item)}};prototype.draw=function(ctx,scene,index){var marktype=scene.marktype,renderer=vg.svg.marks.draw[marktype];renderer.call(this,ctx,scene,index)};return renderer}();vg.svg.Handler=function(){var handler=function(el,model){this._active=null;this._handlers={};if(el)this.initialize(el);if(model)this.model(model)};function svgHandler(handler){var that=this;return function(evt){var target=evt.target,item=target.__data__;if(item){item=item.mark?item:item[0];handler.call(that._obj,evt,item)}}}function eventName(name){var i=name.indexOf(".");return i<0?name:name.slice(0,i)}var prototype=handler.prototype;prototype.initialize=function(el,pad,obj){this._el=d3.select(el).node();this._svg=d3.select(el).select("svg.marks").node();this._padding=pad;this._obj=obj||null;return this};prototype.padding=function(pad){this._padding=pad;return this};prototype.model=function(model){if(!arguments.length)return this._model;this._model=model;return this};prototype.handlers=function(){var h=this._handlers;return vg.keys(h).reduce(function(a,k){return h[k].reduce(function(a,x){return a.push(x),a},a)},[])};prototype.on=function(type,handler){var name=eventName(type),h=this._handlers,dom=d3.select(this._svg).node();var x={type:type,handler:handler,svg:svgHandler.call(this,handler)};h=h[name]||(h[name]=[]);h.push(x);dom.addEventListener(name,x.svg);return this};prototype.off=function(type,handler){var name=eventName(type),h=this._handlers[name],dom=d3.select(this._svg).node();if(!h)return;for(var i=h.length;--i>=0;){if(h[i].type!==type)continue;if(!handler||h[i].handler===handler){dom.removeEventListener(name,h[i].svg);h.splice(i,1)}}return this};return handler}();vg.data={};vg.data.ingestAll=function(data){return vg.isTree(data)?vg_make_tree(vg.data.ingestTree(data[0],data.children)):data.map(vg.data.ingest)};vg.data.ingest=function(datum,index){return{data:datum,index:index}};vg.data.ingestTree=function(node,children,index){var d=vg.data.ingest(node,index||0),c=node[children],n,i;if(c&&(n=c.length)){d.values=Array(n);for(i=0;i<n;++i){d.values[i]=vg.data.ingestTree(c[i],children,i)}}return d};function vg_make_tree(d){d.__vgtree__=true;d.nodes=function(){return vg_tree_nodes(this,[])};return d}function vg_tree_nodes(root,nodes){var c=root.values,n=c?c.length:0,i;nodes.push(root);for(i=0;i<n;++i){vg_tree_nodes(c[i],nodes)}return nodes}function vg_data_duplicate(d){var x=d,i,n;if(vg.isArray(d)){x=[];for(i=0,n=d.length;i<n;++i){x.push(vg_data_duplicate(d[i]))}}else if(vg.isObject(d)){x={};for(i in d){x[i]=vg_data_duplicate(d[i])}}return x}vg.data.mapper=function(func){return function(data){data.forEach(func);return data}};vg.data.size=function(size,group){size=vg.isArray(size)?size:[0,size];size=size.map(function(d){return typeof d==="string"?group[d]:d});return size};vg.data.load=function(){var protocolRE=/^([A-Za-z]+:)?\/\//;var fileProtocol="file://";function sanitizeUrl(url){if(vg.config.baseURL&&!protocolRE.test(url)){if(!vg.startsWith(url,"/")&&vg.config.baseURL[vg.config.baseURL.length-1]!=="/"){url="/"+url}url=vg.config.baseURL+url}if(vg.config.isNode&&vg.startsWith(url,"//")){url=vg.config.defaultProtocol+url}if(vg.config.domainWhiteList){var domain,origin;if(vg.config.isNode){var parts=require("url").parse(url);if(vg.config.safeMode&&parts.protocol!=="http:"&&parts.protocol!=="https:"){return false}domain=parts.hostname;origin=null}else{var a=document.createElement("a");a.href=url;if(a.host==""){a.href=a.href}domain=a.hostname.toLowerCase();origin=window.location.hostname}if(origin!==domain){var whiteListed=vg.config.domainWhiteList.some(function(d){var idx=domain.length-d.length;return d===domain||idx>1&&domain[idx-1]==="."&&domain.lastIndexOf(d)===idx});if(!whiteListed){vg.error("URL is not whitelisted: "+url);url=false}}}return url}function load(uri,callback){var url=vg.data.load.sanitizeUrl(uri);if(!url){callback("Bad URL",null)}else if(!vg.config.isNode){xhr(url,callback)}else if(vg.startsWith(url,fileProtocol)){file(url.slice(fileProtocol.length),callback)}else{http(url,callback)}}function xhr(url,callback){vg.log("LOAD XHR: "+url);d3.xhr(url,function(err,resp){if(resp)resp=resp.responseText;callback(err,resp)})}function file(file,callback){vg.log("LOAD FILE: "+file);require("fs").readFile(file,callback)}function http(url,callback){vg.log("LOAD HTTP: "+url);var req=require("request")(url,function(error,response,body){if(!error&&response.statusCode===200){callback(null,body)}else{callback(error,null)}})}load.sanitizeUrl=sanitizeUrl;return load}();vg.data.read=function(){var formats={},parsers={number:vg.number,"boolean":vg.boolean,date:vg.date};function read(data,format){var type=format&&format.type||"json";data=formats[type](data,format);if(format&&format.parse)parseValues(data,format.parse);return data}formats.json=function(data,format){var d=vg.isObject(data)?data:JSON.parse(data);if(format&&format.property){d=vg.accessor(format.property)(d)}return d};formats.csv=function(data,format){var d=d3.csv.parse(data);return d};formats.tsv=function(data,format){var d=d3.tsv.parse(data);return d};formats.topojson=function(data,format){if(topojson==null){vg.error("TopoJSON library not loaded.");return[]}var t=vg.isObject(data)?data:JSON.parse(data),obj=[];if(format&&format.feature){obj=(obj=t.objects[format.feature])?topojson.feature(t,obj).features:(vg.error("Invalid TopoJSON object: "+format.feature),[])}else if(format&&format.mesh){obj=(obj=t.objects[format.mesh])?[topojson.mesh(t,t.objects[format.mesh])]:(vg.error("Invalid TopoJSON object: "+format.mesh),[])}else{vg.error("Missing TopoJSON feature or mesh parameter.")}return obj};formats.treejson=function(data,format){data=vg.isObject(data)?data:JSON.parse(data);return vg.tree(data,format.children)};function parseValues(data,types){var cols=vg.keys(types),p=cols.map(function(col){return parsers[types[col]]}),tree=vg.isTree(data);vg_parseArray(tree?[data]:data,cols,p,tree)}function vg_parseArray(data,cols,p,tree){var d,i,j,len,clen;for(i=0,len=data.length;i<len;++i){d=data[i];for(j=0,clen=cols.length;j<clen;++j){d[cols[j]]=p[j](d[cols[j]])}if(tree&&d.values)parseValues(d,cols,p,true)}}read.formats=formats;read.parse=parseValues;return read}();vg.data.aggregate=function(){var SUM=1,AVG=2,DEV=4,MIN=8,MAX=16,VAL=32;function Monoid(field){this.field=field;this.ops=[];this.flags=0;this.count=0}Monoid.prototype.clone=function(){var clone=new Monoid(this.field),k,v;for(k in this){v=this[k];clone[k]=vg.isArray(v)?v.slice():v}return clone};Monoid.prototype.init=function(op){if(op==="sum"){this.flags|=SUM;this.sum=0}else if(op==="avg"){this.flags|=AVG;this.avg=0}else if(op==="var"||op==="std"){this.flags|=DEV|AVG;this.avg=0;this.dev=0}else if(op==="min"){this.flags|=MIN;this.min=+Infinity}else if(op==="max"){this.flags|=MAX;this.max=-Infinity}else if(op==="median"){this.flags|=VAL;this.vals=[]}this.ops.push(op)};Monoid.prototype.update=function(v){var m=this,f=m.flags,d;m.count+=1;if(f&SUM){m.sum+=v}if(f&AVG){d=v-m.avg;m.avg+=d/m.count}if(f&DEV){m.dev+=d*(v-m.avg)}if(f&MIN){m.min=v<m.min?v:m.min}if(f&MAX){m.max=v>m.max?v:m.max}if(f&VAL){m.vals.push(v)}};Monoid.prototype.value=function(op){switch(op){case"sum":return this.sum;case"avg":return this.avg;case"var":return this.dev/(this.count-1);case"std":return Math.sqrt(this.dev/(this.count-1));case"min":return this.min;case"max":return this.max;case"median":var v=this.vals,n=v.length,hn=~~(n/2);return n?n%2?v[hn]:.5*(v[hn-1]+v[hn]):0}};Monoid.prototype.done=function(o){if(this.vals)this.vals.sort(vg.numcmp);var ops=this.ops;for(var i=0;i<ops.length;++i){if(ops[i]==="count"){o["count"]=this.count}else{o[ops[i]+"_"+this.field]=this.value(ops[i])}}return o};return function(){var groupby=[],cells={},monoids,gaccess,faccess;function cell(x){var k=vg.keystr(gaccess.map(function(f){return f(x)}));return cells[k]||(cells[k]=new_cell(x))}function new_cell(x){var c=monoids.map(function(m){return m.clone()});c.data={};for(i=0;i<groupby.length;++i){c.data[groupby[i]]=gaccess[i](x)}return c}function aggregate(input){var k,i,j,x,c;for(i=0;i<input.length;++i){x=input[i];c=cell(x);for(j=0;j<c.length;++j){c[j].update(faccess[j](x))}}var output=[],index=0;for(k in cells){c=cells[k];for(i=0;i<c.length;++i){c[i].done(c.data)}output.push({index:index++,data:c.data})}cells={};return output}aggregate.fields=function(f){var map={};faccess=[];monoids=vg.array(f).reduce(function(m,x){var xf=x.field,f;if(!map[xf]){faccess.push(vg.accessor(xf));f=xf.indexOf("data.")===0?xf.slice(5):xf;m.push(map[xf]=new Monoid(f))}map[xf].init(x.op);return m},[]);return aggregate};aggregate.groupby=function(f){groupby=vg.array(f);gaccess=groupby.map(function(x,i){if(x.indexOf("data.")===0){groupby[i]=x.slice(5)}return vg.accessor(x)});return aggregate};return aggregate}}();vg.data.array=function(){var fields=[];function array(data){return data.map(function(d){var list=[];for(var i=0,len=fields.length;i<len;++i){list.push(fields[i](d))}return list})}array.fields=function(fieldList){fields=vg.array(fieldList).map(vg.accessor);return array};return array};vg.data.bin=function(){var field,accessor,setter,min=undefined,max=undefined,step=undefined,maxbins=20,output="bin";function bin(input){var opt={min:min!=null?min:+Infinity,max:max!=null?max:-Infinity,step:step!=null?step:null,maxbins:maxbins};if(min==null||max==null){input.forEach(function(d){var v=accessor(d);if(min==null&&v>opt.max)opt.max=v;if(max==null&&v<opt.min)opt.min=v})}var b=vg.bins(opt);input.forEach(function(d){var v=accessor(d);setter(d,b.start+b.step*~~((v-b.start)/b.step))});return input}bin.min=function(x){min=x;return bin};bin.max=function(x){max=x;return bin};bin.step=function(x){step=x;return bin};bin.maxbins=function(x){maxbins=x;return bin};bin.field=function(f){field=f;accessor=vg.accessor(f);return bin};bin.output=function(f){output=f;setter=vg.mutator(f);return bin};return bin};vg.data.copy=function(){var from=vg.accessor("data"),fields=[],as=null;var copy=vg.data.mapper(function(d){var src=from(d),i,len,source=fields,target=as||fields;for(i=0,len=fields.length;i<len;++i){d[target[i]]=src[fields[i]]}return d});copy.from=function(field){from=vg.accessor(field);return copy};copy.fields=function(fieldList){fields=vg.array(fieldList);return copy};copy.as=function(fieldList){as=vg.array(fieldList);return copy};return copy};vg.data.cross=function(){var other=null,nodiag=false,output={left:"a",right:"b"};function cross(data){var result=[],data2=other||data,o,i,j,n=data.length;for(i=0;i<n;++i){for(j=0;j<n;++j){if(nodiag&&i===j)continue;o={};o[output.left]=data[i];o[output.right]=data2[j];result.push(o)}}return result}cross["with"]=function(d){other=d;return cross};cross.diagonal=function(x){nodiag=!x;return cross};cross.output=function(map){vg.keys(output).forEach(function(k){if(map[k]!==undefined){output[k]=map[k]}});return cross};return cross};vg.data.facet=function(){var keys=[],sort=null;function facet(data){var result={key:"",keys:[],values:[]},map={},vals=result.values,obj,klist,kstr,len,i;if(keys.length===0){vals.push(obj={key:"",keys:[],index:0,values:sort?data.slice():data});if(sort)sort(obj.values);return result}for(i=0,len=data.length;i<len;++i){klist=keys.map(function(f){return f(data[i])});kstr=vg.keystr(klist);obj=map[kstr];if(obj===undefined){vals.push(obj=map[kstr]={key:kstr,keys:klist,index:vals.length,values:[]})}obj.values.push(data[i])}if(sort){for(i=0,len=vals.length;i<len;++i){sort(vals[i].values)}}return result}facet.keys=function(k){keys=vg.array(k).map(vg.accessor);return facet};facet.sort=function(s){sort=vg.data.sort().by(s);return facet};return facet};vg.data.filter=function(){var test=null;function filter(data){return test?data.filter(test):data}filter.test=function(func){test=vg.isFunction(func)?func:vg.parse.expr(func);return filter};return filter};vg.data.flatten=function(){function flatten(data){return flat(data,[])}function flat(data,list){if(data.values){for(var i=0,n=data.values.length;i<n;++i){flat(data.values[i],list)}}else{list.push(data)}return list}return flatten};vg.data.fold=function(){var fields=[],accessors=[],output={key:"key",value:"value"};function fold(data){var values=[],item,i,j,n,m=fields.length;for(i=0,n=data.length;i<n;++i){item=data[i];for(j=0;j<m;++j){var o={index:values.length,data:item.data};o[output.key]=fields[j];o[output.value]=accessors[j](item);values.push(o)}}return values}fold.fields=function(f){fields=vg.array(f);accessors=fields.map(vg.accessor);return fold};fold.output=function(map){vg.keys(output).forEach(function(k){if(map[k]!==undefined){output[k]=map[k]}});return fold};return fold};vg.data.force=function(){var layout=d3.layout.force(),links=null,linkDistance=20,linkStrength=1,charge=-30,iterations=500,size=["width","height"],params=["friction","theta","gravity","alpha"];function force(data,db,group){layout.size(vg.data.size(size,group)).nodes(data);if(links&&db[links]){layout.links(db[links])}layout.start();for(var i=0;i<iterations;++i){layout.tick()}layout.stop();return data}force.links=function(dataSetName){links=dataSetName;return force};force.size=function(sz){size=sz;return force};force.linkDistance=function(field){linkDistance=typeof field==="number"?field:vg.accessor(field);layout.linkDistance(linkDistance);return force};force.linkStrength=function(field){linkStrength=typeof field==="number"?field:vg.accessor(field);layout.linkStrength(linkStrength);return force};force.charge=function(field){charge=typeof field==="number"?field:vg.accessor(field);layout.charge(charge);return force};force.iterations=function(iter){iterations=iter;return force};params.forEach(function(name){force[name]=function(x){layout[name](x);return force}});return force};vg.data.force.dependencies=["links"];vg.data.formula=function(){return function(){var field=null,expr=vg.identity,setter;var formula=vg.data.mapper(function(d,i,list){if(field){setter(d,expr.call(null,d,i,list))}return d});formula.field=function(name){field=name;setter=vg.mutator(field);return formula};formula.expr=function(func){expr=vg.isFunction(func)?func:vg.parse.expr(func);return formula};return formula}}();vg.data.geo=function(){var params=["center","scale","translate","rotate","precision","clipAngle"];function geo(){var opt={},projection="mercator",func=d3.geo[projection](),lat=vg.identity,lon=vg.identity,output={x:"x",y:"y"};var map=vg.data.mapper(function(d){var ll=[lon(d),lat(d)],xy=func(ll);d[output.x]=xy[0];d[output.y]=xy[1];return d});map.func=function(){return func};map.projection=function(p){if(projection!==p){projection=p;func=d3.geo[projection]();for(var name in opt){func[name](opt[name])}}return map};params.forEach(function(name){map[name]=function(x){opt[name]=x;func[name](x);return map}});map.lon=function(field){lon=vg.accessor(field);return map};map.lat=function(field){lat=vg.accessor(field);return map};map.output=function(map){vg.keys(output).forEach(function(k){if(map[k]!==undefined){output[k]=map[k]}});return map};return map}geo.params=params;return geo}();vg.data.geopath=function(){var geopath=d3.geo.path().projection(d3.geo.mercator()),projection="mercator",geojson=vg.identity,opt={},output={path:"path"};var map=vg.data.mapper(function(d){d[output.path]=geopath(geojson(d));return d});map.projection=function(proj){if(projection!==proj){projection=proj;var p=d3.geo[projection]();for(var name in opt){p[name](opt[name])}geopath.projection(p)}return map};vg.data.geo.params.forEach(function(name){map[name]=function(x){opt[name]=x;geopath.projection()[name](x);return map}});map.value=function(field){geojson=vg.accessor(field);return map};map.output=function(map){vg.keys(output).forEach(function(k){if(map[k]!==undefined){output[k]=map[k]}});return map};return map};vg.data.link=function(){var shape="line",source=vg.accessor("source"),target=vg.accessor("target"),tension=.2,output={path:"path"};function line(d){var s=source(d),t=target(d);return"M"+s.x+","+s.y+"L"+t.x+","+t.y}function curve(d){var s=source(d),t=target(d),dx=t.x-s.x,dy=t.y-s.y,ix=tension*(dx+dy),iy=tension*(dy-dx);return"M"+s.x+","+s.y+"C"+(s.x+ix)+","+(s.y+iy)+" "+(t.x+iy)+","+(t.y-ix)+" "+t.x+","+t.y}function diagonalX(d){var s=source(d),t=target(d),m=(s.x+t.x)/2;return"M"+s.x+","+s.y+"C"+m+","+s.y+" "+m+","+t.y+" "+t.x+","+t.y}function diagonalY(d){var s=source(d),t=target(d),m=(s.y+t.y)/2;return"M"+s.x+","+s.y+"C"+s.x+","+m+" "+t.x+","+m+" "+t.x+","+t.y}var shapes={line:line,curve:curve,diagonal:diagonalX,diagonalX:diagonalX,diagonalY:diagonalY};function link(data){var path=shapes[shape];data.forEach(function(d){d[output.path]=path(d)});return data}link.shape=function(val){shape=val;return link};link.tension=function(val){tension=val;return link};link.source=function(field){source=vg.accessor(field);return link};link.target=function(field){target=vg.accessor(field);return link};link.output=function(map){vg.keys(output).forEach(function(k){if(map[k]!==undefined){output[k]=map[k]}});return link};return link};vg.data.pie=function(){var one=function(){return 1},value=one,start=0,end=2*Math.PI,sort=false,output={startAngle:"startAngle",endAngle:"endAngle",midAngle:"midAngle"};function pie(data){var values=data.map(function(d,i){return+value(d)}),a=start,k=(end-start)/d3.sum(values),index=d3.range(data.length);if(sort){index.sort(function(a,b){return values[a]-values[b]})}index.forEach(function(i){var d;data[i].value=d=values[i];data[i][output.startAngle]=a;data[i][output.midAngle]=a+.5*d*k;data[i][output.endAngle]=a+=d*k});return data}pie.sort=function(b){sort=b;return pie};pie.value=function(field){value=field?vg.accessor(field):one;return pie};pie.startAngle=function(startAngle){start=Math.PI*startAngle/180;return pie};pie.endAngle=function(endAngle){end=Math.PI*endAngle/180;return pie};pie.output=function(map){vg.keys(output).forEach(function(k){if(map[k]!==undefined){output[k]=map[k]}});return pie};return pie};vg.data.slice=function(){var by=null,field=vg.accessor("data");function slice(data){data=vg.values(data);if(by==="min"){data=[data[vg.minIndex(data,field)]]}else if(by==="max"){data=[data[vg.maxIndex(data,field)]]}else if(by==="median"){var list=data.slice().sort(function(a,b){a=field(a);
b=field(b);return a<b?-1:a>b?1:0});data=[data[~~(list.length/2)]]}else{var idx=vg.array(by);data=data.slice(idx[0],idx[1])}return data}slice.by=function(x){by=x;return slice};slice.field=function(f){field=vg.accessor(f);return slice};return slice};vg.data.sort=function(){var by=null;function sort(data){data=vg.isArray(data)?data:data.values||[];data.sort(by);for(var i=0,n=data.length;i<n;++i)data[i].index=i;return data}sort.by=function(s){by=vg.comparator(s);return sort};return sort};vg.data.stack=function(){var layout=d3.layout.stack(),point=vg.accessor("index"),height=vg.accessor("data"),params=["offset","order"],output={y0:"y2",y1:"y",cy:"cy"};function stack(data){var out_y0=output["y0"],out_y1=output["y1"],out_cy=output["cy"];var series=stacks(data);if(series.length===0)return data;layout.out(function(d,y0,y){if(d.datum){d.datum[out_y0]=y0;d.datum[out_y1]=y+y0;d.datum[out_cy]=y0+y/2}})(series);return data}function stacks(data){var values=vg.values(data),points=[],series=[],a,i,n,j,m,k,p,v,x;if(values.length===0)return series;for(i=0,n=values.length;i<n;++i){a=vg.values(values[i]);for(j=0,m=a.length;j<m;++j){points.push({x:point(a[j]),y:height(a[j]),z:i,datum:a[j]})}series.push([])}points.sort(function(a,b){return a.x<b.x?-1:a.x>b.x?1:a.z<b.z?-1:a.z>b.z?1:0});for(x=points[0].x,i=0,j=0,k=0,n=points.length;k<n;++k){p=points[k];if(p.x!==x){while(i<series.length)series[i++].push({x:j,y:0});x=p.x;i=0;j+=1}while(p.z>i)series[i++].push({x:j,y:0});p.x=j;series[i++].push(p)}while(i<series.length)series[i++].push({x:j,y:0});return series}stack.point=function(field){point=vg.accessor(field);return stack};stack.height=function(field){height=vg.accessor(field);return stack};params.forEach(function(name){stack[name]=function(x){layout[name](x);return stack}});stack.output=function(map){d3.keys(output).forEach(function(k){if(map[k]!==undefined){output[k]=map[k]}});return stack};return stack};vg.data.stats=function(){var value=vg.accessor("data"),assign=false,median=false,output={count:"count",min:"min",max:"max",sum:"sum",mean:"mean",variance:"variance",stdev:"stdev",median:"median"};function reduce(data){var min=+Infinity,max=-Infinity,sum=0,mean=0,M2=0,i,len,v,delta;var list=(vg.isArray(data)?data:data.values||[]).map(value);for(i=0,len=list.length;i<len;++i){v=list[i];if(v<min)min=v;if(v>max)max=v;sum+=v;delta=v-mean;mean=mean+delta/(i+1);M2=M2+delta*(v-mean)}M2=M2/(len-1);var o=vg.isArray(data)?{}:data;if(median){list.sort(vg.numcmp);i=list.length>>1;o[output.median]=list.length%2?list[i]:(list[i-1]+list[i])/2}o[output.count]=len;o[output.min]=min;o[output.max]=max;o[output.sum]=sum;o[output.mean]=mean;o[output.variance]=M2;o[output.stdev]=Math.sqrt(M2);if(assign){list=vg.isArray(data)?data:data.values;v={};v[output.count]=len;v[output.min]=min;v[output.max]=max;v[output.sum]=sum;v[output.mean]=mean;v[output.variance]=M2;v[output.stdev]=Math.sqrt(M2);if(median)v[output.median]=o[output.median];for(i=0,len=list.length;i<len;++i){list[i].stats=v}if(vg.isArray(data))o=list}return o}function stats(data){if(vg.isArray(data)){return reduce(data)}else{return(data.values||[]).map(reduce)}}stats.median=function(bool){median=bool||false;return stats};stats.value=function(field){value=vg.accessor(field);return stats};stats.assign=function(b){assign=b;return stats};stats.output=function(map){vg.keys(output).forEach(function(k){if(map[k]!==undefined){output[k]=map[k]}});return stats};return stats};vg.data.treemap=function(){var layout=d3.layout.treemap().children(function(d){return d.values}),value=vg.accessor("data"),size=["width","height"],params=["round","sticky","ratio","padding"],output={x:"x",y:"y",dx:"width",dy:"height"};function treemap(data,db,group){data=layout.size(vg.data.size(size,group)).value(value).nodes(vg.isTree(data)?data:{values:data});var keys=vg.keys(output),len=keys.length;data.forEach(function(d){var key,val;for(var i=0;i<len;++i){key=keys[i];if(key!==output[key]){val=d[key];delete d[key];d[output[key]]=val}}});return data}treemap.size=function(sz){size=sz;return treemap};treemap.value=function(field){value=vg.accessor(field);return treemap};params.forEach(function(name){treemap[name]=function(x){layout[name](x);return treemap}});treemap.output=function(map){vg.keys(output).forEach(function(k){if(map[k]!==undefined){output[k]=map[k]}});return treemap};return treemap};vg.data.truncate=function(){var value=vg.accessor("data"),as="truncate",position="right",ellipsis="...",wordBreak=true,limit=100,setter;var truncate=vg.data.mapper(function(d){var text=vg.truncate(value(d),limit,position,wordBreak,ellipsis);setter(d,text);return d});truncate.value=function(field){value=vg.accessor(field);return truncate};truncate.output=function(field){as=field;setter=vg.mutator(field);return truncate};truncate.limit=function(len){limit=+len;return truncate};truncate.position=function(pos){position=pos;return truncate};truncate.ellipsis=function(str){ellipsis=str+"";return truncate};truncate.wordbreak=function(b){wordBreak=!!b;return truncate};return truncate};vg.data.unique=function(){var field=null,as="field";function unique(data){return vg.unique(data,field).map(function(x){var o={};o[as]=x;return o})}unique.field=function(f){field=vg.accessor(f);return unique};unique.as=function(x){as=x;return unique};return unique};vg.data.window=function(){var size=2,step=1;function win(data){data=vg.isArray(data)?data:data.values||[];var runs=[],i,j,n=data.length-size,curr;for(i=0;i<=n;i+=step){for(j=0,curr=[];j<size;++j)curr.push(data[i+j]);runs.push({key:i,values:curr})}return{values:runs}}win.size=function(n){size=n;return win};win.step=function(n){step=n;return win};return win};vg.data.wordcloud=function(){var layout=d3.layout.cloud().size([900,500]),text=vg.accessor("data"),size=["width","height"],fontSize=function(){return 14},rotate=function(){return 0},params=["font","fontStyle","fontWeight","padding"];var output={x:"x",y:"y",size:"fontSize",font:"font",rotate:"angle"};function cloud(data,db,group){function finish(tags,bounds){var size=layout.size(),dx=size[0]/2,dy=size[1]/2,keys=vg.keys(output),key,d,i,n,k,m=keys.length;data.sort(function(a,b){return fontSize(b)-fontSize(a)});for(i=0,n=tags.length;i<n;++i){d=data[i];for(k=0;k<m;++k){key=keys[k];d[output[key]]=tags[i][key];if(key==="x")d[output.x]+=dx;if(key==="y")d[output.y]+=dy}}}layout.size(vg.data.size(size,group)).text(text).fontSize(fontSize).rotate(rotate).words(data).on("end",finish).start();return data}cloud.text=function(field){text=vg.accessor(field);return cloud};cloud.size=function(sz){size=sz;return cloud};cloud.fontSize=function(field){fontSize=vg.accessor(field);return cloud};cloud.rotate=function(x){var v;if(vg.isObject(x)&&!Array.isArray(x)){if(x.random!==undefined){v=(v=x.random)?vg.array(v):[0];rotate=function(){return v[~~(Math.random()*v.length-1e-5)]}}else if(x.alternate!==undefined){v=(v=x.alternate)?vg.array(v):[0];rotate=function(d,i){return v[i%v.length]}}}else{rotate=vg.accessor(field)}return cloud};params.forEach(function(name){cloud[name]=function(x){layout[name](x);return cloud}});cloud.output=function(map){vg.keys(output).forEach(function(k){if(map[k]!==undefined){output[k]=map[k]}});return cloud};return cloud};vg.data.zip=function(){var z=null,as="zip",key=vg.accessor("data"),defaultValue=undefined,withKey=null;function zip(data,db){var zdata=db[z],zlen=zdata.length,v,d,i,len,map;if(withKey){map={};zdata.forEach(function(s){map[withKey(s)]=s})}for(i=0,len=data.length;i<len;++i){d=data[i];d[as]=map?(v=map[key(d)])!=null?v:defaultValue:zdata[i%zlen]}return data}zip["with"]=function(d){z=d;return zip};zip["default"]=function(d){defaultValue=d;return zip};zip.as=function(name){as=name;return zip};zip.key=function(k){key=vg.accessor(k);return zip};zip.withKey=function(k){withKey=vg.accessor(k);return zip};return zip};vg.data.zip.dependencies=["with"];vg.expression={};vg.expression.parse=function(input,opt){return vg_expression_parser.parse("("+input+")",opt)};vg.expression.code=function(opt){return vg_expression_codegen(opt)};var vg_expression_constants={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"};var vg_expression_functions=function(codegen){function fncall(name,args,cast,type){var obj=codegen(args[0]);if(cast){obj=cast+"("+obj+")";if(vg.startsWith(cast,"new "))obj="("+obj+")"}return obj+"."+name+(type<0?"":type===0?"()":"("+args.slice(1).map(codegen).join(",")+")")}var DATE="new Date";var STRING="String";var REGEXP="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",now:"Date.now",datetime:"new Date",date:function(args){return fncall("getDate",args,DATE,0)},day:function(args){return fncall("getDay",args,DATE,0)},year:function(args){return fncall("getFullYear",args,DATE,0)},month:function(args){return fncall("getMonth",args,DATE,0)},hours:function(args){return fncall("getHours",args,DATE,0)},minutes:function(args){return fncall("getMinutes",args,DATE,0)},seconds:function(args){return fncall("getSeconds",args,DATE,0)},milliseconds:function(args){return fncall("getMilliseconds",args,DATE,0)},time:function(args){return fncall("getTime",args,DATE,0)},timezoneoffset:function(args){return fncall("getTimezoneOffset",args,DATE,0)},utcdate:function(args){return fncall("getUTCDate",args,DATE,0)},utcday:function(args){return fncall("getUTCDay",args,DATE,0)},utcyear:function(args){return fncall("getUTCFullYear",args,DATE,0)},utcmonth:function(args){return fncall("getUTCMonth",args,DATE,0)},utchours:function(args){return fncall("getUTCHours",args,DATE,0)},utcminutes:function(args){return fncall("getUTCMinutes",args,DATE,0)},utcseconds:function(args){return fncall("getUTCSeconds",args,DATE,0)},utcmilliseconds:function(args){return fncall("getUTCMilliseconds",args,DATE,0)},parseFloat:"parseFloat",parseInt:"parseInt",length:function(args){return fncall("length",args,null,-1)},upper:function(args){return fncall("toUpperCase",args,STRING,0)},lower:function(args){return fncall("toLowerCase",args,STRING,0)},slice:function(args){return fncall("slice",args,STRING)},substring:function(args){return fncall("substring",args,STRING)},test:function(args){return fncall("test",args,REGEXP)},"if":function(args){if(args.length<3)throw new Error("Missing arguments to if function.");if(args.length>3)throw new Error("Too many arguments to if function.");var a=args.map(codegen);return a[0]+"?"+a[1]+":"+a[2]}}};var vg_expression_codegen=function(opt){opt=opt||{};var constants=opt.constants||vg_expression_constants;var functions=(opt.functions||vg_expression_functions)(codegen);var idWhiteList=opt.idWhiteList?vg.toMap(opt.idWhiteList):null;var idBlackList=opt.idBlackList?vg.toMap(opt.idBlackList):null;var memberDepth=0;function codegen(ast){if(ast instanceof String)return ast;var generator=CODEGEN_TYPES[ast.type];if(generator==null){throw new Error("Unsupported type: "+ast.type)}return generator(ast)}var CODEGEN_TYPES={Literal:function(n){return n.raw},Identifier:function(n){var id=n.name;if(memberDepth>0){return id}if(constants.hasOwnProperty(id)){return constants[id]}if(idWhiteList){if(idWhiteList.hasOwnProperty(id))return id;throw new Error("Illegal identifier: "+id)}if(idBlackList&&idBlackList.hasOwnProperty(id)){throw new Error("Illegal identifier: "+id)}return id},Program:function(n){return n.body.map(codegen).join("\n")},MemberExpression:function(n){var d=!n.computed;var o=codegen(n.object);if(d)memberDepth+=1;var p=codegen(n.property);if(d)memberDepth-=1;return o+(d?"."+p:"["+p+"]")},CallExpression:function(n){if(n.callee.type!=="Identifier"){throw new Error("Illegal callee type: "+n.callee.type)}var callee=n.callee.name;var args=n.arguments;var fn=functions.hasOwnProperty(callee)&&functions[callee];if(!fn)throw new Error("Unrecognized function: "+callee);return fn instanceof Function?fn(args):fn+"("+args.map(codegen).join(",")+")"},ArrayExpression:function(n){return"["+n.elements.map(codegen).join(",")+"]"},BinaryExpression:function(n){return"("+codegen(n.left)+n.operator+codegen(n.right)+")"},UnaryExpression:function(n){return"("+n.operator+codegen(n.argument)+")"},UpdateExpression:function(n){return"("+(prefix?n.operator+codegen(n.argument):codegen(n.argument)+n.operator)+")"},ConditionalExpression:function(n){return"("+codegen(n.test)+"?"+codegen(n.consequent)+":"+codegen(n.alternate)+")"},LogicalExpression:function(n){return"("+codegen(n.left)+n.operator+codegen(n.right)+")"},ObjectExpression:function(n){return"{"+n.properties.map(codegen).join(",")+"}"},Property:function(n){memberDepth+=1;var k=codegen(n.key);memberDepth-=1;return k+":"+codegen(n.value)},ExpressionStatement:function(n){return codegen(n.expression)}};return codegen};var vg_expression_parser=function(){"use strict";var Token,TokenName,Syntax,PropertyKind,Messages,Regex,source,strict,index,lineNumber,lineStart,length,lookahead,state,extra;Token={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9};TokenName={};TokenName[Token.BooleanLiteral]="Boolean";TokenName[Token.EOF]="<end>";TokenName[Token.Identifier]="Identifier";TokenName[Token.Keyword]="Keyword";TokenName[Token.NullLiteral]="Null";TokenName[Token.NumericLiteral]="Numeric";TokenName[Token.Punctuator]="Punctuator";TokenName[Token.StringLiteral]="String";TokenName[Token.RegularExpression]="RegularExpression";Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression"};PropertyKind={Data:1,Get:2,Set:4};Messages={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"};Regex={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function assert(condition,message){if(!condition){throw new Error("ASSERT: "+message)}}function isDecimalDigit(ch){return ch>=48&&ch<=57}function isHexDigit(ch){return"0123456789abcdefABCDEF".indexOf(ch)>=0}function isOctalDigit(ch){return"01234567".indexOf(ch)>=0}function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ch)>=0}function isLineTerminator(ch){return ch===10||ch===13||ch===8232||ch===8233}function isIdentifierStart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch===92||ch>=128&&Regex.NonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch===92||ch>=128&&Regex.NonAsciiIdentifierPart.test(String.fromCharCode(ch))}function isFutureReservedWord(id){switch(id){case"class":case"enum":case"export":case"extends":case"import":case"super":return true;default:return false}}function isStrictModeReservedWord(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return true;default:return false}}function isKeyword(id){if(strict&&isStrictModeReservedWord(id)){return true}switch(id.length){case 2:return id==="if"||id==="in"||id==="do";case 3:return id==="var"||id==="for"||id==="new"||id==="try"||id==="let";case 4:return id==="this"||id==="else"||id==="case"||id==="void"||id==="with"||id==="enum";case 5:return id==="while"||id==="break"||id==="catch"||id==="throw"||id==="const"||id==="yield"||id==="class"||id==="super";case 6:return id==="return"||id==="typeof"||id==="delete"||id==="switch"||id==="export"||id==="import";case 7:return id==="default"||id==="finally"||id==="extends";case 8:return id==="function"||id==="continue"||id==="debugger";case 10:return id==="instanceof";default:return false}}function skipComment(){var ch,start;start=index===0;while(index<length){ch=source.charCodeAt(index);if(isWhiteSpace(ch)){++index}else if(isLineTerminator(ch)){++index;if(ch===13&&source.charCodeAt(index)===10){++index}++lineNumber;lineStart=index;start=true}else{break}}}function scanHexEscape(prefix){var i,len,ch,code=0;len=prefix==="u"?4:2;for(i=0;i<len;++i){if(index<length&&isHexDigit(source[index])){ch=source[index++];code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}else{return""}}return String.fromCharCode(code)}function scanUnicodeCodePointEscape(){var ch,code,cu1,cu2;ch=source[index];code=0;if(ch==="}"){throwError({},Messages.UnexpectedToken,"ILLEGAL")}while(index<length){ch=source[index++];if(!isHexDigit(ch)){break}code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}if(code>1114111||ch!=="}"){throwError({},Messages.UnexpectedToken,"ILLEGAL")}if(code<=65535){return String.fromCharCode(code)}cu1=(code-65536>>10)+55296;cu2=(code-65536&1023)+56320;return String.fromCharCode(cu1,cu2)}function getEscapedIdentifier(){var ch,id;ch=source.charCodeAt(index++);id=String.fromCharCode(ch);if(ch===92){if(source.charCodeAt(index)!==117){throwError({},Messages.UnexpectedToken,"ILLEGAL")}++index;ch=scanHexEscape("u");if(!ch||ch==="\\"||!isIdentifierStart(ch.charCodeAt(0))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}id=ch}while(index<length){ch=source.charCodeAt(index);if(!isIdentifierPart(ch)){break}++index;id+=String.fromCharCode(ch);if(ch===92){id=id.substr(0,id.length-1);if(source.charCodeAt(index)!==117){throwError({},Messages.UnexpectedToken,"ILLEGAL")}++index;ch=scanHexEscape("u");if(!ch||ch==="\\"||!isIdentifierPart(ch.charCodeAt(0))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}id+=ch}}return id}function getIdentifier(){var start,ch;start=index++;while(index<length){ch=source.charCodeAt(index);if(ch===92){index=start;return getEscapedIdentifier()}if(isIdentifierPart(ch)){++index}else{break}}return source.slice(start,index)}function scanIdentifier(){var start,id,type;start=index;id=source.charCodeAt(index)===92?getEscapedIdentifier():getIdentifier();if(id.length===1){type=Token.Identifier}else if(isKeyword(id)){type=Token.Keyword}else if(id==="null"){type=Token.NullLiteral}else if(id==="true"||id==="false"){type=Token.BooleanLiteral}else{type=Token.Identifier}return{type:type,value:id,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanPunctuator(){var start=index,code=source.charCodeAt(index),code2,ch1=source[index],ch2,ch3,ch4;switch(code){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:++index;if(extra.tokenize){if(code===40){extra.openParenToken=extra.tokens.length}else if(code===123){extra.openCurlyToken=extra.tokens.length}}return{type:Token.Punctuator,value:String.fromCharCode(code),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index};default:code2=source.charCodeAt(index+1);if(code2===61){switch(code){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:index+=2;return{type:Token.Punctuator,value:String.fromCharCode(code)+String.fromCharCode(code2),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index};case 33:case 61:index+=2;if(source.charCodeAt(index)===61){++index}return{type:Token.Punctuator,value:source.slice(start,index),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}}}ch4=source.substr(index,4);if(ch4===">>>="){index+=4;return{type:Token.Punctuator,value:ch4,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}ch3=ch4.substr(0,3);if(ch3===">>>"||ch3==="<<="||ch3===">>="){index+=3;return{type:Token.Punctuator,value:ch3,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}ch2=ch3.substr(0,2);if(ch1===ch2[1]&&"+-<>&|".indexOf(ch1)>=0||ch2==="=>"){index+=2;return{type:Token.Punctuator,value:ch2,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}if("<>=!+-*%&|^/".indexOf(ch1)>=0){++index;return{type:Token.Punctuator,value:ch1,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}throwError({},Messages.UnexpectedToken,"ILLEGAL")}function scanHexLiteral(start){var number="";while(index<length){if(!isHexDigit(source[index])){break}number+=source[index++]}if(number.length===0){throwError({},Messages.UnexpectedToken,"ILLEGAL")}if(isIdentifierStart(source.charCodeAt(index))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.NumericLiteral,value:parseInt("0x"+number,16),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanOctalLiteral(start){var number="0"+source[index++];while(index<length){if(!isOctalDigit(source[index])){break}number+=source[index++]}if(isIdentifierStart(source.charCodeAt(index))||isDecimalDigit(source.charCodeAt(index))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.NumericLiteral,value:parseInt(number,8),octal:true,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanNumericLiteral(){var number,start,ch;ch=source[index];assert(isDecimalDigit(ch.charCodeAt(0))||ch===".","Numeric literal must start with a decimal digit or a decimal point");start=index;number="";if(ch!=="."){number=source[index++];ch=source[index];if(number==="0"){if(ch==="x"||ch==="X"){++index;return scanHexLiteral(start)}if(isOctalDigit(ch)){return scanOctalLiteral(start)}if(ch&&isDecimalDigit(ch.charCodeAt(0))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}}while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="."){number+=source[index++];while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="e"||ch==="E"){number+=source[index++];ch=source[index];if(ch==="+"||ch==="-"){number+=source[index++]}if(isDecimalDigit(source.charCodeAt(index))){while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}}else{throwError({},Messages.UnexpectedToken,"ILLEGAL")}}if(isIdentifierStart(source.charCodeAt(index))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.NumericLiteral,value:parseFloat(number),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanStringLiteral(){var str="",quote,start,ch,code,unescaped,restore,octal=false,startLineNumber,startLineStart;startLineNumber=lineNumber;startLineStart=lineStart;quote=source[index];assert(quote==="'"||quote==='"',"String literal must starts with a quote");start=index;++index;while(index<length){ch=source[index++];if(ch===quote){quote="";break}else if(ch==="\\"){ch=source[index++];if(!ch||!isLineTerminator(ch.charCodeAt(0))){switch(ch){case"u":case"x":if(source[index]==="{"){++index;str+=scanUnicodeCodePointEscape()}else{restore=index;unescaped=scanHexEscape(ch);if(unescaped){str+=unescaped}else{index=restore;str+=ch}}break;case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="	";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="";break;default:if(isOctalDigit(ch)){code="01234567".indexOf(ch);if(code!==0){octal=true}if(index<length&&isOctalDigit(source[index])){octal=true;code=code*8+"01234567".indexOf(source[index++]);if("0123".indexOf(ch)>=0&&index<length&&isOctalDigit(source[index])){code=code*8+"01234567".indexOf(source[index++])}}str+=String.fromCharCode(code)}else{str+=ch}break}}else{++lineNumber;if(ch==="\r"&&source[index]==="\n"){++index}lineStart=index}}else if(isLineTerminator(ch.charCodeAt(0))){break}else{str+=ch}}if(quote!==""){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.StringLiteral,value:str,octal:octal,startLineNumber:startLineNumber,startLineStart:startLineStart,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function testRegExp(pattern,flags){var tmp=pattern,value;if(flags.indexOf("u")>=0){tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,function($0,$1){if(parseInt($1,16)<=1114111){return"x"}throwError({},Messages.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x")}try{value=new RegExp(tmp)}catch(e){throwError({},Messages.InvalidRegExp)}try{return new RegExp(pattern,flags)}catch(exception){return null}}function scanRegExpBody(){var ch,str,classMarker,terminated,body;ch=source[index];assert(ch==="/","Regular expression literal must start with a slash");str=source[index++];classMarker=false;terminated=false;while(index<length){ch=source[index++];str+=ch;if(ch==="\\"){ch=source[index++];if(isLineTerminator(ch.charCodeAt(0))){throwError({},Messages.UnterminatedRegExp)}str+=ch}else if(isLineTerminator(ch.charCodeAt(0))){throwError({},Messages.UnterminatedRegExp)}else if(classMarker){if(ch==="]"){classMarker=false}}else{if(ch==="/"){terminated=true;break}else if(ch==="["){classMarker=true}}}if(!terminated){throwError({},Messages.UnterminatedRegExp)}body=str.substr(1,str.length-2);return{value:body,literal:str}}function scanRegExpFlags(){var ch,str,flags,restore;str="";flags="";while(index<length){ch=source[index];if(!isIdentifierPart(ch.charCodeAt(0))){break}++index;if(ch==="\\"&&index<length){ch=source[index];if(ch==="u"){++index;restore=index;ch=scanHexEscape("u");if(ch){flags+=ch;for(str+="\\u";restore<index;++restore){str+=source[restore]}}else{index=restore;flags+="u";str+="\\u"}throwErrorTolerant({},Messages.UnexpectedToken,"ILLEGAL")}else{str+="\\";throwErrorTolerant({},Messages.UnexpectedToken,"ILLEGAL")}}else{flags+=ch;str+=ch}}return{value:flags,literal:str}}function scanRegExp(){var start,body,flags,value;lookahead=null;skipComment();start=index;body=scanRegExpBody();flags=scanRegExpFlags();value=testRegExp(body.value,flags.value);if(extra.tokenize){return{type:Token.RegularExpression,value:value,regex:{pattern:body.value,flags:flags.value},lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}return{literal:body.literal+flags.literal,value:value,regex:{pattern:body.value,flags:flags.value},start:start,end:index}}function collectRegex(){var pos,loc,regex,token;skipComment();pos=index;loc={start:{line:lineNumber,column:index-lineStart}};regex=scanRegExp();loc.end={line:lineNumber,column:index-lineStart};if(!extra.tokenize){if(extra.tokens.length>0){token=extra.tokens[extra.tokens.length-1];if(token.range[0]===pos&&token.type==="Punctuator"){if(token.value==="/"||token.value==="/="){extra.tokens.pop()}}}extra.tokens.push({type:"RegularExpression",value:regex.literal,regex:regex.regex,range:[pos,index],loc:loc})}return regex}function isIdentifierName(token){return token.type===Token.Identifier||token.type===Token.Keyword||token.type===Token.BooleanLiteral||token.type===Token.NullLiteral}function advanceSlash(){var prevToken,checkToken;prevToken=extra.tokens[extra.tokens.length-1];if(!prevToken){return collectRegex()}if(prevToken.type==="Punctuator"){if(prevToken.value==="]"){return scanPunctuator()}if(prevToken.value===")"){checkToken=extra.tokens[extra.openParenToken-1];if(checkToken&&checkToken.type==="Keyword"&&(checkToken.value==="if"||checkToken.value==="while"||checkToken.value==="for"||checkToken.value==="with")){return collectRegex()}return scanPunctuator()}if(prevToken.value==="}"){if(extra.tokens[extra.openCurlyToken-3]&&extra.tokens[extra.openCurlyToken-3].type==="Keyword"){checkToken=extra.tokens[extra.openCurlyToken-4];if(!checkToken){return scanPunctuator()}}else if(extra.tokens[extra.openCurlyToken-4]&&extra.tokens[extra.openCurlyToken-4].type==="Keyword"){checkToken=extra.tokens[extra.openCurlyToken-5];if(!checkToken){return collectRegex()}}else{return scanPunctuator()}return scanPunctuator()}return collectRegex()}if(prevToken.type==="Keyword"&&prevToken.value!=="this"){return collectRegex()}return scanPunctuator()
}function advance(){var ch;skipComment();if(index>=length){return{type:Token.EOF,lineNumber:lineNumber,lineStart:lineStart,start:index,end:index}}ch=source.charCodeAt(index);if(isIdentifierStart(ch)){return scanIdentifier()}if(ch===40||ch===41||ch===59){return scanPunctuator()}if(ch===39||ch===34){return scanStringLiteral()}if(ch===46){if(isDecimalDigit(source.charCodeAt(index+1))){return scanNumericLiteral()}return scanPunctuator()}if(isDecimalDigit(ch)){return scanNumericLiteral()}if(extra.tokenize&&ch===47){return advanceSlash()}return scanPunctuator()}function collectToken(){var loc,token,value,entry;skipComment();loc={start:{line:lineNumber,column:index-lineStart}};token=advance();loc.end={line:lineNumber,column:index-lineStart};if(token.type!==Token.EOF){value=source.slice(token.start,token.end);entry={type:TokenName[token.type],value:value,range:[token.start,token.end],loc:loc};if(token.regex){entry.regex={pattern:token.regex.pattern,flags:token.regex.flags}}extra.tokens.push(entry)}return token}function lex(){var token;token=lookahead;index=token.end;lineNumber=token.lineNumber;lineStart=token.lineStart;lookahead=typeof extra.tokens!=="undefined"?collectToken():advance();index=token.end;lineNumber=token.lineNumber;lineStart=token.lineStart;return token}function peek(){var pos,line,start;pos=index;line=lineNumber;start=lineStart;lookahead=typeof extra.tokens!=="undefined"?collectToken():advance();index=pos;lineNumber=line;lineStart=start}function Position(){this.line=lineNumber;this.column=index-lineStart}function SourceLocation(){this.start=new Position;this.end=null}function WrappingSourceLocation(startToken){if(startToken.type===Token.StringLiteral){this.start={line:startToken.startLineNumber,column:startToken.start-startToken.startLineStart}}else{this.start={line:startToken.lineNumber,column:startToken.start-startToken.lineStart}}this.end=null}function Node(){index=lookahead.start;if(lookahead.type===Token.StringLiteral){lineNumber=lookahead.startLineNumber;lineStart=lookahead.startLineStart}else{lineNumber=lookahead.lineNumber;lineStart=lookahead.lineStart}if(extra.range){this.range=[index,0]}if(extra.loc){this.loc=new SourceLocation}}function WrappingNode(startToken){if(extra.range){this.range=[startToken.start,0]}if(extra.loc){this.loc=new WrappingSourceLocation(startToken)}}WrappingNode.prototype=Node.prototype={finish:function(){if(extra.range){this.range[1]=index}if(extra.loc){this.loc.end=new Position;if(extra.source){this.loc.source=extra.source}}},finishArrayExpression:function(elements){this.type=Syntax.ArrayExpression;this.elements=elements;this.finish();return this},finishAssignmentExpression:function(operator,left,right){this.type=Syntax.AssignmentExpression;this.operator=operator;this.left=left;this.right=right;this.finish();return this},finishBinaryExpression:function(operator,left,right){this.type=operator==="||"||operator==="&&"?Syntax.LogicalExpression:Syntax.BinaryExpression;this.operator=operator;this.left=left;this.right=right;this.finish();return this},finishCallExpression:function(callee,args){this.type=Syntax.CallExpression;this.callee=callee;this.arguments=args;this.finish();return this},finishConditionalExpression:function(test,consequent,alternate){this.type=Syntax.ConditionalExpression;this.test=test;this.consequent=consequent;this.alternate=alternate;this.finish();return this},finishExpressionStatement:function(expression){this.type=Syntax.ExpressionStatement;this.expression=expression;this.finish();return this},finishIdentifier:function(name){this.type=Syntax.Identifier;this.name=name;this.finish();return this},finishLiteral:function(token){this.type=Syntax.Literal;this.value=token.value;this.raw=source.slice(token.start,token.end);if(token.regex){this.regex=token.regex}this.finish();return this},finishMemberExpression:function(accessor,object,property){this.type=Syntax.MemberExpression;this.computed=accessor==="[";this.object=object;this.property=property;this.finish();return this},finishObjectExpression:function(properties){this.type=Syntax.ObjectExpression;this.properties=properties;this.finish();return this},finishProgram:function(body){this.type=Syntax.Program;this.body=body;this.finish();return this},finishProperty:function(kind,key,value){this.type=Syntax.Property;this.key=key;this.value=value;this.kind=kind;this.finish();return this},finishUnaryExpression:function(operator,argument){this.type=operator==="++"||operator==="--"?Syntax.UpdateExpression:Syntax.UnaryExpression;this.operator=operator;this.argument=argument;this.prefix=true;this.finish();return this}};function peekLineTerminator(){var pos,line,start,found;pos=index;line=lineNumber;start=lineStart;skipComment();found=lineNumber!==line;index=pos;lineNumber=line;lineStart=start;return found}function throwError(token,messageFormat){var error,args=Array.prototype.slice.call(arguments,2),msg=messageFormat.replace(/%(\d)/g,function(whole,index){assert(index<args.length,"Message reference must be in range");return args[index]});if(typeof token.lineNumber==="number"){error=new Error("Line "+token.lineNumber+": "+msg);error.index=token.start;error.lineNumber=token.lineNumber;error.column=token.start-lineStart+1}else{error=new Error("Line "+lineNumber+": "+msg);error.index=index;error.lineNumber=lineNumber;error.column=index-lineStart+1}error.description=msg;throw error}function throwErrorTolerant(){try{throwError.apply(null,arguments)}catch(e){if(extra.errors){extra.errors.push(e)}else{throw e}}}function throwUnexpected(token){if(token.type===Token.EOF){throwError(token,Messages.UnexpectedEOS)}if(token.type===Token.NumericLiteral){throwError(token,Messages.UnexpectedNumber)}if(token.type===Token.StringLiteral){throwError(token,Messages.UnexpectedString)}if(token.type===Token.Identifier){throwError(token,Messages.UnexpectedIdentifier)}if(token.type===Token.Keyword){if(isFutureReservedWord(token.value)){throwError(token,Messages.UnexpectedReserved)}else if(strict&&isStrictModeReservedWord(token.value)){throwErrorTolerant(token,Messages.StrictReservedWord);return}throwError(token,Messages.UnexpectedToken,token.value)}throwError(token,Messages.UnexpectedToken,token.value)}function expect(value){var token=lex();if(token.type!==Token.Punctuator||token.value!==value){throwUnexpected(token)}}function expectTolerant(value){if(extra.errors){var token=lookahead;if(token.type!==Token.Punctuator&&token.value!==value){throwErrorTolerant(token,Messages.UnexpectedToken,token.value)}else{lex()}}else{expect(value)}}function expectKeyword(keyword){var token=lex();if(token.type!==Token.Keyword||token.value!==keyword){throwUnexpected(token)}}function match(value){return lookahead.type===Token.Punctuator&&lookahead.value===value}function matchKeyword(keyword){return lookahead.type===Token.Keyword&&lookahead.value===keyword}function consumeSemicolon(){var line;if(source.charCodeAt(index)===59||match(";")){lex();return}line=lineNumber;skipComment();if(lineNumber!==line){return}if(lookahead.type!==Token.EOF&&!match("}")){throwUnexpected(lookahead)}}function isLeftHandSide(expr){return expr.type===Syntax.Identifier||expr.type===Syntax.MemberExpression}function parseArrayInitialiser(){var elements=[],node=new Node;expect("[");while(!match("]")){if(match(",")){lex();elements.push(null)}else{elements.push(parseAssignmentExpression());if(!match("]")){expect(",")}}}lex();return node.finishArrayExpression(elements)}function parseObjectPropertyKey(){var token,node=new Node;token=lex();if(token.type===Token.StringLiteral||token.type===Token.NumericLiteral){if(strict&&token.octal){throwErrorTolerant(token,Messages.StrictOctalLiteral)}return node.finishLiteral(token)}return node.finishIdentifier(token.value)}function parseObjectProperty(){var token,key,id,value,param,node=new Node;token=lookahead;if(token.type===Token.Identifier){id=parseObjectPropertyKey();expect(":");value=parseAssignmentExpression();return node.finishProperty("init",id,value)}if(token.type===Token.EOF||token.type===Token.Punctuator){throwUnexpected(token)}else{key=parseObjectPropertyKey();expect(":");value=parseAssignmentExpression();return node.finishProperty("init",key,value)}}function parseObjectInitialiser(){var properties=[],token,property,name,key,kind,map={},toString=String,node=new Node;expect("{");while(!match("}")){property=parseObjectProperty();if(property.key.type===Syntax.Identifier){name=property.key.name}else{name=toString(property.key.value)}kind=property.kind==="init"?PropertyKind.Data:property.kind==="get"?PropertyKind.Get:PropertyKind.Set;key="$"+name;if(Object.prototype.hasOwnProperty.call(map,key)){if(map[key]===PropertyKind.Data){if(strict&&kind===PropertyKind.Data){throwErrorTolerant({},Messages.StrictDuplicateProperty)}else if(kind!==PropertyKind.Data){throwErrorTolerant({},Messages.AccessorDataProperty)}}else{if(kind===PropertyKind.Data){throwErrorTolerant({},Messages.AccessorDataProperty)}else if(map[key]&kind){throwErrorTolerant({},Messages.AccessorGetSet)}}map[key]|=kind}else{map[key]=kind}properties.push(property);if(!match("}")){expectTolerant(",")}}expect("}");return node.finishObjectExpression(properties)}function parseGroupExpression(){var expr;expect("(");++state.parenthesisCount;expr=parseExpression();expect(")");return expr}var legalKeywords={"if":1,"this":1};function parsePrimaryExpression(){var type,token,expr,node;if(match("(")){return parseGroupExpression()}if(match("[")){return parseArrayInitialiser()}if(match("{")){return parseObjectInitialiser()}type=lookahead.type;node=new Node;if(type===Token.Identifier||legalKeywords[lookahead.value]){expr=node.finishIdentifier(lex().value)}else if(type===Token.StringLiteral||type===Token.NumericLiteral){if(strict&&lookahead.octal){throwErrorTolerant(lookahead,Messages.StrictOctalLiteral)}expr=node.finishLiteral(lex())}else if(type===Token.Keyword){throw new Error("Disabled.")}else if(type===Token.BooleanLiteral){token=lex();token.value=token.value==="true";expr=node.finishLiteral(token)}else if(type===Token.NullLiteral){token=lex();token.value=null;expr=node.finishLiteral(token)}else if(match("/")||match("/=")){if(typeof extra.tokens!=="undefined"){expr=node.finishLiteral(collectRegex())}else{expr=node.finishLiteral(scanRegExp())}peek()}else{throwUnexpected(lex())}return expr}function parseArguments(){var args=[];expect("(");if(!match(")")){while(index<length){args.push(parseAssignmentExpression());if(match(")")){break}expectTolerant(",")}}expect(")");return args}function parseNonComputedProperty(){var token,node=new Node;token=lex();if(!isIdentifierName(token)){throwUnexpected(token)}return node.finishIdentifier(token.value)}function parseNonComputedMember(){expect(".");return parseNonComputedProperty()}function parseComputedMember(){var expr;expect("[");expr=parseExpression();expect("]");return expr}function parseLeftHandSideExpressionAllowCall(){var expr,args,property,startToken,previousAllowIn=state.allowIn;startToken=lookahead;state.allowIn=true;expr=parsePrimaryExpression();for(;;){if(match(".")){property=parseNonComputedMember();expr=new WrappingNode(startToken).finishMemberExpression(".",expr,property)}else if(match("(")){args=parseArguments();expr=new WrappingNode(startToken).finishCallExpression(expr,args)}else if(match("[")){property=parseComputedMember();expr=new WrappingNode(startToken).finishMemberExpression("[",expr,property)}else{break}}state.allowIn=previousAllowIn;return expr}function parseLeftHandSideExpression(){var expr,property,startToken;assert(state.allowIn,"callee of new expression always allow in keyword.");startToken=lookahead;expr=parsePrimaryExpression();for(;;){if(match("[")){property=parseComputedMember();expr=new WrappingNode(startToken).finishMemberExpression("[",expr,property)}else if(match(".")){property=parseNonComputedMember();expr=new WrappingNode(startToken).finishMemberExpression(".",expr,property)}else{break}}return expr}function parsePostfixExpression(){var expr,token,startToken=lookahead;expr=parseLeftHandSideExpressionAllowCall();if(lookahead.type===Token.Punctuator){if((match("++")||match("--"))&&!peekLineTerminator()){throw new Error("Disabled.")}}return expr}function parseUnaryExpression(){var token,expr,startToken;if(lookahead.type!==Token.Punctuator&&lookahead.type!==Token.Keyword){expr=parsePostfixExpression()}else if(match("++")||match("--")){throw new Error("Disabled.")}else if(match("+")||match("-")||match("~")||match("!")){startToken=lookahead;token=lex();expr=parseUnaryExpression();expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr)}else if(matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof")){throw new Error("Disabled.")}else{expr=parsePostfixExpression()}return expr}function binaryPrecedence(token,allowIn){var prec=0;if(token.type!==Token.Punctuator&&token.type!==Token.Keyword){return 0}switch(token.value){case"||":prec=1;break;case"&&":prec=2;break;case"|":prec=3;break;case"^":prec=4;break;case"&":prec=5;break;case"==":case"!=":case"===":case"!==":prec=6;break;case"<":case">":case"<=":case">=":case"instanceof":prec=7;break;case"in":prec=allowIn?7:0;break;case"<<":case">>":case">>>":prec=8;break;case"+":case"-":prec=9;break;case"*":case"/":case"%":prec=11;break;default:break}return prec}function parseBinaryExpression(){var marker,markers,expr,token,prec,stack,right,operator,left,i;marker=lookahead;left=parseUnaryExpression();token=lookahead;prec=binaryPrecedence(token,state.allowIn);if(prec===0){return left}token.prec=prec;lex();markers=[marker,lookahead];right=parseUnaryExpression();stack=[left,token,right];while((prec=binaryPrecedence(lookahead,state.allowIn))>0){while(stack.length>2&&prec<=stack[stack.length-2].prec){right=stack.pop();operator=stack.pop().value;left=stack.pop();markers.pop();expr=new WrappingNode(markers[markers.length-1]).finishBinaryExpression(operator,left,right);stack.push(expr)}token=lex();token.prec=prec;stack.push(token);markers.push(lookahead);expr=parseUnaryExpression();stack.push(expr)}i=stack.length-1;expr=stack[i];markers.pop();while(i>1){expr=new WrappingNode(markers.pop()).finishBinaryExpression(stack[i-1].value,stack[i-2],expr);i-=2}return expr}function parseConditionalExpression(){var expr,previousAllowIn,consequent,alternate,startToken;startToken=lookahead;expr=parseBinaryExpression();if(match("?")){lex();previousAllowIn=state.allowIn;state.allowIn=true;consequent=parseAssignmentExpression();state.allowIn=previousAllowIn;expect(":");alternate=parseAssignmentExpression();expr=new WrappingNode(startToken).finishConditionalExpression(expr,consequent,alternate)}return expr}function parseAssignmentExpression(){var oldParenthesisCount,token,expr,right,list,startToken;oldParenthesisCount=state.parenthesisCount;startToken=lookahead;token=lookahead;expr=parseConditionalExpression();return expr}function parseExpression(){var expr,startToken=lookahead,expressions;expr=parseAssignmentExpression();if(match(",")){throw new Error("Disabled.")}return expr}function parseExpressionStatement(node){var expr=parseExpression();consumeSemicolon();return node.finishExpressionStatement(expr)}function parseStatement(){var type=lookahead.type,expr,labeledBody,key,node;if(type===Token.EOF){throwUnexpected(lookahead)}if(type===Token.Punctuator&&lookahead.value==="{"){throw new Error("Disabled.")}node=new Node;if(type===Token.Punctuator){switch(lookahead.value){case";":throw new Error("Disabled.");case"(":return parseExpressionStatement(node);default:break}}else if(type===Token.Keyword){throw new Error("Disabled.")}expr=parseExpression();consumeSemicolon();return node.finishExpressionStatement(expr)}function parseSourceElement(){if(lookahead.type===Token.Keyword){switch(lookahead.value){case"const":case"let":throw new Error("Disabled.");case"function":throw new Error("Disabled.");default:return parseStatement()}}if(lookahead.type!==Token.EOF){return parseStatement()}}function parseSourceElements(){var sourceElement,sourceElements=[],token,directive,firstRestricted;while(index<length){token=lookahead;if(token.type!==Token.StringLiteral){break}sourceElement=parseSourceElement();sourceElements.push(sourceElement);if(sourceElement.expression.type!==Syntax.Literal){break}directive=source.slice(token.start+1,token.end-1);if(directive==="use strict"){strict=true;if(firstRestricted){throwErrorTolerant(firstRestricted,Messages.StrictOctalLiteral)}}else{if(!firstRestricted&&token.octal){firstRestricted=token}}}while(index<length){sourceElement=parseSourceElement();if(typeof sourceElement==="undefined"){break}sourceElements.push(sourceElement)}return sourceElements}function parseProgram(){var body,node;skipComment();peek();node=new Node;strict=true;body=parseSourceElements();return node.finishProgram(body)}function filterTokenLocation(){var i,entry,token,tokens=[];for(i=0;i<extra.tokens.length;++i){entry=extra.tokens[i];token={type:entry.type,value:entry.value};if(entry.regex){token.regex={pattern:entry.regex.pattern,flags:entry.regex.flags}}if(extra.range){token.range=entry.range}if(extra.loc){token.loc=entry.loc}tokens.push(token)}extra.tokens=tokens}function tokenize(code,options){var toString,tokens;toString=String;if(typeof code!=="string"&&!(code instanceof String)){code=toString(code)}source=code;index=0;lineNumber=source.length>0?1:0;lineStart=0;length=source.length;lookahead=null;state={allowIn:true,labelSet:{},inFunctionBody:false,inIteration:false,inSwitch:false,lastCommentStart:-1};extra={};options=options||{};options.tokens=true;extra.tokens=[];extra.tokenize=true;extra.openParenToken=-1;extra.openCurlyToken=-1;extra.range=typeof options.range==="boolean"&&options.range;extra.loc=typeof options.loc==="boolean"&&options.loc;if(typeof options.tolerant==="boolean"&&options.tolerant){extra.errors=[]}try{peek();if(lookahead.type===Token.EOF){return extra.tokens}lex();while(lookahead.type!==Token.EOF){try{lex()}catch(lexError){if(extra.errors){extra.errors.push(lexError);break}else{throw lexError}}}filterTokenLocation();tokens=extra.tokens;if(typeof extra.errors!=="undefined"){tokens.errors=extra.errors}}catch(e){throw e}finally{extra={}}return tokens}function parse(code,options){var program,toString;toString=String;if(typeof code!=="string"&&!(code instanceof String)){code=toString(code)}source=code;index=0;lineNumber=source.length>0?1:0;lineStart=0;length=source.length;lookahead=null;state={allowIn:true,labelSet:{},parenthesisCount:0,inFunctionBody:false,inIteration:false,inSwitch:false,lastCommentStart:-1};extra={};if(typeof options!=="undefined"){extra.range=typeof options.range==="boolean"&&options.range;extra.loc=typeof options.loc==="boolean"&&options.loc;if(extra.loc&&options.source!==null&&options.source!==undefined){extra.source=toString(options.source)}if(typeof options.tokens==="boolean"&&options.tokens){extra.tokens=[]}if(typeof options.tolerant==="boolean"&&options.tolerant){extra.errors=[]}}try{program=parseProgram();if(typeof extra.tokens!=="undefined"){filterTokenLocation();program.tokens=extra.tokens}if(typeof extra.errors!=="undefined"){program.errors=extra.errors}}catch(e){throw e}finally{extra={}}return program}return{tokenize:tokenize,parse:parse}}();vg.parse={};vg.parse.axes=function(){var ORIENT={x:"bottom",y:"left",top:"top",bottom:"bottom",left:"left",right:"right"};function axes(spec,axes,scales){(spec||[]).forEach(function(def,index){axes[index]=axes[index]||vg.scene.axis();axis(def,index,axes[index],scales)})}function axis(def,index,axis,scales){if(def.scale!==undefined){axis.scale(scales[def.scale])}axis.orient(def.orient||ORIENT[def.type]);axis.offset(def.offset||0);axis.layer(def.layer||"front");axis.grid(def.grid||false);axis.title(def.title||null);axis.titleOffset(def.titleOffset!=null?def.titleOffset:vg.config.axis.titleOffset);axis.tickValues(def.values||null);axis.tickFormat(def.format||null);axis.tickSubdivide(def.subdivide||0);axis.tickPadding(def.tickPadding||vg.config.axis.padding);var size=[];if(def.tickSize!==undefined){for(var i=0;i<3;++i)size.push(def.tickSize)}else{var ts=vg.config.axis.tickSize;size=[ts,ts,ts]}if(def.tickSizeMajor!=null)size[0]=def.tickSizeMajor;if(def.tickSizeMinor!=null)size[1]=def.tickSizeMinor;if(def.tickSizeEnd!=null)size[2]=def.tickSizeEnd;if(size.length){axis.tickSize.apply(axis,size)}axis.tickCount(def.ticks||vg.config.axis.ticks);var p=def.properties;if(p&&p.ticks){axis.majorTickProperties(p.majorTicks?vg.extend({},p.ticks,p.majorTicks):p.ticks);axis.minorTickProperties(p.minorTicks?vg.extend({},p.ticks,p.minorTicks):p.ticks)}else{axis.majorTickProperties(p&&p.majorTicks||{});axis.minorTickProperties(p&&p.minorTicks||{})}axis.tickLabelProperties(p&&p.labels||{});axis.titleProperties(p&&p.title||{});axis.gridLineProperties(p&&p.grid||{});axis.domainProperties(p&&p.axis||{})}return axes}();vg.parse.background=function(bg){if(bg==null)return null;return d3.rgb(bg)+""};vg.parse.data=function(spec,callback){var model={defs:spec,load:{},flow:{},deps:{},source:{},sorted:null};var count=0;function load(d){return function(error,data){if(error){vg.error("LOADING FAILED: "+d.url)}else{model.load[d.name]=vg.data.read(data.toString(),d.format)}if(--count===0)callback()}}(spec||[]).forEach(function(d){if(d.url){count+=1;vg.data.load(d.url,load(d))}else if(d.values){model.load[d.name]=vg.data.read(d.values,d.format)}else if(d.source){(model.source[d.source]||(model.source[d.source]=[])).push(d.name)}if(d.transform){var flow=vg.parse.dataflow(d);model.flow[d.name]=flow;flow.dependencies.forEach(function(dep){(model.deps[dep]||(model.deps[dep]=[])).push(d.name)})}});var names=(spec||[]).map(vg.accessor("name")),order=[],v={},n;function visit(n){if(v[n]===1)return;if(!v[n]){v[n]=1;(model.source[n]||[]).forEach(visit);(model.deps[n]||[]).forEach(visit);v[n]=2;order.push(n)}}while(names.length){if(v[n=names.pop()]!==2)visit(n)}model.sorted=order.reverse();if(count===0)setTimeout(callback,1);return model};vg.parse.dataflow=function(def){var tx=(def.transform||[]).map(vg.parse.transform),df=tx.length?function(data,db,group){return tx.reduce(function(d,t){return t(d,db,group)},data)}:vg.identity;df.transforms=tx;df.dependencies=vg.keys((def.transform||[]).reduce(function(map,tdef){var deps=vg.data[tdef.type].dependencies;if(deps)deps.forEach(function(d){if(tdef[d])map[tdef[d]]=1});return map},{}));return df};vg.parse.expr=function(){var parse=vg.expression.parse;var codegen=vg.expression.code({idWhiteList:["d","index","data"]});return function(expr){var code=codegen(parse(expr));return Function("d","index","data",'"use strict"; return ('+code+");")}}();vg.parse.legends=function(){function legends(spec,legends,scales){(spec||[]).forEach(function(def,index){legends[index]=legends[index]||vg.scene.legend();legend(def,index,legends[index],scales)})}function legend(def,index,legend,scales){legend.size(def.size?scales[def.size]:null);legend.shape(def.shape?scales[def.shape]:null);legend.fill(def.fill?scales[def.fill]:null);legend.stroke(def.stroke?scales[def.stroke]:null);if(def.orient)legend.orient(def.orient);if(def.offset!=null)legend.offset(def.offset);legend.title(def.title||null);legend.values(def.values||null);legend.format(def.format!==undefined?def.format:null);var p=def.properties;legend.titleProperties(p&&p.title||{});legend.labelProperties(p&&p.labels||{});legend.legendProperties(p&&p.legend||{});legend.symbolProperties(p&&p.symbols||{});legend.gradientProperties(p&&p.gradient||{})}return legends}();vg.parse.mark=function(mark){var props=mark.properties,group=mark.marks;vg.keys(props).forEach(function(k){props[k]=vg.parse.properties(mark.type,props[k])});if(mark.delay){mark.delay=vg.parse.properties(mark.type,{delay:mark.delay})}if(mark.from){var name=mark.from.data,tx=vg.parse.dataflow(mark.from);mark.from=function(db,group,parentData){var data=vg.scene.data(name?db[name]:null,parentData);return tx(data,db,group)}}if(group){mark.marks=group.map(vg.parse.mark)}return mark};vg.parse.marks=function(spec,width,height){return{type:"group",width:width,height:height,scales:spec.scales||[],axes:spec.axes||[],legends:spec.legends||[],marks:(spec.marks||[]).map(vg.parse.mark)}};vg.parse.padding=function(pad){if(pad==null)return"auto";else if(vg.isString(pad))return pad==="strict"?"strict":"auto";else if(vg.isObject(pad))return pad;var p=vg.isNumber(pad)?pad:20;return{top:p,left:p,right:p,bottom:p}};vg.parse.properties=function(){function compile(mark,spec){var code="",names=vg.keys(spec),i,len,name,ref,vars={};code+="var o = trans ? {} : item;\n";for(i=0,len=names.length;i<len;++i){ref=spec[name=names[i]];code+=i>0?"\n  ":"  ";code+="o."+name+" = "+valueRef(name,ref)+";";vars[name]=true}if(vars.x2){if(vars.x){code+="\n  if (o.x > o.x2) { "+"var t = o.x; o.x = o.x2; o.x2 = t; };";code+="\n  o.width = (o.x2 - o.x);"}else if(vars.width){code+="\n  o.x = (o.x2 - o.width);"}else{code+="\n  o.x = o.x2;"}}if(vars.xc){if(vars.width){code+="\n  o.x = (o.xc - o.width/2);"}else{code+="\n  o.x = o.xc;"}}if(vars.y2){if(vars.y){code+="\n  if (o.y > o.y2) { "+"var t = o.y; o.y = o.y2; o.y2 = t; };";code+="\n  o.height = (o.y2 - o.y);"}else if(vars.height){code+="\n  o.y = (o.y2 - o.height);"}else{code+="\n  o.y = o.y2;"}}if(vars.yc){if(vars.height){code+="\n  o.y = (o.yc - o.height/2);"}else{code+="\n  o.y = o.yc;"}}if(hasPath(mark,vars))code+="\n  item.touch();";code+="\n  if (trans) trans.interpolate(item, o);";try{return Function("item","group","trans",code)}catch(e){vg.error(e);vg.log(code)}}function hasPath(mark,vars){return vars.path||(mark==="area"||mark==="line")&&(vars.x||vars.x2||vars.width||vars.y||vars.y2||vars.height||vars.tension||vars.interpolate)}var GROUP_VARS={width:1,height:1,"mark.group.width":1,"mark.group.height":1};function valueRef(name,ref){if(ref==null)return null;var isColor=name==="fill"||name==="stroke";if(isColor){if(ref.c){return colorRef("hcl",ref.h,ref.c,ref.l)}else if(ref.h||ref.s){return colorRef("hsl",ref.h,ref.s,ref.l)}else if(ref.l||ref.a){return colorRef("lab",ref.l,ref.a,ref.b)}else if(ref.r||ref.g||ref.b){return colorRef("rgb",ref.r,ref.g,ref.b)}}if(ref.template){return vg.parse.template.source(ref.template,"item.datum")}var val="item.datum.data";if(ref.value!==undefined){val=vg.str(ref.value)}if(ref.group!=null){var grp="group.datum";if(vg.isString(ref.group)){grp=GROUP_VARS[ref.group]?"group."+ref.group:"group.datum["+vg.field(ref.group).map(vg.str).join("][")+"]"}}if(ref.field!=null){if(vg.isString(ref.field)){val="item.datum["+vg.field(ref.field).map(vg.str).join("][")+"]";if(ref.group!=null){val="this.accessor("+val+")("+grp+")"}}else{val="this.accessor(group.datum["+vg.field(ref.field.group).map(vg.str).join("][")+"])(item.datum.data)"}}else if(ref.group!=null){val=grp}if(ref.scale!=null){var scale=vg.isString(ref.scale)?vg.str(ref.scale):(ref.scale.group?"group":"item")+".datum["+vg.str(ref.scale.group||ref.scale.field)+"]";scale="group.scales["+scale+"]";val=scale+(ref.band?".rangeBand()":"("+val+")")}val="("+(ref.mult!=null?vg.number(ref.mult)+" * ":"")+val+")"+(ref.offset?" + "+vg.number(ref.offset):"");return val}function colorRef(type,x,y,z){var xx=x?valueRef("",x):vg.config.color[type][0],yy=y?valueRef("",y):vg.config.color[type][1],zz=z?valueRef("",z):vg.config.color[type][2];return"(this.d3."+type+"("+[xx,yy,zz].join(",")+') + "")'}return compile}();vg.parse.scales=function(){var LINEAR="linear",ORDINAL="ordinal",LOG="log",POWER="pow",TIME="time",QUANTILE="quantile",GROUP_PROPERTY={width:1,height:1};function scales(spec,scales,db,group){return(spec||[]).reduce(function(o,def){var name=def.name,prev=name+":prev";o[name]=scale(def,o[name],db,group);o[prev]=o[prev]||o[name];return o},scales||{})}function scale(def,scale,db,group){var s=instance(def,scale),m=s.type===ORDINAL?ordinal:quantitative,rng=range(def,group),data=vg.values(group.datum);m(def,s,rng,db,data);return s}function instance(def,scale){var type=def.type||LINEAR;if(!scale||type!==scale.type){var ctor=vg.config.scale[type]||d3.scale[type];if(!ctor)vg.error("Unrecognized scale type: "+type);(scale=ctor()).type=scale.type||type;scale.scaleName=def.name}return scale}function ordinal(def,scale,rng,db,data){var dataDrivenRange=false,pad=def.padding||0,outer=def.outerPadding==null?pad:def.outerPadding,domain,sort,str,refs;if(vg.isObject(def.range)&&!vg.isArray(def.range)){dataDrivenRange=true;refs=def.range.fields||vg.array(def.range);rng=extract(refs,db,data)}sort=def.sort&&!dataDrivenRange;domain=domainValues(def,db,data,sort);if(domain)scale.domain(domain);if(def.bandWidth){var bw=def.bandWidth,len=domain.length,start=rng[0]||0,space=def.points?pad*bw:pad*bw*(len-1)+2*outer;rng=[start,start+(bw*len+space)]}str=typeof rng[0]==="string";if(str||rng.length>2||rng.length===1||dataDrivenRange){scale.range(rng)}else if(def.points&&(def.round||def.round==null)){scale.rangeRoundPoints(rng,pad)}else if(def.points){scale.rangePoints(rng,pad)}else if(def.round||def.round==null){scale.rangeRoundBands(rng,pad,outer)}else{scale.rangeBands(rng,pad,outer)}}function quantitative(def,scale,rng,db,data){var domain,interval;domain=def.type===QUANTILE?domainValues(def,db,data,false):domainMinMax(def,db,data);scale.domain(domain);if(def.range==="height")rng=rng.reverse();scale[def.round&&scale.rangeRound?"rangeRound":"range"](rng);if(def.exponent&&def.type===POWER)scale.exponent(def.exponent);if(def.clamp)scale.clamp(true);if(def.nice){if(def.type===TIME){interval=d3.time[def.nice];if(!interval)vg.error("Unrecognized interval: "+interval);scale.nice(interval)}else{scale.nice()}}}function extract(refs,db,data){return refs.reduce(function(values,r){var dat=vg.values(db[r.data]||data),get=vg.accessor(vg.isString(r.field)?r.field:"data."+vg.accessor(r.field.group)(data));return vg.unique(dat,get,values)},[])}function domainValues(def,db,data,sort){var domain=def.domain,values,refs;if(vg.isArray(domain)){values=sort?domain.slice():domain}else if(vg.isObject(domain)){refs=domain.fields||vg.array(domain);values=extract(refs,db,data)}if(values&&sort)values.sort(vg.cmp);return values}function domainMinMax(def,db,data){var domain=[null,null],refs,z;function extract(ref,min,max,z){var dat=vg.values(db[ref.data]||data);var fields=vg.array(ref.field).map(function(f){return vg.isString(f)?f:"data."+vg.accessor(f.group)(data)});fields.forEach(function(f,i){f=vg.accessor(f);if(min)domain[0]=d3.min([domain[0],d3.min(dat,f)]);if(max)domain[z]=d3.max([domain[z],d3.max(dat,f)])})}if(def.domain!==undefined){if(vg.isArray(def.domain)){domain=def.domain.slice()}else if(vg.isObject(def.domain)){refs=def.domain.fields||vg.array(def.domain);refs.forEach(function(r){extract(r,1,1,1)})}else{domain=def.domain}}z=domain.length-1;if(def.domainMin!==undefined){if(vg.isObject(def.domainMin)){domain[0]=null;refs=def.domainMin.fields||vg.array(def.domainMin);refs.forEach(function(r){extract(r,1,0,z)})}else{domain[0]=def.domainMin}}if(def.domainMax!==undefined){if(vg.isObject(def.domainMax)){domain[z]=null;refs=def.domainMax.fields||vg.array(def.domainMax);refs.forEach(function(r){extract(r,0,1,z)})}else{domain[z]=def.domainMax}}if(def.type!==LOG&&def.type!==TIME&&(def.zero||def.zero===undefined)){domain[0]=Math.min(0,domain[0]);domain[z]=Math.max(0,domain[z])}return domain}function range(def,group){var rng=[null,null];if(def.range!==undefined){if(typeof def.range==="string"){if(GROUP_PROPERTY[def.range]){rng=[0,group[def.range]]}else if(vg.config.range[def.range]){rng=vg.config.range[def.range]}else{vg.error("Unrecogized range: "+def.range);return rng}}else if(vg.isArray(def.range)){rng=vg.duplicate(def.range)}else if(vg.isObject(def.range)){return null}else{rng=[0,def.range]}}if(def.rangeMin!==undefined){rng[0]=def.rangeMin}if(def.rangeMax!==undefined){rng[rng.length-1]=def.rangeMax}if(def.reverse!==undefined){var rev=def.reverse;if(vg.isObject(rev)){rev=vg.accessor(rev.field)(group.datum)}if(rev)rng=rng.reverse()}return rng}return scales}();vg.parse.spec=function(spec,callback,viewFactory){viewFactory=viewFactory||vg.ViewFactory;function parse(spec){spec=vg.duplicate(spec);var width=spec.width||500,height=spec.height||500,viewport=spec.viewport||null;
var defs={width:width,height:height,viewport:viewport,background:vg.parse.background(spec.background),padding:vg.parse.padding(spec.padding),marks:vg.parse.marks(spec,width,height),data:vg.parse.data(spec.data,function(){callback(viewConstructor)})};var viewConstructor=viewFactory(defs)}vg.isObject(spec)?parse(spec):d3.json(spec,function(error,json){error?vg.error(error):parse(json)})};vg.parse.template=function(text){var source=vg.parse.template.source(text,"d");source="var __t; return "+source+";";try{return new Function("d",source).bind(vg)}catch(e){e.source=source;throw e}};vg.parse.template.source=function(text,variable){variable=variable||"obj";var index=0;var source="'";var regex=vg_template_re;text.replace(regex,function(match,interpolate,offset){source+=text.slice(index,offset).replace(vg_template_escaper,vg_template_escapeChar);index=offset+match.length;if(interpolate){source+="'\n+((__t=("+vg_template_var(interpolate,variable)+"))==null?'':__t)+\n'"}return match});return source+"'"};var vg_template_var=function(text,variable){var filters=text.split("|");var prop=filters.shift().trim();var format=[];var stringCast=true;function strcall(fn){fn=fn||"";if(stringCast){stringCast=false;source="String("+source+")"+fn}else{source+=fn}return source}var source=vg.field(prop).map(vg.str).join("][");source=variable+"["+source+"]";for(var i=0;i<filters.length;++i){var f=filters[i],args=null,pidx,a,b;if((pidx=f.indexOf(":"))>0){f=f.slice(0,pidx);args=filters[i].slice(pidx+1).split(",").map(function(s){return s.trim()})}f=f.trim();switch(f){case"length":strcall(".length");break;case"lower":strcall(".toLowerCase()");break;case"upper":strcall(".toUpperCase()");break;case"lower-locale":strcall(".toLocaleLowerCase()");break;case"upper-locale":strcall(".toLocaleUpperCase()");break;case"trim":strcall(".trim()");break;case"left":a=vg.number(args[0]);strcall(".slice(0,"+a+")");break;case"right":a=vg.number(args[0]);strcall(".slice(-"+a+")");break;case"mid":a=vg.number(args[0]);b=a+vg.number(args[1]);strcall(".slice(+"+a+","+b+")");break;case"slice":a=vg.number(args[0]);strcall(".slice("+a+(args.length>1?","+vg.number(args[1]):"")+")");break;case"truncate":a=vg.number(args[0]);b=args[1];b=b!=="left"&&b!=="middle"&&b!=="center"?"right":b;source="this.truncate("+strcall()+","+a+',"'+b+'")';break;case"number":a=vg_template_format(args[0],d3.format);stringCast=false;source="this.__formats["+a+"]("+source+")";break;case"time":a=vg_template_format(args[0],d3.time.format);stringCast=false;source="this.__formats["+a+"]("+source+")";break;default:throw Error("Unrecognized template filter: "+f)}}return source};var vg_template_re=/\{\{(.+?)\}\}|$/g;var vg_template_escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var vg_template_escaper=/\\|'|\r|\n|\u2028|\u2029/g;var vg_template_escapeChar=function(match){return"\\"+vg_template_escapes[match]};var vg_template_formats=[];var vg_template_format_map={};var vg_template_format=function(pattern,fmt){if(pattern[0]==="'"&&pattern[pattern.length-1]==="'"||pattern[0]!=='"'&&pattern[pattern.length-1]==='"'){pattern=pattern.slice(1,-1)}else{throw Error("Format pattern must be quoted: "+pattern)}if(!vg_template_format_map[pattern]){var f=fmt(pattern);var i=vg_template_formats.length;vg_template_formats.push(f);vg_template_format_map[pattern]=i}return vg_template_format_map[pattern]};vg.__formats=vg_template_formats;vg.parse.transform=function(def){var tx=vg.data[def.type]();vg.keys(def).forEach(function(k){if(k==="type")return;tx[k](def[k])});return tx};vg.scene={};vg.scene.GROUP="group",vg.scene.ENTER=0,vg.scene.UPDATE=1,vg.scene.EXIT=2;vg.scene.DEFAULT_DATA={sentinel:1};vg.scene.data=function(data,parentData){var DEFAULT=vg.scene.DEFAULT_DATA;data=vg.values(data||parentData||[DEFAULT]);if(data===DEFAULT)data=[DEFAULT];return data};vg.scene.fontString=function(o){return(o.fontStyle?o.fontStyle+" ":"")+(o.fontVariant?o.fontVariant+" ":"")+(o.fontWeight?o.fontWeight+" ":"")+(o.fontSize!=null?o.fontSize:vg.config.render.fontSize)+"px "+(o.font||vg.config.render.font)};vg.scene.Item=function(){function item(mark){this.mark=mark}var prototype=item.prototype;prototype.hasPropertySet=function(name){var props=this.mark.def.properties;return props&&props[name]!=null};prototype.cousin=function(offset,index){if(offset===0)return this;offset=offset||-1;var mark=this.mark,group=mark.group,iidx=index==null?mark.items.indexOf(this):index,midx=group.items.indexOf(mark)+offset;return group.items[midx].items[iidx]};prototype.sibling=function(offset){if(offset===0)return this;offset=offset||-1;var mark=this.mark,iidx=mark.items.indexOf(this)+offset;return mark.items[iidx]};prototype.remove=function(){var item=this,list=item.mark.items,i=list.indexOf(item);if(i>=0)i===list.length-1?list.pop():list.splice(i,1);return item};prototype.touch=function(){if(this.pathCache)this.pathCache=null;if(this.mark.pathCache)this.mark.pathCache=null};return item}();vg.scene.item=function(mark){return new vg.scene.Item(mark)};vg.scene.visit=function(node,func){var i,n,s,m,items;if(func(node))return true;var sets=["items","axisItems","legendItems"];for(s=0,m=sets.length;s<m;++s){if(items=node[sets[s]]){for(i=0,n=items.length;i<n;++i){if(vg.scene.visit(items[i],func))return true}}}};vg.scene.build=function(){var GROUP=vg.scene.GROUP,ENTER=vg.scene.ENTER,UPDATE=vg.scene.UPDATE,EXIT=vg.scene.EXIT,DEFAULT={sentinel:1};function build(def,db,node,parentData,reentrant){var data=vg.scene.data(def.from?def.from(db,node,parentData):null,parentData);node=buildNode(def,node);node.items=buildItems(def,data,node);buildTrans(def,node);if(def.type===GROUP){buildGroup(def,db,node,reentrant)}return node}function buildNode(def,node){node=node||{};node.def=def;node.marktype=def.type;node.interactive=!(def.interactive===false);return node}function buildItems(def,data,node){var keyf=keyFunction(def.key),prev=node.items||[],next=[],map={},i,key,len,item,datum,enter;for(i=0,len=prev.length;i<len;++i){item=prev[i];item.status=EXIT;if(keyf)map[item.key]=item}for(i=0,len=data.length;i<len;++i){datum=data[i];key=i;item=keyf?map[key=keyf(datum)]:prev[i];enter=item?false:(item=vg.scene.item(node),true);item.status=enter?ENTER:UPDATE;item.datum=datum;item.key=key;next.push(item)}for(i=0,len=prev.length;i<len;++i){item=prev[i];if(item.status===EXIT){item.key=keyf?item.key:next.length;next.splice(item.index,0,item)}}return next}function buildGroup(def,db,node,reentrant){var groups=node.items,marks=def.marks,i,len,m,mlen,name,group;for(i=0,len=groups.length;i<len;++i){group=groups[i];if(!reentrant&&group.scales)for(name in group.scales){if(name.indexOf(":prev")<0){group.scales[name+":prev"]=group.scales[name].copy()}}group.items=group.items||[];for(m=0,mlen=marks.length;m<mlen;++m){group.items[m]=build(marks[m],db,group.items[m],group.datum);group.items[m].group=group}}}function buildTrans(def,node){if(def.duration)node.duration=def.duration;if(def.ease)node.ease=d3.ease(def.ease);if(def.delay){var items=node.items,group=node.group,n=items.length,i;for(i=0;i<n;++i)def.delay.call(this,items[i],group)}}function keyFunction(key){if(key==null)return null;var f=vg.array(key).map(vg.accessor);return function(d){for(var s="",i=0,n=f.length;i<n;++i){if(i>0)s+="|";s+=String(f[i](d))}return s}}return build}();vg.scene.bounds=function(){var parse=vg.canvas.path.parse,boundPath=vg.canvas.path.bounds,areaPath=vg.canvas.path.area,linePath=vg.canvas.path.line,halfpi=Math.PI/2,sqrt3=Math.sqrt(3),tan30=Math.tan(30*Math.PI/180),gfx=null;function context(){return gfx||(gfx=(vg.config.isNode?new(require("canvas"))(1,1):d3.select("body").append("canvas").attr("class","vega_hidden").attr("width",1).attr("height",1).style("display","none").node()).getContext("2d"))}function pathBounds(o,path,bounds){if(path==null){bounds.set(0,0,0,0)}else{boundPath(path,bounds);if(o.stroke&&o.opacity!==0&&o.strokeWidth>0){bounds.expand(o.strokeWidth)}}return bounds}function path(o,bounds){var p=o.path?o.pathCache||(o.pathCache=parse(o.path)):null;return pathBounds(o,p,bounds)}function area(o,bounds){var items=o.mark.items,o=items[0];var p=o.pathCache||(o.pathCache=parse(areaPath(items)));return pathBounds(items[0],p,bounds)}function line(o,bounds){var items=o.mark.items,o=items[0];var p=o.pathCache||(o.pathCache=parse(linePath(items)));return pathBounds(items[0],p,bounds)}function rect(o,bounds){var x=o.x||0,y=o.y||0,w=x+o.width||0,h=y+o.height||0;bounds.set(x,y,w,h);if(o.stroke&&o.opacity!==0&&o.strokeWidth>0){bounds.expand(o.strokeWidth)}return bounds}function image(o,bounds){var w=o.width||0,h=o.height||0,x=(o.x||0)-(o.align==="center"?w/2:o.align==="right"?w:0),y=(o.y||0)-(o.baseline==="middle"?h/2:o.baseline==="bottom"?h:0);return bounds.set(x,y,x+w,y+h)}function rule(o,bounds){var x1,y1;bounds.set(x1=o.x||0,y1=o.y||0,o.x2!=null?o.x2:x1,o.y2!=null?o.y2:y1);if(o.stroke&&o.opacity!==0&&o.strokeWidth>0){bounds.expand(o.strokeWidth)}return bounds}function arc(o,bounds){var cx=o.x||0,cy=o.y||0,ir=o.innerRadius||0,or=o.outerRadius||0,sa=(o.startAngle||0)-halfpi,ea=(o.endAngle||0)-halfpi,xmin=Infinity,xmax=-Infinity,ymin=Infinity,ymax=-Infinity,a,i,n,x,y,ix,iy,ox,oy;var angles=[sa,ea],s=sa-sa%halfpi;for(i=0;i<4&&s<ea;++i,s+=halfpi){angles.push(s)}for(i=0,n=angles.length;i<n;++i){a=angles[i];x=Math.cos(a);ix=ir*x;ox=or*x;y=Math.sin(a);iy=ir*y;oy=or*y;xmin=Math.min(xmin,ix,ox);xmax=Math.max(xmax,ix,ox);ymin=Math.min(ymin,iy,oy);ymax=Math.max(ymax,iy,oy)}bounds.set(cx+xmin,cy+ymin,cx+xmax,cy+ymax);if(o.stroke&&o.opacity!==0&&o.strokeWidth>0){bounds.expand(o.strokeWidth)}return bounds}function symbol(o,bounds){var size=o.size!=null?o.size:100,x=o.x||0,y=o.y||0,r,t,rx,ry;switch(o.shape){case"cross":r=Math.sqrt(size/5)/2;t=3*r;bounds.set(x-t,y-r,x+t,y+r);break;case"diamond":ry=Math.sqrt(size/(2*tan30));rx=ry*tan30;bounds.set(x-rx,y-ry,x+rx,y+ry);break;case"square":t=Math.sqrt(size);r=t/2;bounds.set(x-r,y-r,x+r,y+r);break;case"triangle-down":rx=Math.sqrt(size/sqrt3);ry=rx*sqrt3/2;bounds.set(x-rx,y-ry,x+rx,y+ry);break;case"triangle-up":rx=Math.sqrt(size/sqrt3);ry=rx*sqrt3/2;bounds.set(x-rx,y-ry,x+rx,y+ry);break;default:r=Math.sqrt(size/Math.PI);bounds.set(x-r,y-r,x+r,y+r)}if(o.stroke&&o.opacity!==0&&o.strokeWidth>0){bounds.expand(o.strokeWidth)}return bounds}function text(o,bounds,noRotate){var x=(o.x||0)+(o.dx||0),y=(o.y||0)+(o.dy||0),h=o.fontSize||vg.config.render.fontSize,a=o.align,b=o.baseline,r=o.radius||0,g=context(),w,t;g.font=vg.scene.fontString(o);g.textAlign=a||"left";g.textBaseline=b||"alphabetic";w=g.measureText(o.text||"").width;if(r){t=(o.theta||0)-Math.PI/2;x+=r*Math.cos(t);y+=r*Math.sin(t)}if(a==="center"){x=x-w/2}else if(a==="right"){x=x-w}else{}if(b==="top"){y=y+h/5}else if(b==="bottom"){y=y-h}else if(b==="middle"){y=y-h/2+h/10}else{y=y-4*h/5}bounds.set(x,y,x+w,y+h);if(o.angle&&!noRotate){bounds.rotate(o.angle*Math.PI/180,o.x||0,o.y||0)}return bounds.expand(noRotate?0:1)}function group(g,bounds,includeLegends){var axes=g.axisItems||[],legends=g.legendItems||[],j,m;for(j=0,m=axes.length;j<m;++j){bounds.union(axes[j].bounds)}for(j=0,m=g.items.length;j<m;++j){bounds.union(g.items[j].bounds)}if(includeLegends){for(j=0,m=legends.length;j<m;++j){bounds.union(legends[j].bounds)}if(g.width!=null&&g.height!=null){bounds.add(g.width,g.height)}if(g.x!=null&&g.y!=null){bounds.add(0,0)}}bounds.translate(g.x||0,g.y||0);return bounds}var methods={group:group,symbol:symbol,image:image,rect:rect,rule:rule,arc:arc,text:text,path:path,area:area,line:line};function itemBounds(item,func,opt){func=func||methods[item.mark.marktype];if(!item.bounds_prev)item["bounds:prev"]=new vg.Bounds;var b=item.bounds,pb=item["bounds:prev"];if(b)pb.clear().union(b);item.bounds=func(item,b?b.clear():new vg.Bounds,opt);if(!b)pb.clear().union(item.bounds);return item.bounds}function markBounds(mark,bounds,opt){bounds=bounds||mark.bounds&&mark.bounds.clear()||new vg.Bounds;var type=mark.marktype,func=methods[type],items=mark.items,item,i,len;if(type==="area"||type==="line"){if(items.length){items[0].bounds=func(items[0],bounds)}}else{for(i=0,len=items.length;i<len;++i){bounds.union(itemBounds(items[i],func,opt))}}mark.bounds=bounds}return{mark:markBounds,item:itemBounds,text:text,group:group}}();vg.scene.encode=function(){var GROUP=vg.scene.GROUP,ENTER=vg.scene.ENTER,UPDATE=vg.scene.UPDATE,EXIT=vg.scene.EXIT,EMPTY={};function main(scene,def,trans,request,items){request&&items?update.call(this,scene,def,trans,request,items):encode.call(this,scene,scene,def,trans,request);return scene}function update(scene,def,trans,request,items){items=vg.array(items);var i,len,item,group,props,prop;for(i=0,len=items.length;i<len;++i){item=items[i];group=item.mark.group||null;props=item.mark.def.properties;prop=props&&props[request];if(prop){prop.call(vg,item,group,trans);vg.scene.bounds.item(item)}}}function encode(group,scene,def,trans,request){encodeItems.call(this,group,scene.items,def,trans,request);if(scene.marktype===GROUP){encodeGroup.call(this,scene,def,group,trans,request)}else{vg.scene.bounds.mark(scene)}}function encodeLegend(group,scene,def,trans,request){encodeGroup.call(this,scene,def,group,trans,request);encodeItems.call(this,group,scene.items,def,trans,request);vg.scene.bounds.mark(scene,null,true)}function encodeGroup(scene,def,parent,trans,request){var i,len,m,mlen,group,scales,axes,axisItems,axisDef,leg,legItems,legDef;for(i=0,len=scene.items.length;i<len;++i){group=scene.items[i];scales=group.scales||(group.scales=def.scales?vg.extend({},parent.scales):parent.scales);if(def.scales){vg.parse.scales(def.scales,scales,this._data,group)}if(def.axes){axes=group.axes||(group.axes=[]);axisItems=group.axisItems||(group.axisItems=[]);vg.parse.axes(def.axes,axes,group.scales);axes.forEach(function(a,i){axisDef=a.def();axisItems[i]=vg.scene.build(axisDef,this._data,axisItems[i],null,1);axisItems[i].group=group;encode.call(this,group,group.axisItems[i],axisDef,trans)})}for(m=0,mlen=group.items.length;m<mlen;++m){encode.call(this,group,group.items[m],def.marks[m],trans,request)}}vg.scene.bounds.mark(scene,null,!def.legends);if(def.legends){for(i=0,len=scene.items.length;i<len;++i){group=scene.items[i];leg=group.legends||(group.legends=[]);legItems=group.legendItems||(group.legendItems=[]);vg.parse.legends(def.legends,leg,group.scales);leg.forEach(function(l,i){legDef=l.def();legItems[i]=vg.scene.build(legDef,this._data,legItems[i],null,1);legItems[i].group=group;encodeLegend.call(this,group,group.legendItems[i],legDef,trans)})}vg.scene.bounds.mark(scene,null,true)}}function encodeItems(group,items,def,trans,request){var props=def.properties||EMPTY,enter=props.enter,update=props.update,exit=props.exit,i,len,item,prop;if(request){if(prop=props[request]){for(i=0,len=items.length;i<len;++i){prop.call(vg,items[i],group,trans)}}return}for(i=0;i<items.length;++i){item=items[i];if(item.status===ENTER){if(enter)enter.call(vg,item,group);item.status=UPDATE}if(item.status!==EXIT&&update){update.call(vg,item,group,trans)}if(item.status===EXIT){if(exit)exit.call(vg,item,group,trans);if(trans&&!exit)trans.interpolate(item,EMPTY);else if(!trans)items[i--].remove()}}}return main}();vg.scene.Transition=function(){function trans(duration,ease){this.duration=duration||500;this.ease=ease&&d3.ease(ease)||d3.ease("cubic-in-out");this.updates={next:null}}var prototype=trans.prototype;var skip={text:1,url:1};prototype.interpolate=function(item,values){var key,curr,next,interp,list=null;for(key in values){curr=item[key];next=values[key];if(curr!==next){if(skip[key]||curr===undefined){item[key]=next}else if(typeof curr==="number"&&!isFinite(curr)){item[key]=next}else{interp=d3.interpolate(curr,next);interp.property=key;(list||(list=[])).push(interp)}}}if(list===null&&item.status===vg.scene.EXIT){list=[]}if(list!=null){list.item=item;list.ease=item.mark.ease||this.ease;list.next=this.updates.next;this.updates.next=list}return this};prototype.start=function(callback){var t=this,prev=t.updates,curr=prev.next;for(;curr!=null;prev=curr,curr=prev.next){if(curr.item.status===vg.scene.EXIT)curr.remove=true}t.callback=callback;d3.timer(function(elapsed){return step.call(t,elapsed)})};function step(elapsed){var list=this.updates,prev=list,curr=prev.next,duration=this.duration,item,delay,f,e,i,n,stop=true;for(;curr!=null;prev=curr,curr=prev.next){item=curr.item;delay=item.delay||0;f=(elapsed-delay)/duration;if(f<0){stop=false;continue}if(f>1)f=1;e=curr.ease(f);for(i=0,n=curr.length;i<n;++i){item[curr[i].property]=curr[i](e)}item.touch();vg.scene.bounds.item(item);if(f===1){if(curr.remove)item.remove();prev.next=curr.next;curr=prev}else{stop=false}}this.callback();return stop}return trans}();vg.scene.transition=function(dur,ease){return new vg.scene.Transition(dur,ease)};vg.scene.axis=function(){var scale,orient=vg.config.axis.orient,offset=0,titleOffset=vg.config.axis.titleOffset,axisDef=null,layer="front",grid=false,title=null,tickMajorSize=vg.config.axis.tickSize,tickMinorSize=vg.config.axis.tickSize,tickEndSize=vg.config.axis.tickSize,tickPadding=vg.config.axis.padding,tickValues=null,tickFormatString=null,tickSubdivide=0,tickCount=vg.config.axis.ticks,gridLineStyle={},tickLabelStyle={},majorTickStyle={},minorTickStyle={},titleStyle={},domainStyle={};var axis={};function reset(){axisDef=null}function getTickFormatString(){return tickFormatString||(scale.type==="log"?".1s":null)}function buildTickFormat(){var fmtStr=getTickFormatString();if(scale.tickFormat){return scale.tickFormat(tickCount,fmtStr)}else if(fmtStr){return scale.type==="time"?d3.time.format(fmtStr):d3.format(fmtStr)}else{return String}}function buildTicks(fmt){var ticks={major:tickValues,minor:null};if(ticks.major==null){ticks.major=scale.ticks?scale.ticks(tickCount):scale.domain()}ticks.minor=vg_axisSubdivide(scale,ticks.major,tickSubdivide).map(vg.data.ingest);ticks.major=ticks.major.map(function(d){return d=vg.data.ingest(d),d.label=fmt(d.data),d});return ticks}axis.def=function(){var def=axisDef?axisDef:axisDef=axis_def(scale);var fmt=buildTickFormat();var ticks=buildTicks(fmt);var tdata=title?[title].map(vg.data.ingest):[];def.marks[0].from=function(){return grid?ticks.major:[]};def.marks[1].from=function(){return ticks.major};def.marks[2].from=function(){return ticks.minor};def.marks[3].from=def.marks[1].from;def.marks[4].from=function(){return[1]};def.marks[5].from=function(){return tdata};def.offset=offset;def.orient=orient;def.layer=layer;return def};function axis_def(scale){var newScale,oldScale,range;if(scale.type==="ordinal"){newScale={scale:scale.scaleName,offset:.5+scale.rangeBand()/2};oldScale=newScale}else{newScale={scale:scale.scaleName,offset:.5};oldScale={scale:scale.scaleName+":prev",offset:.5}}range=vg_axisScaleRange(scale);var gridLines=vg_axisTicks();var majorTicks=vg_axisTicks();var minorTicks=vg_axisTicks();var tickLabels=vg_axisTickLabels();var domain=vg_axisDomain();var title=vg_axisTitle();gridLines.properties.enter.stroke={value:vg.config.axis.gridColor};vg_axisTicksExtend(orient,gridLines,oldScale,newScale,Infinity);vg_axisTicksExtend(orient,majorTicks,oldScale,newScale,tickMajorSize);vg_axisTicksExtend(orient,minorTicks,oldScale,newScale,tickMinorSize);vg_axisLabelExtend(orient,tickLabels,oldScale,newScale,tickMajorSize,tickPadding);vg_axisDomainExtend(orient,domain,range,tickEndSize);vg_axisTitleExtend(orient,title,range,titleOffset);vg.extend(gridLines.properties.update,gridLineStyle);vg.extend(majorTicks.properties.update,majorTickStyle);vg.extend(minorTicks.properties.update,minorTickStyle);vg.extend(tickLabels.properties.update,tickLabelStyle);vg.extend(domain.properties.update,domainStyle);vg.extend(title.properties.update,titleStyle);var marks=[gridLines,majorTicks,minorTicks,tickLabels,domain,title];return{type:"group",interactive:false,properties:{enter:vg_axisUpdate,update:vg_axisUpdate},marks:marks.map(vg.parse.mark)}}axis.scale=function(x){if(!arguments.length)return scale;if(scale!==x){scale=x;reset()}return axis};axis.orient=function(x){if(!arguments.length)return orient;if(orient!==x){orient=x in vg_axisOrients?x+"":vg.config.axis.orient;reset()}return axis};axis.title=function(x){if(!arguments.length)return title;if(title!==x){title=x;reset()}return axis};axis.tickCount=function(x){if(!arguments.length)return tickCount;tickCount=x;return axis};axis.tickValues=function(x){if(!arguments.length)return tickValues;tickValues=x;return axis};axis.tickFormat=function(x){if(!arguments.length)return tickFormatString;if(tickFormatString!==x){tickFormatString=x;reset()}return axis};axis.tickSize=function(x,y){if(!arguments.length)return tickMajorSize;var n=arguments.length-1,major=+x,minor=n>1?+y:tickMajorSize,end=n>0?+arguments[n]:tickMajorSize;if(tickMajorSize!==major||tickMinorSize!==minor||tickEndSize!==end){reset()}tickMajorSize=major;tickMinorSize=minor;tickEndSize=end;return axis};axis.tickSubdivide=function(x){if(!arguments.length)return tickSubdivide;tickSubdivide=+x;return axis};axis.offset=function(x){if(!arguments.length)return offset;offset=vg.isObject(x)?x:+x;return axis};axis.tickPadding=function(x){if(!arguments.length)return tickPadding;if(tickPadding!==+x){tickPadding=+x;reset()}return axis};axis.titleOffset=function(x){if(!arguments.length)return titleOffset;if(titleOffset!==+x){titleOffset=+x;reset()}return axis};axis.layer=function(x){if(!arguments.length)return layer;if(layer!==x){layer=x;reset()}return axis};axis.grid=function(x){if(!arguments.length)return grid;if(grid!==x){grid=x;reset()}return axis};axis.gridLineProperties=function(x){if(!arguments.length)return gridLineStyle;if(gridLineStyle!==x){gridLineStyle=x}return axis};axis.majorTickProperties=function(x){if(!arguments.length)return majorTickStyle;if(majorTickStyle!==x){majorTickStyle=x}return axis};axis.minorTickProperties=function(x){if(!arguments.length)return minorTickStyle;if(minorTickStyle!==x){minorTickStyle=x}return axis};axis.tickLabelProperties=function(x){if(!arguments.length)return tickLabelStyle;if(tickLabelStyle!==x){tickLabelStyle=x}return axis};axis.titleProperties=function(x){if(!arguments.length)return titleStyle;if(titleStyle!==x){titleStyle=x}return axis};axis.domainProperties=function(x){if(!arguments.length)return domainStyle;if(domainStyle!==x){domainStyle=x}return axis};axis.reset=function(){reset()};return axis};var vg_axisOrients={top:1,right:1,bottom:1,left:1};function vg_axisSubdivide(scale,ticks,m){subticks=[];if(m&&ticks.length>1){var extent=vg_axisScaleExtent(scale.domain()),subticks,i=-1,n=ticks.length,d=(ticks[1]-ticks[0])/++m,j,v;while(++i<n){for(j=m;--j>0;){if((v=+ticks[i]-j*d)>=extent[0]){subticks.push(v)}}}for(--i,j=0;++j<m&&(v=+ticks[i]+j*d)<extent[1];){subticks.push(v)}}return subticks}function vg_axisScaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return start<stop?[start,stop]:[stop,start]}function vg_axisScaleRange(scale){return scale.rangeExtent?scale.rangeExtent():vg_axisScaleExtent(scale.range())}var vg_axisAlign={bottom:"center",top:"center",left:"right",right:"left"};var vg_axisBaseline={bottom:"top",top:"bottom",left:"middle",right:"middle"};function vg_axisLabelExtend(orient,labels,oldScale,newScale,size,pad){size=Math.max(size,0)+pad;if(orient==="left"||orient==="top"){size*=-1}if(orient==="top"||orient==="bottom"){vg.extend(labels.properties.enter,{x:oldScale,y:{value:size}});vg.extend(labels.properties.update,{x:newScale,y:{value:size},align:{value:"center"},baseline:{value:vg_axisBaseline[orient]}})}else{vg.extend(labels.properties.enter,{x:{value:size},y:oldScale});vg.extend(labels.properties.update,{x:{value:size},y:newScale,align:{value:vg_axisAlign[orient]},baseline:{value:"middle"}})}}function vg_axisTicksExtend(orient,ticks,oldScale,newScale,size){var sign=orient==="left"||orient==="top"?-1:1;if(size===Infinity){size=orient==="top"||orient==="bottom"?{group:"mark.group.height",mult:-sign}:{group:"mark.group.width",mult:-sign}}else{size={value:sign*size}}if(orient==="top"||orient==="bottom"){vg.extend(ticks.properties.enter,{x:oldScale,y:{value:0},y2:size});vg.extend(ticks.properties.update,{x:newScale,y:{value:0},y2:size});vg.extend(ticks.properties.exit,{x:newScale})}else{vg.extend(ticks.properties.enter,{x:{value:0},x2:size,y:oldScale});vg.extend(ticks.properties.update,{x:{value:0},x2:size,y:newScale});vg.extend(ticks.properties.exit,{y:newScale})}}function vg_axisTitleExtend(orient,title,range,offset){var mid=~~((range[0]+range[1])/2),sign=orient==="top"||orient==="left"?-1:1;if(orient==="bottom"||orient==="top"){vg.extend(title.properties.update,{x:{value:mid},y:{value:sign*offset},angle:{value:0}})}else{vg.extend(title.properties.update,{x:{value:sign*offset},y:{value:mid},angle:{value:-90}})}}function vg_axisDomainExtend(orient,domain,range,size){var path;if(orient==="top"||orient==="left"){size=-1*size}if(orient==="bottom"||orient==="top"){path="M"+range[0]+","+size+"V0H"+range[1]+"V"+size}else{path="M"+size+","+range[0]+"H0V"+range[1]+"H"+size}domain.properties.update.path={value:path}}function vg_axisUpdate(item,group,trans){var o=trans?{}:item,offset=item.mark.def.offset,orient=item.mark.def.orient,width=group.width,height=group.height;if(vg.isArray(offset)){var ofx=offset[0],ofy=offset[1];switch(orient){case"left":{o.x=-ofx;o.y=ofy;break}case"right":{o.x=width+ofx;o.y=ofy;break}case"bottom":{o.x=ofx;o.y=height+ofy;break}case"top":{o.x=ofx;o.y=-ofy;break}default:{o.x=ofx;o.y=ofy}}}else{if(vg.isObject(offset)){offset=-group.scales[offset.scale](offset.value)}switch(orient){case"left":{o.x=-offset;o.y=0;break}case"right":{o.x=width+offset;o.y=0;break}case"bottom":{o.x=0;o.y=height+offset;break}case"top":{o.x=0;o.y=-offset;break}default:{o.x=0;o.y=0}}}if(trans)trans.interpolate(item,o)}function vg_axisTicks(){return{type:"rule",interactive:false,key:"data",properties:{enter:{stroke:{value:vg.config.axis.tickColor},strokeWidth:{value:vg.config.axis.tickWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function vg_axisTickLabels(){return{type:"text",interactive:true,key:"data",properties:{enter:{fill:{value:vg.config.axis.tickLabelColor},font:{value:vg.config.axis.tickLabelFont},fontSize:{value:vg.config.axis.tickLabelFontSize},opacity:{value:1e-6},text:{field:"label"}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function vg_axisTitle(){return{type:"text",interactive:true,properties:{enter:{font:{value:vg.config.axis.titleFont},fontSize:{value:vg.config.axis.titleFontSize},fontWeight:{value:vg.config.axis.titleFontWeight},fill:{value:vg.config.axis.titleColor},align:{value:"center"},baseline:{value:"middle"},text:{field:"data"}},update:{}}}}function vg_axisDomain(){return{type:"path",interactive:false,properties:{enter:{x:{value:.5},y:{value:.5},stroke:{value:vg.config.axis.axisColor},strokeWidth:{value:vg.config.axis.axisWidth}},update:{}}}}vg.scene.legend=function(){var size=null,shape=null,fill=null,stroke=null,spacing=null,values=null,format=null,formatString=null,title=undefined,orient="right",offset=vg.config.legend.offset,padding=vg.config.legend.padding,legendDef,tickArguments=[5],legendStyle={},symbolStyle={},gradientStyle={},titleStyle={},labelStyle={};var legend={},legendDef=null;function reset(){legendDef=null}legend.def=function(){var scale=size||shape||fill||stroke;format=!formatString?null:scale.type==="time"?d3.time.format(formatString):d3.format(formatString);if(!legendDef){legendDef=(scale===fill||scale===stroke)&&!discrete(scale.type)?quantDef(scale):ordinalDef(scale)}legendDef.orient=orient;legendDef.offset=offset;legendDef.padding=padding;return legendDef};function discrete(type){return type==="ordinal"||type==="quantize"||type==="quantile"||type==="threshold"}function ordinalDef(scale){var def=o_legend_def(size,shape,fill,stroke);var data=(values==null?scale.ticks?scale.ticks.apply(scale,tickArguments):scale.domain():values).map(vg.data.ingest);var fmt=format==null?scale.tickFormat?scale.tickFormat.apply(scale,tickArguments):String:format;var fs,range,offset,pad=5,domain=d3.range(data.length);if(size){range=data.map(function(x){return Math.sqrt(size(x.data))});offset=d3.max(range);range=range.reduce(function(a,b,i,z){if(i>0)a[i]=a[i-1]+z[i-1]/2+pad;return a[i]+=b/2,a},[0]).map(Math.round)}else{offset=Math.round(Math.sqrt(vg.config.legend.symbolSize));range=spacing||(fs=labelStyle.fontSize)&&fs.value+pad||vg.config.legend.labelFontSize+pad;range=domain.map(function(d,i){return Math.round(offset/2+i*range)})}var sz=padding,ts;if(title){ts=titleStyle.fontSize;sz+=5+(ts&&ts.value||vg.config.legend.titleFontSize)}for(var i=0,n=range.length;i<n;++i)range[i]+=sz;var scale={name:"legend",type:"ordinal",points:true,domain:domain,range:range};var tdata=(title?[title]:[]).map(vg.data.ingest);data.forEach(function(d){d.label=fmt(d.data);d.offset=offset});def.scales=[scale];def.marks[0].from=function(){return tdata};def.marks[1].from=function(){return data};def.marks[2].from=def.marks[1].from;return def}function o_legend_def(size,shape,fill,stroke){var titles=vg_legendTitle(),symbols=vg_legendSymbols(),labels=vg_vLegendLabels();vg_legendSymbolExtend(symbols,size,shape,fill,stroke);vg.extend(titles.properties.update,titleStyle);vg.extend(symbols.properties.update,symbolStyle);vg.extend(labels.properties.update,labelStyle);titles.properties.enter.x.value+=padding;titles.properties.enter.y.value+=padding;labels.properties.enter.x.offset+=padding+1;symbols.properties.enter.x.offset=padding+1;labels.properties.update.x.offset+=padding+1;symbols.properties.update.x.offset=padding+1;return{type:"group",interactive:false,properties:{enter:vg.parse.properties("group",legendStyle),update:vg_legendUpdate},marks:[titles,symbols,labels].map(vg.parse.mark)}}function quantDef(scale){var def=q_legend_def(scale),dom=scale.domain(),data=dom.map(vg.data.ingest),width=gradientStyle.width&&gradientStyle.width.value||vg.config.legend.gradientWidth,fmt=format==null?scale.tickFormat?scale.tickFormat.apply(scale,tickArguments):String:format;var layout={name:"legend",type:scale.type,round:true,zero:false,domain:[dom[0],dom[dom.length-1]],range:[padding,width+padding]};if(scale.type==="pow")layout.exponent=scale.exponent();var tdata=(title?[title]:[]).map(vg.data.ingest);data.forEach(function(d,i){d.label=fmt(d.data);d.align=i==data.length-1?"right":i==0?"left":"center"});def.scales=[layout];def.marks[0].from=function(){return tdata};def.marks[1].from=function(){return[1]};def.marks[2].from=function(){return data};return def}function q_legend_def(scale){var titles=vg_legendTitle(),gradient=vg_legendGradient(),labels=vg_hLegendLabels(),grad=new vg.Gradient;var dom=scale.domain(),min=dom[0],max=dom[dom.length-1],f=scale.copy().domain([min,max]).range([0,1]);var stops=scale.type!=="linear"&&scale.ticks?scale.ticks.call(scale,15):dom;if(min!==stops[0])stops.unshift(min);if(max!==stops[stops.length-1])stops.push(max);for(var i=0,n=stops.length;i<n;++i){grad.stop(f(stops[i]),scale(stops[i]))}gradient.properties.enter.fill={value:grad};vg.extend(titles.properties.update,titleStyle);vg.extend(gradient.properties.update,gradientStyle);vg.extend(labels.properties.update,labelStyle);var gp=gradient.properties,gh=gradientStyle.height,hh=gh&&gh.value||gp.enter.height.value;labels.properties.enter.y.value=hh;labels.properties.update.y.value=hh;if(title){var tp=titles.properties,fs=titleStyle.fontSize,sz=4+(fs&&fs.value||tp.enter.fontSize.value);gradient.properties.enter.y.value+=sz;labels.properties.enter.y.value+=sz;gradient.properties.update.y.value+=sz;labels.properties.update.y.value+=sz}titles.properties.enter.x.value+=padding;titles.properties.enter.y.value+=padding;gradient.properties.enter.x.value+=padding;gradient.properties.enter.y.value+=padding;labels.properties.enter.y.value+=padding;gradient.properties.update.x.value+=padding;gradient.properties.update.y.value+=padding;labels.properties.update.y.value+=padding;return{type:"group",interactive:false,properties:{enter:vg.parse.properties("group",legendStyle),update:vg_legendUpdate},marks:[titles,gradient,labels].map(vg.parse.mark)}
}legend.size=function(x){if(!arguments.length)return size;if(size!==x){size=x;reset()}return legend};legend.shape=function(x){if(!arguments.length)return shape;if(shape!==x){shape=x;reset()}return legend};legend.fill=function(x){if(!arguments.length)return fill;if(fill!==x){fill=x;reset()}return legend};legend.stroke=function(x){if(!arguments.length)return stroke;if(stroke!==x){stroke=x;reset()}return legend};legend.title=function(x){if(!arguments.length)return title;if(title!==x){title=x;reset()}return legend};legend.format=function(x){if(!arguments.length)return formatString;if(formatString!==x){formatString=x;reset()}return legend};legend.spacing=function(x){if(!arguments.length)return spacing;if(spacing!==+x){spacing=+x;reset()}return legend};legend.orient=function(x){if(!arguments.length)return orient;orient=x in vg_legendOrients?x+"":vg.config.legend.orient;return legend};legend.offset=function(x){if(!arguments.length)return offset;offset=+x;return legend};legend.values=function(x){if(!arguments.length)return values;values=x;return legend};legend.legendProperties=function(x){if(!arguments.length)return legendStyle;legendStyle=x;return legend};legend.symbolProperties=function(x){if(!arguments.length)return symbolStyle;symbolStyle=x;return legend};legend.gradientProperties=function(x){if(!arguments.length)return gradientStyle;gradientStyle=x;return legend};legend.labelProperties=function(x){if(!arguments.length)return labelStyle;labelStyle=x;return legend};legend.titleProperties=function(x){if(!arguments.length)return titleStyle;titleStyle=x;return legend};legend.reset=function(){reset()};return legend};var vg_legendOrients={right:1,left:1};function vg_legendUpdate(item,group,trans){var o=trans?{}:item,gx,offset=item.mark.def.offset,orient=item.mark.def.orient,pad=item.mark.def.padding*2,lw=~~item.bounds.width()+(item.width?0:pad),lh=~~item.bounds.height()+(item.height?0:pad);o.x=.5;o.y=.5;o.width=lw;o.height=lh;if(!trans&&group.bounds){group.bounds.delta=group.bounds.x2-group.width}switch(orient){case"left":{gx=group.bounds?group.bounds.x1:0;o.x+=gx-offset-lw;break};case"right":{gx=group.width;if(group.bounds)gx=trans?group.width+group.bounds.delta:group.bounds.x2;o.x+=gx+offset;break}}if(trans)trans.interpolate(item,o);item.mark.def.properties.enter(item,group,trans)}function vg_legendSymbolExtend(mark,size,shape,fill,stroke){var e=mark.properties.enter,u=mark.properties.update;if(size)e.size=u.size={scale:size.scaleName,field:"data"};if(shape)e.shape=u.shape={scale:shape.scaleName,field:"data"};if(fill)e.fill=u.fill={scale:fill.scaleName,field:"data"};if(stroke)e.stroke=u.stroke={scale:stroke.scaleName,field:"data"}}function vg_legendTitle(){var cfg=vg.config.legend;return{type:"text",interactive:false,key:"data",properties:{enter:{x:{value:0},y:{value:0},fill:{value:cfg.titleColor},font:{value:cfg.titleFont},fontSize:{value:cfg.titleFontSize},fontWeight:{value:cfg.titleFontWeight},baseline:{value:"top"},text:{field:"data"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function vg_legendSymbols(){var cfg=vg.config.legend;return{type:"symbol",interactive:false,key:"data",properties:{enter:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},shape:{value:cfg.symbolShape},size:{value:cfg.symbolSize},stroke:{value:cfg.symbolColor},strokeWidth:{value:cfg.symbolStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},opacity:{value:1}}}}}function vg_vLegendLabels(){var cfg=vg.config.legend;return{type:"text",interactive:false,key:"data",properties:{enter:{x:{field:"offset",offset:5},y:{scale:"legend",field:"index"},fill:{value:cfg.labelColor},font:{value:cfg.labelFont},fontSize:{value:cfg.labelFontSize},align:{value:cfg.labelAlign},baseline:{value:cfg.labelBaseline},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1},x:{field:"offset",offset:5},y:{scale:"legend",field:"index"}}}}}function vg_legendGradient(){var cfg=vg.config.legend;return{type:"rect",interactive:false,properties:{enter:{x:{value:0},y:{value:0},width:{value:cfg.gradientWidth},height:{value:cfg.gradientHeight},stroke:{value:cfg.gradientStrokeColor},strokeWidth:{value:cfg.gradientStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{value:0},y:{value:0},opacity:{value:1}}}}}function vg_hLegendLabels(){var cfg=vg.config.legend;return{type:"text",interactive:false,key:"data",properties:{enter:{x:{scale:"legend",field:"data"},y:{value:20},dy:{value:2},fill:{value:cfg.labelColor},font:{value:cfg.labelFont},fontSize:{value:cfg.labelFontSize},align:{field:"align"},baseline:{value:"top"},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{scale:"legend",field:"data"},y:{value:20},opacity:{value:1}}}}}vg.Model=function(){function model(){this._defs=null;this._data={};this._scene=null;this._reset={axes:false,legends:false}}var prototype=model.prototype;prototype.defs=function(defs){if(!arguments.length)return this._defs;this._defs=defs;return this};prototype.data=function(data){if(!arguments.length)return this._data;var deps={},defs=this._defs,src=defs.data.source,tx=defs.data.flow||{},keys=defs.data.sorted,len=keys.length,i,k,x;function sources(k){(src[k]||[]).forEach(function(s){deps[s]=k;sources(s)})}vg.keys(data).forEach(sources);for(i=0;i<len;++i){if(data[k=keys[i]]){x=data[k]}else if(deps[k]){x=vg_data_duplicate(this._data[deps[k]]);if(vg.isTree(data))vg_make_tree(x)}else continue;this._data[k]=tx[k]?tx[k](x,this._data,defs.marks):x}this._reset.legends=true;return this};prototype.width=function(width){if(this._defs)this._defs.width=width;if(this._defs&&this._defs.marks)this._defs.marks.width=width;if(this._scene)this._scene.items[0].width=width;this._reset.axes=true;return this};prototype.height=function(height){if(this._defs)this._defs.height=height;if(this._defs&&this._defs.marks)this._defs.marks.height=height;if(this._scene)this._scene.items[0].height=height;this._reset.axes=true;return this};prototype.scene=function(node){if(!arguments.length)return this._scene;this._scene=node;return this};prototype.build=function(){var m=this,data=m._data,marks=m._defs.marks;m._scene=vg.scene.build.call(m,marks,data,m._scene);m._scene.items[0].width=marks.width;m._scene.items[0].height=marks.height;m._scene.interactive=false;return this};prototype.encode=function(trans,request,item){this.reset();var m=this,scene=m._scene,defs=m._defs;vg.scene.encode.call(m,scene,defs.marks,trans,request,item);return this};prototype.reset=function(){if(this._scene&&this._reset.axes){vg.scene.visit(this._scene,function(item){if(item.axes)item.axes.forEach(function(axis){axis.reset()})});this._reset.axes=false}if(this._scene&&this._reset.legends){vg.scene.visit(this._scene,function(item){if(item.legends)item.legends.forEach(function(l){l.reset()})});this._reset.legends=false}return this};return model}();vg.View=function(){var view=function(el,width,height){this._el=null;this._build=false;this._model=new vg.Model;this._width=this.__width=width||500;this._height=this.__height=height||500;this._bgcolor=null;this._autopad=1;this._padding={top:0,left:0,bottom:0,right:0};this._viewport=null;this._renderer=null;this._handler=null;this._io=vg.canvas;if(el)this.initialize(el)};var prototype=view.prototype;prototype.width=function(width){if(!arguments.length)return this.__width;if(this.__width!==width){this._width=this.__width=width;if(this._el)this.initialize(this._el.parentNode);this._model.width(width);if(this._strict)this._autopad=1}return this};prototype.height=function(height){if(!arguments.length)return this.__height;if(this.__height!==height){this._height=this.__height=height;if(this._el)this.initialize(this._el.parentNode);this._model.height(this._height);if(this._strict)this._autopad=1}return this};prototype.background=function(bgcolor){if(!arguments.length)return this._bgcolor;if(this._bgcolor!==bgcolor){this._bgcolor=bgcolor;if(this._el)this.initialize(this._el.parentNode)}return this};prototype.padding=function(pad){if(!arguments.length)return this._padding;if(this._padding!==pad){if(vg.isString(pad)){this._autopad=1;this._padding={top:0,left:0,bottom:0,right:0};this._strict=pad==="strict"}else{this._autopad=0;this._padding=pad;this._strict=false}if(this._el){this._renderer.resize(this._width,this._height,pad);this._handler.padding(pad)}}return this};prototype.autopad=function(opt){if(this._autopad<1)return this;else this._autopad=0;var pad=this._padding,b=this.model().scene().bounds,inset=vg.config.autopadInset,l=b.x1<0?Math.ceil(-b.x1)+inset:0,t=b.y1<0?Math.ceil(-b.y1)+inset:0,r=b.x2>this._width?Math.ceil(+b.x2-this._width)+inset:0,b=b.y2>this._height?Math.ceil(+b.y2-this._height)+inset:0;pad={left:l,top:t,right:r,bottom:b};if(this._strict){this._autopad=0;this._padding=pad;this._width=Math.max(0,this.__width-(l+r));this._height=Math.max(0,this.__height-(t+b));this._model.width(this._width);this._model.height(this._height);if(this._el)this.initialize(this._el.parentNode);this.update({props:"enter"}).update({props:"update"})}else{this.padding(pad).update(opt)}return this};prototype.viewport=function(size){if(!arguments.length)return this._viewport;if(this._viewport!==size){this._viewport=size;if(this._el)this.initialize(this._el.parentNode)}return this};prototype.renderer=function(type){if(!arguments.length)return this._io;if(type==="canvas")type=vg.canvas;if(type==="svg")type=vg.svg;if(this._io!==type){this._io=type;this._renderer=null;if(this._el)this.initialize(this._el.parentNode);if(this._build)this.render()}return this};prototype.defs=function(defs){if(!arguments.length)return this._model.defs();this._model.defs(defs);return this};prototype.data=function(data){if(!arguments.length)return this._model.data();var ingest=vg.keys(data).reduce(function(d,k){return d[k]=vg.data.ingestAll(data[k]),d},{});this._model.data(ingest);this._build=false;return this};prototype.model=function(model){if(!arguments.length)return this._model;if(this._model!==model){this._model=model;if(this._handler)this._handler.model(model)}return this};prototype.initialize=function(el){var v=this,prevHandler,w=v._width,h=v._height,bg=v._bgcolor,pad=v._padding;d3.select(el).select("div.vega").remove();this._el=el=d3.select(el).append("div").attr("class","vega").style("position","relative").node();if(v._viewport){d3.select(el).style("width",(v._viewport[0]||w)+"px").style("height",(v._viewport[1]||h)+"px").style("overflow","auto")}v._renderer=(v._renderer||new this._io.Renderer).initialize(el,w,h,pad,bg);prevHandler=v._handler;v._handler=(new this._io.Handler).initialize(el,pad,v).model(v._model);if(prevHandler){prevHandler.handlers().forEach(function(h){v._handler.on(h.type,h.handler)})}return this};prototype.render=function(items){this._renderer.render(this._model.scene(),items);return this};prototype.on=function(){this._handler.on.apply(this._handler,arguments);return this};prototype.off=function(){this._handler.off.apply(this._handler,arguments);return this};prototype.update=function(opt){opt=opt||{};var view=this,trans=opt.duration?vg.scene.transition(opt.duration,opt.ease):null;view._build=view._build||(view._model.build(),true);view._model.encode(trans,opt.props,opt.items);if(trans){trans.start(function(items){view._renderer.render(view._model.scene(),items)})}else view.render(opt.items);return view.autopad(opt)};return view}();vg.ViewFactory=function(defs){return function(opt){opt=opt||{};var v=(new vg.View).width(defs.width).height(defs.height).background(defs.background).padding(defs.padding).viewport(defs.viewport).renderer(opt.renderer||"canvas").defs(defs);if(defs.data.load)v.data(defs.data.load);if(opt.data)v.data(opt.data);if(opt.el)v.initialize(opt.el);if(opt.hover!==false){v.on("mouseover",function(evt,item){if(item.hasPropertySet("hover")){this.update({props:"hover",items:item})}}).on("mouseout",function(evt,item){if(item.hasPropertySet("hover")){this.update({props:"update",items:item})}})}return v}};vg.Spec=function(){var spec=function(s){this.spec={width:500,height:500,padding:0,data:[],scales:[],axes:[],marks:[]};if(s)vg.extend(this.spec,s)};var prototype=spec.prototype;prototype.width=function(w){this.spec.width=w;return this};prototype.height=function(h){this.spec.height=h;return this};prototype.padding=function(p){this.spec.padding=p;return this};prototype.viewport=function(v){this.spec.viewport=v;return this};prototype.data=function(name,params){if(!params)params=vg.isString(name)?{name:name}:name;else params.name=name;this.spec.data.push(params);return this};prototype.scale=function(name,params){if(!params)params=vg.isString(name)?{name:name}:name;else params.name=name;this.spec.scales.push(params);return this};prototype.axis=function(params){this.spec.axes.push(params);return this};prototype.mark=function(type,mark){if(!mark)mark={type:type};else mark.type=type;mark.properties={};this.spec.marks.push(mark);var that=this;return{from:function(name,obj){mark.from=obj?(obj.data=name,obj):vg.isString(name)?{data:name}:name;return this},prop:function(name,obj){mark.properties[name]=vg.keys(obj).reduce(function(o,k){var v=obj[k];return o[k]=vg.isObject(v)?v:{value:v},o},{});return this},done:function(){return that}}};prototype.parse=function(callback){vg.parse.spec(this.spec,callback)};prototype.json=function(){return this.spec};return spec}();vg.spec=function(s){return new vg.Spec(s)};vg.headless={};vg.headless.canvas=vg.canvas.Renderer;vg.headless.svg=function(){var renderer=function(){this._text={head:"",root:"",foot:"",defs:"",body:""};this._defs={gradient:{},clipping:{}}};function open(tag,attr,raw){var s="<"+tag;if(attr){for(var key in attr){var val=attr[key];if(val!=null){s+=" "+key+'="'+val+'"'}}}if(raw)s+=" "+raw;return s+">"}function close(tag){return"</"+tag+">"}var prototype=renderer.prototype;prototype.initialize=function(el,w,h,pad,bgcolor){var t=this._text;var headAttr={width:w,height:h};if(bgcolor!=null){headAttr.style="background-color:"+bgcolor+";"}t.head=open("svg",headAttr,vg.config.svgNamespace);t.root=open("g",{transform:"translate("+pad.left+","+pad.top+")"});t.foot=close("g")+close("svg")};prototype.svg=function(){var t=this._text;return t.head+t.defs+t.root+t.body+t.foot};prototype.buildDefs=function(){var all=this._defs,dgrad=vg.keys(all.gradient),dclip=vg.keys(all.clipping),defs="",grad,clip,i,j;for(i=0;i<dgrad.length;++i){var id=dgrad[i],def=all.gradient[id],stops=def.stops;defs+=open("linearGradient",{id:id,x1:def.x1,x2:def.x2,y1:def.y1,y2:def.y2});for(j=0;j<stops.length;++j){defs+=open("stop",{offset:stops[j].offset,"stop-color":stops[j].color})+close("stop")}defs+=close("linearGradient")}for(i=0;i<dclip.length;++i){var id=dclip[i],def=all.clipping[id];defs+=open("clipPath",{id:id});defs+=open("rect",{x:0,y:0,width:def.width,height:def.height})+close("rect");defs+=close("clipPath")}return defs};prototype.render=function(scene){this._text.body=this.draw(scene);this._text.defs=this.buildDefs()};prototype.draw=function(scene){var meta=MARKS[scene.marktype],tag=meta[0],attr=meta[1],nest=meta[2]||false,data=nest?[scene.items]:scene.items,defs=this._defs,svg="",i,sty;svg+=open("g",{"class":cssClass(scene.def)});for(i=0;i<data.length;++i){sty=tag==="g"?null:style(data[i],tag,defs);svg+=open(tag,attr(data[i],defs),sty);if(tag==="text")svg+=escape_text(data[i].text);if(tag==="g")svg+=this.drawGroup(data[i]);svg+=close(tag)}return svg+close("g")};function escape_text(s){s=s==null?"":String(s);return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function escape_font(s){return String(s).replace(/\"/g,"'")}var MARKS={group:["g",group],area:["path",area,true],line:["path",line,true],arc:["path",arc],path:["path",path],symbol:["path",symbol],rect:["rect",rect],rule:["line",rule],text:["text",text],image:["image",image]};prototype.drawGroup=function(scene){var svg="",axes=scene.axisItems||[],items=scene.items,legends=scene.legendItems||[],i,j,m;svg+=group_bg(scene);for(j=0,m=axes.length;j<m;++j){if(axes[j].def.layer==="back"){svg+=this.draw(axes[j])}}for(j=0,m=items.length;j<m;++j){svg+=this.draw(items[j])}for(j=0,m=axes.length;j<m;++j){if(axes[j].def.layer!=="back"){svg+=this.draw(axes[j])}}for(j=0,m=legends.length;j<m;++j){svg+=this.draw(legends[j])}return svg};function group_bg(o){var w=o.width||0,h=o.height||0;if(w===0&&h===0)return"";return open("rect",{"class":"background",width:w,height:h},style(o,"rect"))+close("rect")}function group(o,defs){var x=o.x||0,y=o.y||0,attr={transform:"translate("+x+","+y+")"};if(o.clip){var c={width:o.width||0,height:o.height||0},id=o.clip_id||(o.clip_id="clip"+clip_id++);defs.clipping[id]=c;attr["clip-path"]="url(#"+id+")"}return attr}function arc(o){var x=o.x||0,y=o.y||0;return{transform:"translate("+x+","+y+")",d:arc_path(o)}}function area(items){if(!items.length)return;var o=items[0],path=o.orient==="horizontal"?area_path_h:area_path_v;path.interpolate(o.interpolate||"linear").tension(o.tension==null?.7:o.tension);return{d:path(items)}}function line(items){if(!items.length)return;var o=items[0];line_path.interpolate(o.interpolate||"linear").tension(o.tension==null?.7:o.tension);return{d:line_path(items)}}function path(o){var x=o.x||0,y=o.y||0;return{transform:"translate("+x+","+y+")",d:o.path}}function rect(o){return{x:o.x||0,y:o.y||0,width:o.width||0,height:o.height||0}}function rule(o){var x1=o.x||0,y1=o.y||0;return{x1:x1,y1:y1,x2:o.x2!=null?o.x2:x1,y2:o.y2!=null?o.y2:y1}}function symbol(o){var x=o.x||0,y=o.y||0;return{transform:"translate("+x+","+y+")",d:symbol_path(o)}}function image(o){var w=o.width||o.image&&o.image.width||0,h=o.height||o.image&&o.image.height||0,x=o.x-(o.align==="center"?w/2:o.align==="right"?w:0),y=o.y-(o.baseline==="middle"?h/2:o.baseline==="bottom"?h:0),url=vg.config.baseURL+o.url;return{"xlink:href":url,x:x,y:y,width:w,height:h}}function text(o){var x=o.x||0,y=o.y||0,dx=o.dx||0,dy=o.dy||0,a=o.angle||0,r=o.radius||0,align=textAlign[o.align||"left"],base=o.baseline==="top"?".9em":o.baseline==="middle"?".35em":0;if(r){var t=(o.theta||0)-Math.PI/2;x+=r*Math.cos(t);y+=r*Math.sin(t)}return{x:x+dx,y:y+dy,"text-anchor":align,transform:a?"rotate("+a+" "+x+","+y+")":null,dy:base?base:null}}function cssClass(def){var cls="type-"+def.type;if(def.name)cls+=" "+def.name;return cls}function x(o){return o.x||0}function y(o){return o.y||0}function xw(o){return o.x+o.width||0}function yh(o){return o.y+o.height||0}function key(o){return o.key}function size(o){return o.size==null?100:o.size}function shape(o){return o.shape||"circle"}var arc_path=d3.svg.arc(),area_path_v=d3.svg.area().x(x).y1(y).y0(yh),area_path_h=d3.svg.area().y(y).x0(xw).x1(x),line_path=d3.svg.line().x(x).y(y),symbol_path=d3.svg.symbol().type(shape).size(size);var mark_id=0,clip_id=0;var textAlign={left:"start",center:"middle",right:"end"};var styles={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"};var styleProps=vg.keys(styles);function style(d,tag,defs){var i,n,prop,name,value,o=d.mark?d:d.length?d[0]:null;if(o===null)return null;var s="";for(i=0,n=styleProps.length;i<n;++i){prop=styleProps[i];name=styles[prop];value=o[prop];if(value==null){if(name==="fill")s+="fill:none;"}else{if(value.id){defs.gradient[value.id]=value;value="url("+window.location.href+"#"+value.id+")"}s+=name+":"+value+";"}}if(tag==="text"){s+="font:"+fontString(o);+";"}return s.length?'style="'+s+'"':null}function fontString(o){var f=(o.fontStyle?o.fontStyle+" ":"")+(o.fontVariant?o.fontVariant+" ":"")+(o.fontWeight?o.fontWeight+" ":"")+(o.fontSize!=null?o.fontSize:vg.config.render.fontSize)+"px "+(o.font&&escape_font(o.font)||vg.config.render.font);return f}return renderer}();vg.headless.View=function(){var view=function(width,height,pad,bgcolor,type,vp){this._canvas=null;this._type=type;this._el="body";this._build=false;this._model=new vg.Model;this._width=this.__width=width||500;this._height=this.__height=height||500;this._bgcolor=bgcolor||null;this._padding=pad||{top:0,left:0,bottom:0,right:0};this._autopad=vg.isString(this._padding)?1:0;this._renderer=new vg.headless[type];this._viewport=vp||null;this.initialize()};var prototype=view.prototype;prototype.el=function(el){if(!arguments.length)return this._el;if(this._el!==el){this._el=el;this.initialize()}return this};prototype.model=function(){return this._model};prototype.width=function(width){if(!arguments.length)return this._width;if(this._width!==width){this._width=width;this.initialize();this._model.width(width)}return this};prototype.height=function(height){if(!arguments.length)return this._height;if(this._height!==height){this._height=height;this.initialize();this._model.height(this._height)}return this};prototype.background=function(bgcolor){if(!arguments.length)return this._bgcolor;if(this._bgcolor!==bgcolor){this._bgcolor=bgcolor;this.initialize()}return this};prototype.padding=function(pad){if(!arguments.length)return this._padding;if(this._padding!==pad){if(vg.isString(pad)){this._autopad=1;this._padding={top:0,left:0,bottom:0,right:0};this._strict=pad==="strict"}else{this._autopad=0;this._padding=pad;this._strict=false}this.initialize()}return this};prototype.autopad=function(opt){if(this._autopad<1)return this;else this._autopad=0;var pad=this._padding,b=this._model.scene().bounds,inset=vg.config.autopadInset,l=b.x1<0?Math.ceil(-b.x1)+inset:0,t=b.y1<0?Math.ceil(-b.y1)+inset:0,r=b.x2>this._width?Math.ceil(+b.x2-this._width)+inset:0,b=b.y2>this._height?Math.ceil(+b.y2-this._height)+inset:0;pad={left:l,top:t,right:r,bottom:b};if(this._strict){this._autopad=0;this._padding=pad;this._width=Math.max(0,this.__width-(l+r));this._height=Math.max(0,this.__height-(t+b));this._model.width(this._width);this._model.height(this._height);if(this._el)this.initialize();this.update({props:"enter"}).update({props:"update"})}else{this.padding(pad).update(opt)}return this};prototype.viewport=function(vp){if(!arguments.length)return _viewport;this._viewport=vp;this.initialize();return this};prototype.defs=function(defs){if(!arguments.length)return this._model.defs();this._model.defs(defs);return this};prototype.data=function(data){if(!arguments.length)return this._model.data();var ingest=vg.keys(data).reduce(function(d,k){return d[k]=vg.data.ingestAll(data[k]),d},{});this._model.data(ingest);this._build=false;return this};prototype.renderer=function(){return this._renderer};prototype.canvas=function(){return this._canvas};prototype.canvasAsync=function(callback){var r=this._renderer,view=this;function wait(){if(r.pendingImages()===0){view.render();callback(view._canvas)}else{setTimeout(wait,10)}}r.pendingImages()>0?wait():callback(this._canvas)};prototype.svg=function(){return this._type==="svg"?this._renderer.svg():null};prototype.initialize=function(){var w=this._width,h=this._height,bg=this._bgcolor,pad=this._padding;if(this._viewport){w=this._viewport[0]-(pad?pad.left+pad.right:0);h=this._viewport[1]-(pad?pad.top+pad.bottom:0)}if(this._type==="svg"){this.initSVG(w,h,pad,bg)}else{this.initCanvas(w,h,pad,bg)}return this};prototype.initCanvas=function(w,h,pad,bg){var Canvas=require("canvas"),tw=w+(pad?pad.left+pad.right:0),th=h+(pad?pad.top+pad.bottom:0),canvas=this._canvas=new Canvas(tw,th),ctx=canvas.getContext("2d");ctx.setTransform(1,0,0,1,pad.left,pad.top);this._renderer.context(ctx);this._renderer.resize(w,h,pad);this._renderer.background(bg)};prototype.initSVG=function(w,h,pad,bg){var tw=w+(pad?pad.left+pad.right:0),th=h+(pad?pad.top+pad.bottom:0);this._renderer.initialize(this._el,tw,th,pad,bg)};prototype.render=function(items){this._renderer.render(this._model.scene(),items);return this};prototype.update=function(opt){opt=opt||{};var view=this;view._build=view._build||(view._model.build(),true);view._model.encode(null,opt.props,opt.items);view.render(opt.items);return view.autopad(opt)};return view}();vg.headless.View.Factory=function(defs){return function(opt){opt=opt||{};var w=defs.width,h=defs.height,p=defs.padding,bg=defs.background,vp=defs.viewport,r=opt.renderer||"canvas",v=new vg.headless.View(w,h,p,bg,r,vp).defs(defs);if(defs.data.load)v.data(defs.data.load);if(opt.data)v.data(opt.data);return v}};vg.headless.render=function(opt,callback){function draw(chart){try{var view=chart({data:opt.data,renderer:opt.renderer}).update();if(opt.renderer==="svg"){callback(null,{svg:view.svg(),view:view})}else{view.canvasAsync(function(canvas){callback(null,{canvas:canvas,view:view})})}}catch(err){callback(err,null)}}vg.parse.spec(opt.spec,draw,vg.headless.View.Factory)};return vg});
var f,aa=this;
function ba(b){var a=typeof b;if("object"==a)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return a;var c=Object.prototype.toString.call(b);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
a&&"undefined"==typeof b.call)return"object";return a}var da="closure_uid_"+(1E9*Math.random()>>>0),ea=0;function fa(b,a){var c=b.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===a?d=d[e]?d[e]:d[e]={}:d[e]=a};function ha(b){return Array.prototype.join.call(arguments,"")}Math.random();function ia(b,a){for(var c in b)a.call(void 0,b[c],c,b)};function ja(b,a){null!=b&&this.append.apply(this,arguments)}f=ja.prototype;f.wb="";f.set=function(b){this.wb=""+b};f.append=function(b,a,c){this.wb+=b;if(null!=a)for(var d=1;d<arguments.length;d++)this.wb+=arguments[d];return this};f.clear=function(){this.wb=""};f.toString=function(){return this.wb};function ka(b,a){b.sort(a||la)}function ma(b,a){for(var c=0;c<b.length;c++)b[c]={index:c,value:b[c]};var d=a||la;ka(b,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<b.length;c++)b[c]=b[c].value}function la(b,a){return b>a?1:b<a?-1:0};if("undefined"===typeof na)var na=function(){throw Error("No *print-fn* fn set for evaluation environment");};var oa=null;if("undefined"===typeof pa)var pa=null;function ra(){return new l(null,5,[sa,!0,ta,!0,ua,!1,va,!1,wa,null],null)}function q(b){return null!=b&&!1!==b}function za(b){return null==b}function Aa(b){return b instanceof Array}function Ba(b){return q(b)?!1:!0}function Da(b,a){return b[ba(null==a?null:a)]?!0:b._?!0:!1}function Ea(b){return null==b?null:b.constructor}
function Ga(b,a){var c=Ea(a),c=q(q(c)?c.wd:c)?c.vd:ba(a);return Error(["No protocol method ",b," defined for type ",c,": ",a].join(""))}function Ha(b){var a=b.vd;return q(a)?a:""+r(b)}var Ia="undefined"!==typeof Symbol&&"function"===ba(Symbol)?Symbol.iterator:"@@iterator";function Ja(b){for(var a=b.length,c=Array(a),d=0;;)if(d<a)c[d]=b[d],d+=1;else break;return c}function Ka(b){function a(a,b){a.push(b);return a}var c=[];return v?v(a,c,b):La.call(null,a,c,b)}
var Ma={},Oa={},Pa=function Pa(a){if(a?a.I:a)return a.I(a);var c;c=Pa[ba(null==a?null:a)];if(!c&&(c=Pa._,!c))throw Ga("ICounted.-count",a);return c.call(null,a)},Qa=function Qa(a){if(a?a.Y:a)return a.Y(a);var c;c=Qa[ba(null==a?null:a)];if(!c&&(c=Qa._,!c))throw Ga("IEmptyableCollection.-empty",a);return c.call(null,a)},Ra={},Ta=function Ta(a,c){if(a?a.H:a)return a.H(a,c);var d;d=Ta[ba(null==a?null:a)];if(!d&&(d=Ta._,!d))throw Ga("ICollection.-conj",a);return d.call(null,a,c)},Ua={},w=function w(){switch(arguments.length){case 2:return w.b(arguments[0],
arguments[1]);case 3:return w.f(arguments[0],arguments[1],arguments[2]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}};w.b=function(b,a){if(b?b.M:b)return b.M(b,a);var c;c=w[ba(null==b?null:b)];if(!c&&(c=w._,!c))throw Ga("IIndexed.-nth",b);return c.call(null,b,a)};w.f=function(b,a,c){if(b?b.Ha:b)return b.Ha(b,a,c);var d;d=w[ba(null==b?null:b)];if(!d&&(d=w._,!d))throw Ga("IIndexed.-nth",b);return d.call(null,b,a,c)};w.G=3;
var Va={},Wa=function Wa(a){if(a?a.ca:a)return a.ca(a);var c;c=Wa[ba(null==a?null:a)];if(!c&&(c=Wa._,!c))throw Ga("ISeq.-first",a);return c.call(null,a)},Za=function Za(a){if(a?a.ya:a)return a.ya(a);var c;c=Za[ba(null==a?null:a)];if(!c&&(c=Za._,!c))throw Ga("ISeq.-rest",a);return c.call(null,a)},$a={},ab=function ab(a){if(a?a.ka:a)return a.ka(a);var c;c=ab[ba(null==a?null:a)];if(!c&&(c=ab._,!c))throw Ga("INext.-next",a);return c.call(null,a)},bb={},x=function x(){switch(arguments.length){case 2:return x.b(arguments[0],
arguments[1]);case 3:return x.f(arguments[0],arguments[1],arguments[2]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}};x.b=function(b,a){if(b?b.s:b)return b.s(b,a);var c;c=x[ba(null==b?null:b)];if(!c&&(c=x._,!c))throw Ga("ILookup.-lookup",b);return c.call(null,b,a)};x.f=function(b,a,c){if(b?b.q:b)return b.q(b,a,c);var d;d=x[ba(null==b?null:b)];if(!d&&(d=x._,!d))throw Ga("ILookup.-lookup",b);return d.call(null,b,a,c)};x.G=3;
var db=function db(a,c){if(a?a.Eb:a)return a.Eb(a,c);var d;d=db[ba(null==a?null:a)];if(!d&&(d=db._,!d))throw Ga("IAssociative.-contains-key?",a);return d.call(null,a,c)},gb=function gb(a,c,d){if(a?a.K:a)return a.K(a,c,d);var e;e=gb[ba(null==a?null:a)];if(!e&&(e=gb._,!e))throw Ga("IAssociative.-assoc",a);return e.call(null,a,c,d)},hb={},ib=function ib(a,c){if(a?a.N:a)return a.N(a,c);var d;d=ib[ba(null==a?null:a)];if(!d&&(d=ib._,!d))throw Ga("IMap.-dissoc",a);return d.call(null,a,c)},jb={},kb=function kb(a){if(a?
a.Zb:a)return a.Zb(a);var c;c=kb[ba(null==a?null:a)];if(!c&&(c=kb._,!c))throw Ga("IMapEntry.-key",a);return c.call(null,a)},lb=function lb(a){if(a?a.$b:a)return a.$b(a);var c;c=lb[ba(null==a?null:a)];if(!c&&(c=lb._,!c))throw Ga("IMapEntry.-val",a);return c.call(null,a)},mb={},nb=function nb(a,c){if(a?a.Dc:a)return a.Dc(a,c);var d;d=nb[ba(null==a?null:a)];if(!d&&(d=nb._,!d))throw Ga("ISet.-disjoin",a);return d.call(null,a,c)},pb=function pb(a){if(a?a.ob:a)return a.ob(a);var c;c=pb[ba(null==a?null:
a)];if(!c&&(c=pb._,!c))throw Ga("IStack.-peek",a);return c.call(null,a)},qb=function qb(a){if(a?a.pb:a)return a.pb(a);var c;c=qb[ba(null==a?null:a)];if(!c&&(c=qb._,!c))throw Ga("IStack.-pop",a);return c.call(null,a)},rb={},sb=function sb(a,c,d){if(a?a.Hb:a)return a.Hb(a,c,d);var e;e=sb[ba(null==a?null:a)];if(!e&&(e=sb._,!e))throw Ga("IVector.-assoc-n",a);return e.call(null,a,c,d)},tb=function tb(a){if(a?a.Sb:a)return a.Sb(a);var c;c=tb[ba(null==a?null:a)];if(!c&&(c=tb._,!c))throw Ga("IDeref.-deref",
a);return c.call(null,a)},ub={},vb=function vb(a){if(a?a.C:a)return a.C(a);var c;c=vb[ba(null==a?null:a)];if(!c&&(c=vb._,!c))throw Ga("IMeta.-meta",a);return c.call(null,a)},wb={},xb=function xb(a,c){if(a?a.D:a)return a.D(a,c);var d;d=xb[ba(null==a?null:a)];if(!d&&(d=xb._,!d))throw Ga("IWithMeta.-with-meta",a);return d.call(null,a,c)},yb={},zb=function zb(){switch(arguments.length){case 2:return zb.b(arguments[0],arguments[1]);case 3:return zb.f(arguments[0],arguments[1],arguments[2]);default:throw Error([r("Invalid arity: "),
r(arguments.length)].join(""));}};zb.b=function(b,a){if(b?b.ea:b)return b.ea(b,a);var c;c=zb[ba(null==b?null:b)];if(!c&&(c=zb._,!c))throw Ga("IReduce.-reduce",b);return c.call(null,b,a)};zb.f=function(b,a,c){if(b?b.fa:b)return b.fa(b,a,c);var d;d=zb[ba(null==b?null:b)];if(!d&&(d=zb._,!d))throw Ga("IReduce.-reduce",b);return d.call(null,b,a,c)};zb.G=3;
var Ab=function Ab(a,c,d){if(a?a.Ub:a)return a.Ub(a,c,d);var e;e=Ab[ba(null==a?null:a)];if(!e&&(e=Ab._,!e))throw Ga("IKVReduce.-kv-reduce",a);return e.call(null,a,c,d)},Bb=function Bb(a,c){if(a?a.p:a)return a.p(a,c);var d;d=Bb[ba(null==a?null:a)];if(!d&&(d=Bb._,!d))throw Ga("IEquiv.-equiv",a);return d.call(null,a,c)},Cb=function Cb(a){if(a?a.A:a)return a.A(a);var c;c=Cb[ba(null==a?null:a)];if(!c&&(c=Cb._,!c))throw Ga("IHash.-hash",a);return c.call(null,a)},Db={},Eb=function Eb(a){if(a?a.B:a)return a.B(a);
var c;c=Eb[ba(null==a?null:a)];if(!c&&(c=Eb._,!c))throw Ga("ISeqable.-seq",a);return c.call(null,a)},Gb={},Hb=function Hb(a,c){if(a?a.dd:a)return a.dd(0,c);var d;d=Hb[ba(null==a?null:a)];if(!d&&(d=Hb._,!d))throw Ga("IWriter.-write",a);return d.call(null,a,c)},Ib={},Jb=function Jb(a,c,d){if(a?a.w:a)return a.w(a,c,d);var e;e=Jb[ba(null==a?null:a)];if(!e&&(e=Jb._,!e))throw Ga("IPrintWithWriter.-pr-writer",a);return e.call(null,a,c,d)},Kb=function Kb(a,c,d){if(a?a.Gc:a)return a.Gc(a,c,d);var e;e=Kb[ba(null==
a?null:a)];if(!e&&(e=Kb._,!e))throw Ga("IWatchable.-notify-watches",a);return e.call(null,a,c,d)},Lb=function Lb(a,c,d){if(a?a.Fc:a)return a.Fc(a,c,d);var e;e=Lb[ba(null==a?null:a)];if(!e&&(e=Lb._,!e))throw Ga("IWatchable.-add-watch",a);return e.call(null,a,c,d)},Mb=function Mb(a){if(a?a.Tb:a)return a.Tb(a);var c;c=Mb[ba(null==a?null:a)];if(!c&&(c=Mb._,!c))throw Ga("IEditableCollection.-as-transient",a);return c.call(null,a)},Nb=function Nb(a,c){if(a?a.Fb:a)return a.Fb(a,c);var d;d=Nb[ba(null==a?
null:a)];if(!d&&(d=Nb._,!d))throw Ga("ITransientCollection.-conj!",a);return d.call(null,a,c)},Ob=function Ob(a){if(a?a.Gb:a)return a.Gb(a);var c;c=Ob[ba(null==a?null:a)];if(!c&&(c=Ob._,!c))throw Ga("ITransientCollection.-persistent!",a);return c.call(null,a)},Pb=function Pb(a,c,d){if(a?a.dc:a)return a.dc(a,c,d);var e;e=Pb[ba(null==a?null:a)];if(!e&&(e=Pb._,!e))throw Ga("ITransientAssociative.-assoc!",a);return e.call(null,a,c,d)},Qb=function Qb(a,c){if(a?a.Ec:a)return a.Ec(a,c);var d;d=Qb[ba(null==
a?null:a)];if(!d&&(d=Qb._,!d))throw Ga("ITransientMap.-dissoc!",a);return d.call(null,a,c)},Rb=function Rb(a,c,d){if(a?a.bd:a)return a.bd(0,c,d);var e;e=Rb[ba(null==a?null:a)];if(!e&&(e=Rb._,!e))throw Ga("ITransientVector.-assoc-n!",a);return e.call(null,a,c,d)},Sb=function Sb(a,c){if(a?a.xb:a)return a.xb(a,c);var d;d=Sb[ba(null==a?null:a)];if(!d&&(d=Sb._,!d))throw Ga("IComparable.-compare",a);return d.call(null,a,c)},Tb=function Tb(a){if(a?a.Sc:a)return a.Sc();var c;c=Tb[ba(null==a?null:a)];if(!c&&
(c=Tb._,!c))throw Ga("IChunk.-drop-first",a);return c.call(null,a)},Ub=function Ub(a){if(a?a.zc:a)return a.zc(a);var c;c=Ub[ba(null==a?null:a)];if(!c&&(c=Ub._,!c))throw Ga("IChunkedSeq.-chunked-first",a);return c.call(null,a)},Vb=function Vb(a){if(a?a.Ac:a)return a.Ac(a);var c;c=Vb[ba(null==a?null:a)];if(!c&&(c=Vb._,!c))throw Ga("IChunkedSeq.-chunked-rest",a);return c.call(null,a)},Wb=function Wb(a){if(a?a.yc:a)return a.yc(a);var c;c=Wb[ba(null==a?null:a)];if(!c&&(c=Wb._,!c))throw Ga("IChunkedNext.-chunked-next",
a);return c.call(null,a)},Xb=function Xb(a){if(a?a.ac:a)return a.ac(a);var c;c=Xb[ba(null==a?null:a)];if(!c&&(c=Xb._,!c))throw Ga("INamed.-name",a);return c.call(null,a)},Yb=function Yb(a){if(a?a.bc:a)return a.bc(a);var c;c=Yb[ba(null==a?null:a)];if(!c&&(c=Yb._,!c))throw Ga("INamed.-namespace",a);return c.call(null,a)},Zb=function Zb(a,c){if(a?a.Xc:a)return a.Xc(0,c);var d;d=Zb[ba(null==a?null:a)];if(!d&&(d=Zb._,!d))throw Ga("IReset.-reset!",a);return d.call(null,a,c)},$b=function $b(){switch(arguments.length){case 2:return $b.b(arguments[0],
arguments[1]);case 3:return $b.f(arguments[0],arguments[1],arguments[2]);case 4:return $b.u(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return $b.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}};$b.b=function(b,a){if(b?b.Yc:b)return b.Yc(0,a);var c;c=$b[ba(null==b?null:b)];if(!c&&(c=$b._,!c))throw Ga("ISwap.-swap!",b);return c.call(null,b,a)};
$b.f=function(b,a,c){if(b?b.Zc:b)return b.Zc(0,a,c);var d;d=$b[ba(null==b?null:b)];if(!d&&(d=$b._,!d))throw Ga("ISwap.-swap!",b);return d.call(null,b,a,c)};$b.u=function(b,a,c,d){if(b?b.$c:b)return b.$c(0,a,c,d);var e;e=$b[ba(null==b?null:b)];if(!e&&(e=$b._,!e))throw Ga("ISwap.-swap!",b);return e.call(null,b,a,c,d)};$b.P=function(b,a,c,d,e){if(b?b.ad:b)return b.ad(0,a,c,d,e);var g;g=$b[ba(null==b?null:b)];if(!g&&(g=$b._,!g))throw Ga("ISwap.-swap!",b);return g.call(null,b,a,c,d,e)};$b.G=5;
var ac=function ac(a,c){if(a?a.cd:a)return a.cd(0,c);var d;d=ac[ba(null==a?null:a)];if(!d&&(d=ac._,!d))throw Ga("IVolatile.-vreset!",a);return d.call(null,a,c)},bc=function bc(a){if(a?a.Yb:a)return a.Yb(a);var c;c=bc[ba(null==a?null:a)];if(!c&&(c=bc._,!c))throw Ga("IIterable.-iterator",a);return c.call(null,a)};function dc(b){this.Cd=b;this.r=0;this.k=1073741824}dc.prototype.dd=function(b,a){return this.Cd.append(a)};function ec(b){var a=new ja;b.w(null,new dc(a),ra());return""+r(a)}
var fc="undefined"!==typeof Math.imul&&0!==(Math.imul.b?Math.imul.b(4294967295,5):Math.imul.call(null,4294967295,5))?function(b,a){return Math.imul.b?Math.imul.b(b,a):Math.imul.call(null,b,a)}:function(b,a){var c=b&65535,d=a&65535;return c*d+((b>>>16&65535)*d+c*(a>>>16&65535)<<16>>>0)|0};function gc(b){b=fc(b|0,-862048943);return fc(b<<15|b>>>-15,461845907)}function hc(b,a){var c=(b|0)^(a|0);return fc(c<<13|c>>>-13,5)+-430675100|0}
function ic(b,a){var c=(b|0)^a,c=fc(c^c>>>16,-2048144789),c=fc(c^c>>>13,-1028477387);return c^c>>>16}function jc(b){var a;a:{a=1;for(var c=0;;)if(a<b.length){var d=a+2,c=hc(c,gc(b.charCodeAt(a-1)|b.charCodeAt(a)<<16));a=d}else{a=c;break a}}a=1===(b.length&1)?a^gc(b.charCodeAt(b.length-1)):a;return ic(a,fc(2,b.length))}var kc={},lc=0;
function mc(b){255<lc&&(kc={},lc=0);var a=kc[b];if("number"!==typeof a){a:if(null!=b)if(a=b.length,0<a)for(var c=0,d=0;;)if(c<a)var e=c+1,d=fc(31,d)+b.charCodeAt(c),c=e;else{a=d;break a}else a=0;else a=0;kc[b]=a;lc+=1}return b=a}
function nc(b){b&&(b.k&4194304||b.Uc)?b=b.A(null):"number"===typeof b?b=(Math.floor.c?Math.floor.c(b):Math.floor.call(null,b))%2147483647:!0===b?b=1:!1===b?b=0:"string"===typeof b?(b=mc(b),0!==b&&(b=gc(b),b=hc(0,b),b=ic(b,4))):b=b instanceof Date?b.valueOf():null==b?0:Cb(b);return b}function oc(b,a){return b^a+2654435769+(b<<6)+(b>>2)}function pc(b){return b instanceof z}
function rc(b,a){if(b.ib===a.ib)return 0;var c=Ba(b.ns);if(q(c?a.ns:c))return-1;if(q(b.ns)){if(Ba(a.ns))return 1;c=la(b.ns,a.ns);return 0===c?la(b.name,a.name):c}return la(b.name,a.name)}function z(b,a,c,d,e){this.ns=b;this.name=a;this.ib=c;this.Rb=d;this.Ga=e;this.k=2154168321;this.r=4096}f=z.prototype;f.w=function(b,a){return Hb(a,this.ib)};f.ac=function(){return this.name};f.bc=function(){return this.ns};f.A=function(){var b=this.Rb;return null!=b?b:this.Rb=b=oc(jc(this.name),mc(this.ns))};
f.D=function(b,a){return new z(this.ns,this.name,this.ib,this.Rb,a)};f.C=function(){return this.Ga};f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return x.f(b,this,null);case 3:return x.f(b,this,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return x.f(b,this,null)};b.f=function(a,b,d){return x.f(b,this,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return x.f(b,this,null)};
f.b=function(b,a){return x.f(b,this,a)};f.p=function(b,a){return a instanceof z?this.ib===a.ib:!1};f.toString=function(){return this.ib};f.equiv=function(b){return this.p(null,b)};function sc(b){return b instanceof z?b:tc(null,b)}function tc(b,a){var c=null!=b?[r(b),r("/"),r(a)].join(""):a;return new z(b,a,c,null,null)}
function A(b){if(null==b)return null;if(b&&(b.k&8388608||b.Cc))return b.B(null);if(Aa(b)||"string"===typeof b)return 0===b.length?null:new uc(b,0);if(Da(Db,b))return Eb(b);throw Error([r(b),r(" is not ISeqable")].join(""));}function C(b){if(null==b)return null;if(b&&(b.k&64||b.cc))return b.ca(null);b=A(b);return null==b?null:Wa(b)}function vc(b){return null!=b?b&&(b.k&64||b.cc)?b.ya(null):(b=A(b))?Za(b):wc:wc}function D(b){return null==b?null:b&&(b.k&128||b.qc)?b.ka(null):A(vc(b))}
var F=function F(){switch(arguments.length){case 1:return F.c(arguments[0]);case 2:return F.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return F.j(arguments[0],arguments[1],a)}};F.c=function(){return!0};F.b=function(b,a){return null==b?null==a:b===a||Bb(b,a)};F.j=function(b,a,c){for(;;)if(F.b(b,a))if(D(c))b=a,a=C(c),c=D(c);else return F.b(a,C(c));else return!1};F.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return F.j(a,b,c)};F.G=2;
function xc(b){this.Q=b}xc.prototype.next=function(){if(null!=this.Q){var b=C(this.Q);this.Q=D(this.Q);return{done:!1,value:b}}return{done:!0,value:null}};function yc(b){return new xc(A(b))}function zc(b,a){var c=gc(b),c=hc(0,c);return ic(c,a)}function Ac(b){var a=0,c=1;for(b=A(b);;)if(null!=b)a+=1,c=fc(31,c)+nc(C(b))|0,b=D(b);else return zc(c,a)}var Bc=zc(1,0);function Cc(b){var a=0,c=0;for(b=A(b);;)if(null!=b)a+=1,c=c+nc(C(b))|0,b=D(b);else return zc(c,a)}var Dc=zc(0,0);Oa["null"]=!0;
Pa["null"]=function(){return 0};Date.prototype.Wb=!0;Date.prototype.xb=function(b,a){return la(this.valueOf(),a.valueOf())};Date.prototype.p=function(b,a){return a instanceof Date&&this.valueOf()===a.valueOf()};Bb.number=function(b,a){return b===a};ub["function"]=!0;vb["function"]=function(){return null};Ma["function"]=!0;Cb._=function(b){return b[da]||(b[da]=++ea)};function Ec(b){return b+1}function Fc(b){this.val=b;this.r=0;this.k=32768}Fc.prototype.Sb=function(){return this.val};
function Gc(b){return b instanceof Fc}function G(b){return tb(b)}function Hc(b,a){var c=Pa(b);if(0===c)return a.t?a.t():a.call(null);for(var d=w.b(b,0),e=1;;)if(e<c){var g=w.b(b,e),d=a.b?a.b(d,g):a.call(null,d,g);if(Gc(d))return tb(d);e+=1}else return d}function Ic(b,a,c){var d=Pa(b),e=c;for(c=0;;)if(c<d){var g=w.b(b,c),e=a.b?a.b(e,g):a.call(null,e,g);if(Gc(e))return tb(e);c+=1}else return e}
function Jc(b,a){var c=b.length;if(0===b.length)return a.t?a.t():a.call(null);for(var d=b[0],e=1;;)if(e<c){var g=b[e],d=a.b?a.b(d,g):a.call(null,d,g);if(Gc(d))return tb(d);e+=1}else return d}function Kc(b,a,c){var d=b.length,e=c;for(c=0;;)if(c<d){var g=b[c],e=a.b?a.b(e,g):a.call(null,e,g);if(Gc(e))return tb(e);c+=1}else return e}function Lc(b,a,c,d){for(var e=b.length;;)if(d<e){var g=b[d];c=a.b?a.b(c,g):a.call(null,c,g);if(Gc(c))return tb(c);d+=1}else return c}
function Mc(b){return b?b.k&2||b.Tc?!0:b.k?!1:Da(Oa,b):Da(Oa,b)}function Nc(b){return b?b.k&16||b.Vc?!0:b.k?!1:Da(Ua,b):Da(Ua,b)}function Pc(b,a){this.i=b;this.J=a}Pc.prototype.tc=function(){return this.J<this.i.length};Pc.prototype.next=function(){var b=this.i[this.J];this.J+=1;return b};function uc(b,a){this.i=b;this.J=a;this.k=166199550;this.r=8192}f=uc.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};
f.M=function(b,a){var c=a+this.J;return c<this.i.length?this.i[c]:null};f.Ha=function(b,a,c){b=a+this.J;return b<this.i.length?this.i[b]:c};f.Yb=function(){return new Pc(this.i,this.J)};f.ka=function(){return this.J+1<this.i.length?new uc(this.i,this.J+1):null};f.I=function(){return this.i.length-this.J};f.A=function(){return Ac(this)};f.p=function(b,a){return Qc.b?Qc.b(this,a):Qc.call(null,this,a)};f.Y=function(){return wc};f.ea=function(b,a){return Lc(this.i,a,this.i[this.J],this.J+1)};
f.fa=function(b,a,c){return Lc(this.i,a,c,this.J)};f.ca=function(){return this.i[this.J]};f.ya=function(){return this.J+1<this.i.length?new uc(this.i,this.J+1):wc};f.B=function(){return this};f.H=function(b,a){return Rc.b?Rc.b(a,this):Rc.call(null,a,this)};uc.prototype[Ia]=function(){return yc(this)};function Sc(b,a){return a<b.length?new uc(b,a):null}
function I(){switch(arguments.length){case 1:return Sc(arguments[0],0);case 2:return Sc(arguments[0],arguments[1]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}}function Tc(b){return C(D(b))}function Uc(b){return C(C(b))}function Vc(b){for(;;){var a=D(b);if(null!=a)b=a;else return C(b)}}Bb._=function(b,a){return b===a};
var J=function J(){switch(arguments.length){case 0:return J.t();case 1:return J.c(arguments[0]);case 2:return J.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return J.j(arguments[0],arguments[1],a)}};J.t=function(){return Wc};J.c=function(b){return b};J.b=function(b,a){return null!=b?Ta(b,a):Ta(wc,a)};J.j=function(b,a,c){for(;;)if(q(c))b=J.b(b,a),a=C(c),c=D(c);else return J.b(b,a)};J.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return J.j(a,b,c)};
J.G=2;function K(b){if(null!=b)if(b&&(b.k&2||b.Tc))b=b.I(null);else if(Aa(b))b=b.length;else if("string"===typeof b)b=b.length;else if(Da(Oa,b))b=Pa(b);else a:{b=A(b);for(var a=0;;){if(Mc(b)){b=a+Pa(b);break a}b=D(b);a+=1}}else b=0;return b}function Xc(b,a){for(var c=null;;){if(null==b)return c;if(0===a)return A(b)?C(b):c;if(Nc(b))return w.f(b,a,c);if(A(b)){var d=D(b),e=a-1;b=d;a=e}else return c}}
function Yc(b,a){if("number"!==typeof a)throw Error("index argument to nth must be a number");if(null==b)return b;if(b&&(b.k&16||b.Vc))return b.M(null,a);if(Aa(b)||"string"===typeof b)return a<b.length?b[a]:null;if(Da(Ua,b))return w.b(b,a);if(b?b.k&64||b.cc||(b.k?0:Da(Va,b)):Da(Va,b)){var c;a:{c=b;for(var d=a;;){if(null==c)throw Error("Index out of bounds");if(0===d){if(A(c)){c=C(c);break a}throw Error("Index out of bounds");}if(Nc(c)){c=w.b(c,d);break a}if(A(c))c=D(c),--d;else throw Error("Index out of bounds");
}}return c}throw Error([r("nth not supported on this type "),r(Ha(Ea(b)))].join(""));}function L(b,a){if("number"!==typeof a)throw Error("index argument to nth must be a number.");if(null==b)return null;if(b&&(b.k&16||b.Vc))return b.Ha(null,a,null);if(Aa(b)||"string"===typeof b)return a<b.length?b[a]:null;if(Da(Ua,b))return w.b(b,a);if(b?b.k&64||b.cc||(b.k?0:Da(Va,b)):Da(Va,b))return Xc(b,a);throw Error([r("nth not supported on this type "),r(Ha(Ea(b)))].join(""));}
function Zc(b,a){return null==b?null:b&&(b.k&256||b.Wc)?b.s(null,a):Aa(b)?a<b.length?b[a]:null:"string"===typeof b?a<b.length?b[a]:null:Da(bb,b)?x.b(b,a):null}function $c(b,a,c){return null!=b?b&&(b.k&256||b.Wc)?b.q(null,a,c):Aa(b)?a<b.length?b[a]:c:"string"===typeof b?a<b.length?b[a]:c:Da(bb,b)?x.f(b,a,c):c:c}
var O=function O(){switch(arguments.length){case 3:return O.f(arguments[0],arguments[1],arguments[2]);default:var a=new uc(Array.prototype.slice.call(arguments,3),0);return O.j(arguments[0],arguments[1],arguments[2],a)}};O.f=function(b,a,c){return null!=b?gb(b,a,c):ad([a],[c])};O.j=function(b,a,c,d){for(;;)if(b=O.f(b,a,c),q(d))a=C(d),c=Tc(d),d=D(D(d));else return b};O.F=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),d=D(d);return O.j(a,b,c,d)};O.G=3;
var P=function P(){switch(arguments.length){case 1:return P.c(arguments[0]);case 2:return P.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return P.j(arguments[0],arguments[1],a)}};P.c=function(b){return b};P.b=function(b,a){return null==b?null:ib(b,a)};P.j=function(b,a,c){for(;;){if(null==b)return null;b=P.b(b,a);if(q(c))a=C(c),c=D(c);else return b}};P.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return P.j(a,b,c)};P.G=2;
function bd(b){var a="function"==ba(b);return q(a)?a:b?q(q(null)?null:b.ld)?!0:b.Ib?!1:Da(Ma,b):Da(Ma,b)}function cd(b,a){this.m=b;this.o=a;this.r=0;this.k=393217}f=cd.prototype;
f.call=function(){function b(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S,ca,N,qa){a=this.m;return dd.Xb?dd.Xb(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S,ca,N,qa):dd.call(null,a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S,ca,N,qa)}function a(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S,ca,N){a=this;return a.m.va?a.m.va(b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S,ca,N):a.m.call(null,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S,ca,N)}function c(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S,ca){a=this;return a.m.ua?a.m.ua(b,c,d,e,g,h,k,m,n,p,t,u,y,B,
H,E,M,S,ca):a.m.call(null,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S,ca)}function d(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S){a=this;return a.m.ta?a.m.ta(b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S):a.m.call(null,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M,S)}function e(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M){a=this;return a.m.sa?a.m.sa(b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M):a.m.call(null,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E,M)}function g(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E){a=this;return a.m.ra?a.m.ra(b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E):a.m.call(null,
b,c,d,e,g,h,k,m,n,p,t,u,y,B,H,E)}function h(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H){a=this;return a.m.qa?a.m.qa(b,c,d,e,g,h,k,m,n,p,t,u,y,B,H):a.m.call(null,b,c,d,e,g,h,k,m,n,p,t,u,y,B,H)}function k(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B){a=this;return a.m.pa?a.m.pa(b,c,d,e,g,h,k,m,n,p,t,u,y,B):a.m.call(null,b,c,d,e,g,h,k,m,n,p,t,u,y,B)}function m(a,b,c,d,e,g,h,k,m,n,p,t,u,y){a=this;return a.m.oa?a.m.oa(b,c,d,e,g,h,k,m,n,p,t,u,y):a.m.call(null,b,c,d,e,g,h,k,m,n,p,t,u,y)}function n(a,b,c,d,e,g,h,k,m,n,p,t,u){a=this;
return a.m.na?a.m.na(b,c,d,e,g,h,k,m,n,p,t,u):a.m.call(null,b,c,d,e,g,h,k,m,n,p,t,u)}function p(a,b,c,d,e,g,h,k,m,n,p,t){a=this;return a.m.ma?a.m.ma(b,c,d,e,g,h,k,m,n,p,t):a.m.call(null,b,c,d,e,g,h,k,m,n,p,t)}function t(a,b,c,d,e,g,h,k,m,n,p){a=this;return a.m.la?a.m.la(b,c,d,e,g,h,k,m,n,p):a.m.call(null,b,c,d,e,g,h,k,m,n,p)}function u(a,b,c,d,e,g,h,k,m,n){a=this;return a.m.xa?a.m.xa(b,c,d,e,g,h,k,m,n):a.m.call(null,b,c,d,e,g,h,k,m,n)}function y(a,b,c,d,e,g,h,k,m){a=this;return a.m.wa?a.m.wa(b,c,
d,e,g,h,k,m):a.m.call(null,b,c,d,e,g,h,k,m)}function B(a,b,c,d,e,g,h,k){a=this;return a.m.ga?a.m.ga(b,c,d,e,g,h,k):a.m.call(null,b,c,d,e,g,h,k)}function E(a,b,c,d,e,g,h){a=this;return a.m.da?a.m.da(b,c,d,e,g,h):a.m.call(null,b,c,d,e,g,h)}function H(a,b,c,d,e,g){a=this;return a.m.P?a.m.P(b,c,d,e,g):a.m.call(null,b,c,d,e,g)}function M(a,b,c,d,e){a=this;return a.m.u?a.m.u(b,c,d,e):a.m.call(null,b,c,d,e)}function S(a,b,c,d){a=this;return a.m.f?a.m.f(b,c,d):a.m.call(null,b,c,d)}function ca(a,b,c){a=this;
return a.m.b?a.m.b(b,c):a.m.call(null,b,c)}function qa(a,b){a=this;return a.m.c?a.m.c(b):a.m.call(null,b)}function Fa(a){a=this;return a.m.t?a.m.t():a.m.call(null)}var N=null,N=function(eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,N,cc,qc,Oc,yd,le,Cf,Ph,Ag){switch(arguments.length){case 1:return Fa.call(this,eb);case 2:return qa.call(this,eb,ga);case 3:return ca.call(this,eb,ga,xa);case 4:return S.call(this,eb,ga,xa,ya);case 5:return M.call(this,eb,ga,xa,ya,Na);case 6:return H.call(this,eb,ga,xa,ya,Na,
Ca);case 7:return E.call(this,eb,ga,xa,ya,Na,Ca,Sa);case 8:return B.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa);case 9:return y.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb);case 10:return u.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb);case 11:return t.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya);case 12:return p.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob);case 13:return n.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb);case 14:return m.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,N);case 15:return k.call(this,
eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,N,cc);case 16:return h.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,N,cc,qc);case 17:return g.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,N,cc,qc,Oc);case 18:return e.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,N,cc,qc,Oc,yd);case 19:return d.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,N,cc,qc,Oc,yd,le);case 20:return c.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,N,cc,qc,Oc,yd,le,Cf);case 21:return a.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,
fb,cb,Ya,ob,Fb,N,cc,qc,Oc,yd,le,Cf,Ph);case 22:return b.call(this,eb,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,N,cc,qc,Oc,yd,le,Cf,Ph,Ag)}throw Error("Invalid arity: "+arguments.length);};N.c=Fa;N.b=qa;N.f=ca;N.u=S;N.P=M;N.da=H;N.ga=E;N.wa=B;N.xa=y;N.la=u;N.ma=t;N.na=p;N.oa=n;N.pa=m;N.qa=k;N.ra=h;N.sa=g;N.ta=e;N.ua=d;N.va=c;N.Bc=a;N.Xb=b;return N}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.t=function(){return this.m.t?this.m.t():this.m.call(null)};
f.c=function(b){return this.m.c?this.m.c(b):this.m.call(null,b)};f.b=function(b,a){return this.m.b?this.m.b(b,a):this.m.call(null,b,a)};f.f=function(b,a,c){return this.m.f?this.m.f(b,a,c):this.m.call(null,b,a,c)};f.u=function(b,a,c,d){return this.m.u?this.m.u(b,a,c,d):this.m.call(null,b,a,c,d)};f.P=function(b,a,c,d,e){return this.m.P?this.m.P(b,a,c,d,e):this.m.call(null,b,a,c,d,e)};f.da=function(b,a,c,d,e,g){return this.m.da?this.m.da(b,a,c,d,e,g):this.m.call(null,b,a,c,d,e,g)};
f.ga=function(b,a,c,d,e,g,h){return this.m.ga?this.m.ga(b,a,c,d,e,g,h):this.m.call(null,b,a,c,d,e,g,h)};f.wa=function(b,a,c,d,e,g,h,k){return this.m.wa?this.m.wa(b,a,c,d,e,g,h,k):this.m.call(null,b,a,c,d,e,g,h,k)};f.xa=function(b,a,c,d,e,g,h,k,m){return this.m.xa?this.m.xa(b,a,c,d,e,g,h,k,m):this.m.call(null,b,a,c,d,e,g,h,k,m)};f.la=function(b,a,c,d,e,g,h,k,m,n){return this.m.la?this.m.la(b,a,c,d,e,g,h,k,m,n):this.m.call(null,b,a,c,d,e,g,h,k,m,n)};
f.ma=function(b,a,c,d,e,g,h,k,m,n,p){return this.m.ma?this.m.ma(b,a,c,d,e,g,h,k,m,n,p):this.m.call(null,b,a,c,d,e,g,h,k,m,n,p)};f.na=function(b,a,c,d,e,g,h,k,m,n,p,t){return this.m.na?this.m.na(b,a,c,d,e,g,h,k,m,n,p,t):this.m.call(null,b,a,c,d,e,g,h,k,m,n,p,t)};f.oa=function(b,a,c,d,e,g,h,k,m,n,p,t,u){return this.m.oa?this.m.oa(b,a,c,d,e,g,h,k,m,n,p,t,u):this.m.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u)};
f.pa=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y){return this.m.pa?this.m.pa(b,a,c,d,e,g,h,k,m,n,p,t,u,y):this.m.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y)};f.qa=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B){return this.m.qa?this.m.qa(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B):this.m.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B)};f.ra=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E){return this.m.ra?this.m.ra(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E):this.m.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E)};
f.sa=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H){return this.m.sa?this.m.sa(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H):this.m.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H)};f.ta=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M){return this.m.ta?this.m.ta(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M):this.m.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M)};
f.ua=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S){return this.m.ua?this.m.ua(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S):this.m.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S)};f.va=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca){return this.m.va?this.m.va(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca):this.m.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca)};
f.Bc=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa){var Fa=this.m;return dd.Xb?dd.Xb(Fa,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa):dd.call(null,Fa,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa)};f.ld=!0;f.D=function(b,a){return new cd(this.m,a)};f.C=function(){return this.o};function ed(b,a){return bd(b)&&!(b?b.k&262144||b.ud||(b.k?0:Da(wb,b)):Da(wb,b))?new cd(b,a):null==b?null:xb(b,a)}function fd(b){var a=null!=b;return(a?b?b.k&131072||b.rd||(b.k?0:Da(ub,b)):Da(ub,b):a)?vb(b):null}
function gd(b){return null==b?null:pb(b)}var hd=function hd(){switch(arguments.length){case 1:return hd.c(arguments[0]);case 2:return hd.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return hd.j(arguments[0],arguments[1],a)}};hd.c=function(b){return b};hd.b=function(b,a){return null==b?null:nb(b,a)};hd.j=function(b,a,c){for(;;){if(null==b)return null;b=hd.b(b,a);if(q(c))a=C(c),c=D(c);else return b}};
hd.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return hd.j(a,b,c)};hd.G=2;function id(b){return null==b||Ba(A(b))}function jd(b){return null==b?!1:b?b.k&8||b.Ed?!0:b.k?!1:Da(Ra,b):Da(Ra,b)}function kd(b){return null==b?!1:b?b.k&4096||b.Gd?!0:b.k?!1:Da(mb,b):Da(mb,b)}function ld(b){return b?b.k&16777216||b.Fd?!0:b.k?!1:Da(Gb,b):Da(Gb,b)}function md(b){return null==b?!1:b?b.k&1024||b.pd?!0:b.k?!1:Da(hb,b):Da(hb,b)}function nd(b){return b?b.k&16384||b.Hd?!0:b.k?!1:Da(rb,b):Da(rb,b)}
function od(b){return b?b.r&512||b.Dd?!0:!1:!1}function pd(b){var a=[];ia(b,function(a,b){return function(a,c){return b.push(c)}}(b,a));return a}function qd(b,a,c,d,e){for(;0!==e;)c[d]=b[a],d+=1,--e,a+=1}var rd={};function sd(b){return null==b?!1:b?b.k&64||b.cc?!0:b.k?!1:Da(Va,b):Da(Va,b)}function td(b){return b?b.k&8388608||b.Cc?!0:b.k?!1:Da(Db,b):Da(Db,b)}function ud(b){return q(b)?!0:!1}function vd(b,a){return $c(b,a,rd)===rd?!1:!0}
var wd=function wd(){switch(arguments.length){case 1:return wd.c(arguments[0]);case 2:return wd.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return wd.j(arguments[0],arguments[1],a)}};wd.c=function(){return!0};wd.b=function(b,a){return!F.b(b,a)};
wd.j=function(b,a,c){if(F.b(b,a))return!1;a:if(b=[b,a],a=b.length,a<=xd)for(var d=0,e=Mb(Q);;)if(d<a)var g=d+1,e=Pb(e,b[d],null),d=g;else{b=new zd(null,Ob(e),null);break a}else for(d=0,e=Mb(Ad);;)if(d<a)g=d+1,e=Nb(e,b[d]),d=g;else{b=Ob(e);break a}for(a=c;;)if(d=C(a),c=D(a),q(a)){if(vd(b,d))return!1;b=J.b(b,d);a=c}else return!0};wd.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return wd.j(a,b,c)};wd.G=2;
function Bd(b,a){if(b===a)return 0;if(null==b)return-1;if(null==a)return 1;if(Ea(b)===Ea(a))return b&&(b.r&2048||b.Wb)?b.xb(null,a):la(b,a);throw Error("compare on non-nil objects of different types");}function Cd(b,a){var c=K(b),d=K(a);if(c<d)c=-1;else if(c>d)c=1;else if(0===c)c=0;else a:for(d=0;;){var e=Bd(Yc(b,d),Yc(a,d));if(0===e&&d+1<c)d+=1;else{c=e;break a}}return c}
function Dd(b){return F.b(b,Bd)?Bd:function(a,c){var d=b.b?b.b(a,c):b.call(null,a,c);return"number"===typeof d?d:q(d)?-1:q(b.b?b.b(c,a):b.call(null,c,a))?1:0}}function Ed(b,a){if(A(a)){var c=Fd.c?Fd.c(a):Fd.call(null,a),d=Dd(b);ma(c,d);return A(c)}return wc}function Gd(b,a,c){return Ed(function(c,e){return Dd(a).call(null,b.c?b.c(c):b.call(null,c),b.c?b.c(e):b.call(null,e))},c)}
function Hd(b,a){var c=A(a);if(c){var d=C(c),c=D(c);return v?v(b,d,c):La.call(null,b,d,c)}return b.t?b.t():b.call(null)}function Id(b,a,c){for(c=A(c);;)if(c){var d=C(c);a=b.b?b.b(a,d):b.call(null,a,d);if(Gc(a))return tb(a);c=D(c)}else return a}function La(){switch(arguments.length){case 2:return Jd(arguments[0],arguments[1]);case 3:return v(arguments[0],arguments[1],arguments[2]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}}
function Jd(b,a){return a&&(a.k&524288||a.td)?a.ea(null,b):Aa(a)?Jc(a,b):"string"===typeof a?Jc(a,b):Da(yb,a)?zb.b(a,b):Hd(b,a)}function v(b,a,c){return c&&(c.k&524288||c.td)?c.fa(null,b,a):Aa(c)?Kc(c,b,a):"string"===typeof c?Kc(c,b,a):Da(yb,c)?zb.f(c,b,a):Id(b,a,c)}function Kd(b,a,c){return null!=c?Ab(c,b,a):a}function Ld(b){return b}function Md(b,a,c,d){b=b.c?b.c(a):b.call(null,a);c=v(b,c,d);return b.c?b.c(c):b.call(null,c)}
var Nd=function Nd(){switch(arguments.length){case 0:return Nd.t();case 1:return Nd.c(arguments[0]);case 2:return Nd.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Nd.j(arguments[0],arguments[1],a)}};Nd.t=function(){return 0};Nd.c=function(b){return b};Nd.b=function(b,a){return b+a};Nd.j=function(b,a,c){return v(Nd,b+a,c)};Nd.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Nd.j(a,b,c)};Nd.G=2;
var Od=function Od(){switch(arguments.length){case 1:return Od.c(arguments[0]);case 2:return Od.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Od.j(arguments[0],arguments[1],a)}};Od.c=function(b){return-b};Od.b=function(b,a){return b-a};Od.j=function(b,a,c){return v(Od,b-a,c)};Od.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Od.j(a,b,c)};Od.G=2;
var Pd=function Pd(){switch(arguments.length){case 0:return Pd.t();case 1:return Pd.c(arguments[0]);case 2:return Pd.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Pd.j(arguments[0],arguments[1],a)}};Pd.t=function(){return 1};Pd.c=function(b){return b};Pd.b=function(b,a){return b*a};Pd.j=function(b,a,c){return v(Pd,b*a,c)};Pd.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Pd.j(a,b,c)};Pd.G=2;
var Qd=function Qd(){switch(arguments.length){case 1:return Qd.c(arguments[0]);case 2:return Qd.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Qd.j(arguments[0],arguments[1],a)}};Qd.c=function(b){return 1/b};Qd.b=function(b,a){return b/a};Qd.j=function(b,a,c){return v(Qd,b/a,c)};Qd.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Qd.j(a,b,c)};Qd.G=2;
var Rd=function Rd(){switch(arguments.length){case 1:return Rd.c(arguments[0]);case 2:return Rd.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Rd.j(arguments[0],arguments[1],a)}};Rd.c=function(){return!0};Rd.b=function(b,a){return b<a};Rd.j=function(b,a,c){for(;;)if(b<a)if(D(c))b=a,a=C(c),c=D(c);else return a<C(c);else return!1};Rd.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Rd.j(a,b,c)};Rd.G=2;
var Sd=function Sd(){switch(arguments.length){case 1:return Sd.c(arguments[0]);case 2:return Sd.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Sd.j(arguments[0],arguments[1],a)}};Sd.c=function(){return!0};Sd.b=function(b,a){return b<=a};Sd.j=function(b,a,c){for(;;)if(b<=a)if(D(c))b=a,a=C(c),c=D(c);else return a<=C(c);else return!1};Sd.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Sd.j(a,b,c)};Sd.G=2;
var Td=function Td(){switch(arguments.length){case 1:return Td.c(arguments[0]);case 2:return Td.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Td.j(arguments[0],arguments[1],a)}};Td.c=function(){return!0};Td.b=function(b,a){return b>a};Td.j=function(b,a,c){for(;;)if(b>a)if(D(c))b=a,a=C(c),c=D(c);else return a>C(c);else return!1};Td.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Td.j(a,b,c)};Td.G=2;
var Ud=function Ud(){switch(arguments.length){case 1:return Ud.c(arguments[0]);case 2:return Ud.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Ud.j(arguments[0],arguments[1],a)}};Ud.c=function(){return!0};Ud.b=function(b,a){return b>=a};Ud.j=function(b,a,c){for(;;)if(b>=a)if(D(c))b=a,a=C(c),c=D(c);else return a>=C(c);else return!1};Ud.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Ud.j(a,b,c)};Ud.G=2;
var Vd=function Vd(){switch(arguments.length){case 1:return Vd.c(arguments[0]);case 2:return Vd.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Vd.j(arguments[0],arguments[1],a)}};Vd.c=function(b){return b};Vd.b=function(b,a){return b>a?b:a};Vd.j=function(b,a,c){return v(Vd,b>a?b:a,c)};Vd.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Vd.j(a,b,c)};Vd.G=2;
var Wd=function Wd(){switch(arguments.length){case 1:return Wd.c(arguments[0]);case 2:return Wd.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Wd.j(arguments[0],arguments[1],a)}};Wd.c=function(b){return b};Wd.b=function(b,a){return b<a?b:a};Wd.j=function(b,a,c){return v(Wd,b<a?b:a,c)};Wd.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Wd.j(a,b,c)};Wd.G=2;function Xd(b,a){return(b%a+a)%a}
function Yd(b,a){var c=(b-b%a)/a;return 0<=c?Math.floor.c?Math.floor.c(c):Math.floor.call(null,c):Math.ceil.c?Math.ceil.c(c):Math.ceil.call(null,c)}function Zd(b){b-=b>>1&1431655765;b=(b&858993459)+(b>>2&858993459);return 16843009*(b+(b>>4)&252645135)>>24}var $d=function $d(){switch(arguments.length){case 1:return $d.c(arguments[0]);case 2:return $d.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return $d.j(arguments[0],arguments[1],a)}};$d.c=function(){return!0};
$d.b=function(b,a){return Bb(b,a)};$d.j=function(b,a,c){for(;;)if(b===a)if(D(c))b=a,a=C(c),c=D(c);else return a===C(c);else return!1};$d.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return $d.j(a,b,c)};$d.G=2;function ae(b,a){for(var c=a,d=A(b);;)if(d&&0<c)--c,d=D(d);else return d}var r=function r(){switch(arguments.length){case 0:return r.t();case 1:return r.c(arguments[0]);default:var a=new uc(Array.prototype.slice.call(arguments,1),0);return r.j(arguments[0],a)}};r.t=function(){return""};
r.c=function(b){return null==b?"":ha(b)};r.j=function(b,a){for(var c=new ja(""+r(b)),d=a;;)if(q(d))c=c.append(""+r(C(d))),d=D(d);else return c.toString()};r.F=function(b){var a=C(b);b=D(b);return r.j(a,b)};r.G=1;function be(b,a){return b.substring(a)}function Qc(b,a){var c;if(ld(a))if(Mc(b)&&Mc(a)&&K(b)!==K(a))c=!1;else a:{c=A(b);for(var d=A(a);;){if(null==c){c=null==d;break a}if(null!=d&&F.b(C(c),C(d)))c=D(c),d=D(d);else{c=!1;break a}}}else c=null;return ud(c)}
function ce(b){var a=0;for(b=A(b);;)if(b){var c=C(b),a=(a+(nc(function(){var a=c;return de.c?de.c(a):de.call(null,a)}())^nc(function(){var a=c;return ee.c?ee.c(a):ee.call(null,a)}())))%4503599627370496;b=D(b)}else return a}function fe(b,a,c,d,e){this.o=b;this.first=a;this.ub=c;this.count=d;this.h=e;this.k=65937646;this.r=8192}f=fe.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.o};f.ka=function(){return 1===this.count?null:this.ub};
f.I=function(){return this.count};f.ob=function(){return this.first};f.pb=function(){return Za(this)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return xb(wc,this.o)};f.ea=function(b,a){return Hd(a,this)};f.fa=function(b,a,c){return Id(a,c,this)};f.ca=function(){return this.first};f.ya=function(){return 1===this.count?wc:this.ub};f.B=function(){return this};f.D=function(b,a){return new fe(a,this.first,this.ub,this.count,this.h)};
f.H=function(b,a){return new fe(this.o,a,this,this.count+1,null)};fe.prototype[Ia]=function(){return yc(this)};function ge(b){this.o=b;this.k=65937614;this.r=8192}f=ge.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.o};f.ka=function(){return null};f.I=function(){return 0};f.ob=function(){return null};f.pb=function(){throw Error("Can't pop empty list");};f.A=function(){return Bc};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return this};
f.ea=function(b,a){return Hd(a,this)};f.fa=function(b,a,c){return Id(a,c,this)};f.ca=function(){return null};f.ya=function(){return wc};f.B=function(){return null};f.D=function(b,a){return new ge(a)};f.H=function(b,a){return new fe(this.o,a,null,1,null)};var wc=new ge(null);ge.prototype[Ia]=function(){return yc(this)};var he=function he(){var a=0<arguments.length?new uc(Array.prototype.slice.call(arguments,0),0):null;return he.j(a)};
he.j=function(b){var a;if(b instanceof uc&&0===b.J)a=b.i;else a:for(a=[];;)if(null!=b)a.push(b.ca(null)),b=b.ka(null);else break a;b=a.length;for(var c=wc;;)if(0<b){var d=b-1,c=c.H(null,a[b-1]);b=d}else return c};he.G=0;he.F=function(b){return he.j(A(b))};function ie(b,a,c,d){this.o=b;this.first=a;this.ub=c;this.h=d;this.k=65929452;this.r=8192}f=ie.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.o};
f.ka=function(){return null==this.ub?null:A(this.ub)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(wc,this.o)};f.ea=function(b,a){return Hd(a,this)};f.fa=function(b,a,c){return Id(a,c,this)};f.ca=function(){return this.first};f.ya=function(){return null==this.ub?wc:this.ub};f.B=function(){return this};f.D=function(b,a){return new ie(a,this.first,this.ub,this.h)};f.H=function(b,a){return new ie(null,a,this,this.h)};
ie.prototype[Ia]=function(){return yc(this)};function Rc(b,a){var c=null==a;return(c?c:a&&(a.k&64||a.cc))?new ie(null,b,a,null):new ie(null,b,A(a),null)}function je(b,a){if(b.L===a.L)return 0;var c=Ba(b.ns);if(q(c?a.ns:c))return-1;if(q(b.ns)){if(Ba(a.ns))return 1;c=la(b.ns,a.ns);return 0===c?la(b.name,a.name):c}return la(b.name,a.name)}function R(b,a,c,d){this.ns=b;this.name=a;this.L=c;this.Rb=d;this.k=2153775105;this.r=4096}f=R.prototype;f.w=function(b,a){return Hb(a,[r(":"),r(this.L)].join(""))};
f.ac=function(){return this.name};f.bc=function(){return this.ns};f.A=function(){var b=this.Rb;return null!=b?b:this.Rb=b=oc(jc(this.name),mc(this.ns))+2654435769|0};f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return Zc(b,this);case 3:return $c(b,this,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return Zc(b,this)};b.f=function(a,b,d){return $c(b,this,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};
f.c=function(b){return Zc(b,this)};f.b=function(b,a){return $c(b,this,a)};f.p=function(b,a){return a instanceof R?this.L===a.L:!1};f.toString=function(){return[r(":"),r(this.L)].join("")};f.equiv=function(b){return this.p(null,b)};function me(b){return b instanceof R}function T(b,a){return b===a?!0:b instanceof R&&a instanceof R?b.L===a.L:!1}function ne(b){if(b&&(b.r&4096||b.sd))return b.bc(null);throw Error([r("Doesn't support namespace: "),r(b)].join(""));}
var oe=function oe(){switch(arguments.length){case 1:return oe.c(arguments[0]);case 2:return oe.b(arguments[0],arguments[1]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}};oe.c=function(b){if(b instanceof R)return b;if(b instanceof z)return new R(ne(b),pe.c?pe.c(b):pe.call(null,b),b.ib,null);if("string"===typeof b){var a=b.split("/");return 2===a.length?new R(a[0],a[1],b,null):new R(null,a[0],b,null)}return null};
oe.b=function(b,a){return new R(b,a,[r(q(b)?[r(b),r("/")].join(""):null),r(a)].join(""),null)};oe.G=2;function qe(b,a,c,d){this.o=b;this.fn=a;this.Q=c;this.h=d;this.r=0;this.k=32374988}f=qe.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};function re(b){null!=b.fn&&(b.Q=b.fn.t?b.fn.t():b.fn.call(null),b.fn=null);return b.Q}f.C=function(){return this.o};f.ka=function(){Eb(this);return null==this.Q?null:D(this.Q)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(wc,this.o)};f.ea=function(b,a){return Hd(a,this)};f.fa=function(b,a,c){return Id(a,c,this)};f.ca=function(){Eb(this);return null==this.Q?null:C(this.Q)};f.ya=function(){Eb(this);return null!=this.Q?vc(this.Q):wc};f.B=function(){re(this);if(null==this.Q)return null;for(var b=this.Q;;)if(b instanceof qe)b=re(b);else return this.Q=b,A(this.Q)};
f.D=function(b,a){return new qe(a,this.fn,this.Q,this.h)};f.H=function(b,a){return Rc(a,this)};qe.prototype[Ia]=function(){return yc(this)};function se(b,a){this.xc=b;this.end=a;this.r=0;this.k=2}se.prototype.I=function(){return this.end};se.prototype.add=function(b){this.xc[this.end]=b;return this.end+=1};se.prototype.R=function(){var b=new te(this.xc,0,this.end);this.xc=null;return b};function ue(b){return new se(Array(b),0)}
function te(b,a,c){this.i=b;this.off=a;this.end=c;this.r=0;this.k=524306}f=te.prototype;f.ea=function(b,a){return Lc(this.i,a,this.i[this.off],this.off+1)};f.fa=function(b,a,c){return Lc(this.i,a,c,this.off)};f.Sc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new te(this.i,this.off+1,this.end)};f.M=function(b,a){return this.i[this.off+a]};f.Ha=function(b,a,c){return 0<=a&&a<this.end-this.off?this.i[this.off+a]:c};f.I=function(){return this.end-this.off};
function ve(b,a,c,d){this.R=b;this.gb=a;this.o=c;this.h=d;this.k=31850732;this.r=1536}f=ve.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.o};f.ka=function(){if(1<Pa(this.R))return new ve(Tb(this.R),this.gb,this.o,null);var b=Eb(this.gb);return null==b?null:b};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(wc,this.o)};
f.ca=function(){return w.b(this.R,0)};f.ya=function(){return 1<Pa(this.R)?new ve(Tb(this.R),this.gb,this.o,null):null==this.gb?wc:this.gb};f.B=function(){return this};f.zc=function(){return this.R};f.Ac=function(){return null==this.gb?wc:this.gb};f.D=function(b,a){return new ve(this.R,this.gb,a,this.h)};f.H=function(b,a){return Rc(a,this)};f.yc=function(){return null==this.gb?null:this.gb};ve.prototype[Ia]=function(){return yc(this)};function we(b,a){return 0===Pa(b)?a:new ve(b,a,null,null)}
function xe(b,a){b.add(a)}function Fd(b){for(var a=[];;)if(A(b))a.push(C(b)),b=D(b);else return a}function ye(b,a){if(Mc(b))return K(b);for(var c=b,d=a,e=0;;)if(0<d&&A(c))c=D(c),--d,e+=1;else return e}
var ze=function ze(a){return null==a?null:null==D(a)?A(C(a)):Rc(C(a),ze(D(a)))},U=function U(){switch(arguments.length){case 0:return U.t();case 1:return U.c(arguments[0]);case 2:return U.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return U.j(arguments[0],arguments[1],a)}};U.t=function(){return new qe(null,function(){return null},null,null)};U.c=function(b){return new qe(null,function(){return b},null,null)};
U.b=function(b,a){return new qe(null,function(){var c=A(b);return c?od(c)?we(Ub(c),U.b(Vb(c),a)):Rc(C(c),U.b(vc(c),a)):a},null,null)};U.j=function(b,a,c){return function e(a,b){return new qe(null,function(){var c=A(a);return c?od(c)?we(Ub(c),e(Vb(c),b)):Rc(C(c),e(vc(c),b)):q(b)?e(C(b),D(b)):null},null,null)}(U.b(b,a),c)};U.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return U.j(a,b,c)};U.G=2;function Ae(b){return A(b)}function Be(b){return Mb(b)}function Ce(b){return Ob(b)}
var De=function De(){switch(arguments.length){case 0:return De.t();case 1:return De.c(arguments[0]);case 2:return De.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return De.j(arguments[0],arguments[1],a)}};De.t=function(){return Mb(Wc)};De.c=function(b){return b};De.b=function(b,a){return Nb(b,a)};De.j=function(b,a,c){for(;;)if(b=Nb(b,a),q(c))a=C(c),c=D(c);else return b};De.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return De.j(a,b,c)};De.G=2;
var Ee=function Ee(){switch(arguments.length){case 3:return Ee.f(arguments[0],arguments[1],arguments[2]);default:var a=new uc(Array.prototype.slice.call(arguments,3),0);return Ee.j(arguments[0],arguments[1],arguments[2],a)}};Ee.f=function(b,a,c){return Pb(b,a,c)};Ee.j=function(b,a,c,d){for(;;)if(b=Pb(b,a,c),q(d))a=C(d),c=Tc(d),d=D(D(d));else return b};Ee.F=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),d=D(d);return Ee.j(a,b,c,d)};Ee.G=3;
function Fe(b,a,c){var d=A(c);if(0===a)return b.t?b.t():b.call(null);c=Wa(d);var e=Za(d);if(1===a)return b.c?b.c(c):b.c?b.c(c):b.call(null,c);var d=Wa(e),g=Za(e);if(2===a)return b.b?b.b(c,d):b.b?b.b(c,d):b.call(null,c,d);var e=Wa(g),h=Za(g);if(3===a)return b.f?b.f(c,d,e):b.f?b.f(c,d,e):b.call(null,c,d,e);var g=Wa(h),k=Za(h);if(4===a)return b.u?b.u(c,d,e,g):b.u?b.u(c,d,e,g):b.call(null,c,d,e,g);var h=Wa(k),m=Za(k);if(5===a)return b.P?b.P(c,d,e,g,h):b.P?b.P(c,d,e,g,h):b.call(null,c,d,e,g,h);var k=Wa(m),
n=Za(m);if(6===a)return b.da?b.da(c,d,e,g,h,k):b.da?b.da(c,d,e,g,h,k):b.call(null,c,d,e,g,h,k);var m=Wa(n),p=Za(n);if(7===a)return b.ga?b.ga(c,d,e,g,h,k,m):b.ga?b.ga(c,d,e,g,h,k,m):b.call(null,c,d,e,g,h,k,m);var n=Wa(p),t=Za(p);if(8===a)return b.wa?b.wa(c,d,e,g,h,k,m,n):b.wa?b.wa(c,d,e,g,h,k,m,n):b.call(null,c,d,e,g,h,k,m,n);var p=Wa(t),u=Za(t);if(9===a)return b.xa?b.xa(c,d,e,g,h,k,m,n,p):b.xa?b.xa(c,d,e,g,h,k,m,n,p):b.call(null,c,d,e,g,h,k,m,n,p);var t=Wa(u),y=Za(u);if(10===a)return b.la?b.la(c,
d,e,g,h,k,m,n,p,t):b.la?b.la(c,d,e,g,h,k,m,n,p,t):b.call(null,c,d,e,g,h,k,m,n,p,t);var u=Wa(y),B=Za(y);if(11===a)return b.ma?b.ma(c,d,e,g,h,k,m,n,p,t,u):b.ma?b.ma(c,d,e,g,h,k,m,n,p,t,u):b.call(null,c,d,e,g,h,k,m,n,p,t,u);var y=Wa(B),E=Za(B);if(12===a)return b.na?b.na(c,d,e,g,h,k,m,n,p,t,u,y):b.na?b.na(c,d,e,g,h,k,m,n,p,t,u,y):b.call(null,c,d,e,g,h,k,m,n,p,t,u,y);var B=Wa(E),H=Za(E);if(13===a)return b.oa?b.oa(c,d,e,g,h,k,m,n,p,t,u,y,B):b.oa?b.oa(c,d,e,g,h,k,m,n,p,t,u,y,B):b.call(null,c,d,e,g,h,k,m,
n,p,t,u,y,B);var E=Wa(H),M=Za(H);if(14===a)return b.pa?b.pa(c,d,e,g,h,k,m,n,p,t,u,y,B,E):b.pa?b.pa(c,d,e,g,h,k,m,n,p,t,u,y,B,E):b.call(null,c,d,e,g,h,k,m,n,p,t,u,y,B,E);var H=Wa(M),S=Za(M);if(15===a)return b.qa?b.qa(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H):b.qa?b.qa(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H):b.call(null,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H);var M=Wa(S),ca=Za(S);if(16===a)return b.ra?b.ra(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M):b.ra?b.ra(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M):b.call(null,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M);var S=
Wa(ca),qa=Za(ca);if(17===a)return b.sa?b.sa(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S):b.sa?b.sa(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S):b.call(null,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S);var ca=Wa(qa),Fa=Za(qa);if(18===a)return b.ta?b.ta(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca):b.ta?b.ta(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca):b.call(null,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca);qa=Wa(Fa);Fa=Za(Fa);if(19===a)return b.ua?b.ua(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa):b.ua?b.ua(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa):b.call(null,
c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa);var N=Wa(Fa);Za(Fa);if(20===a)return b.va?b.va(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa,N):b.va?b.va(c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa,N):b.call(null,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa,N);throw Error("Only up to 20 arguments supported on functions");}
function dd(){switch(arguments.length){case 2:return Ge(arguments[0],arguments[1]);case 3:return He(arguments[0],arguments[1],arguments[2]);case 4:return Ie(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Je(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:var b=new uc(Array.prototype.slice.call(arguments,5),0);return Ke(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Ge(b,a){var c=b.G;if(b.F){var d=ye(a,c+1);return d<=c?Fe(b,d,a):b.F(a)}return b.apply(b,Fd(a))}function He(b,a,c){a=Rc(a,c);c=b.G;if(b.F){var d=ye(a,c+1);return d<=c?Fe(b,d,a):b.F(a)}return b.apply(b,Fd(a))}function Ie(b,a,c,d){a=Rc(a,Rc(c,d));c=b.G;return b.F?(d=ye(a,c+1),d<=c?Fe(b,d,a):b.F(a)):b.apply(b,Fd(a))}function Je(b,a,c,d,e){a=Rc(a,Rc(c,Rc(d,e)));c=b.G;return b.F?(d=ye(a,c+1),d<=c?Fe(b,d,a):b.F(a)):b.apply(b,Fd(a))}
function Ke(b,a,c,d,e,g){a=Rc(a,Rc(c,Rc(d,Rc(e,ze(g)))));c=b.G;return b.F?(d=ye(a,c+1),d<=c?Fe(b,d,a):b.F(a)):b.apply(b,Fd(a))}var Le=function Le(){switch(arguments.length){case 1:return Le.c(arguments[0]);case 2:return Le.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Le.j(arguments[0],arguments[1],a)}};Le.c=function(){return!1};Le.b=function(b,a){return!F.b(b,a)};Le.j=function(b,a,c){return Ba(Ie(F,b,a,c))};
Le.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Le.j(a,b,c)};Le.G=2;function Me(b){return A(b)?b:null}function Ne(b,a){for(;;){if(null==A(a))return!0;var c;c=C(a);c=b.c?b.c(c):b.call(null,c);if(q(c)){c=b;var d=D(a);b=c;a=d}else return!1}}function Oe(b,a){for(;;)if(A(a)){var c;c=C(a);c=b.c?b.c(c):b.call(null,c);if(q(c))return c;c=b;var d=D(a);b=c;a=d}else return null}
function Pe(b){if("number"===typeof b&&Ba(isNaN(b))&&Infinity!==b&&parseFloat(b)===parseInt(b,10))return 0===(b&1);throw Error([r("Argument must be an integer: "),r(b)].join(""));}function Qe(b){return!Pe(b)}
function Re(b){return function(){function a(a,c){return Ba(b.b?b.b(a,c):b.call(null,a,c))}function c(a){return Ba(b.c?b.c(a):b.call(null,a))}function d(){return Ba(b.t?b.t():b.call(null))}var e=null,g=function(){function a(b,d,e){var g=null;if(2<arguments.length){for(var g=0,h=Array(arguments.length-2);g<h.length;)h[g]=arguments[g+2],++g;g=new uc(h,0)}return c.call(this,b,d,g)}function c(a,d,e){return Ba(Ie(b,a,d,e))}a.G=2;a.F=function(a){var b=C(a);a=D(a);var d=C(a);a=vc(a);return c(b,d,a)};a.j=
c;return a}(),e=function(b,e,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,b);case 2:return a.call(this,b,e);default:var n=null;if(2<arguments.length){for(var n=0,p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new uc(p,0)}return g.j(b,e,n)}throw Error("Invalid arity: "+arguments.length);};e.G=2;e.F=g.F;e.t=d;e.c=c;e.b=a;e.j=g.j;return e}()}
function Se(b,a){return function(){function c(c,d,e){c=a.f?a.f(c,d,e):a.call(null,c,d,e);return b.c?b.c(c):b.call(null,c)}function d(c,d){var e=a.b?a.b(c,d):a.call(null,c,d);return b.c?b.c(e):b.call(null,e)}function e(c){c=a.c?a.c(c):a.call(null,c);return b.c?b.c(c):b.call(null,c)}function g(){var c=a.t?a.t():a.call(null);return b.c?b.c(c):b.call(null,c)}var h=null,k=function(){function c(a,b,e,g){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+
3],++h;h=new uc(k,0)}return d.call(this,a,b,e,h)}function d(c,e,g,h){c=Je(a,c,e,g,h);return b.c?b.c(c):b.call(null,c)}c.G=3;c.F=function(a){var b=C(a);a=D(a);var c=C(a);a=D(a);var e=C(a);a=vc(a);return d(b,c,e,a)};c.j=d;return c}(),h=function(a,b,h,t){switch(arguments.length){case 0:return g.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,h);default:var u=null;if(3<arguments.length){for(var u=0,y=Array(arguments.length-3);u<y.length;)y[u]=arguments[u+
3],++u;u=new uc(y,0)}return k.j(a,b,h,u)}throw Error("Invalid arity: "+arguments.length);};h.G=3;h.F=k.F;h.t=g;h.c=e;h.b=d;h.f=c;h.j=k.j;return h}()}
function Te(b,a){return function(){function c(c,d,e){return b.u?b.u(a,c,d,e):b.call(null,a,c,d,e)}function d(c,d){return b.f?b.f(a,c,d):b.call(null,a,c,d)}function e(c){return b.b?b.b(a,c):b.call(null,a,c)}function g(){return b.c?b.c(a):b.call(null,a)}var h=null,k=function(){function c(a,b,e,g){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new uc(k,0)}return d.call(this,a,b,e,h)}function d(c,e,g,h){return Ke(b,a,c,e,g,I([h],0))}c.G=
3;c.F=function(a){var b=C(a);a=D(a);var c=C(a);a=D(a);var e=C(a);a=vc(a);return d(b,c,e,a)};c.j=d;return c}(),h=function(a,b,h,t){switch(arguments.length){case 0:return g.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,h);default:var u=null;if(3<arguments.length){for(var u=0,y=Array(arguments.length-3);u<y.length;)y[u]=arguments[u+3],++u;u=new uc(y,0)}return k.j(a,b,h,u)}throw Error("Invalid arity: "+arguments.length);};h.G=3;h.F=k.F;h.t=g;h.c=
e;h.b=d;h.f=c;h.j=k.j;return h}()}
function Ue(b,a){return function(){function c(c,d,e){c=null==c?a:c;return b.f?b.f(c,d,e):b.call(null,c,d,e)}function d(c,d){var e=null==c?a:c;return b.b?b.b(e,d):b.call(null,e,d)}function e(c){c=null==c?a:c;return b.c?b.c(c):b.call(null,c)}var g=null,h=function(){function c(a,b,e,g){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new uc(k,0)}return d.call(this,a,b,e,h)}function d(c,e,g,h){return Je(b,null==c?a:c,e,g,h)}c.G=3;c.F=function(a){var b=
C(a);a=D(a);var c=C(a);a=D(a);var e=C(a);a=vc(a);return d(b,c,e,a)};c.j=d;return c}(),g=function(a,b,g,p){switch(arguments.length){case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,g);default:var t=null;if(3<arguments.length){for(var t=0,u=Array(arguments.length-3);t<u.length;)u[t]=arguments[t+3],++t;t=new uc(u,0)}return h.j(a,b,g,t)}throw Error("Invalid arity: "+arguments.length);};g.G=3;g.F=h.F;g.c=e;g.b=d;g.f=c;g.j=h.j;return g}()}
function Ve(b,a){return new qe(null,function(){var c=A(a);if(c){if(od(c)){for(var d=Ub(c),e=K(d),g=ue(e),h=0;;)if(h<e){var k=function(){var a=w.b(d,h);return b.c?b.c(a):b.call(null,a)}();null!=k&&g.add(k);h+=1}else break;return we(g.R(),Ve(b,Vb(c)))}e=function(){var a=C(c);return b.c?b.c(a):b.call(null,a)}();return null==e?Ve(b,vc(c)):Rc(e,Ve(b,vc(c)))}return null},null,null)}function We(b,a,c,d){this.state=b;this.o=a;this.mb=d;this.k=6455296;this.r=16386}f=We.prototype;
f.A=function(){return this[da]||(this[da]=++ea)};f.Gc=function(b,a,c){for(var d=A(this.mb),e=null,g=0,h=0;;)if(h<g){b=e.M(null,h);var k=L(b,0);b=L(b,1);var m=a,n=c;b.u?b.u(k,this,m,n):b.call(null,k,this,m,n);h+=1}else if(b=A(d))d=b,od(d)?(e=Ub(d),d=Vb(d),b=e,g=K(e),e=b):(b=C(d),k=L(b,0),b=L(b,1),e=k,g=a,h=c,b.u?b.u(e,this,g,h):b.call(null,e,this,g,h),d=D(d),e=null,g=0),h=0;else return null};f.Fc=function(b,a,c){this.mb=O.f(this.mb,a,c);return this};f.C=function(){return this.o};f.Sb=function(){return this.state};
f.p=function(b,a){return this===a};f.equiv=function(b){return this.p(null,b)};function Xe(){switch(arguments.length){case 1:return Ye(arguments[0]);default:var b=new uc(Array.prototype.slice.call(arguments,1),0),a=arguments[0],b=sd(b)?Ge(Ze,b):b;Zc(b,$e);b=Zc(b,ua);return new We(a,b,0,null)}}function Ye(b){return new We(b,null,0,null)}function af(b,a){if(b instanceof We){var c=b.state;b.state=a;null!=b.mb&&Kb(b,c,a);return a}return Zb(b,a)}
var bf=function bf(){switch(arguments.length){case 2:return bf.b(arguments[0],arguments[1]);case 3:return bf.f(arguments[0],arguments[1],arguments[2]);case 4:return bf.u(arguments[0],arguments[1],arguments[2],arguments[3]);default:var a=new uc(Array.prototype.slice.call(arguments,4),0);return bf.j(arguments[0],arguments[1],arguments[2],arguments[3],a)}};bf.b=function(b,a){var c;b instanceof We?(c=b.state,c=a.c?a.c(c):a.call(null,c),c=af(b,c)):c=$b.b(b,a);return c};
bf.f=function(b,a,c){if(b instanceof We){var d=b.state;a=a.b?a.b(d,c):a.call(null,d,c);b=af(b,a)}else b=$b.f(b,a,c);return b};bf.u=function(b,a,c,d){if(b instanceof We){var e=b.state;a=a.f?a.f(e,c,d):a.call(null,e,c,d);b=af(b,a)}else b=$b.u(b,a,c,d);return b};bf.j=function(b,a,c,d,e){return b instanceof We?af(b,Je(a,b.state,c,d,e)):$b.P(b,a,c,d,e)};bf.F=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),e=D(d),d=C(e),e=D(e);return bf.j(a,b,c,d,e)};bf.G=4;
function cf(b){this.state=b;this.r=0;this.k=32768}cf.prototype.Sb=function(){return this.state};cf.prototype.cd=function(b,a){return this.state=a};
function df(){var b=ef,a=ff;return function(){function c(c,d,e){var g=b.c?b.c(c):b.call(null,c);if(q(g))return g;g=b.c?b.c(d):b.call(null,d);if(q(g))return g;g=b.c?b.c(e):b.call(null,e);if(q(g))return g;c=a.c?a.c(c):a.call(null,c);if(q(c))return c;d=a.c?a.c(d):a.call(null,d);return q(d)?d:a.c?a.c(e):a.call(null,e)}function d(c,d){var e=b.c?b.c(c):b.call(null,c);if(q(e))return e;e=b.c?b.c(d):b.call(null,d);if(q(e))return e;e=a.c?a.c(c):a.call(null,c);return q(e)?e:a.c?a.c(d):a.call(null,d)}function e(c){var d=
b.c?b.c(c):b.call(null,c);return q(d)?d:a.c?a.c(c):a.call(null,c)}var g=null,h=function(){function c(a,b,e,g){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new uc(k,0)}return d.call(this,a,b,e,h)}function d(c,e,h,k){c=g.f(c,e,h);return q(c)?c:Oe(function(){return function(c){var d=b.c?b.c(c):b.call(null,c);return q(d)?d:a.c?a.c(c):a.call(null,c)}}(c),k)}c.G=3;c.F=function(a){var b=C(a);a=D(a);var c=C(a);a=D(a);var e=C(a);a=vc(a);return d(b,
c,e,a)};c.j=d;return c}(),g=function(a,b,g,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,g);default:var t=null;if(3<arguments.length){for(var t=0,u=Array(arguments.length-3);t<u.length;)u[t]=arguments[t+3],++t;t=new uc(u,0)}return h.j(a,b,g,t)}throw Error("Invalid arity: "+arguments.length);};g.G=3;g.F=h.F;g.t=function(){return null};g.c=e;g.b=d;g.f=c;g.j=h.j;return g}()}
var gf=function gf(){switch(arguments.length){case 1:return gf.c(arguments[0]);case 2:return gf.b(arguments[0],arguments[1]);case 3:return gf.f(arguments[0],arguments[1],arguments[2]);case 4:return gf.u(arguments[0],arguments[1],arguments[2],arguments[3]);default:var a=new uc(Array.prototype.slice.call(arguments,4),0);return gf.j(arguments[0],arguments[1],arguments[2],arguments[3],a)}};
gf.c=function(b){return function(a){return function(){function c(c,d){var e=b.c?b.c(d):b.call(null,d);return a.b?a.b(c,e):a.call(null,c,e)}function d(b){return a.c?a.c(b):a.call(null,b)}function e(){return a.t?a.t():a.call(null)}var g=null,h=function(){function c(a,b,e){var g=null;if(2<arguments.length){for(var g=0,h=Array(arguments.length-2);g<h.length;)h[g]=arguments[g+2],++g;g=new uc(h,0)}return d.call(this,a,b,g)}function d(c,e,g){e=He(b,e,g);return a.b?a.b(c,e):a.call(null,c,e)}c.G=2;c.F=function(a){var b=
C(a);a=D(a);var c=C(a);a=vc(a);return d(b,c,a)};c.j=d;return c}(),g=function(a,b,g){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b);default:var p=null;if(2<arguments.length){for(var p=0,t=Array(arguments.length-2);p<t.length;)t[p]=arguments[p+2],++p;p=new uc(t,0)}return h.j(a,b,p)}throw Error("Invalid arity: "+arguments.length);};g.G=2;g.F=h.F;g.t=e;g.c=d;g.b=c;g.j=h.j;return g}()}};
gf.b=function(b,a){return new qe(null,function(){var c=A(a);if(c){if(od(c)){for(var d=Ub(c),e=K(d),g=ue(e),h=0;;)if(h<e)xe(g,function(){var a=w.b(d,h);return b.c?b.c(a):b.call(null,a)}()),h+=1;else break;return we(g.R(),gf.b(b,Vb(c)))}return Rc(function(){var a=C(c);return b.c?b.c(a):b.call(null,a)}(),gf.b(b,vc(c)))}return null},null,null)};
gf.f=function(b,a,c){return new qe(null,function(){var d=A(a),e=A(c);if(d&&e){var g=Rc,h;h=C(d);var k=C(e);h=b.b?b.b(h,k):b.call(null,h,k);d=g(h,gf.f(b,vc(d),vc(e)))}else d=null;return d},null,null)};gf.u=function(b,a,c,d){return new qe(null,function(){var e=A(a),g=A(c),h=A(d);if(e&&g&&h){var k=Rc,m;m=C(e);var n=C(g),p=C(h);m=b.f?b.f(m,n,p):b.call(null,m,n,p);e=k(m,gf.u(b,vc(e),vc(g),vc(h)))}else e=null;return e},null,null)};
gf.j=function(b,a,c,d,e){var g=function k(a){return new qe(null,function(){var b=gf.b(A,a);return Ne(Ld,b)?Rc(gf.b(C,b),k(gf.b(vc,b))):null},null,null)};return gf.b(function(){return function(a){return Ge(b,a)}}(g),g(J.j(e,d,I([c,a],0))))};gf.F=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),e=D(d),d=C(e),e=D(e);return gf.j(a,b,c,d,e)};gf.G=4;
function hf(b){return function(a){return function(b){return function(){function d(d,e){var g=tb(b),h=ac(b,tb(b)-1),g=0<g?a.b?a.b(d,e):a.call(null,d,e):d;return 0<h?g:Gc(g)?g:new Fc(g)}function e(b){return a.c?a.c(b):a.call(null,b)}function g(){return a.t?a.t():a.call(null)}var h=null,h=function(a,b){switch(arguments.length){case 0:return g.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};h.t=g;h.c=e;h.b=d;return h}()}(new cf(b))}}
function jf(b,a){return new qe(null,function(){if(0<b){var c=A(a);return c?Rc(C(c),jf(b-1,vc(c))):null}return null},null,null)}function kf(b,a){return new qe(null,function(c){return function(){return c(b,a)}}(function(a,b){for(;;){var e=A(b);if(0<a&&e){var g=a-1,e=vc(e);a=g;b=e}else return e}}),null,null)}
function lf(b,a){return new qe(null,function(c){return function(){return c(b,a)}}(function(a,b){for(;;){var e=A(b),g;if(g=e)g=C(e),g=a.c?a.c(g):a.call(null,g);if(q(g))g=a,e=vc(e),a=g,b=e;else return e}}),null,null)}function mf(b){return new qe(null,function(){return Rc(b,mf(b))},null,null)}function nf(b){return new qe(null,function(){return Rc(b.t?b.t():b.call(null),nf(b))},null,null)}function of(b,a){return jf(b,nf(a))}function pf(b,a){return Ge(U,He(gf,b,a))}
function qf(b){return function(a){return function(){function c(c,d){return q(b.c?b.c(d):b.call(null,d))?a.b?a.b(c,d):a.call(null,c,d):c}function d(b){return a.c?a.c(b):a.call(null,b)}function e(){return a.t?a.t():a.call(null)}var g=null,g=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};g.t=e;g.c=d;g.b=c;return g}()}}
function rf(b,a){return new qe(null,function(){var c=A(a);if(c){if(od(c)){for(var d=Ub(c),e=K(d),g=ue(e),h=0;;)if(h<e){var k;k=w.b(d,h);k=b.c?b.c(k):b.call(null,k);q(k)&&(k=w.b(d,h),g.add(k));h+=1}else break;return we(g.R(),rf(b,Vb(c)))}d=C(c);c=vc(c);return q(b.c?b.c(d):b.call(null,d))?Rc(d,rf(b,c)):rf(b,c)}return null},null,null)}function sf(b,a){return rf(Re(b),a)}
var tf=function tf(){switch(arguments.length){case 2:return tf.b(arguments[0],arguments[1]);case 3:return tf.f(arguments[0],arguments[1],arguments[2]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}};tf.b=function(b,a){return null!=b?b&&(b.r&4||b.md)?ed(Ce(v(Nb,Mb(b),a)),fd(b)):v(Ta,b,a):v(J,wc,a)};tf.f=function(b,a,c){return b&&(b.r&4||b.md)?ed(Ce(Md(a,De,Mb(b),c)),fd(b)):Md(a,J,b,c)};tf.G=3;
function uf(b,a){return Ce(v(function(a,d){return De.b(a,b.c?b.c(d):b.call(null,d))},Mb(Wc),a))}function vf(b,a,c){return tf.b(Wc,gf.f(b,a,c))}function wf(b,a,c){var d=xf.t();return tf.b(Wc,gf.u(b,a,c,d))}function yf(b,a,c){return new qe(null,function(){var d=A(c);if(d){var e=jf(b,d);return b===K(e)?Rc(e,yf(b,a,kf(a,d))):null}return null},null,null)}
function zf(b,a,c,d){return new qe(null,function(){var e=A(d);if(e){var g=jf(b,e);return b===K(g)?Rc(g,zf(b,a,c,kf(a,e))):Ta(wc,jf(b,U.b(g,c)))}return null},null,null)}function Af(b,a){return Bf(b,a,null)}function Bf(b,a,c){var d=rd;for(a=A(a);;)if(a){var e=b;if(e?e.k&256||e.Wc||(e.k?0:Da(bb,e)):Da(bb,e)){b=$c(b,C(a),d);if(d===b)return c;a=D(a)}else return c}else return b}
var Df=function Df(a,c,d){var e=L(c,0);c=ae(c,1);return q(c)?O.f(a,e,Df(Zc(a,e),c,d)):O.f(a,e,d)},Ef=function Ef(){switch(arguments.length){case 3:return Ef.f(arguments[0],arguments[1],arguments[2]);case 4:return Ef.u(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ef.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Ef.da(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:var a=new uc(Array.prototype.slice.call(arguments,
6),0);return Ef.j(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],a)}};Ef.f=function(b,a,c){var d=L(a,0);a=ae(a,1);return q(a)?O.f(b,d,Ef.f(Zc(b,d),a,c)):O.f(b,d,function(){var a=Zc(b,d);return c.c?c.c(a):c.call(null,a)}())};Ef.u=function(b,a,c,d){var e=L(a,0);a=ae(a,1);return q(a)?O.f(b,e,Ef.u(Zc(b,e),a,c,d)):O.f(b,e,function(){var a=Zc(b,e);return c.b?c.b(a,d):c.call(null,a,d)}())};
Ef.P=function(b,a,c,d,e){var g=L(a,0);a=ae(a,1);return q(a)?O.f(b,g,Ef.P(Zc(b,g),a,c,d,e)):O.f(b,g,function(){var a=Zc(b,g);return c.f?c.f(a,d,e):c.call(null,a,d,e)}())};Ef.da=function(b,a,c,d,e,g){var h=L(a,0);a=ae(a,1);return q(a)?O.f(b,h,Ef.da(Zc(b,h),a,c,d,e,g)):O.f(b,h,function(){var a=Zc(b,h);return c.u?c.u(a,d,e,g):c.call(null,a,d,e,g)}())};Ef.j=function(b,a,c,d,e,g,h){var k=L(a,0);a=ae(a,1);return q(a)?O.f(b,k,Ke(Ef,Zc(b,k),a,c,d,I([e,g,h],0))):O.f(b,k,Ke(c,Zc(b,k),d,e,g,I([h],0)))};
Ef.F=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),e=D(d),d=C(e),g=D(e),e=C(g),h=D(g),g=C(h),h=D(h);return Ef.j(a,b,c,d,e,g,h)};Ef.G=6;function Ff(b,a,c){return O.f(b,a,function(){var d=Zc(b,a);return c.c?c.c(d):c.call(null,d)}())}function Gf(b,a,c,d){return O.f(b,a,function(){var e=Zc(b,a);return c.b?c.b(e,d):c.call(null,e,d)}())}function Hf(b,a,c,d,e){return O.f(b,a,function(){var g=Zc(b,a);return c.f?c.f(g,d,e):c.call(null,g,d,e)}())}function If(b,a){this.V=b;this.i=a}
function Jf(b){return new If(b,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Kf(b){return new If(b.V,Ja(b.i))}function Lf(b){b=b.l;return 32>b?0:b-1>>>5<<5}function Mf(b,a,c){for(;;){if(0===a)return c;var d=Jf(b);d.i[0]=c;c=d;a-=5}}var Nf=function Nf(a,c,d,e){var g=Kf(d),h=a.l-1>>>c&31;5===c?g.i[h]=e:(d=d.i[h],a=null!=d?Nf(a,c-5,d,e):Mf(null,c-5,e),g.i[h]=a);return g};
function Of(b,a){throw Error([r("No item "),r(b),r(" in vector of length "),r(a)].join(""));}function Pf(b,a){if(a>=Lf(b))return b.Fa;for(var c=b.root,d=b.shift;;)if(0<d)var e=d-5,c=c.i[a>>>d&31],d=e;else return c.i}function Qf(b,a){return 0<=a&&a<b.l?Pf(b,a):Of(a,b.l)}
var Rf=function Rf(a,c,d,e,g){var h=Kf(d);if(0===c)h.i[e&31]=g;else{var k=e>>>c&31;a=Rf(a,c-5,d.i[k],e,g);h.i[k]=a}return h},Sf=function Sf(a,c,d){var e=a.l-2>>>c&31;if(5<c){a=Sf(a,c-5,d.i[e]);if(null==a&&0===e)return null;d=Kf(d);d.i[e]=a;return d}if(0===e)return null;d=Kf(d);d.i[e]=null;return d};function Tf(b,a,c,d,e,g){this.J=b;this.wc=a;this.i=c;this.v=d;this.start=e;this.end=g}Tf.prototype.tc=function(){return this.J<this.end};
Tf.prototype.next=function(){32===this.J-this.wc&&(this.i=Pf(this.v,this.J),this.wc+=32);var b=this.i[this.J&31];this.J+=1;return b};function V(b,a,c,d,e,g){this.o=b;this.l=a;this.shift=c;this.root=d;this.Fa=e;this.h=g;this.k=167668511;this.r=8196}f=V.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){return"number"===typeof a?w.f(this,a,c):c};
f.Ub=function(b,a,c){b=0;for(var d=c;;)if(b<this.l){var e=Pf(this,b);c=e.length;a:for(var g=0;;)if(g<c){var h=g+b,k=e[g],d=a.f?a.f(d,h,k):a.call(null,d,h,k);if(Gc(d)){e=d;break a}g+=1}else{e=d;break a}if(Gc(e))return a=e,G.c?G.c(a):G.call(null,a);b+=c;d=e}else return d};f.M=function(b,a){return Qf(this,a)[a&31]};f.Ha=function(b,a,c){return 0<=a&&a<this.l?Pf(this,a)[a&31]:c};
f.Hb=function(b,a,c){if(0<=a&&a<this.l)return Lf(this)<=a?(b=Ja(this.Fa),b[a&31]=c,new V(this.o,this.l,this.shift,this.root,b,null)):new V(this.o,this.l,this.shift,Rf(this,this.shift,this.root,a,c),this.Fa,null);if(a===this.l)return Ta(this,c);throw Error([r("Index "),r(a),r(" out of bounds  [0,"),r(this.l),r("]")].join(""));};f.Yb=function(){var b=this.l;return new Tf(0,0,0<K(this)?Pf(this,0):null,this,0,b)};f.C=function(){return this.o};f.I=function(){return this.l};
f.Zb=function(){return w.b(this,0)};f.$b=function(){return w.b(this,1)};f.ob=function(){return 0<this.l?w.b(this,this.l-1):null};
f.pb=function(){if(0===this.l)throw Error("Can't pop empty vector");if(1===this.l)return xb(Wc,this.o);if(1<this.l-Lf(this))return new V(this.o,this.l-1,this.shift,this.root,this.Fa.slice(0,-1),null);var b=Pf(this,this.l-2),a=Sf(this,this.shift,this.root),a=null==a?W:a,c=this.l-1;return 5<this.shift&&null==a.i[1]?new V(this.o,c,this.shift-5,a.i[0],b,null):new V(this.o,c,this.shift,a,b,null)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};
f.p=function(b,a){if(a instanceof V)if(this.l===K(a))for(var c=bc(this),d=bc(a);;)if(q(c.tc())){var e=c.next(),g=d.next();if(!F.b(e,g))return!1}else return!0;else return!1;else return Qc(this,a)};f.Tb=function(){var b=this;return new Uf(b.l,b.shift,function(){var a=b.root;return Vf.c?Vf.c(a):Vf.call(null,a)}(),function(){var a=b.Fa;return Wf.c?Wf.c(a):Wf.call(null,a)}())};f.Y=function(){return ed(Wc,this.o)};f.ea=function(b,a){return Hc(this,a)};
f.fa=function(b,a,c){b=0;for(var d=c;;)if(b<this.l){var e=Pf(this,b);c=e.length;a:for(var g=0;;)if(g<c){var h=e[g],d=a.b?a.b(d,h):a.call(null,d,h);if(Gc(d)){e=d;break a}g+=1}else{e=d;break a}if(Gc(e))return a=e,G.c?G.c(a):G.call(null,a);b+=c;d=e}else return d};f.K=function(b,a,c){if("number"===typeof a)return sb(this,a,c);throw Error("Vector's key for assoc must be a number.");};
f.B=function(){if(0===this.l)return null;if(32>=this.l)return new uc(this.Fa,0);var b;a:{b=this.root;for(var a=this.shift;;)if(0<a)a-=5,b=b.i[0];else{b=b.i;break a}}return Xf?Xf(this,b,0,0):Yf.call(null,this,b,0,0)};f.D=function(b,a){return new V(a,this.l,this.shift,this.root,this.Fa,this.h)};
f.H=function(b,a){if(32>this.l-Lf(this)){for(var c=this.Fa.length,d=Array(c+1),e=0;;)if(e<c)d[e]=this.Fa[e],e+=1;else break;d[c]=a;return new V(this.o,this.l+1,this.shift,this.root,d,null)}c=(d=this.l>>>5>1<<this.shift)?this.shift+5:this.shift;d?(d=Jf(null),d.i[0]=this.root,e=Mf(null,this.shift,new If(null,this.Fa)),d.i[1]=e):d=Nf(this,this.shift,this.root,new If(null,this.Fa));return new V(this.o,this.l+1,c,d,[a],null)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.M(null,b);case 3:return this.Ha(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.M(null,b)};b.f=function(a,b,d){return this.Ha(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return this.M(null,b)};f.b=function(b,a){return this.Ha(null,b,a)};
var W=new If(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Wc=new V(null,0,5,W,[],Bc);function Zf(b){var a=b.length;if(32>a)return new V(null,a,5,W,b,null);for(var c=b.slice(0,32),d=32,e=(new V(null,32,5,W,c,null)).Tb(null);;)if(d<a)c=d+1,e=De.b(e,b[d]),d=c;else return Ob(e)}V.prototype[Ia]=function(){return yc(this)};function $f(b){return Aa(b)?Zf(b):Ob(v(Nb,Mb(Wc),b))}
var ag=function ag(){var a=0<arguments.length?new uc(Array.prototype.slice.call(arguments,0),0):null;return ag.j(a)};ag.j=function(b){return b instanceof uc&&0===b.J?Zf(b.i):$f(b)};ag.G=0;ag.F=function(b){return ag.j(A(b))};function bg(b,a,c,d,e,g){this.Qa=b;this.node=a;this.J=c;this.off=d;this.o=e;this.h=g;this.k=32375020;this.r=1536}f=bg.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.o};
f.ka=function(){if(this.off+1<this.node.length){var b;b=this.Qa;var a=this.node,c=this.J,d=this.off+1;b=Xf?Xf(b,a,c,d):Yf.call(null,b,a,c,d);return null==b?null:b}return Wb(this)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(Wc,this.o)};f.ea=function(b,a){var c;c=this.Qa;var d=this.J+this.off,e=K(this.Qa);c=cg?cg(c,d,e):dg.call(null,c,d,e);return Hc(c,a)};
f.fa=function(b,a,c){b=this.Qa;var d=this.J+this.off,e=K(this.Qa);b=cg?cg(b,d,e):dg.call(null,b,d,e);return Ic(b,a,c)};f.ca=function(){return this.node[this.off]};f.ya=function(){if(this.off+1<this.node.length){var b;b=this.Qa;var a=this.node,c=this.J,d=this.off+1;b=Xf?Xf(b,a,c,d):Yf.call(null,b,a,c,d);return null==b?wc:b}return Vb(this)};f.B=function(){return this};f.zc=function(){var b=this.node;return new te(b,this.off,b.length)};
f.Ac=function(){var b=this.J+this.node.length;if(b<Pa(this.Qa)){var a=this.Qa,c=Pf(this.Qa,b);return Xf?Xf(a,c,b,0):Yf.call(null,a,c,b,0)}return wc};f.D=function(b,a){var c=this.Qa,d=this.node,e=this.J,g=this.off;return eg?eg(c,d,e,g,a):Yf.call(null,c,d,e,g,a)};f.H=function(b,a){return Rc(a,this)};f.yc=function(){var b=this.J+this.node.length;if(b<Pa(this.Qa)){var a=this.Qa,c=Pf(this.Qa,b);return Xf?Xf(a,c,b,0):Yf.call(null,a,c,b,0)}return null};bg.prototype[Ia]=function(){return yc(this)};
function Yf(){switch(arguments.length){case 3:var b=arguments[0],a=arguments[1],c=arguments[2];return new bg(b,Qf(b,a),a,c,null,null);case 4:return Xf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return eg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}}function Xf(b,a,c,d){return new bg(b,a,c,d,null,null)}function eg(b,a,c,d,e){return new bg(b,a,c,d,e,null)}
function fg(b,a,c,d,e){this.o=b;this.v=a;this.start=c;this.end=d;this.h=e;this.k=167666463;this.r=8192}f=fg.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){return"number"===typeof a?w.f(this,a,c):c};f.Ub=function(b,a,c){b=this.start;for(var d=0;;)if(b<this.end){var e=d,g=w.b(this.v,b);c=a.f?a.f(c,e,g):a.call(null,c,e,g);if(Gc(c))return a=c,G.c?G.c(a):G.call(null,a);d+=1;b+=1}else return c};
f.M=function(b,a){return 0>a||this.end<=this.start+a?Of(a,this.end-this.start):w.b(this.v,this.start+a)};f.Ha=function(b,a,c){return 0>a||this.end<=this.start+a?c:w.f(this.v,this.start+a,c)};f.Hb=function(b,a,c){var d=this.start+a;b=this.o;c=O.f(this.v,d,c);a=this.start;var e=this.end,d=d+1,d=e>d?e:d;return gg.P?gg.P(b,c,a,d,null):gg.call(null,b,c,a,d,null)};f.C=function(){return this.o};f.I=function(){return this.end-this.start};f.ob=function(){return w.b(this.v,this.end-1)};
f.pb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var b=this.o,a=this.v,c=this.start,d=this.end-1;return gg.P?gg.P(b,a,c,d,null):gg.call(null,b,a,c,d,null)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(Wc,this.o)};f.ea=function(b,a){return Hc(this,a)};f.fa=function(b,a,c){return Ic(this,a,c)};
f.K=function(b,a,c){if("number"===typeof a)return sb(this,a,c);throw Error("Subvec's key for assoc must be a number.");};f.B=function(){var b=this;return function(a){return function d(e){return e===b.end?null:Rc(w.b(b.v,e),new qe(null,function(){return function(){return d(e+1)}}(a),null,null))}}(this)(b.start)};f.D=function(b,a){var c=this.v,d=this.start,e=this.end,g=this.h;return gg.P?gg.P(a,c,d,e,g):gg.call(null,a,c,d,e,g)};
f.H=function(b,a){var c=this.o,d=sb(this.v,this.end,a),e=this.start,g=this.end+1;return gg.P?gg.P(c,d,e,g,null):gg.call(null,c,d,e,g,null)};f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.M(null,b);case 3:return this.Ha(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.M(null,b)};b.f=function(a,b,d){return this.Ha(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};
f.c=function(b){return this.M(null,b)};f.b=function(b,a){return this.Ha(null,b,a)};fg.prototype[Ia]=function(){return yc(this)};function gg(b,a,c,d,e){for(;;)if(a instanceof fg)c=a.start+c,d=a.start+d,a=a.v;else{var g=K(a);if(0>c||0>d||c>g||d>g)throw Error("Index out of bounds");return new fg(b,a,c,d,e)}}
function dg(){switch(arguments.length){case 2:var b=arguments[0];return cg(b,arguments[1],K(b));case 3:return cg(arguments[0],arguments[1],arguments[2]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}}function cg(b,a,c){return gg(null,b,a,c,null)}function hg(b,a){return b===a.V?a:new If(b,Ja(a.i))}function Vf(b){return new If({},Ja(b.i))}
function Wf(b){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];qd(b,0,a,0,b.length);return a}var ig=function ig(a,c,d,e){d=hg(a.root.V,d);var g=a.l-1>>>c&31;if(5===c)a=e;else{var h=d.i[g];a=null!=h?ig(a,c-5,h,e):Mf(a.root.V,c-5,e)}d.i[g]=a;return d};function Uf(b,a,c,d){this.l=b;this.shift=a;this.root=c;this.Fa=d;this.k=275;this.r=88}f=Uf.prototype;
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.s(null,b);case 3:return this.q(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.s(null,b)};b.f=function(a,b,d){return this.q(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return this.s(null,b)};f.b=function(b,a){return this.q(null,b,a)};f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){return"number"===typeof a?w.f(this,a,c):c};f.M=function(b,a){if(this.root.V)return Qf(this,a)[a&31];throw Error("nth after persistent!");};f.Ha=function(b,a,c){return 0<=a&&a<this.l?w.b(this,a):c};f.I=function(){if(this.root.V)return this.l;throw Error("count after persistent!");};
f.bd=function(b,a,c){var d=this;if(d.root.V){if(0<=a&&a<d.l)return Lf(this)<=a?d.Fa[a&31]=c:(b=function(){return function g(b,k){var m=hg(d.root.V,k);if(0===b)m.i[a&31]=c;else{var n=a>>>b&31,p=g(b-5,m.i[n]);m.i[n]=p}return m}}(this).call(null,d.shift,d.root),d.root=b),this;if(a===d.l)return Nb(this,c);throw Error([r("Index "),r(a),r(" out of bounds for TransientVector of length"),r(d.l)].join(""));}throw Error("assoc! after persistent!");};
f.dc=function(b,a,c){if("number"===typeof a)return Rb(this,a,c);throw Error("TransientVector's key for assoc! must be a number.");};
f.Fb=function(b,a){if(this.root.V){if(32>this.l-Lf(this))this.Fa[this.l&31]=a;else{var c=new If(this.root.V,this.Fa),d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];d[0]=a;this.Fa=d;if(this.l>>>5>1<<this.shift){var d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],e=this.shift+
5;d[0]=this.root;d[1]=Mf(this.root.V,this.shift,c);this.root=new If(this.root.V,d);this.shift=e}else this.root=ig(this,this.shift,this.root,c)}this.l+=1;return this}throw Error("conj! after persistent!");};f.Gb=function(){if(this.root.V){this.root.V=null;var b=this.l-Lf(this),a=Array(b);qd(this.Fa,0,a,0,b);return new V(null,this.l,this.shift,this.root,a,null)}throw Error("persistent! called twice");};function jg(b,a,c,d){this.o=b;this.Na=a;this.hb=c;this.h=d;this.r=0;this.k=31850572}f=jg.prototype;
f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.o};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(wc,this.o)};f.ca=function(){return C(this.Na)};f.ya=function(){var b=D(this.Na);return b?new jg(this.o,b,this.hb,null):null==this.hb?Qa(this):new jg(this.o,this.hb,null,null)};f.B=function(){return this};f.D=function(b,a){return new jg(a,this.Na,this.hb,this.h)};
f.H=function(b,a){return Rc(a,this)};jg.prototype[Ia]=function(){return yc(this)};function kg(b,a,c,d,e){this.o=b;this.count=a;this.Na=c;this.hb=d;this.h=e;this.k=31858766;this.r=8192}f=kg.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.o};f.I=function(){return this.count};f.ob=function(){return C(this.Na)};
f.pb=function(){if(q(this.Na)){var b=D(this.Na);return b?new kg(this.o,this.count-1,b,this.hb,null):new kg(this.o,this.count-1,A(this.hb),Wc,null)}return this};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(lg,this.o)};f.ca=function(){return C(this.Na)};f.ya=function(){return vc(A(this))};f.B=function(){var b=A(this.hb),a=this.Na;return q(q(a)?a:b)?new jg(null,this.Na,A(b),null):null};
f.D=function(b,a){return new kg(a,this.count,this.Na,this.hb,this.h)};f.H=function(b,a){var c;q(this.Na)?(c=this.hb,c=new kg(this.o,this.count+1,this.Na,J.b(q(c)?c:Wc,a),null)):c=new kg(this.o,this.count+1,J.b(this.Na,a),Wc,null);return c};var lg=new kg(null,0,null,Wc,Bc);kg.prototype[Ia]=function(){return yc(this)};function mg(){this.r=0;this.k=2097152}mg.prototype.p=function(){return!1};mg.prototype.equiv=function(b){return this.p(null,b)};var ng=new mg;
function og(b,a){return ud(md(a)?K(b)===K(a)?Ne(Ld,gf.b(function(b){return F.b($c(a,C(b),ng),Tc(b))},b)):null:null)}function pg(b){this.Q=b}pg.prototype.next=function(){if(null!=this.Q){var b=C(this.Q),a=L(b,0),b=L(b,1);this.Q=D(this.Q);return{done:!1,value:[a,b]}}return{done:!0,value:null}};function qg(b){return new pg(A(b))}function rg(b){this.Q=b}rg.prototype.next=function(){if(null!=this.Q){var b=C(this.Q);this.Q=D(this.Q);return{done:!1,value:[b,b]}}return{done:!0,value:null}};
function sg(b,a){var c;if(a instanceof R)a:{c=b.length;for(var d=a.L,e=0;;){if(c<=e){c=-1;break a}var g=b[e];if(g instanceof R&&d===g.L){c=e;break a}e+=2}}else if(c="string"==typeof a,q(q(c)?c:"number"===typeof a))a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(a===b[d]){c=d;break a}d+=2}else if(a instanceof z)a:for(c=b.length,d=a.ib,e=0;;){if(c<=e){c=-1;break a}g=b[e];if(g instanceof z&&d===g.ib){c=e;break a}e+=2}else if(null==a)a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(null==b[d]){c=d;break a}d+=
2}else a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(F.b(a,b[d])){c=d;break a}d+=2}return c}function tg(b,a,c){this.i=b;this.J=a;this.Ga=c;this.r=0;this.k=32374990}f=tg.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.Ga};f.ka=function(){return this.J<this.i.length-2?new tg(this.i,this.J+2,this.Ga):null};f.I=function(){return(this.i.length-this.J)/2};f.A=function(){return Ac(this)};f.p=function(b,a){return Qc(this,a)};
f.Y=function(){return ed(wc,this.Ga)};f.ea=function(b,a){return Hd(a,this)};f.fa=function(b,a,c){return Id(a,c,this)};f.ca=function(){return new V(null,2,5,W,[this.i[this.J],this.i[this.J+1]],null)};f.ya=function(){return this.J<this.i.length-2?new tg(this.i,this.J+2,this.Ga):wc};f.B=function(){return this};f.D=function(b,a){return new tg(this.i,this.J,a)};f.H=function(b,a){return Rc(a,this)};tg.prototype[Ia]=function(){return yc(this)};function ug(b,a,c){this.i=b;this.J=a;this.l=c}
ug.prototype.tc=function(){return this.J<this.l};ug.prototype.next=function(){var b=new V(null,2,5,W,[this.i[this.J],this.i[this.J+1]],null);this.J+=2;return b};function l(b,a,c,d){this.o=b;this.l=a;this.i=c;this.h=d;this.k=16647951;this.r=8196}f=l.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.keys=function(){return yc(wg.c?wg.c(this):wg.call(null,this))};f.entries=function(){return qg(A(this))};
f.values=function(){return yc(xg.c?xg.c(this):xg.call(null,this))};f.has=function(b){return vd(this,b)};f.get=function(b,a){return this.q(null,b,a)};f.forEach=function(b){for(var a=A(this),c=null,d=0,e=0;;)if(e<d){var g=c.M(null,e),h=L(g,0),g=L(g,1);b.b?b.b(g,h):b.call(null,g,h);e+=1}else if(a=A(a))od(a)?(c=Ub(a),a=Vb(a),h=c,d=K(c),c=h):(c=C(a),h=L(c,0),c=g=L(c,1),b.b?b.b(c,h):b.call(null,c,h),a=D(a),c=null,d=0),e=0;else return null};f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){b=sg(this.i,a);return-1===b?c:this.i[b+1]};f.Ub=function(b,a,c){b=this.i.length;for(var d=0;;)if(d<b){var e=this.i[d],g=this.i[d+1];c=a.f?a.f(c,e,g):a.call(null,c,e,g);if(Gc(c))return a=c,G.c?G.c(a):G.call(null,a);d+=2}else return c};f.Yb=function(){return new ug(this.i,0,2*this.l)};f.C=function(){return this.o};f.I=function(){return this.l};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Cc(this)};
f.p=function(b,a){if(a&&(a.k&1024||a.pd)){var c=this.i.length;if(this.l===a.I(null))for(var d=0;;)if(d<c){var e=a.q(null,this.i[d],rd);if(e!==rd)if(F.b(this.i[d+1],e))d+=2;else return!1;else return!1}else return!0;else return!1}else return og(this,a)};f.Tb=function(){return new yg({},this.i.length,Ja(this.i))};f.Y=function(){return xb(Q,this.o)};f.ea=function(b,a){return Hd(a,this)};f.fa=function(b,a,c){return Id(a,c,this)};
f.N=function(b,a){if(0<=sg(this.i,a)){var c=this.i.length,d=c-2;if(0===d)return Qa(this);for(var d=Array(d),e=0,g=0;;){if(e>=c)return new l(this.o,this.l-1,d,null);F.b(a,this.i[e])||(d[g]=this.i[e],d[g+1]=this.i[e+1],g+=2);e+=2}}else return this};
f.K=function(b,a,c){b=sg(this.i,a);if(-1===b){if(this.l<xd){b=this.i;for(var d=b.length,e=Array(d+2),g=0;;)if(g<d)e[g]=b[g],g+=1;else break;e[d]=a;e[d+1]=c;return new l(this.o,this.l+1,e,null)}return xb(gb(tf.b(zg,this),a,c),this.o)}if(c===this.i[b+1])return this;a=Ja(this.i);a[b+1]=c;return new l(this.o,this.l,a,null)};f.Eb=function(b,a){return-1!==sg(this.i,a)};f.B=function(){var b=this.i;return 0<=b.length-2?new tg(b,0,null):null};f.D=function(b,a){return new l(a,this.l,this.i,this.h)};
f.H=function(b,a){if(nd(a))return gb(this,w.b(a,0),w.b(a,1));for(var c=this,d=A(a);;){if(null==d)return c;var e=C(d);if(nd(e))c=gb(c,w.b(e,0),w.b(e,1)),d=D(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.s(null,b);case 3:return this.q(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.s(null,b)};b.f=function(a,b,d){return this.q(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return this.s(null,b)};f.b=function(b,a){return this.q(null,b,a)};var Q=new l(null,0,[],Dc),xd=8;
function Bg(b){for(var a=[],c=0;;)if(c<b.length){var d=b[c],e=b[c+1];-1===sg(a,d)&&(a.push(d),a.push(e));c+=2}else break;return new l(null,a.length/2,a,null)}l.prototype[Ia]=function(){return yc(this)};function yg(b,a,c){this.Kb=b;this.Da=a;this.i=c;this.r=56;this.k=258}f=yg.prototype;f.Ec=function(b,a){if(q(this.Kb)){var c=sg(this.i,a);0<=c&&(this.i[c]=this.i[this.Da-2],this.i[c+1]=this.i[this.Da-1],c=this.i,c.pop(),c.pop(),this.Da-=2);return this}throw Error("dissoc! after persistent!");};
f.dc=function(b,a,c){var d=this;if(q(d.Kb)){b=sg(this.i,a);if(-1===b)return d.Da+2<=2*xd?(d.Da+=2,d.i.push(a),d.i.push(c),this):Ee.f(function(){var a=d.Da,b=d.i;return Cg.b?Cg.b(a,b):Cg.call(null,a,b)}(),a,c);c!==d.i[b+1]&&(d.i[b+1]=c);return this}throw Error("assoc! after persistent!");};
f.Fb=function(b,a){if(q(this.Kb)){if(a?a.k&2048||a.qd||(a.k?0:Da(jb,a)):Da(jb,a))return Pb(this,de.c?de.c(a):de.call(null,a),ee.c?ee.c(a):ee.call(null,a));for(var c=A(a),d=this;;){var e=C(c);if(q(e))var g=e,c=D(c),d=Pb(d,function(){var a=g;return de.c?de.c(a):de.call(null,a)}(),function(){var a=g;return ee.c?ee.c(a):ee.call(null,a)}());else return d}}else throw Error("conj! after persistent!");};
f.Gb=function(){if(q(this.Kb))return this.Kb=!1,new l(null,Yd(this.Da,2),this.i,null);throw Error("persistent! called twice");};f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){if(q(this.Kb))return b=sg(this.i,a),-1===b?c:this.i[b+1];throw Error("lookup after persistent!");};f.I=function(){if(q(this.Kb))return Yd(this.Da,2);throw Error("count after persistent!");};function Cg(b,a){for(var c=Mb(zg),d=0;;)if(d<b)c=Ee.f(c,a[d],a[d+1]),d+=2;else return c}function Dg(){this.val=!1}
function Eg(b,a){return b===a?!0:T(b,a)?!0:F.b(b,a)}function Fg(b,a,c){b=Ja(b);b[a]=c;return b}function Gg(b,a){var c=Array(b.length-2);qd(b,0,c,0,2*a);qd(b,2*(a+1),c,2*a,c.length-2*a);return c}function Hg(b,a,c,d){b=b.rb(a);b.i[c]=d;return b}function Ig(b,a,c){for(var d=b.length,e=0,g=c;;)if(e<d){c=b[e];if(null!=c){var h=b[e+1];c=a.f?a.f(g,c,h):a.call(null,g,c,h)}else c=b[e+1],c=null!=c?c.Nb(a,g):g;if(Gc(c))return b=c,G.c?G.c(b):G.call(null,b);e+=2;g=c}else return g}
function Jg(b,a,c){this.V=b;this.S=a;this.i=c}f=Jg.prototype;f.rb=function(b){if(b===this.V)return this;var a=Zd(this.S),c=Array(0>a?4:2*(a+1));qd(this.i,0,c,0,2*a);return new Jg(b,this.S,c)};f.kc=function(b,a,c,d,e){var g=1<<(c>>>a&31);if(0===(this.S&g))return this;var h=Zd(this.S&g-1),k=this.i[2*h],m=this.i[2*h+1];return null==k?(a=m.kc(b,a+5,c,d,e),a===m?this:null!=a?Hg(this,b,2*h+1,a):this.S===g?null:Kg(this,b,g,h)):Eg(d,k)?(e[0]=!0,Kg(this,b,g,h)):this};
function Kg(b,a,c,d){if(b.S===c)return null;b=b.rb(a);a=b.i;var e=a.length;b.S^=c;qd(a,2*(d+1),a,2*d,e-2*(d+1));a[e-2]=null;a[e-1]=null;return b}f.ic=function(){var b=this.i;return Lg?Lg(b):Mg.call(null,b)};f.Nb=function(b,a){return Ig(this.i,b,a)};f.zb=function(b,a,c,d){var e=1<<(a>>>b&31);if(0===(this.S&e))return d;var g=Zd(this.S&e-1),e=this.i[2*g],g=this.i[2*g+1];return null==e?g.zb(b+5,a,c,d):Eg(c,e)?g:d};
f.Za=function(b,a,c,d,e,g){var h=1<<(c>>>a&31),k=Zd(this.S&h-1);if(0===(this.S&h)){var m=Zd(this.S);if(2*m<this.i.length){b=this.rb(b);a=b.i;g.val=!0;a:for(c=2*(m-k),g=2*k+(c-1),m=2*(k+1)+(c-1);;){if(0===c)break a;a[m]=a[g];--m;--c;--g}a[2*k]=d;a[2*k+1]=e;b.S|=h;return b}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>a&31]=Ng.Za(b,a+5,c,d,e,g);for(e=d=0;;)if(32>d)0!==
(this.S>>>d&1)&&(k[d]=null!=this.i[e]?Ng.Za(b,a+5,nc(this.i[e]),this.i[e],this.i[e+1],g):this.i[e+1],e+=2),d+=1;else break;return new Og(b,m+1,k)}a=Array(2*(m+4));qd(this.i,0,a,0,2*k);a[2*k]=d;a[2*k+1]=e;qd(this.i,2*k,a,2*(k+1),2*(m-k));g.val=!0;b=this.rb(b);b.i=a;b.S|=h;return b}m=this.i[2*k];h=this.i[2*k+1];if(null==m)return m=h.Za(b,a+5,c,d,e,g),m===h?this:Hg(this,b,2*k+1,m);if(Eg(d,m))return e===h?this:Hg(this,b,2*k+1,e);g.val=!0;g=a+5;d=Pg?Pg(b,g,m,h,c,d,e):Qg.call(null,b,g,m,h,c,d,e);e=2*k;
k=2*k+1;b=this.rb(b);b.i[e]=null;b.i[k]=d;return b};
f.Ya=function(b,a,c,d,e){var g=1<<(a>>>b&31),h=Zd(this.S&g-1);if(0===(this.S&g)){var k=Zd(this.S);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[a>>>b&31]=Ng.Ya(b+5,a,c,d,e);for(d=c=0;;)if(32>c)0!==(this.S>>>c&1)&&(h[c]=null!=this.i[d]?Ng.Ya(b+5,nc(this.i[d]),this.i[d],this.i[d+1],e):this.i[d+1],d+=2),c+=1;else break;return new Og(null,k+1,h)}b=Array(2*(k+1));qd(this.i,
0,b,0,2*h);b[2*h]=c;b[2*h+1]=d;qd(this.i,2*h,b,2*(h+1),2*(k-h));e.val=!0;return new Jg(null,this.S|g,b)}var m=this.i[2*h],g=this.i[2*h+1];if(null==m)return k=g.Ya(b+5,a,c,d,e),k===g?this:new Jg(null,this.S,Fg(this.i,2*h+1,k));if(Eg(c,m))return d===g?this:new Jg(null,this.S,Fg(this.i,2*h+1,d));e.val=!0;e=this.S;k=this.i;b+=5;b=Rg?Rg(b,m,g,a,c,d):Qg.call(null,b,m,g,a,c,d);c=2*h;h=2*h+1;d=Ja(k);d[c]=null;d[h]=b;return new Jg(null,e,d)};
f.jc=function(b,a,c){var d=1<<(a>>>b&31);if(0===(this.S&d))return this;var e=Zd(this.S&d-1),g=this.i[2*e],h=this.i[2*e+1];return null==g?(b=h.jc(b+5,a,c),b===h?this:null!=b?new Jg(null,this.S,Fg(this.i,2*e+1,b)):this.S===d?null:new Jg(null,this.S^d,Gg(this.i,e))):Eg(c,g)?new Jg(null,this.S^d,Gg(this.i,e)):this};var Ng=new Jg(null,0,[]);
function Sg(b,a,c){var d=b.i,e=d.length;b=Array(2*(b.l-1));for(var g=0,h=1,k=0;;)if(g<e)g!==c&&null!=d[g]&&(b[h]=d[g],h+=2,k|=1<<g),g+=1;else return new Jg(a,k,b)}function Og(b,a,c){this.V=b;this.l=a;this.i=c}f=Og.prototype;f.rb=function(b){return b===this.V?this:new Og(b,this.l,Ja(this.i))};
f.kc=function(b,a,c,d,e){var g=c>>>a&31,h=this.i[g];if(null==h)return this;a=h.kc(b,a+5,c,d,e);if(a===h)return this;if(null==a){if(8>=this.l)return Sg(this,b,g);b=Hg(this,b,g,a);--b.l;return b}return Hg(this,b,g,a)};f.ic=function(){var b=this.i;return Tg?Tg(b):Ug.call(null,b)};f.Nb=function(b,a){for(var c=this.i.length,d=0,e=a;;)if(d<c){var g=this.i[d];if(null!=g&&(e=g.Nb(b,e),Gc(e)))return c=e,G.c?G.c(c):G.call(null,c);d+=1}else return e};
f.zb=function(b,a,c,d){var e=this.i[a>>>b&31];return null!=e?e.zb(b+5,a,c,d):d};f.Za=function(b,a,c,d,e,g){var h=c>>>a&31,k=this.i[h];if(null==k)return b=Hg(this,b,h,Ng.Za(b,a+5,c,d,e,g)),b.l+=1,b;a=k.Za(b,a+5,c,d,e,g);return a===k?this:Hg(this,b,h,a)};f.Ya=function(b,a,c,d,e){var g=a>>>b&31,h=this.i[g];if(null==h)return new Og(null,this.l+1,Fg(this.i,g,Ng.Ya(b+5,a,c,d,e)));b=h.Ya(b+5,a,c,d,e);return b===h?this:new Og(null,this.l,Fg(this.i,g,b))};
f.jc=function(b,a,c){var d=a>>>b&31,e=this.i[d];return null!=e?(b=e.jc(b+5,a,c),b===e?this:null==b?8>=this.l?Sg(this,null,d):new Og(null,this.l-1,Fg(this.i,d,b)):new Og(null,this.l,Fg(this.i,d,b))):this};function Vg(b,a,c){a*=2;for(var d=0;;)if(d<a){if(Eg(c,b[d]))return d;d+=2}else return-1}function Wg(b,a,c,d){this.V=b;this.qb=a;this.l=c;this.i=d}f=Wg.prototype;f.rb=function(b){if(b===this.V)return this;var a=Array(2*(this.l+1));qd(this.i,0,a,0,2*this.l);return new Wg(b,this.qb,this.l,a)};
f.kc=function(b,a,c,d,e){a=Vg(this.i,this.l,d);if(-1===a)return this;e[0]=!0;if(1===this.l)return null;b=this.rb(b);e=b.i;e[a]=e[2*this.l-2];e[a+1]=e[2*this.l-1];e[2*this.l-1]=null;e[2*this.l-2]=null;--b.l;return b};f.ic=function(){var b=this.i;return Lg?Lg(b):Mg.call(null,b)};f.Nb=function(b,a){return Ig(this.i,b,a)};f.zb=function(b,a,c,d){b=Vg(this.i,this.l,c);return 0>b?d:Eg(c,this.i[b])?this.i[b+1]:d};
f.Za=function(b,a,c,d,e,g){if(c===this.qb){a=Vg(this.i,this.l,d);if(-1===a){if(this.i.length>2*this.l)return a=2*this.l,c=2*this.l+1,b=this.rb(b),b.i[a]=d,b.i[c]=e,g.val=!0,b.l+=1,b;c=this.i.length;a=Array(c+2);qd(this.i,0,a,0,c);a[c]=d;a[c+1]=e;g.val=!0;d=this.l+1;b===this.V?(this.i=a,this.l=d,b=this):b=new Wg(this.V,this.qb,d,a);return b}return this.i[a+1]===e?this:Hg(this,b,a+1,e)}return(new Jg(b,1<<(this.qb>>>a&31),[null,this,null,null])).Za(b,a,c,d,e,g)};
f.Ya=function(b,a,c,d,e){return a===this.qb?(b=Vg(this.i,this.l,c),-1===b?(b=2*this.l,a=Array(b+2),qd(this.i,0,a,0,b),a[b]=c,a[b+1]=d,e.val=!0,new Wg(null,this.qb,this.l+1,a)):F.b(this.i[b],d)?this:new Wg(null,this.qb,this.l,Fg(this.i,b+1,d))):(new Jg(null,1<<(this.qb>>>b&31),[null,this])).Ya(b,a,c,d,e)};f.jc=function(b,a,c){b=Vg(this.i,this.l,c);return-1===b?this:1===this.l?null:new Wg(null,this.qb,this.l-1,Gg(this.i,Yd(b,2)))};
function Qg(){switch(arguments.length){case 6:return Rg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Pg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}}function Rg(b,a,c,d,e,g){var h=nc(a);if(h===d)return new Wg(null,h,2,[a,c,e,g]);var k=new Dg;return Ng.Ya(b,h,a,c,k).Ya(b,d,e,g,k)}
function Pg(b,a,c,d,e,g,h){var k=nc(c);if(k===e)return new Wg(null,k,2,[c,d,g,h]);var m=new Dg;return Ng.Za(b,a,k,c,d,m).Za(b,a,e,g,h,m)}function Xg(b,a,c,d,e){this.o=b;this.nodes=a;this.J=c;this.Q=d;this.h=e;this.r=0;this.k=32374860}f=Xg.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.o};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(wc,this.o)};
f.ea=function(b,a){return Hd(a,this)};f.fa=function(b,a,c){return Id(a,c,this)};f.ca=function(){return null==this.Q?new V(null,2,5,W,[this.nodes[this.J],this.nodes[this.J+1]],null):C(this.Q)};f.ya=function(){if(null==this.Q){var b=this.nodes,a=this.J+2;return Yg?Yg(b,a,null):Mg.call(null,b,a,null)}var b=this.nodes,a=this.J,c=D(this.Q);return Yg?Yg(b,a,c):Mg.call(null,b,a,c)};f.B=function(){return this};f.D=function(b,a){return new Xg(a,this.nodes,this.J,this.Q,this.h)};
f.H=function(b,a){return Rc(a,this)};Xg.prototype[Ia]=function(){return yc(this)};function Mg(){switch(arguments.length){case 1:return Lg(arguments[0]);case 3:return Yg(arguments[0],arguments[1],arguments[2]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}}function Lg(b){return Yg(b,0,null)}
function Yg(b,a,c){if(null==c)for(c=b.length;;)if(a<c){if(null!=b[a])return new Xg(null,b,a,null,null);var d=b[a+1];if(q(d)&&(d=d.ic(),q(d)))return new Xg(null,b,a+2,d,null);a+=2}else return null;else return new Xg(null,b,a,c,null)}function Zg(b,a,c,d,e){this.o=b;this.nodes=a;this.J=c;this.Q=d;this.h=e;this.r=0;this.k=32374860}f=Zg.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.o};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(wc,this.o)};f.ea=function(b,a){return Hd(a,this)};f.fa=function(b,a,c){return Id(a,c,this)};f.ca=function(){return C(this.Q)};f.ya=function(){var b=this.nodes,a=this.J,c=D(this.Q);return $g?$g(null,b,a,c):Ug.call(null,null,b,a,c)};f.B=function(){return this};f.D=function(b,a){return new Zg(a,this.nodes,this.J,this.Q,this.h)};f.H=function(b,a){return Rc(a,this)};
Zg.prototype[Ia]=function(){return yc(this)};function Ug(){switch(arguments.length){case 1:return Tg(arguments[0]);case 4:return $g(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}}function Tg(b){return $g(null,b,0,null)}function $g(b,a,c,d){if(null==d)for(d=a.length;;)if(c<d){var e=a[c];if(q(e)&&(e=e.ic(),q(e)))return new Zg(b,a,c+1,e,null);c+=1}else return null;else return new Zg(b,a,c,d,null)}
function ah(b,a,c,d,e,g){this.o=b;this.l=a;this.root=c;this.za=d;this.Ka=e;this.h=g;this.k=16123663;this.r=8196}f=ah.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.keys=function(){return yc(wg.c?wg.c(this):wg.call(null,this))};f.entries=function(){return qg(A(this))};f.values=function(){return yc(xg.c?xg.c(this):xg.call(null,this))};f.has=function(b){return vd(this,b)};f.get=function(b,a){return this.q(null,b,a)};
f.forEach=function(b){for(var a=A(this),c=null,d=0,e=0;;)if(e<d){var g=c.M(null,e),h=L(g,0),g=L(g,1);b.b?b.b(g,h):b.call(null,g,h);e+=1}else if(a=A(a))od(a)?(c=Ub(a),a=Vb(a),h=c,d=K(c),c=h):(c=C(a),h=L(c,0),c=g=L(c,1),b.b?b.b(c,h):b.call(null,c,h),a=D(a),c=null,d=0),e=0;else return null};f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){return null==a?this.za?this.Ka:c:null==this.root?c:this.root.zb(0,nc(a),a,c)};
f.Ub=function(b,a,c){this.za&&(b=this.Ka,c=a.f?a.f(c,null,b):a.call(null,c,null,b));return Gc(c)?G.c?G.c(c):G.call(null,c):null!=this.root?this.root.Nb(a,c):c};f.C=function(){return this.o};f.I=function(){return this.l};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Cc(this)};f.p=function(b,a){return og(this,a)};f.Tb=function(){return new bh({},this.root,this.l,this.za,this.Ka)};f.Y=function(){return xb(zg,this.o)};
f.N=function(b,a){if(null==a)return this.za?new ah(this.o,this.l-1,this.root,!1,null,null):this;if(null==this.root)return this;var c=this.root.jc(0,nc(a),a);return c===this.root?this:new ah(this.o,this.l-1,c,this.za,this.Ka,null)};f.K=function(b,a,c){if(null==a)return this.za&&c===this.Ka?this:new ah(this.o,this.za?this.l:this.l+1,this.root,!0,c,null);b=new Dg;a=(null==this.root?Ng:this.root).Ya(0,nc(a),a,c,b);return a===this.root?this:new ah(this.o,b.val?this.l+1:this.l,a,this.za,this.Ka,null)};
f.Eb=function(b,a){return null==a?this.za:null==this.root?!1:this.root.zb(0,nc(a),a,rd)!==rd};f.B=function(){if(0<this.l){var b=null!=this.root?this.root.ic():null;return this.za?Rc(new V(null,2,5,W,[null,this.Ka],null),b):b}return null};f.D=function(b,a){return new ah(a,this.l,this.root,this.za,this.Ka,this.h)};
f.H=function(b,a){if(nd(a))return gb(this,w.b(a,0),w.b(a,1));for(var c=this,d=A(a);;){if(null==d)return c;var e=C(d);if(nd(e))c=gb(c,w.b(e,0),w.b(e,1)),d=D(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.s(null,b);case 3:return this.q(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.s(null,b)};b.f=function(a,b,d){return this.q(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return this.s(null,b)};f.b=function(b,a){return this.q(null,b,a)};var zg=new ah(null,0,null,!1,null,Dc);
function ad(b,a){for(var c=b.length,d=0,e=Mb(zg);;)if(d<c)var g=d+1,e=e.dc(null,b[d],a[d]),d=g;else return Ob(e)}ah.prototype[Ia]=function(){return yc(this)};function bh(b,a,c,d,e){this.V=b;this.root=a;this.count=c;this.za=d;this.Ka=e;this.r=56;this.k=258}f=bh.prototype;
f.Ec=function(b,a){if(this.V)if(null==a)this.za&&(this.za=!1,this.Ka=null,--this.count);else{if(null!=this.root){var c=new Dg,d=this.root.kc(this.V,0,nc(a),a,c);d!==this.root&&(this.root=d);q(c[0])&&--this.count}}else throw Error("dissoc! after persistent!");return this};f.dc=function(b,a,c){return ch(this,a,c)};f.Fb=function(b,a){return dh(this,a)};f.Gb=function(){var b;if(this.V)this.V=null,b=new ah(null,this.count,this.root,this.za,this.Ka,null);else throw Error("persistent! called twice");return b};
f.s=function(b,a){return null==a?this.za?this.Ka:null:null==this.root?null:this.root.zb(0,nc(a),a)};f.q=function(b,a,c){return null==a?this.za?this.Ka:c:null==this.root?c:this.root.zb(0,nc(a),a,c)};f.I=function(){if(this.V)return this.count;throw Error("count after persistent!");};
function dh(b,a){if(b.V){if(a?a.k&2048||a.qd||(a.k?0:Da(jb,a)):Da(jb,a))return ch(b,de.c?de.c(a):de.call(null,a),ee.c?ee.c(a):ee.call(null,a));for(var c=A(a),d=b;;){var e=C(c);if(q(e))var g=e,c=D(c),d=ch(d,function(){var a=g;return de.c?de.c(a):de.call(null,a)}(),function(){var a=g;return ee.c?ee.c(a):ee.call(null,a)}());else return d}}else throw Error("conj! after persistent");}
function ch(b,a,c){if(b.V){if(null==a)b.Ka!==c&&(b.Ka=c),b.za||(b.count+=1,b.za=!0);else{var d=new Dg;a=(null==b.root?Ng:b.root).Za(b.V,0,nc(a),a,c,d);a!==b.root&&(b.root=a);d.val&&(b.count+=1)}return b}throw Error("assoc! after persistent!");}function eh(b,a,c){for(var d=a;;)if(null!=b)a=c?b.left:b.right,d=J.b(d,b),b=a;else return d}function fh(b,a,c,d,e){this.o=b;this.stack=a;this.oc=c;this.l=d;this.h=e;this.r=0;this.k=32374862}f=fh.prototype;f.toString=function(){return ec(this)};
f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.o};f.I=function(){return 0>this.l?K(D(this))+1:this.l};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(wc,this.o)};f.ea=function(b,a){return Hd(a,this)};f.fa=function(b,a,c){return Id(a,c,this)};f.ca=function(){return gd(this.stack)};
f.ya=function(){var b=C(this.stack),b=eh(this.oc?b.right:b.left,D(this.stack),this.oc);return null!=b?new fh(null,b,this.oc,this.l-1,null):wc};f.B=function(){return this};f.D=function(b,a){return new fh(a,this.stack,this.oc,this.l,this.h)};f.H=function(b,a){return Rc(a,this)};fh.prototype[Ia]=function(){return yc(this)};
function gh(b,a,c,d){return c instanceof hh?c.left instanceof hh?new hh(c.key,c.val,c.left.nb(),new ih(b,a,c.right,d,null),null):c.right instanceof hh?new hh(c.right.key,c.right.val,new ih(c.key,c.val,c.left,c.right.left,null),new ih(b,a,c.right.right,d,null),null):new ih(b,a,c,d,null):new ih(b,a,c,d,null)}
function jh(b,a,c,d){return d instanceof hh?d.right instanceof hh?new hh(d.key,d.val,new ih(b,a,c,d.left,null),d.right.nb(),null):d.left instanceof hh?new hh(d.left.key,d.left.val,new ih(b,a,c,d.left.left,null),new ih(d.key,d.val,d.left.right,d.right,null),null):new ih(b,a,c,d,null):new ih(b,a,c,d,null)}
function kh(b,a,c,d){if(c instanceof hh)return new hh(b,a,c.nb(),d,null);if(d instanceof ih)return jh(b,a,c,d.mc());if(d instanceof hh&&d.left instanceof ih)return new hh(d.left.key,d.left.val,new ih(b,a,c,d.left.left,null),jh(d.key,d.val,d.left.right,d.right.mc()),null);throw Error("red-black tree invariant violation");}
var lh=function lh(a,c,d){d=null!=a.left?lh(a.left,c,d):d;if(Gc(d))return G.c?G.c(d):G.call(null,d);var e=a.key,g=a.val;d=c.f?c.f(d,e,g):c.call(null,d,e,g);if(Gc(d))return G.c?G.c(d):G.call(null,d);a=null!=a.right?lh(a.right,c,d):d;return Gc(a)?G.c?G.c(a):G.call(null,a):a};function ih(b,a,c,d,e){this.key=b;this.val=a;this.left=c;this.right=d;this.h=e;this.r=0;this.k=32402207}f=ih.prototype;f.Oc=function(b){return b.Qc(this)};f.mc=function(){return new hh(this.key,this.val,this.left,this.right,null)};
f.nb=function(){return this};f.Nc=function(b){return b.Pc(this)};f.replace=function(b,a,c,d){return new ih(b,a,c,d,null)};f.Pc=function(b){return new ih(b.key,b.val,this,b.right,null)};f.Qc=function(b){return new ih(b.key,b.val,b.left,this,null)};f.Nb=function(b,a){return lh(this,b,a)};f.s=function(b,a){return w.f(this,a,null)};f.q=function(b,a,c){return w.f(this,a,c)};f.M=function(b,a){return 0===a?this.key:1===a?this.val:null};f.Ha=function(b,a,c){return 0===a?this.key:1===a?this.val:c};
f.Hb=function(b,a,c){return(new V(null,2,5,W,[this.key,this.val],null)).Hb(null,a,c)};f.C=function(){return null};f.I=function(){return 2};f.Zb=function(){return this.key};f.$b=function(){return this.val};f.ob=function(){return this.val};f.pb=function(){return new V(null,1,5,W,[this.key],null)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return Wc};f.ea=function(b,a){return Hc(this,a)};f.fa=function(b,a,c){return Ic(this,a,c)};
f.K=function(b,a,c){return O.f(new V(null,2,5,W,[this.key,this.val],null),a,c)};f.B=function(){return Ta(Ta(wc,this.val),this.key)};f.D=function(b,a){return ed(new V(null,2,5,W,[this.key,this.val],null),a)};f.H=function(b,a){return new V(null,3,5,W,[this.key,this.val,a],null)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.s(null,b);case 3:return this.q(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.s(null,b)};b.f=function(a,b,d){return this.q(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return this.s(null,b)};f.b=function(b,a){return this.q(null,b,a)};ih.prototype[Ia]=function(){return yc(this)};
function hh(b,a,c,d,e){this.key=b;this.val=a;this.left=c;this.right=d;this.h=e;this.r=0;this.k=32402207}f=hh.prototype;f.Oc=function(b){return new hh(this.key,this.val,this.left,b,null)};f.mc=function(){throw Error("red-black tree invariant violation");};f.nb=function(){return new ih(this.key,this.val,this.left,this.right,null)};f.Nc=function(b){return new hh(this.key,this.val,b,this.right,null)};f.replace=function(b,a,c,d){return new hh(b,a,c,d,null)};
f.Pc=function(b){return this.left instanceof hh?new hh(this.key,this.val,this.left.nb(),new ih(b.key,b.val,this.right,b.right,null),null):this.right instanceof hh?new hh(this.right.key,this.right.val,new ih(this.key,this.val,this.left,this.right.left,null),new ih(b.key,b.val,this.right.right,b.right,null),null):new ih(b.key,b.val,this,b.right,null)};
f.Qc=function(b){return this.right instanceof hh?new hh(this.key,this.val,new ih(b.key,b.val,b.left,this.left,null),this.right.nb(),null):this.left instanceof hh?new hh(this.left.key,this.left.val,new ih(b.key,b.val,b.left,this.left.left,null),new ih(this.key,this.val,this.left.right,this.right,null),null):new ih(b.key,b.val,b.left,this,null)};f.Nb=function(b,a){return lh(this,b,a)};f.s=function(b,a){return w.f(this,a,null)};f.q=function(b,a,c){return w.f(this,a,c)};
f.M=function(b,a){return 0===a?this.key:1===a?this.val:null};f.Ha=function(b,a,c){return 0===a?this.key:1===a?this.val:c};f.Hb=function(b,a,c){return(new V(null,2,5,W,[this.key,this.val],null)).Hb(null,a,c)};f.C=function(){return null};f.I=function(){return 2};f.Zb=function(){return this.key};f.$b=function(){return this.val};f.ob=function(){return this.val};f.pb=function(){return new V(null,1,5,W,[this.key],null)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};
f.p=function(b,a){return Qc(this,a)};f.Y=function(){return Wc};f.ea=function(b,a){return Hc(this,a)};f.fa=function(b,a,c){return Ic(this,a,c)};f.K=function(b,a,c){return O.f(new V(null,2,5,W,[this.key,this.val],null),a,c)};f.B=function(){return Ta(Ta(wc,this.val),this.key)};f.D=function(b,a){return ed(new V(null,2,5,W,[this.key,this.val],null),a)};f.H=function(b,a){return new V(null,3,5,W,[this.key,this.val,a],null)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.s(null,b);case 3:return this.q(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.s(null,b)};b.f=function(a,b,d){return this.q(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return this.s(null,b)};f.b=function(b,a){return this.q(null,b,a)};hh.prototype[Ia]=function(){return yc(this)};
var mh=function mh(a,c,d,e,g){if(null==c)return new hh(d,e,null,null,null);var h;h=c.key;h=a.b?a.b(d,h):a.call(null,d,h);if(0===h)return g[0]=c,null;if(0>h)return a=mh(a,c.left,d,e,g),null!=a?c.Nc(a):null;a=mh(a,c.right,d,e,g);return null!=a?c.Oc(a):null},nh=function nh(a,c){if(null==a)return c;if(null==c)return a;if(a instanceof hh){if(c instanceof hh){var d=nh(a.right,c.left);return d instanceof hh?new hh(d.key,d.val,new hh(a.key,a.val,a.left,d.left,null),new hh(c.key,c.val,d.right,c.right,null),
null):new hh(a.key,a.val,a.left,new hh(c.key,c.val,d,c.right,null),null)}return new hh(a.key,a.val,a.left,nh(a.right,c),null)}if(c instanceof hh)return new hh(c.key,c.val,nh(a,c.left),c.right,null);d=nh(a.right,c.left);return d instanceof hh?new hh(d.key,d.val,new ih(a.key,a.val,a.left,d.left,null),new ih(c.key,c.val,d.right,c.right,null),null):kh(a.key,a.val,a.left,new ih(c.key,c.val,d,c.right,null))},oh=function oh(a,c,d,e){if(null!=c){var g;g=c.key;g=a.b?a.b(d,g):a.call(null,d,g);if(0===g)return e[0]=
c,nh(c.left,c.right);if(0>g)return a=oh(a,c.left,d,e),null!=a||null!=e[0]?c.left instanceof ih?kh(c.key,c.val,a,c.right):new hh(c.key,c.val,a,c.right,null):null;a=oh(a,c.right,d,e);if(null!=a||null!=e[0])if(c.right instanceof ih)if(e=c.key,d=c.val,c=c.left,a instanceof hh)c=new hh(e,d,c,a.nb(),null);else if(c instanceof ih)c=gh(e,d,c.mc(),a);else if(c instanceof hh&&c.right instanceof ih)c=new hh(c.right.key,c.right.val,gh(c.key,c.val,c.left.mc(),c.right.left),new ih(e,d,c.right.right,a,null),null);
else throw Error("red-black tree invariant violation");else c=new hh(c.key,c.val,c.left,a,null);else c=null;return c}return null},ph=function ph(a,c,d,e){var g=c.key,h=a.b?a.b(d,g):a.call(null,d,g);return 0===h?c.replace(g,e,c.left,c.right):0>h?c.replace(g,c.val,ph(a,c.left,d,e),c.right):c.replace(g,c.val,c.left,ph(a,c.right,d,e))};function qh(b,a,c,d,e){this.Ra=b;this.tree=a;this.l=c;this.o=d;this.h=e;this.k=418776847;this.r=8192}f=qh.prototype;
f.forEach=function(b){for(var a=A(this),c=null,d=0,e=0;;)if(e<d){var g=c.M(null,e),h=L(g,0),g=L(g,1);b.b?b.b(g,h):b.call(null,g,h);e+=1}else if(a=A(a))od(a)?(c=Ub(a),a=Vb(a),h=c,d=K(c),c=h):(c=C(a),h=L(c,0),c=g=L(c,1),b.b?b.b(c,h):b.call(null,c,h),a=D(a),c=null,d=0),e=0;else return null};f.get=function(b,a){return this.q(null,b,a)};f.entries=function(){return qg(A(this))};f.toString=function(){return ec(this)};f.keys=function(){return yc(wg.c?wg.c(this):wg.call(null,this))};
f.values=function(){return yc(xg.c?xg.c(this):xg.call(null,this))};f.equiv=function(b){return this.p(null,b)};function rh(b,a){for(var c=b.tree;;)if(null!=c){var d;d=c.key;d=b.Ra.b?b.Ra.b(a,d):b.Ra.call(null,a,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}f.has=function(b){return vd(this,b)};f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){b=rh(this,a);return null!=b?b.val:c};f.Ub=function(b,a,c){return null!=this.tree?lh(this.tree,a,c):c};f.C=function(){return this.o};
f.I=function(){return this.l};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Cc(this)};f.p=function(b,a){return og(this,a)};f.Y=function(){return new qh(this.Ra,null,0,this.o,0)};f.N=function(b,a){var c=[null],d=oh(this.Ra,this.tree,a,c);return null==d?null==Yc(c,0)?this:new qh(this.Ra,null,0,this.o,null):new qh(this.Ra,d.nb(),this.l-1,this.o,null)};
f.K=function(b,a,c){b=[null];var d=mh(this.Ra,this.tree,a,c,b);return null==d?(b=Yc(b,0),F.b(c,b.val)?this:new qh(this.Ra,ph(this.Ra,this.tree,a,c),this.l,this.o,null)):new qh(this.Ra,d.nb(),this.l+1,this.o,null)};f.Eb=function(b,a){return null!=rh(this,a)};f.B=function(){var b;0<this.l?(b=this.l,b=new fh(null,eh(this.tree,null,!0),!0,b,null)):b=null;return b};f.D=function(b,a){return new qh(this.Ra,this.tree,this.l,a,this.h)};
f.H=function(b,a){if(nd(a))return gb(this,w.b(a,0),w.b(a,1));for(var c=this,d=A(a);;){if(null==d)return c;var e=C(d);if(nd(e))c=gb(c,w.b(e,0),w.b(e,1)),d=D(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.s(null,b);case 3:return this.q(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.s(null,b)};b.f=function(a,b,d){return this.q(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return this.s(null,b)};f.b=function(b,a){return this.q(null,b,a)};var sh=new qh(Bd,null,0,null,Dc);qh.prototype[Ia]=function(){return yc(this)};
var Ze=function Ze(){var a=0<arguments.length?new uc(Array.prototype.slice.call(arguments,0),0):null;return Ze.j(a)};Ze.j=function(b){b=A(b);for(var a=Mb(zg);;)if(b){var c=D(D(b)),a=Ee.f(a,C(b),Tc(b));b=c}else return Ob(a)};Ze.G=0;Ze.F=function(b){return Ze.j(A(b))};function th(){var b=0<arguments.length?new uc(Array.prototype.slice.call(arguments,0),0):null;a:for(var b=A(b),a=sh;;)if(b)var c=D(D(b)),a=O.f(a,C(b),Tc(b)),b=c;else break a;return a}
function uh(b,a){this.Ea=b;this.Ga=a;this.r=0;this.k=32374988}f=uh.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.Ga};f.ka=function(){var b=this.Ea,b=(b?b.k&128||b.qc||(b.k?0:Da($a,b)):Da($a,b))?this.Ea.ka(null):D(this.Ea);return null==b?null:new uh(b,this.Ga)};f.A=function(){return Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(wc,this.Ga)};f.ea=function(b,a){return Hd(a,this)};
f.fa=function(b,a,c){return Id(a,c,this)};f.ca=function(){return this.Ea.ca(null).Zb(null)};f.ya=function(){var b=this.Ea,b=(b?b.k&128||b.qc||(b.k?0:Da($a,b)):Da($a,b))?this.Ea.ka(null):D(this.Ea);return null!=b?new uh(b,this.Ga):wc};f.B=function(){return this};f.D=function(b,a){return new uh(this.Ea,a)};f.H=function(b,a){return Rc(a,this)};uh.prototype[Ia]=function(){return yc(this)};function wg(b){return(b=A(b))?new uh(b,null):null}function de(b){return kb(b)}
function vh(b,a){this.Ea=b;this.Ga=a;this.r=0;this.k=32374988}f=vh.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.C=function(){return this.Ga};f.ka=function(){var b=this.Ea,b=(b?b.k&128||b.qc||(b.k?0:Da($a,b)):Da($a,b))?this.Ea.ka(null):D(this.Ea);return null==b?null:new vh(b,this.Ga)};f.A=function(){return Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(wc,this.Ga)};f.ea=function(b,a){return Hd(a,this)};
f.fa=function(b,a,c){return Id(a,c,this)};f.ca=function(){return this.Ea.ca(null).$b(null)};f.ya=function(){var b=this.Ea,b=(b?b.k&128||b.qc||(b.k?0:Da($a,b)):Da($a,b))?this.Ea.ka(null):D(this.Ea);return null!=b?new vh(b,this.Ga):wc};f.B=function(){return this};f.D=function(b,a){return new vh(this.Ea,a)};f.H=function(b,a){return Rc(a,this)};vh.prototype[Ia]=function(){return yc(this)};function xg(b){return(b=A(b))?new vh(b,null):null}function ee(b){return lb(b)}
function wh(b){return q(Oe(Ld,b))?Jd(function(a,b){return J.b(q(a)?a:Q,b)},b):null}function xh(b,a){for(var c=Q,d=A(a);;)if(d)var e=C(d),g=$c(b,e,yh),c=Le.b(g,yh)?O.f(c,e,g):c,d=D(d);else return ed(c,fd(b))}function zd(b,a,c){this.o=b;this.Mb=a;this.h=c;this.k=15077647;this.r=8196}f=zd.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.keys=function(){return yc(A(this))};f.entries=function(){var b=A(this);return new rg(A(b))};f.values=function(){return yc(A(this))};
f.has=function(b){return vd(this,b)};f.forEach=function(b){for(var a=A(this),c=null,d=0,e=0;;)if(e<d){var g=c.M(null,e),h=L(g,0),g=L(g,1);b.b?b.b(g,h):b.call(null,g,h);e+=1}else if(a=A(a))od(a)?(c=Ub(a),a=Vb(a),h=c,d=K(c),c=h):(c=C(a),h=L(c,0),c=g=L(c,1),b.b?b.b(c,h):b.call(null,c,h),a=D(a),c=null,d=0),e=0;else return null};f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){return db(this.Mb,a)?a:c};f.C=function(){return this.o};f.I=function(){return Pa(this.Mb)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=Cc(this)};f.p=function(b,a){return kd(a)&&K(this)===K(a)&&Ne(function(a){return function(b){return vd(a,b)}}(this),a)};f.Tb=function(){return new zh(Mb(this.Mb))};f.Y=function(){return ed(Ad,this.o)};f.Dc=function(b,a){return new zd(this.o,ib(this.Mb,a),null)};f.B=function(){return wg(this.Mb)};f.D=function(b,a){return new zd(a,this.Mb,this.h)};f.H=function(b,a){return new zd(this.o,O.f(this.Mb,a,null),null)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.s(null,b);case 3:return this.q(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.s(null,b)};b.f=function(a,b,d){return this.q(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return this.s(null,b)};f.b=function(b,a){return this.q(null,b,a)};var Ad=new zd(null,Q,Dc);zd.prototype[Ia]=function(){return yc(this)};
function zh(b){this.vb=b;this.k=259;this.r=136}f=zh.prototype;f.call=function(){function b(a,b,c){return x.f(this.vb,b,rd)===rd?c:b}function a(a,b){return x.f(this.vb,b,rd)===rd?null:b}var c=null,c=function(c,e,g){switch(arguments.length){case 2:return a.call(this,c,e);case 3:return b.call(this,c,e,g)}throw Error("Invalid arity: "+arguments.length);};c.b=a;c.f=b;return c}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};
f.c=function(b){return x.f(this.vb,b,rd)===rd?null:b};f.b=function(b,a){return x.f(this.vb,b,rd)===rd?a:b};f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){return x.f(this.vb,a,rd)===rd?c:a};f.I=function(){return K(this.vb)};f.Fb=function(b,a){this.vb=Ee.f(this.vb,a,null);return this};f.Gb=function(){return new zd(null,Ob(this.vb),null)};
function Ah(b){b=A(b);if(null==b)return Ad;if(b instanceof uc&&0===b.J){b=b.i;a:for(var a=0,c=Mb(Ad);;)if(a<b.length)var d=a+1,c=c.Fb(null,b[a]),a=d;else break a;return c.Gb(null)}for(d=Mb(Ad);;)if(null!=b)a=b.ka(null),d=d.Fb(null,b.ca(null)),b=a;else return d.Gb(null)}var Bh=function Bh(){switch(arguments.length){case 0:return Bh.t();case 1:return Bh.c(arguments[0]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}};
Bh.t=function(){return function(b){return function(a){return function(){function c(c,d){if(vd(G.c?G.c(a):G.call(null,a),d))return c;ac(a,J.b(tb(a),d));return b.b?b.b(c,d):b.call(null,c,d)}function d(a){return b.c?b.c(a):b.call(null,a)}function e(){return b.t?b.t():b.call(null)}var g=null,g=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};g.t=e;g.c=d;g.b=c;return g}()}(new cf(Ad))}};
Bh.c=function(b){return function c(b,e){return new qe(null,function(){return function(b,d){for(;;){var e=b,m=L(e,0);if(e=A(e))if(vd(d,m))m=vc(e),e=d,b=m,d=e;else return Rc(m,c(vc(e),J.b(d,m)));else return null}}.call(null,b,e)},null,null)}(b,Ad)};Bh.G=1;function Ch(b){for(var a=Wc;;)if(D(b))a=J.b(a,C(b)),b=D(b);else return A(a)}function pe(b){if(b&&(b.r&4096||b.sd))return b.ac(null);if("string"===typeof b)return b;throw Error([r("Doesn't support name: "),r(b)].join(""));}
function Dh(b,a){for(var c=Mb(Q),d=A(b),e=A(a);;)if(d&&e)c=Ee.f(c,C(d),C(e)),d=D(d),e=D(e);else return Ob(c)}var Eh=function Eh(){switch(arguments.length){case 2:return Eh.b(arguments[0],arguments[1]);case 3:return Eh.f(arguments[0],arguments[1],arguments[2]);default:var a=new uc(Array.prototype.slice.call(arguments,3),0);return Eh.j(arguments[0],arguments[1],arguments[2],a)}};Eh.b=function(b,a){return a};Eh.f=function(b,a,c){return(b.c?b.c(a):b.call(null,a))>(b.c?b.c(c):b.call(null,c))?a:c};
Eh.j=function(b,a,c,d){return v(function(a,c){return Eh.f(b,a,c)},Eh.f(b,a,c),d)};Eh.F=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),d=D(d);return Eh.j(a,b,c,d)};Eh.G=3;function Fh(b,a){return new qe(null,function(){var c=A(a);if(c){var d;d=C(c);d=b.c?b.c(d):b.call(null,d);c=q(d)?Rc(C(c),Fh(b,vc(c))):null}else c=null;return c},null,null)}function Gh(b,a,c){this.J=b;this.end=a;this.step=c}Gh.prototype.tc=function(){return 0<this.step?this.J<this.end:this.J>this.end};
Gh.prototype.next=function(){var b=this.J;this.J+=this.step;return b};function Hh(b,a,c,d,e){this.o=b;this.start=a;this.end=c;this.step=d;this.h=e;this.k=32375006;this.r=8192}f=Hh.prototype;f.toString=function(){return ec(this)};f.equiv=function(b){return this.p(null,b)};f.M=function(b,a){if(a<Pa(this))return this.start+a*this.step;if(this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
f.Ha=function(b,a,c){return a<Pa(this)?this.start+a*this.step:this.start>this.end&&0===this.step?this.start:c};f.Yb=function(){return new Gh(this.start,this.end,this.step)};f.C=function(){return this.o};f.ka=function(){return 0<this.step?this.start+this.step<this.end?new Hh(this.o,this.start+this.step,this.end,this.step,null):null:this.start+this.step>this.end?new Hh(this.o,this.start+this.step,this.end,this.step,null):null};
f.I=function(){if(Ba(Eb(this)))return 0;var b=(this.end-this.start)/this.step;return Math.ceil.c?Math.ceil.c(b):Math.ceil.call(null,b)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=Ac(this)};f.p=function(b,a){return Qc(this,a)};f.Y=function(){return ed(wc,this.o)};f.ea=function(b,a){return Hc(this,a)};f.fa=function(b,a,c){for(b=this.start;;)if(0<this.step?b<this.end:b>this.end){var d=b;c=a.b?a.b(c,d):a.call(null,c,d);if(Gc(c))return a=c,G.c?G.c(a):G.call(null,a);b+=this.step}else return c};
f.ca=function(){return null==Eb(this)?null:this.start};f.ya=function(){return null!=Eb(this)?new Hh(this.o,this.start+this.step,this.end,this.step,null):wc};f.B=function(){return 0<this.step?this.start<this.end?this:null:this.start>this.end?this:null};f.D=function(b,a){return new Hh(a,this.start,this.end,this.step,this.h)};f.H=function(b,a){return Rc(a,this)};Hh.prototype[Ia]=function(){return yc(this)};
var xf=function xf(){switch(arguments.length){case 0:return xf.t();case 1:return xf.c(arguments[0]);case 2:return xf.b(arguments[0],arguments[1]);case 3:return xf.f(arguments[0],arguments[1],arguments[2]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}};xf.t=function(){return xf.f(0,Number.MAX_VALUE,1)};xf.c=function(b){return xf.f(0,b,1)};xf.b=function(b,a){return xf.f(b,a,1)};xf.f=function(b,a,c){return new Hh(null,b,a,c,null)};xf.G=3;
function Ih(b,a){return new V(null,2,5,W,[Fh(b,a),lf(b,a)],null)}function Jh(b,a){return new qe(null,function(){var c=A(a);if(c){var d=C(c),e=b.c?b.c(d):b.call(null,d),d=Rc(d,Fh(function(a,c){return function(a){return F.b(c,b.c?b.c(a):b.call(null,a))}}(d,e,c,c),D(c)));return Rc(d,Jh(b,A(kf(K(d),c))))}return null},null,null)}function Kh(b,a){if("string"===typeof a){var c=b.exec(a);return F.b(C(c),a)?1===K(c)?C(c):$f(c):null}throw new TypeError("re-matches must match against a string.");}
function Lh(b,a){if("string"===typeof a){var c=b.exec(a);return null==c?null:1===K(c)?C(c):$f(c)}throw new TypeError("re-find must match against a string.");}function Mh(b){if(b instanceof RegExp)return b;var a=Lh(/^\(\?([idmsux]*)\)/,b),c=L(a,0),a=L(a,1);b=be(b,K(c));return new RegExp(b,q(a)?a:"")}
function X(b,a,c,d,e,g,h){var k=oa;oa=null==oa?null:oa-1;try{if(null!=oa&&0>oa)return Hb(b,"#");Hb(b,c);if(0===wa.c(g))A(h)&&Hb(b,function(){var a=Nh.c(g);return q(a)?a:"..."}());else{if(A(h)){var m=C(h);a.f?a.f(m,b,g):a.call(null,m,b,g)}for(var n=D(h),p=wa.c(g)-1;;)if(!n||null!=p&&0===p){A(n)&&0===p&&(Hb(b,d),Hb(b,function(){var a=Nh.c(g);return q(a)?a:"..."}()));break}else{Hb(b,d);var t=C(n);c=b;h=g;a.f?a.f(t,c,h):a.call(null,t,c,h);var u=D(n);c=p-1;n=u;p=c}}return Hb(b,e)}finally{oa=k}}
function Oh(b,a){for(var c=A(a),d=null,e=0,g=0;;)if(g<e){var h=d.M(null,g);Hb(b,h);g+=1}else if(c=A(c))d=c,od(d)?(c=Ub(d),e=Vb(d),d=c,h=K(c),c=e,e=h):(h=C(d),Hb(b,h),c=D(d),d=null,e=0),g=0;else return null}var Qh={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Rh(b){return[r('"'),r(b.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(a){return Qh[a]})),r('"')].join("")}
function Sh(b,a,c){if(null==b)return Hb(a,"nil");if(void 0===b)return Hb(a,"#\x3cundefined\x3e");if(q(function(){var a=Zc(c,ua);return q(a)?(a=b?b.k&131072||b.rd?!0:b.k?!1:Da(ub,b):Da(ub,b))?fd(b):a:a}())){Hb(a,"^");var d=fd(b);Y.f?Y.f(d,a,c):Y.call(null,d,a,c);Hb(a," ")}return null==b?Hb(a,"nil"):b.wd?b.Id(b,a,c):b&&(b.k&2147483648||b.U)?b.w(null,a,c):Ea(b)===Boolean||"number"===typeof b?Hb(a,""+r(b)):null!=b&&b.constructor===Object?(Hb(a,"#js "),d=gf.b(function(a){return new V(null,2,5,W,[oe.c(a),
b[a]],null)},pd(b)),Th.u?Th.u(d,Y,a,c):Th.call(null,d,Y,a,c)):Aa(b)?X(a,Y,"#js ["," ","]",c,b):q("string"==typeof b)?q(ta.c(c))?Hb(a,Rh(b)):Hb(a,b):bd(b)?Oh(a,I(["#\x3c",""+r(b),"\x3e"],0)):b instanceof Date?(d=function(a,b){for(var c=""+r(a);;)if(K(c)<b)c=[r("0"),r(c)].join("");else return c},Oh(a,I(['#inst "',""+r(b.getUTCFullYear()),"-",d(b.getUTCMonth()+1,2),"-",d(b.getUTCDate(),2),"T",d(b.getUTCHours(),2),":",d(b.getUTCMinutes(),2),":",d(b.getUTCSeconds(),2),".",d(b.getUTCMilliseconds(),3),"-",
'00:00"'],0))):q(b instanceof RegExp)?Oh(a,I(['#"',b.source,'"'],0)):(b?b.k&2147483648||b.U||(b.k?0:Da(Ib,b)):Da(Ib,b))?Jb(b,a,c):Oh(a,I(["#\x3c",""+r(b),"\x3e"],0))}function Y(b,a,c){var d=Uh.c(c);return q(d)?(c=O.f(c,Vh,Sh),d.f?d.f(b,a,c):d.call(null,b,a,c)):Sh(b,a,c)}
function Wh(b){var a=ra();if(id(b))a="";else{var c=r,d=new ja;a:{var e=new dc(d);Y(C(b),e,a);b=A(D(b));for(var g=null,h=0,k=0;;)if(k<h){var m=g.M(null,k);Hb(e," ");Y(m,e,a);k+=1}else if(b=A(b))g=b,od(g)?(b=Ub(g),h=Vb(g),g=b,m=K(b),b=h,h=m):(m=C(g),Hb(e," "),Y(m,e,a),b=D(g),g=null,h=0),k=0;else break a}a=""+c(d)}return a}function Th(b,a,c,d){return X(c,function(b,c,d){var k=kb(b);a.f?a.f(k,c,d):a.call(null,k,c,d);Hb(c," ");b=lb(b);return a.f?a.f(b,c,d):a.call(null,b,c,d)},"{",", ","}",d,A(b))}
cf.prototype.U=!0;cf.prototype.w=function(b,a,c){Hb(a,"#\x3cVolatile: ");Y(this.state,a,c);return Hb(a,"\x3e")};uc.prototype.U=!0;uc.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};qe.prototype.U=!0;qe.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};fh.prototype.U=!0;fh.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};Xg.prototype.U=!0;Xg.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};ih.prototype.U=!0;
ih.prototype.w=function(b,a,c){return X(a,Y,"["," ","]",c,this)};tg.prototype.U=!0;tg.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};bg.prototype.U=!0;bg.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};ie.prototype.U=!0;ie.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};ah.prototype.U=!0;ah.prototype.w=function(b,a,c){return Th(this,Y,a,c)};Zg.prototype.U=!0;Zg.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};fg.prototype.U=!0;
fg.prototype.w=function(b,a,c){return X(a,Y,"["," ","]",c,this)};qh.prototype.U=!0;qh.prototype.w=function(b,a,c){return Th(this,Y,a,c)};zd.prototype.U=!0;zd.prototype.w=function(b,a,c){return X(a,Y,"#{"," ","}",c,this)};ve.prototype.U=!0;ve.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};We.prototype.U=!0;We.prototype.w=function(b,a,c){Hb(a,"#\x3cAtom: ");Y(this.state,a,c);return Hb(a,"\x3e")};vh.prototype.U=!0;vh.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};
hh.prototype.U=!0;hh.prototype.w=function(b,a,c){return X(a,Y,"["," ","]",c,this)};V.prototype.U=!0;V.prototype.w=function(b,a,c){return X(a,Y,"["," ","]",c,this)};jg.prototype.U=!0;jg.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};ge.prototype.U=!0;ge.prototype.w=function(b,a){return Hb(a,"()")};kg.prototype.U=!0;kg.prototype.w=function(b,a,c){return X(a,Y,"#queue ["," ","]",c,A(this))};l.prototype.U=!0;l.prototype.w=function(b,a,c){return Th(this,Y,a,c)};Hh.prototype.U=!0;
Hh.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};uh.prototype.U=!0;uh.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};fe.prototype.U=!0;fe.prototype.w=function(b,a,c){return X(a,Y,"("," ",")",c,this)};V.prototype.Wb=!0;V.prototype.xb=function(b,a){return Cd(this,a)};fg.prototype.Wb=!0;fg.prototype.xb=function(b,a){return Cd(this,a)};R.prototype.Wb=!0;R.prototype.xb=function(b,a){return je(this,a)};z.prototype.Wb=!0;z.prototype.xb=function(b,a){return rc(this,a)};
function Xh(b,a,c){Lb(b,a,c)}var Yh=null;function Zh(){null==Yh&&(Yh=Ye?Ye(0):Xe.call(null,0));return sc([r("G__"),r(bf.b(Yh,Ec))].join(""))}function $h(b){return function(a,c){var d=b.b?b.b(a,c):b.call(null,a,c);return Gc(d)?new Fc(d):d}}
function ai(b){return function(a){return function(){function c(b,c){return v(a,b,c)}function d(a){return b.c?b.c(a):b.call(null,a)}function e(){return b.t?b.t():b.call(null)}var g=null,g=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};g.t=e;g.c=d;g.b=c;return g}()}($h(b))}
var bi={},ci=function ci(a){if(a?a.od:a)return a.od(a);var c;c=ci[ba(null==a?null:a)];if(!c&&(c=ci._,!c))throw Ga("IEncodeJS.-clj-\x3ejs",a);return c.call(null,a)};function di(b){return(b?q(q(null)?null:b.nd)||(b.Ib?0:Da(bi,b)):Da(bi,b))?ci(b):"string"===typeof b||"number"===typeof b||b instanceof R||b instanceof z?ei.c?ei.c(b):ei.call(null,b):Wh(I([b],0))}
var ei=function ei(a){if(null==a)return null;if(a?q(q(null)?null:a.nd)||(a.Ib?0:Da(bi,a)):Da(bi,a))return ci(a);if(a instanceof R)return pe(a);if(a instanceof z)return""+r(a);if(md(a)){var c={};a=A(a);for(var d=null,e=0,g=0;;)if(g<e){var h=d.M(null,g),k=L(h,0),h=L(h,1);c[di(k)]=ei(h);g+=1}else if(a=A(a))od(a)?(e=Ub(a),a=Vb(a),d=e,e=K(e)):(e=C(a),d=L(e,0),e=L(e,1),c[di(d)]=ei(e),a=D(a),d=null,e=0),g=0;else break;return c}if(jd(a)){c=[];a=A(gf.b(ei,a));d=null;for(g=e=0;;)if(g<e)k=d.M(null,g),c.push(k),
g+=1;else if(a=A(a))d=a,od(d)?(a=Ub(d),g=Vb(d),d=a,e=K(a),a=g):(a=C(d),c.push(a),a=D(d),d=null,e=0),g=0;else break;return c}return a};function fi(b){b*=Math.random.t?Math.random.t():Math.random.call(null);return Math.floor.c?Math.floor.c(b):Math.floor.call(null,b)}function gi(b,a){return Ce(v(function(a,d){var e=b.c?b.c(d):b.call(null,d);return Ee.f(a,e,J.b($c(a,e,Wc),d))},Mb(Q),a))}var hi=null;
function ii(){if(null==hi){var b=new l(null,3,[ji,Q,ki,Q,li,Q],null);hi=Ye?Ye(b):Xe.call(null,b)}return hi}function mi(b,a,c){var d=F.b(a,c);if(!d&&!(d=vd(li.c(b).call(null,a),c))&&(d=nd(c))&&(d=nd(a)))if(d=K(c)===K(a))for(var e=!0,g=0;;)if(e&&g!==K(c))e=mi(b,function(){var b=g;return a.c?a.c(b):a.call(null,b)}(),function(){var a=g;return c.c?c.c(a):c.call(null,a)}()),g=d=g+1;else return e;else return d;else return d}
function ni(b){var a;a=ii();a=G.c?G.c(a):G.call(null,a);return Me(Zc(ji.c(a),b))}function oi(b,a,c,d){bf.b(b,function(){return G.c?G.c(a):G.call(null,a)});bf.b(c,function(){return G.c?G.c(d):G.call(null,d)})}
var pi=function pi(a,c,d){var e=(G.c?G.c(d):G.call(null,d)).call(null,a),e=q(q(e)?e.c?e.c(c):e.call(null,c):e)?!0:null;if(q(e))return e;e=function(){for(var e=ni(c);;)if(0<K(e))pi(a,C(e),d),e=vc(e);else return null}();if(q(e))return e;e=function(){for(var e=ni(a);;)if(0<K(e))pi(C(e),c,d),e=vc(e);else return null}();return q(e)?e:!1};function qi(b,a,c){c=pi(b,a,c);if(q(c))b=c;else{c=mi;var d;d=ii();d=G.c?G.c(d):G.call(null,d);b=c(d,b,a)}return b}
var ri=function ri(a,c,d,e,g,h,k){var m=v(function(e,h){var k=L(h,0);L(h,1);if(mi(G.c?G.c(d):G.call(null,d),c,k)){var m;m=(m=null==e)?m:qi(k,C(e),g);m=q(m)?h:e;if(!q(qi(C(m),k,g)))throw Error([r("Multiple methods in multimethod '"),r(a),r("' match dispatch value: "),r(c),r(" -\x3e "),r(k),r(" and "),r(C(m)),r(", and neither is preferred")].join(""));return m}return e},null,G.c?G.c(e):G.call(null,e));if(q(m)){if(F.b(G.c?G.c(k):G.call(null,k),G.c?G.c(d):G.call(null,d)))return bf.u(h,O,c,Tc(m)),Tc(m);
oi(h,e,k,d);return ri(a,c,d,e,g,h,k)}return null};function si(b,a){throw Error([r("No method in multimethod '"),r(b),r("' for dispatch value: "),r(a)].join(""));}function ti(b,a,c,d,e,g,h,k){this.name=b;this.n=a;this.zd=c;this.hierarchy=d;this.lc=e;this.Bd=g;this.vc=h;this.pc=k;this.k=4194305;this.r=4352}f=ti.prototype;f.A=function(){return this[da]||(this[da]=++ea)};f.ac=function(){return Xb(this.name)};f.bc=function(){return Yb(this.name)};
function ui(b,a,c){bf.u(b.lc,O,a,c);oi(b.vc,b.lc,b.pc,b.hierarchy)}function vi(b,a){F.b(function(){var a=b.pc;return G.c?G.c(a):G.call(null,a)}(),function(){var a=b.hierarchy;return G.c?G.c(a):G.call(null,a)}())||oi(b.vc,b.lc,b.pc,b.hierarchy);var c=function(){var a=b.vc;return G.c?G.c(a):G.call(null,a)}().call(null,a);if(q(c))return c;c=ri(b.name,a,b.hierarchy,b.lc,b.Bd,b.vc,b.pc);return q(c)?c:function(){var a=b.lc;return G.c?G.c(a):G.call(null,a)}().call(null,b.zd)}
f.call=function(){function b(a,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S,N,ca,qa){a=this;var Fa=Ke(a.n,b,c,d,e,I([g,h,k,m,n,p,t,u,B,y,H,E,M,S,N,ca,qa],0)),ao=vi(this,Fa);q(ao)||si(a.name,Fa);return Ke(ao,b,c,d,e,I([g,h,k,m,n,p,t,u,B,y,H,E,M,S,N,ca,qa],0))}function a(a,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S,N,ca){a=this;var qa=a.n.va?a.n.va(b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S,N,ca):a.n.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S,N,ca),Fa=vi(this,qa);q(Fa)||si(a.name,qa);return Fa.va?Fa.va(b,c,d,e,g,h,k,m,
n,p,t,u,B,y,H,E,M,S,N,ca):Fa.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S,N,ca)}function c(a,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S,N){a=this;var ca=a.n.ua?a.n.ua(b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S,N):a.n.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S,N),qa=vi(this,ca);q(qa)||si(a.name,ca);return qa.ua?qa.ua(b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S,N):qa.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S,N)}function d(a,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S){a=this;var N=a.n.ta?a.n.ta(b,c,d,e,g,h,k,m,n,p,t,u,B,
y,H,E,M,S):a.n.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S),ca=vi(this,N);q(ca)||si(a.name,N);return ca.ta?ca.ta(b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S):ca.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M,S)}function e(a,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M){a=this;var S=a.n.sa?a.n.sa(b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M):a.n.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M),N=vi(this,S);q(N)||si(a.name,S);return N.sa?N.sa(b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M):N.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E,M)}function g(a,
b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E){a=this;var M=a.n.ra?a.n.ra(b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E):a.n.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E),S=vi(this,M);q(S)||si(a.name,M);return S.ra?S.ra(b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E):S.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H,E)}function h(a,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H){a=this;var E=a.n.qa?a.n.qa(b,c,d,e,g,h,k,m,n,p,t,u,B,y,H):a.n.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y,H),M=vi(this,E);q(M)||si(a.name,E);return M.qa?M.qa(b,c,d,e,g,h,k,m,n,p,t,u,B,y,H):M.call(null,
b,c,d,e,g,h,k,m,n,p,t,u,B,y,H)}function k(a,b,c,d,e,g,h,k,m,n,p,t,u,B,y){a=this;var H=a.n.pa?a.n.pa(b,c,d,e,g,h,k,m,n,p,t,u,B,y):a.n.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y),E=vi(this,H);q(E)||si(a.name,H);return E.pa?E.pa(b,c,d,e,g,h,k,m,n,p,t,u,B,y):E.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B,y)}function m(a,b,c,d,e,g,h,k,m,n,p,t,u,B){a=this;var y=a.n.oa?a.n.oa(b,c,d,e,g,h,k,m,n,p,t,u,B):a.n.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B),H=vi(this,y);q(H)||si(a.name,y);return H.oa?H.oa(b,c,d,e,g,h,k,m,n,p,t,u,B):
H.call(null,b,c,d,e,g,h,k,m,n,p,t,u,B)}function n(a,b,c,d,e,g,h,k,m,n,p,t,u){a=this;var B=a.n.na?a.n.na(b,c,d,e,g,h,k,m,n,p,t,u):a.n.call(null,b,c,d,e,g,h,k,m,n,p,t,u),y=vi(this,B);q(y)||si(a.name,B);return y.na?y.na(b,c,d,e,g,h,k,m,n,p,t,u):y.call(null,b,c,d,e,g,h,k,m,n,p,t,u)}function p(a,b,c,d,e,g,h,k,m,n,p,t){a=this;var u=a.n.ma?a.n.ma(b,c,d,e,g,h,k,m,n,p,t):a.n.call(null,b,c,d,e,g,h,k,m,n,p,t),B=vi(this,u);q(B)||si(a.name,u);return B.ma?B.ma(b,c,d,e,g,h,k,m,n,p,t):B.call(null,b,c,d,e,g,h,k,m,
n,p,t)}function t(a,b,c,d,e,g,h,k,m,n,p){a=this;var t=a.n.la?a.n.la(b,c,d,e,g,h,k,m,n,p):a.n.call(null,b,c,d,e,g,h,k,m,n,p),u=vi(this,t);q(u)||si(a.name,t);return u.la?u.la(b,c,d,e,g,h,k,m,n,p):u.call(null,b,c,d,e,g,h,k,m,n,p)}function u(a,b,c,d,e,g,h,k,m,n){a=this;var p=a.n.xa?a.n.xa(b,c,d,e,g,h,k,m,n):a.n.call(null,b,c,d,e,g,h,k,m,n),t=vi(this,p);q(t)||si(a.name,p);return t.xa?t.xa(b,c,d,e,g,h,k,m,n):t.call(null,b,c,d,e,g,h,k,m,n)}function y(a,b,c,d,e,g,h,k,m){a=this;var n=a.n.wa?a.n.wa(b,c,d,e,
g,h,k,m):a.n.call(null,b,c,d,e,g,h,k,m),p=vi(this,n);q(p)||si(a.name,n);return p.wa?p.wa(b,c,d,e,g,h,k,m):p.call(null,b,c,d,e,g,h,k,m)}function B(a,b,c,d,e,g,h,k){a=this;var m=a.n.ga?a.n.ga(b,c,d,e,g,h,k):a.n.call(null,b,c,d,e,g,h,k),n=vi(this,m);q(n)||si(a.name,m);return n.ga?n.ga(b,c,d,e,g,h,k):n.call(null,b,c,d,e,g,h,k)}function E(a,b,c,d,e,g,h){a=this;var k=a.n.da?a.n.da(b,c,d,e,g,h):a.n.call(null,b,c,d,e,g,h),m=vi(this,k);q(m)||si(a.name,k);return m.da?m.da(b,c,d,e,g,h):m.call(null,b,c,d,e,g,
h)}function H(a,b,c,d,e,g){a=this;var h=a.n.P?a.n.P(b,c,d,e,g):a.n.call(null,b,c,d,e,g),k=vi(this,h);q(k)||si(a.name,h);return k.P?k.P(b,c,d,e,g):k.call(null,b,c,d,e,g)}function M(a,b,c,d,e){a=this;var g=a.n.u?a.n.u(b,c,d,e):a.n.call(null,b,c,d,e),h=vi(this,g);q(h)||si(a.name,g);return h.u?h.u(b,c,d,e):h.call(null,b,c,d,e)}function S(a,b,c,d){a=this;var e=a.n.f?a.n.f(b,c,d):a.n.call(null,b,c,d),g=vi(this,e);q(g)||si(a.name,e);return g.f?g.f(b,c,d):g.call(null,b,c,d)}function ca(a,b,c){a=this;var d=
a.n.b?a.n.b(b,c):a.n.call(null,b,c),e=vi(this,d);q(e)||si(a.name,d);return e.b?e.b(b,c):e.call(null,b,c)}function qa(a,b){a=this;var c=a.n.c?a.n.c(b):a.n.call(null,b),d=vi(this,c);q(d)||si(a.name,c);return d.c?d.c(b):d.call(null,b)}function Fa(a){a=this;var b=a.n.t?a.n.t():a.n.call(null),c=vi(this,b);q(c)||si(a.name,b);return c.t?c.t():c.call(null)}var N=null,N=function(N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,ke,cc,qc,Oc,yd,le,Cf,Ph,Ag){switch(arguments.length){case 1:return Fa.call(this,N);case 2:return qa.call(this,
N,ga);case 3:return ca.call(this,N,ga,xa);case 4:return S.call(this,N,ga,xa,ya);case 5:return M.call(this,N,ga,xa,ya,Na);case 6:return H.call(this,N,ga,xa,ya,Na,Ca);case 7:return E.call(this,N,ga,xa,ya,Na,Ca,Sa);case 8:return B.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa);case 9:return y.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb);case 10:return u.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb);case 11:return t.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya);case 12:return p.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob);case 13:return n.call(this,
N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb);case 14:return m.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,ke);case 15:return k.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,ke,cc);case 16:return h.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,ke,cc,qc);case 17:return g.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,ke,cc,qc,Oc);case 18:return e.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,ke,cc,qc,Oc,yd);case 19:return d.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,ke,cc,qc,Oc,yd,le);case 20:return c.call(this,
N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,ke,cc,qc,Oc,yd,le,Cf);case 21:return a.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,ke,cc,qc,Oc,yd,le,Cf,Ph);case 22:return b.call(this,N,ga,xa,ya,Na,Ca,Sa,Xa,fb,cb,Ya,ob,Fb,ke,cc,qc,Oc,yd,le,Cf,Ph,Ag)}throw Error("Invalid arity: "+arguments.length);};N.c=Fa;N.b=qa;N.f=ca;N.u=S;N.P=M;N.da=H;N.ga=E;N.wa=B;N.xa=y;N.la=u;N.ma=t;N.na=p;N.oa=n;N.pa=m;N.qa=k;N.ra=h;N.sa=g;N.ta=e;N.ua=d;N.va=c;N.Bc=a;N.Xb=b;return N}();
f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.t=function(){var b=this.n.t?this.n.t():this.n.call(null),a=vi(this,b);q(a)||si(this.name,b);return a.t?a.t():a.call(null)};f.c=function(b){var a=this.n.c?this.n.c(b):this.n.call(null,b),c=vi(this,a);q(c)||si(this.name,a);return c.c?c.c(b):c.call(null,b)};f.b=function(b,a){var c=this.n.b?this.n.b(b,a):this.n.call(null,b,a),d=vi(this,c);q(d)||si(this.name,c);return d.b?d.b(b,a):d.call(null,b,a)};
f.f=function(b,a,c){var d=this.n.f?this.n.f(b,a,c):this.n.call(null,b,a,c),e=vi(this,d);q(e)||si(this.name,d);return e.f?e.f(b,a,c):e.call(null,b,a,c)};f.u=function(b,a,c,d){var e=this.n.u?this.n.u(b,a,c,d):this.n.call(null,b,a,c,d),g=vi(this,e);q(g)||si(this.name,e);return g.u?g.u(b,a,c,d):g.call(null,b,a,c,d)};f.P=function(b,a,c,d,e){var g=this.n.P?this.n.P(b,a,c,d,e):this.n.call(null,b,a,c,d,e),h=vi(this,g);q(h)||si(this.name,g);return h.P?h.P(b,a,c,d,e):h.call(null,b,a,c,d,e)};
f.da=function(b,a,c,d,e,g){var h=this.n.da?this.n.da(b,a,c,d,e,g):this.n.call(null,b,a,c,d,e,g),k=vi(this,h);q(k)||si(this.name,h);return k.da?k.da(b,a,c,d,e,g):k.call(null,b,a,c,d,e,g)};f.ga=function(b,a,c,d,e,g,h){var k=this.n.ga?this.n.ga(b,a,c,d,e,g,h):this.n.call(null,b,a,c,d,e,g,h),m=vi(this,k);q(m)||si(this.name,k);return m.ga?m.ga(b,a,c,d,e,g,h):m.call(null,b,a,c,d,e,g,h)};
f.wa=function(b,a,c,d,e,g,h,k){var m=this.n.wa?this.n.wa(b,a,c,d,e,g,h,k):this.n.call(null,b,a,c,d,e,g,h,k),n=vi(this,m);q(n)||si(this.name,m);return n.wa?n.wa(b,a,c,d,e,g,h,k):n.call(null,b,a,c,d,e,g,h,k)};f.xa=function(b,a,c,d,e,g,h,k,m){var n=this.n.xa?this.n.xa(b,a,c,d,e,g,h,k,m):this.n.call(null,b,a,c,d,e,g,h,k,m),p=vi(this,n);q(p)||si(this.name,n);return p.xa?p.xa(b,a,c,d,e,g,h,k,m):p.call(null,b,a,c,d,e,g,h,k,m)};
f.la=function(b,a,c,d,e,g,h,k,m,n){var p=this.n.la?this.n.la(b,a,c,d,e,g,h,k,m,n):this.n.call(null,b,a,c,d,e,g,h,k,m,n),t=vi(this,p);q(t)||si(this.name,p);return t.la?t.la(b,a,c,d,e,g,h,k,m,n):t.call(null,b,a,c,d,e,g,h,k,m,n)};f.ma=function(b,a,c,d,e,g,h,k,m,n,p){var t=this.n.ma?this.n.ma(b,a,c,d,e,g,h,k,m,n,p):this.n.call(null,b,a,c,d,e,g,h,k,m,n,p),u=vi(this,t);q(u)||si(this.name,t);return u.ma?u.ma(b,a,c,d,e,g,h,k,m,n,p):u.call(null,b,a,c,d,e,g,h,k,m,n,p)};
f.na=function(b,a,c,d,e,g,h,k,m,n,p,t){var u=this.n.na?this.n.na(b,a,c,d,e,g,h,k,m,n,p,t):this.n.call(null,b,a,c,d,e,g,h,k,m,n,p,t),y=vi(this,u);q(y)||si(this.name,u);return y.na?y.na(b,a,c,d,e,g,h,k,m,n,p,t):y.call(null,b,a,c,d,e,g,h,k,m,n,p,t)};f.oa=function(b,a,c,d,e,g,h,k,m,n,p,t,u){var y=this.n.oa?this.n.oa(b,a,c,d,e,g,h,k,m,n,p,t,u):this.n.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u),B=vi(this,y);q(B)||si(this.name,y);return B.oa?B.oa(b,a,c,d,e,g,h,k,m,n,p,t,u):B.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u)};
f.pa=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y){var B=this.n.pa?this.n.pa(b,a,c,d,e,g,h,k,m,n,p,t,u,y):this.n.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y),E=vi(this,B);q(E)||si(this.name,B);return E.pa?E.pa(b,a,c,d,e,g,h,k,m,n,p,t,u,y):E.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y)};
f.qa=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B){var E=this.n.qa?this.n.qa(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B):this.n.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B),H=vi(this,E);q(H)||si(this.name,E);return H.qa?H.qa(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B):H.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B)};
f.ra=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E){var H=this.n.ra?this.n.ra(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E):this.n.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E),M=vi(this,H);q(M)||si(this.name,H);return M.ra?M.ra(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E):M.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E)};
f.sa=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H){var M=this.n.sa?this.n.sa(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H):this.n.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H),S=vi(this,M);q(S)||si(this.name,M);return S.sa?S.sa(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H):S.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H)};
f.ta=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M){var S=this.n.ta?this.n.ta(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M):this.n.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M),ca=vi(this,S);q(ca)||si(this.name,S);return ca.ta?ca.ta(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M):ca.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M)};
f.ua=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S){var ca=this.n.ua?this.n.ua(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S):this.n.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S),qa=vi(this,ca);q(qa)||si(this.name,ca);return qa.ua?qa.ua(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S):qa.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S)};
f.va=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca){var qa=this.n.va?this.n.va(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca):this.n.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca),Fa=vi(this,qa);q(Fa)||si(this.name,qa);return Fa.va?Fa.va(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca):Fa.call(null,b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca)};
f.Bc=function(b,a,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa){var Fa=Ke(this.n,b,a,c,d,I([e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa],0)),N=vi(this,Fa);q(N)||si(this.name,Fa);return Ke(N,b,a,c,d,I([e,g,h,k,m,n,p,t,u,y,B,E,H,M,S,ca,qa],0))};function wi(b){this.Vb=b;this.r=2048;this.k=2153775104}f=wi.prototype;f.xb=function(b,a){return la(this.Vb,a.Vb)};f.A=function(){for(var b=Wh(I([this],0)),a=0,c=0;c<b.length;++c)a=31*a+b.charCodeAt(c),a%=4294967296;return a};
f.w=function(b,a){return Hb(a,[r('#uuid "'),r(this.Vb),r('"')].join(""))};f.p=function(b,a){return a instanceof wi&&this.Vb===a.Vb};f.toString=function(){return this.Vb};f.equiv=function(b){return this.p(null,b)};function xi(b,a,c){var d=Error();this.message=b;this.data=a;this.Rc=c;this.name=d.name;this.description=d.description;this.Ad=d.Ad;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}xi.prototype.__proto__=Error.prototype;
xi.prototype.U=!0;xi.prototype.w=function(b,a,c){Hb(a,"#ExceptionInfo{:message ");Y(this.message,a,c);q(this.data)&&(Hb(a,", :data "),Y(this.data,a,c));q(this.Rc)&&(Hb(a,", :cause "),Y(this.Rc,a,c));return Hb(a,"}")};xi.prototype.toString=function(){return ec(this)};function yi(b,a){return new xi(b,a,null)};var zi=new R(null,"y","y",-1757859776),Ai=new R("transact","unique","transact/unique",-940992320),Bi=new R(null,"used-args","used-args",23596256),Ci=new R(null,"args","args",1315556576),Di=new R("parser","in","parser/in",1617442048),Ei=new R(null,"properties","properties",685819552),Fi=new R(null,"updated-at","updated-at",-1592622336),Gi=new R(null,"find","find",496279456),Hi=new R(null,"tempids","tempids",1767509089),Ii=new R(null,"schema","schema",-1582001791),Ji=new R(null,"tuples","tuples",-676032639),
Ki=new R("parser","find","parser/find",-801023103),Li=new R(null,"attribute","attribute",-2074029119),Mi=new R("transact","cas","transact/cas",816687170),Ni=new R("lookup-ref","unique","lookup-ref/unique",-960647710),Oi=new R("db.unique","identity","db.unique/identity",1675950722),Pi=new R(null,"*","*",-1294732318),Qi=new R("tailrecursion.priority-map","not-found","tailrecursion.priority-map/not-found",-436727517),Ri=new R(null,"max-tx","max-tx",1119558339),Si=new R(null,"multi?","multi?",-749311069),
Ti=new R(null,"where","where",-2044795965),Ui=new R(null,"v","v",21465059),Vi=new R(null,"fn","fn",-1175266204),Wi=new R("db","unique","db/unique",329396388),Xi=new R(null,"wildcard","wildcard",-622473020),Yi=new R(null,"fade-toggle","fade-toggle",-1468421852),Zi=new R(null,"done","done",-889844188),ua=new R(null,"meta","meta",1499536964),$i=new R(null,"variable","variable",-281346492),aj=new R(null,"color","color",1011675173),va=new R(null,"dup","dup",556298533),bj=new R(null,"vertical-align","vertical-align",
651007333),cj=new R(null,"aevt","aevt",-585148059),dj=new R(null,"rattr","rattr",-1122345563),ej=new R(null,"key","key",-1516042587),fj=new R(null,"element","element",1974019749),gj=new R(null,"limit","limit",-1355822363),hj=new R("parser","where","parser/where",-966053850),ij=new R(null,"datom","datom",-371556090),jj=new R("tailrecursion.hoplon","default","tailrecursion.hoplon/default",44030534),kj=new R(null,"db-after","db-after",-571884666),lj=new R(null,"offset","offset",296498311),mj=new R(null,
"scale","scale",-230427353),nj=new R("parser","rule-vars","parser/rule-vars",-1493174969),$e=new R(null,"validator","validator",-1966190681),oj=new R(null,"content","content",15833224),pj=new R(null,"fragment","fragment",826775688),qj=new R(null,"axes","axes",1970866440),rj=new R(null,"default","default",-1987822328),sj=new R(null,"rule-vars","rule-vars",1665972520),tj=new R(null,"free","free",801364328),uj=new R(null,"added","added",2057651688),vj=new R(null,"new","new",-2085437848),wj=new R(null,
"other","other",995793544),xj=new R(null,"bindings","bindings",1271397192),yj=new R("db","valueType","db/valueType",1827971944),zj=new R(null,"symbol","symbol",-1038572696),Aj=new R(null,"avet","avet",1383857032),Bj=new R(null,"sources","sources",-321166424),Cj=new R(null,"name","name",1843675177),Dj=new R(null,"permalink","permalink",1009167849),Ej=new R("query","binding","query/binding",698240489),Fj=new R("db.type","ref","db.type/ref",-1728373079),Gj=new R(null,"fill","fill",883462889),Hj=new R(null,
"value","value",305978217),Ij=new R(null,"prefix-context","prefix-context",-1269613591),Jj=new R(null,"slide-toggle","slide-toggle",968641513),Kj=new R("datascript.pull-api","recursion","datascript.pull-api/recursion",-1897884534),Lj=new R(null,"operation","operation",-1267664310),Mj=new R(null,"max-eid","max-eid",2134868075),Nj=new R(null,"width","width",-384071477),Oj=new R(null,"band","band",-770104117),Pj=new R(null,"css","css",1135045163),Qj=new R(null,"cursor","cursor",1011937484),Rj=new R(null,
"field","field",-1302436500),Sj=new R(null,"type","type",1174270348),Tj=new R(null,"eids","eids",1546550700),Uj=new R(null,"update","update",1045576396),Vj=new R(null,"state","state",-1988618099),Wj=new R(null,"entity-id","entity-id",1485898093),Vh=new R(null,"fallback-impl","fallback-impl",-1501286995),Xj=new R(null,"source","source",-433931539),Yj=new R("transaction","filtered","transaction/filtered",1699706605),sa=new R(null,"flush-on-newline","flush-on-newline",-151457939),Zj=new R("db","isComponent",
"db/isComponent",423352398),ak=new R(null,"scales","scales",-1197224722),bk=new R(null,"toggle","toggle",1291842030),ck=new R("db.fn","call","db.fn/call",-151594418),dk=new R("transact","upsert","transact/upsert",412688078),ek=new R(null,"e","e",1381269198),fk=new R(null,"rules","rules",1198912366),gk=new R(null,"elements","elements",657646735),ki=new R(null,"descendants","descendants",1824886031),hk=new R(null,"title","title",636505583),ik=new R(null,"eavt","eavt",-666437073),jk=new R("db.fn","retractEntity",
"db.fn/retractEntity",-1423535441),kk=new R(null,"enter","enter",1792452624),li=new R(null,"ancestors","ancestors",-776045424),lk=new R("db.unique","value","db.unique/value",276903088),mk=new R(null,"db-before","db-before",-553691536),ta=new R(null,"readably","readably",1129599760),Nh=new R(null,"more-marker","more-marker",-14717935),nk=new R(null,"tx-data","tx-data",934159761),ok=new R(null,"rels","rels",1770187185),pk=new R(null,"href\x3d","href\x3d",-1491297775),qk=new R("db","retract","db/retract",
-1549825231),rk=new R(null,"hover","hover",-341141711),sk=new R(null,"click","click",1912301393),tk=new R(null,"binding","binding",539932593),uk=new R(null,"rel\x3d","rel\x3d",-1742305166),vk=new R(null,"tx","tx",466630418),wk=new R(null,"porrl","porrl",-1693905102),xk=new R("parser","with","parser/with",-386255821),yk=new R(null,"recursion","recursion",-749738765),zk=new R(null,"seen","seen",-518999789),Ak=new R("tailrecursion.javelin","none","tailrecursion.javelin/none",273761139),Bk=new R(null,
"with","with",-1536296876),Ck=new R(null,"from","from",1815293044),Dk=new R(null,"pending-guards","pending-guards",-1255527308),Ek=new R("db","current-tx","db/current-tx",1600722132),wa=new R(null,"print-length","print-length",1931866356),Fk=new R(null,"values","values",372645556),Gk=new R(null,"class","class",-2030961996),Hk=new R("db.fn","retractAttribute","db.fn/retractAttribute",937402164),Ik=new R("lookup-ref","syntax","lookup-ref/syntax",-317304012),Jk=new R("db.fn","cas","db.fn/cas",-379352172),
Kk=new R("entity-id","syntax","entity-id/syntax",1921317045),Lk=new R(null,"specs","specs",1426570741),ji=new R(null,"parents","parents",-2027538891),Mk=new R("db","cardinality","db/cardinality",-104975659),Nk=new R(null,"expected","expected",1583670997),Ok=new R(null,"code","code",1586293142),Pk=new R("db","id","db/id",-1388397098),Qk=new R(null,"focus-select","focus-select",1107982934),Rk=new R("entity-id","missing","entity-id/missing",1234588374),Sk=new R(null,"attrs","attrs",-2090668713),Tk=new R(null,
"marks","marks",-1844991497),Uk=new R(null,"context","context",-830191113),Vk=new R(null,"focus","focus",234677911),Wk=new R(null,"ticks","ticks",-406190313),Xk=new R("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353),Yk=new R(null,"subpattern","subpattern",45002743),Zk=new R(null,"nice","nice",1404040504),$k=new R(null,"error","error",-978969032),al=new R(null,"depth","depth",1768663640),bl=new R("parser","binding","parser/binding",-346395752),cl=new R(null,"x","x",2099068185),
dl=new R("schema","validation","schema/validation",1178447161),el=new R("db","add","db/add",235286841),fl=new R(null,"clauses","clauses",1454841241),gl=new R(null,"form","form",-1624062471),hl=new R(null,"tag","tag",-1290361223),il=new R(null,"domain","domain",1847214937),jl=new R(null,"eid","eid",559519930),kl=new R(null,"rschema","rschema",-1196134054),ll=new R(null,"tx-meta","tx-meta",1159283194),ml=new R("db.cardinality","many","db.cardinality/many",772806234),nl=new R("transact","syntax","transact/syntax",
-299207078),ol=new R(null,"y2","y2",-718691301),pl=new R(null,"wildcard?","wildcard?",-686044101),ql=new R(null,"hierarchy","hierarchy",-1053470341),Uh=new R(null,"alt-impl","alt-impl",670969595),rl=new R(null,"created-at","created-at",-89248644),sl=new R("parser","pull","parser/pull",-2147427204),tl=new R(null,"entity","entity",-450970276),ul=new R(null,"prefix-clauses","prefix-clauses",1294180028),vl=new R(null,"expand","expand",595248157),wl=new R(null,"listeners","listeners",394544445),xl=new R(null,
"map","map",1371690461),yl=new R(null,"kvps","kvps",65308317),zl=new R(null,"href","href",-793805698),Al=new R("db.cardinality","one","db.cardinality/one",1428352190),Bl=new R(null,"required","required",1807647006),Cl=new R(null,"scroll-to","scroll-to",-34957602),Dl=new R(null,"a","a",-2123407586),El=new R(null,"datoms","datoms",-290874434),Fl=new R(null,"old","old",-1825222690),Gl=new R(null,"range","range",1639692286),Hl=new R(null,"height","height",1025178622),Il=new R(null,"select","select",1147833503),
Jl=new R(null,"in","in",-1531184865),Kl=new R(null,"vars","vars",-2046957217),Ll=new R(null,"pattern","pattern",242135423),Ml=new R(null,"html","html",-998796897),yh=new R("cljs.core","not-found","cljs.core/not-found",-1572889185),Nl=new R(null,"text","text",-1790561697),Ol=new R(null,"md","md",707286655),Pl=new R(null,"scrollTop","scrollTop",-1143661921),Ql=new R(null,"data","data",-232669377),Rl=new R("parser","query","parser/query",1877320671),Sl=new R(null,"attr","attr",-604132353),Tl=new R(null,
"results","results",-1134170113);var Ul=function Ul(a){if(a?a.ed:a)return a.ed();var c;c=Ul[ba(null==a?null:a)];if(!c&&(c=Ul._,!c))throw Ga("PushbackReader.read-char",a);return c.call(null,a)},Vl=function Vl(a,c){if(a?a.fd:a)return a.fd(0,c);var d;d=Vl[ba(null==a?null:a)];if(!d&&(d=Vl._,!d))throw Ga("PushbackReader.unread",a);return d.call(null,a,c)};function Wl(b,a,c){this.Q=b;this.buffer=a;this.tb=c}Wl.prototype.ed=function(){return 0===this.buffer.length?(this.tb+=1,this.Q[this.tb]):this.buffer.pop()};
Wl.prototype.fd=function(b,a){return this.buffer.push(a)};function Xl(b){var a=!/[^\t\n\r ]/.test(b);return q(a)?a:","===b}function Yl(b,a){var c;!(c=!/[^0-9]/.test(a))&&(c="+"===a||"-"===a)&&(c=Ul(b),Vl(b,c),c=!/[^0-9]/.test(c));return c}function Zl(b){throw Error(Ge(r,b));}function $l(b,a){for(var c=new ja(a),d=Ul(b);;){var e;if(!(e=null==d||Xl(d))){e=d;var g="#"!==e;e=g?(g="'"!==e)?(g=":"!==e)?am.c?am.c(e):am.call(null,e):g:g:g}if(e)return Vl(b,d),c.toString();c.append(d);d=Ul(b)}}
function bm(b){for(;;){var a=Ul(b);if("\n"===a||"\r"===a||null==a)return b}}var cm=Mh("^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+))(N)?$"),dm=Mh("^([-+]?[0-9]+)/([0-9]+)$"),em=Mh("^([-+]?[0-9]+(\\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?$"),fm=Mh("^[:]?([^0-9/].*/)?([^0-9/][^/]*)$");function gm(b,a){var c=b.exec(a);return null!=c&&c[0]===a?1===c.length?c[0]:c:null}
function hm(b){if(q(gm(cm,b))){b=gm(cm,b);var a=b[2];if(null!=(F.b(a,"")?null:a))b=0;else{var a=q(b[3])?[b[3],10]:q(b[4])?[b[4],16]:q(b[5])?[b[5],8]:q(b[6])?[b[7],parseInt(b[6],10)]:[null,null],c=a[0];null==c?b=null:(a=parseInt(c,a[1]),b="-"===b[1]?-a:a)}}else q(gm(dm,b))?(b=gm(dm,b),b=parseInt(b[1],10)/parseInt(b[2],10)):b=q(gm(em,b))?parseFloat(b):null;return b}var im=Mh("^[0-9A-Fa-f]{2}$"),jm=Mh("^[0-9A-Fa-f]{4}$");
function km(b,a,c){return q(Kh(b,c))?c:Zl(I(["Unexpected unicode escape \\",a,c],0))}function lm(b){return String.fromCharCode(parseInt(b,16))}
function mm(b){var a=Ul(b),c="t"===a?"\t":"r"===a?"\r":"n"===a?"\n":"\\"===a?"\\":'"'===a?'"':"b"===a?"\b":"f"===a?"\f":null;q(c)?a=c:"x"===a?(b=(new ja(Ul(b),Ul(b))).toString(),a=lm(km(im,a,b))):"u"===a?(b=(new ja(Ul(b),Ul(b),Ul(b),Ul(b))).toString(),a=lm(km(jm,a,b))):a=/[^0-9]/.test(a)?Zl(I(["Unexpected unicode escape \\",a],0)):String.fromCharCode(a);return a}function nm(b){for(var a=Ul(b);;){var c;c=a;c=Xl.c?Xl.c(c):Xl.call(null,c);if(q(c))a=Ul(b);else return a}}
function om(b,a){for(var c=Mb(Wc);;){var d=nm(a);q(d)||Zl(I(["EOF while reading"],0));if(b===d)return Ob(c);var e=function(){var a=d;return am.c?am.c(a):am.call(null,a)}();if(q(e))var g=e,e=function(){var b=d;return g.b?g.b(a,b):g.call(null,a,b)}();else Vl(a,d),e=pm.u?pm.u(a,!0,null,!0):pm.call(null,a,!0,null);c=e===a?c:De.b(c,e)}}function qm(b,a){return Zl(I(["Reader for ",a," not implemented yet"],0))}
function rm(b,a){var c=Ul(b),d=sm.c?sm.c(c):sm.call(null,c);if(q(d))return d.b?d.b(b,a):d.call(null,b,a);d=tm.b?tm.b(b,c):tm.call(null,b,c);return q(d)?d:Zl(I(["No dispatch macro for ",c],0))}function um(b,a){return Zl(I(["Unmatched delimiter ",a],0))}function vm(b){return Ge(he,om(")",b))}function wm(b){return om("]",b)}function xm(b){b=om("}",b);Qe(K(b))&&Zl(I(["Map literal must contain an even number of forms"],0));return Ge(Ze,b)}
function ym(b,a){for(var c=new ja(a),d=Ul(b);;){if(q(function(){var a=null==d;if(a||(a=Xl(d)))return a;a=d;return am.c?am.c(a):am.call(null,a)}())){Vl(b,d);var e=c.toString(),c=hm(e);return q(c)?c:Zl(I(["Invalid number format [",e,"]"],0))}c.append(d);d=e=Ul(b)}}function zm(b){for(var a=new ja,c=Ul(b);;){if(null==c)return Zl(I(["EOF while reading"],0));if("\\"===c)a.append(mm(b));else{if('"'===c)return a.toString();a.append(c)}c=Ul(b)}}
function Am(b){for(var a=new ja,c=Ul(b);;){if(null==c)return Zl(I(["EOF while reading"],0));if("\\"===c){a.append(c);var d=Ul(b);if(null==d)return Zl(I(["EOF while reading"],0));var e=function(){var b=a;b.append(d);return b}(),g=Ul(b)}else{if('"'===c)return a.toString();e=function(){var b=a;b.append(c);return b}();g=Ul(b)}a=e;c=g}}
function Bm(b,a){var c=$l(b,a),d=-1!=c.indexOf("/");q(q(d)?1!==c.length:d)?c=tc(c.substring(0,c.indexOf("/")),c.substring(c.indexOf("/")+1,c.length)):(d=sc(c),c="nil"===c?null:"true"===c?!0:"false"===c?!1:"/"===c?new z(null,"/","/",-1371932971,null):d);return c}
function Cm(b){b=$l(b,Ul(b));var a=gm(fm,b);b=a[0];var c=a[1],a=a[2];return void 0!==c&&":/"===c.substring(c.length-2,c.length)||":"===a[a.length-1]||-1!==b.indexOf("::",1)?Zl(I(["Invalid token: ",b],0)):null!=c&&0<c.length?oe.b(c.substring(0,c.indexOf("/")),a):oe.c(b)}function Dm(b){return function(a){return Ta(Ta(wc,pm.u?pm.u(a,!0,null,!0):pm.call(null,a,!0,null)),b)}}function Em(){return function(){return Zl(I(["Unreadable form"],0))}}
function Fm(b){var a;a=pm.u?pm.u(b,!0,null,!0):pm.call(null,b,!0,null);a=a instanceof z?new l(null,1,[hl,a],null):"string"===typeof a?new l(null,1,[hl,a],null):a instanceof R?new Bg([a,!0]):a;md(a)||Zl(I(["Metadata must be Symbol,Keyword,String or Map"],0));return((b=pm.u?pm.u(b,!0,null,!0):pm.call(null,b,!0,null))?b.k&262144||b.ud||(b.k?0:Da(wb,b)):Da(wb,b))?ed(b,wh(I([fd(b),a],0))):Zl(I(["Metadata can only be applied to IWithMetas"],0))}function Gm(b){return Ah(om("}",b))}
function Hm(b){return Mh(Am(b))}function Im(b){pm.u?pm.u(b,!0,null,!0):pm.call(null,b,!0,null);return b}function am(b){return'"'===b?zm:":"===b?Cm:";"===b?bm:"'"===b?Dm(new z(null,"quote","quote",1377916282,null)):"@"===b?Dm(new z(null,"deref","deref",1494944732,null)):"^"===b?Fm:"`"===b?qm:"~"===b?qm:"("===b?vm:")"===b?um:"["===b?wm:"]"===b?um:"{"===b?xm:"}"===b?um:"\\"===b?Ul:"#"===b?rm:null}function sm(b){return"{"===b?Gm:"\x3c"===b?Em():'"'===b?Hm:"!"===b?bm:"_"===b?Im:null}
function pm(b,a,c){for(;;){var d=Ul(b);if(null==d)return q(a)?Zl(I(["EOF while reading"],0)):c;if(!Xl(d))if(";"===d){var e=function(){var a=b,c=d;return bm.b?bm.b(a,c):bm.call(null,a)}();b=e}else{var g=am(d),e=q(g)?function(){var a=b,c=d;return g.b?g.b(a,c):g.call(null,a,c)}():Yl(b,d)?ym(b,d):Bm(b,d);if(e!==b)return e}}}
var Jm=function(b,a){return function(c,d){return Zc(q(d)?a:b,c)}}(new V(null,13,5,W,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),new V(null,13,5,W,[null,31,29,31,30,31,30,31,31,30,31,30,31],null)),Km=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function Lm(b){b=parseInt(b,10);return Ba(isNaN(b))?b:null}
function Mm(b,a,c,d){b<=a&&a<=c||Zl(I([[r(d),r(" Failed:  "),r(b),r("\x3c\x3d"),r(a),r("\x3c\x3d"),r(c)].join("")],0));return a}
function Nm(b){var a=Kh(Km,b);L(a,0);var c=L(a,1),d=L(a,2),e=L(a,3),g=L(a,4),h=L(a,5),k=L(a,6),m=L(a,7),n=L(a,8),p=L(a,9),t=L(a,10);if(Ba(a))return Zl(I([[r("Unrecognized date/time syntax: "),r(b)].join("")],0));var u=Lm(c),y=function(){var a=Lm(d);return q(a)?a:1}();b=function(){var a=Lm(e);return q(a)?a:1}();var a=function(){var a=Lm(g);return q(a)?a:0}(),c=function(){var a=Lm(h);return q(a)?a:0}(),B=function(){var a=Lm(k);return q(a)?a:0}(),E=function(){var a;a:if(F.b(3,K(m)))a=m;else if(3<K(m))a=
m.substring(0,3);else for(a=new ja(m);;)if(3>a.wb.length)a=a.append("0");else{a=a.toString();break a}a=Lm(a);return q(a)?a:0}(),n=(F.b(n,"-")?-1:1)*(60*function(){var a=Lm(p);return q(a)?a:0}()+function(){var a=Lm(t);return q(a)?a:0}());return new V(null,8,5,W,[u,Mm(1,y,12,"timestamp month field must be in range 1..12"),Mm(1,b,function(){var a;a=0===Xd(u,4);q(a)&&(a=Ba(0===Xd(u,100)),a=q(a)?a:0===Xd(u,400));return Jm.b?Jm.b(y,a):Jm.call(null,y,a)}(),"timestamp day field must be in range 1..last day in month"),
Mm(0,a,23,"timestamp hour field must be in range 0..23"),Mm(0,c,59,"timestamp minute field must be in range 0..59"),Mm(0,B,F.b(c,59)?60:59,"timestamp second field must be in range 0..60"),Mm(0,E,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var Om,Pm=new l(null,4,["inst",function(b){var a;if("string"===typeof b)if(a=Nm(b),q(a)){b=L(a,0);var c=L(a,1),d=L(a,2),e=L(a,3),g=L(a,4),h=L(a,5),k=L(a,6);a=L(a,7);a=new Date(Date.UTC(b,c-1,d,e,g,h,k)-6E4*a)}else a=Zl(I([[r("Unrecognized date/time syntax: "),r(b)].join("")],0));else a=Zl(I(["Instance literal expects a string for its timestamp."],0));return a},"uuid",function(b){return"string"===typeof b?new wi(b):Zl(I(["UUID literal expects a string as its representation."],0))},"queue",function(b){return nd(b)?
tf.b(lg,b):Zl(I(["Queue literal expects a vector for its elements."],0))},"js",function(b){if(nd(b)){var a=[];b=A(b);for(var c=null,d=0,e=0;;)if(e<d){var g=c.M(null,e);a.push(g);e+=1}else if(b=A(b))c=b,od(c)?(b=Ub(c),e=Vb(c),c=b,d=K(b),b=e):(b=C(c),a.push(b),b=D(c),c=null,d=0),e=0;else break;return a}if(md(b)){a={};b=A(b);c=null;for(e=d=0;;)if(e<d){var h=c.M(null,e),g=L(h,0),h=L(h,1);a[pe(g)]=h;e+=1}else if(b=A(b))od(b)?(d=Ub(b),b=Vb(b),c=d,d=K(d)):(d=C(b),c=L(d,0),d=L(d,1),a[pe(c)]=d,b=D(b),c=null,
d=0),e=0;else break;return a}return Zl(I([[r("JS literal expects a vector or map containing "),r("only string or unqualified keyword keys")].join("")],0))}],null);Om=Ye?Ye(Pm):Xe.call(null,Pm);var Qm=Ye?Ye(null):Xe.call(null,null);
function tm(b,a){var c=Bm(b,a),d=Zc(G.c?G.c(Om):G.call(null,Om),""+r(c)),e=G.c?G.c(Qm):G.call(null,Qm);return q(d)?(c=pm(b,!0,null),d.c?d.c(c):d.call(null,c)):q(e)?(d=pm(b,!0,null),e.b?e.b(c,d):e.call(null,c,d)):Zl(I(["Could not find tag parser for ",""+r(c)," in ",Wh(I([wg(G.c?G.c(Om):G.call(null,Om))],0))],0))}function Rm(b,a){var c=""+r(b);Zc(G.c?G.c(Om):G.call(null,Om),c);bf.u(Om,O,c,a)};function Sm(b,a,c,d){this.Ba=b;this.Aa=a;this.o=c;this.h=d;this.r=0;this.k=2565220111}f=Sm.prototype;f.s=function(b,a){return Zc(this.Aa,a)};f.q=function(b,a,c){return $c(this.Aa,a,c)};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#tailrecursion.priority-map {",", ","}",c,this)};f.C=function(){return this.o};f.I=function(){return K(this.Aa)};f.ob=function(){if(0===K(this.Aa))return null;var b=C(this.Ba);return new V(null,2,5,W,[C(lb(b)),kb(b)],null)};
f.pb=function(){if(0===K(this.Aa))throw Error("Can't pop empty priority map");var b=C(this.Ba),a=lb(b),c=C(a),b=kb(b);return F.b(K(a),1)?new Sm(P.b(this.Ba,b),P.b(this.Aa,c),this.o,null):new Sm(O.f(this.Ba,b,hd.b(a,c)),P.b(this.Aa,c),this.o,null)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){return Bb(this.Aa,a)};f.Y=function(){return ed(Tm,this.o)};
f.N=function(b,a){var c=this.Aa.b?this.Aa.b(a,Qi):this.Aa.call(null,a,Qi);if(F.b(c,Qi))return this;var d=this.Ba.c?this.Ba.c(c):this.Ba.call(null,c);return F.b(K(d),1)?new Sm(P.b(this.Ba,c),P.b(this.Aa,a),this.o,null):new Sm(O.f(this.Ba,c,hd.b(d,a)),P.b(this.Aa,a),this.o,null)};
f.K=function(b,a,c){b=$c(this.Aa,a,null);if(q(b)){if(F.b(b,c))return this;var d=Zc(this.Ba,b);return F.b(K(d),1)?new Sm(O.f(P.b(this.Ba,b),c,J.b($c(this.Ba,c,Ad),a)),O.f(this.Aa,a,c),this.o,null):new Sm(O.j(this.Ba,b,hd.b(Zc(this.Ba,b),a),I([c,J.b($c(this.Ba,c,Ad),a)],0)),O.f(this.Aa,a,c),this.o,null)}return new Sm(O.f(this.Ba,c,J.b($c(this.Ba,c,Ad),a)),O.f(this.Aa,a,c),this.o,null)};f.Eb=function(b,a){return vd(this.Aa,a)};
f.B=function(){var b=this,a=this;return A(function(){return function(a){return function e(b){return new qe(null,function(a){return function(){for(var c=b;;){var m=A(c);if(m){var n=m,p=C(n),t=L(p,0),u=L(p,1);if(m=A(function(a,b,c,e,g,h,k){return function Fa(m){return new qe(null,function(a,b,c){return function(){for(;;){var a=A(m);if(a){if(od(a)){var b=Ub(a),e=K(b),g=ue(e);a:for(var h=0;;)if(h<e){var k=w.b(b,h);g.add(new V(null,2,5,W,[k,c],null));h+=1}else{b=!0;break a}return b?we(g.R(),Fa(Vb(a))):
we(g.R(),null)}g=C(a);return Rc(new V(null,2,5,W,[g,c],null),Fa(vc(a)))}return null}}}(a,b,c,e,g,h,k),null,null)}}(c,p,t,u,n,m,a)(u)))return U.b(m,e(vc(c)));c=vc(c)}else return null}}}(a),null,null)}}(a)(b.Ba)}())};f.D=function(b,a){return new Sm(this.Ba,this.Aa,a,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.s(null,b);case 3:return this.q(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.s(null,b)};b.f=function(a,b,d){return this.q(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return this.s(null,b)};f.b=function(b,a){return this.q(null,b,a)};var Tm=new Sm(th(),Q,Q,null);
Rm("tailrecursion.priority-map",function(b){return md(b)?tf.b(Tm,b):Zl(I(["Priority map literal expects a map for its elements."],0))});var Um=Ye?Ye(0):Xe.call(null,0);function Vm(b,a){return function d(a){var g=gd(a);return q(g)?new qe(null,function(g){return function(){return Rc(g,d(tf.b(null==a?null:qb(a),q(Ld.c?Ld.c(g):Ld.call(null,g))?b.c?b.c(g):b.call(null,g):null)))}}(g,g),null,null):null}(J.b(lg,a))}
function Wm(b){for(;;){var a=C(gd(b));if(q(a)){var c=a,d=null==b?null:qb(b),e=c.prev,g=function(){var a=c.nc;return q(a)?a.t?a.t():a.call(null):c.state}(),h=Le.b(g,e);h&&(c.prev=g,Kb(c,e,g));b=h?v(function(){return function(a,b){return O.f(a,b,b.Ua)}}(b,d,e,g,h,c,a),d,c.Va):d}else break}}function Xm(b){return q(Ym.c?Ym.c(b):Ym.call(null,b))?G.c?G.c(b):G.call(null,b):b}function Zm(){return bf.b(Um,Ec)}
function $m(b){if(q(null))bf.u(null,O,b,b.Ua);else{a:for(var a=I([b,b.Ua],0),a=A(a),c=Tm;;)if(a)var d=D(D(a)),c=O.f(c,C(a),Tc(a)),a=d;else break a;Wm(c)}return b}
function an(b){var a=I([!0],0),a=L(a,0),c=b.Ma;b.Ma=Wc;b.update=null;b.nc=null;q(a)||(b.mb=Q);for(var a=A(c),c=null,d=0,e=0;;)if(e<d){var g=c.M(null,e);q(function(){var a=g;return Ym.c?Ym.c(a):Ym.call(null,a)}())&&(g.Va=hd.b(g.Va,b));e+=1}else if(a=A(a))c=a,od(c)?(a=Ub(c),e=Vb(c),c=a,d=K(a),a=e):(g=C(c),q(function(){var a=g;return Ym.c?Ym.c(a):Ym.call(null,a)}())&&(g.Va=hd.b(g.Va,b)),a=D(c),c=null,d=0),e=0;else break}
function bn(){var b=1<arguments.length?new uc(Array.prototype.slice.call(arguments,1),0):null;return cn(arguments[0],b)}
function cn(b,a){var c=L(a,0),d=L(a,1);an(b);if(q(c)){b.Ma=J.b($f(d),c);for(var e=A(b.Ma),g=null,h=0,k=0;;)if(k<h){var m=g.M(null,k);if(q(function(){var a=m;return Ym.c?Ym.c(a):Ym.call(null,a)}())&&(m.Va=J.b(m.Va,b),m.Ua>b.Ua))for(var n=A(Vm(function(){return function(a){return a.Va}}(e,g,h,k,m,a,c,d),m)),p=null,t=0,u=0;;)if(u<t)p.M(null,u).Ua=Zm(),u+=1;else if(n=A(n))p=n,od(p)?(n=Ub(p),u=Vb(p),p=n,t=K(n),n=u):(C(p).Ua=Zm(),n=D(p),p=null,t=0),u=0;else break;k+=1}else if(p=A(e)){n=p;if(od(n))e=Ub(n),
h=Vb(n),g=e,n=K(e),e=h,h=n;else{var y=C(n);if(q(function(){var a=y;return Ym.c?Ym.c(a):Ym.call(null,a)}())&&(y.Va=J.b(y.Va,b),y.Ua>b.Ua))for(e=A(Vm(function(){return function(a){return a.Va}}(e,g,h,k,y,n,p,a,c,d),y)),g=null,k=h=0;;)if(k<h)g.M(null,k).Ua=Zm(),k+=1;else if(e=A(e))g=e,od(g)?(e=Ub(g),k=Vb(g),g=e,h=K(e),e=k):(C(g).Ua=Zm(),e=D(g),g=null,h=0),k=0;else break;e=D(n);g=null;h=0}k=0}else break;b.nc=function(a){return function(){return b.state=a(b.Ma)}}(function(){return function(a){return Ge(Xm(gd(a)),
gf.b(Xm,null==a?null:qb(a)))}}(a,c,d),a,c,d)}return $m(b)}function dn(b,a,c,d,e,g,h,k,m){this.o=b;this.state=a;this.Ua=c;this.prev=d;this.Ma=e;this.Va=g;this.nc=h;this.mb=k;this.update=m;this.r=98306;this.k=2147909632}f=dn.prototype;
f.Gc=function(b,a,c){for(var d=A(this.mb),e=null,g=0,h=0;;)if(h<g){b=e.M(null,h);var k=L(b,0);b=L(b,1);var m=a,n=c;b.u?b.u(k,this,m,n):b.call(null,k,this,m,n);h+=1}else if(b=A(d))d=b,od(d)?(e=Ub(d),d=Vb(d),b=e,g=K(e),e=b):(b=C(d),k=L(b,0),b=L(b,1),e=k,g=a,h=c,b.u?b.u(e,this,g,h):b.call(null,e,this,g,h),d=D(d),e=null,g=0),h=0;else return null};f.Fc=function(b,a,c){return this.mb=O.f(this.mb,a,c)};
f.Yc=function(b,a){var c;c=this.state;c=a.c?a.c(c):a.call(null,c);return af.b?af.b(this,c):af.call(null,this,c)};f.Zc=function(b,a,c){b=this.state;a=a.b?a.b(b,c):a.call(null,b,c);return af.b?af.b(this,a):af.call(null,this,a)};f.$c=function(b,a,c,d){b=this.state;a=a.f?a.f(b,c,d):a.call(null,b,c,d);return af.b?af.b(this,a):af.call(null,this,a)};f.ad=function(b,a,c,d,e){b=Je(a,this.state,c,d,e);return af.b?af.b(this,b):af.call(null,this,b)};
f.Xc=function(b,a){if(q(en.c?en.c(this):en.call(null,this)))this.update.call(null,a);else if(q(fn.c?fn.c(this):fn.call(null,this)))this.state=a,$m(this);else throw Error("can't swap! or reset! formula cell");return this.state};f.Sb=function(){return this.state};f.C=function(){return this.o};f.D=function(b,a){return new dn(a,this.state,this.Ua,this.prev,this.Ma,this.Va,this.nc,this.mb,this.update)};f.w=function(b,a){return Oh(a,I(["#\x3cCell: ",Wh(I([this.state],0)),"\x3e"],0))};
function Ym(b){return F.b(Ea(b),dn)?b:null}function en(b){var a=Ym(b);return q(q(a)?b.update:a)?b:null}function fn(b){var a=Ym(b);q(a)&&(a=Ym(b),a=Ba(q(q(a)?b.nc:a)?b:null));return q(a)?b:null}
function gn(b){return function(){function a(a){var b=null;if(0<arguments.length){for(var b=0,g=Array(arguments.length-0);b<g.length;)g[b]=arguments[b+0],++b;b=new uc(g,0)}return c.call(this,b)}function c(a){return cn(hn?hn(Ak):jn.call(null,Ak),I([b,a],0))}a.G=0;a.F=function(a){a=A(a);return c(a)};a.j=c;return a}()}function jn(){switch(arguments.length){case 1:return hn(arguments[0]);default:var b=new uc(Array.prototype.slice.call(arguments,1),0);return kn(arguments[0],b)}}
function hn(b){return bn(new dn(null,b,Zm(),b,Wc,Ad,null,Q,null))}function kn(b,a){var c=sd(a)?Ge(Ze,a):a,c=Zc(c,ua);return bn(new dn(c,b,Zm(),b,Wc,Ad,null,Q,null))};function ln(b,a){if(0>=a||a>=2+K(b))return J.b($f(Rc("",gf.b(r,A(b)))),"");if(q(F.b?F.b(1,a):F.call(null,1,a)))return new V(null,1,5,W,[b],null);if(q(F.b?F.b(2,a):F.call(null,2,a)))return new V(null,2,5,W,["",b],null);var c=a-2;return J.b($f(Rc("",cg($f(gf.b(r,A(b))),0,c))),b.substring(c))}
function mn(b,a,c){if(F.b(""+r(a),"/(?:)/"))a=ln(b,c);else if(1>c)a=$f((""+r(b)).split(a));else a:for(var d=c,e=Wc;;){if(F.b(d,1)){a=J.b(e,b);break a}var g=Lh(a,b);if(q(g)){var h=g,g=b.indexOf(h),h=b.substring(g+K(h)),d=d-1,e=J.b(e,b.substring(0,g));b=h}else{a=J.b(e,b);break a}}if(F.b(0,c))a:for(c=a;;)if(F.b("",gd(c)))c=null==c?null:qb(c);else break a;else c=a;return c}function nn(b){return/^[\s\xa0]*$/.test(null==b?"":String(b))};var on=Ba(window.Node),pn=Ba(on)?function(b){return b instanceof Node}:function(b){try{return b.nodeType}catch(a){if(a instanceof Error)return null;throw a;}},qn=Ba(on)?nd:function(b){try{return nd(b)}catch(a){if(a instanceof Error)return null;throw a;}},rn=Ba(on)?sd:function(b){try{return sd(b)}catch(a){if(a instanceof Error)return null;throw a;}},na=function(b){var a=console;return q(q(a)?console.log:a)?console.log(b):null};function sn(b){return window.setTimeout(b,0)}
var tn=function tn(a){return pf(function(a){var d;d=rn.c?rn.c(a):rn.call(null,a);d=q(d)?d:qn.c?qn.c(a):qn.call(null,a);return q(d)?tn(a):new V(null,1,5,W,[a],null)},I([a],0))};function un(b,a){return b instanceof Element?sn(function d(){return q(document.documentElement.contains(b))?a.t?a.t():a.call(null):window.setTimeout(d,20)}):a.t?a.t():a.call(null)}
function vn(b){var a=L(b,0),c=ae(b,1),d=Se(me,C),e=function(a){return function(b){return gf.b($f,Fh(a,yf(2,2,b)))}}(d,b,a,c,b),d=function(a){return function(b){return pf(Ld,I([lf(a,zf(2,2,Wc,b))],0))}}(d,e,b,a,c,b);return md(a)?new V(null,2,5,W,[a,tn(c)],null):a instanceof R?new V(null,2,5,W,[tf.b(Q,e(b)),tn(d(b))],null):new V(null,2,5,W,[Q,tn(b)],null)}
function wn(b,a){function c(a,b){var c;c=pe(b);var d=Vc(c);c=F.b("\x3d",d)?c.slice(0,-1):c;d=c.substr(0,3);return oe.b(ne(b),F.b(a,d)?c.substr(3):c)}for(var d=Te(c,"do-"),e=Te(c,"on-"),g=Ye?Ye(Q):Xe.call(null,Q),h=Ye?Ye(Q):Xe.call(null,Q),k=function(){return function(a,b){var c;a:{var d=tf.b(Ah(mn(a,/ /,0)),mn(b,/ /,0));c=new ja;for(d=A(d);;)if(d)c.append(""+r(C(d))),d=D(d),null!=d&&c.append(" ");else{c=c.toString();break a}}return c}}(c,d,e,g,h),m=A(a),n=null,p=0,t=0;;)if(t<p){var u=n.M(null,t),
y=L(u,0),B=L(u,1);if(q(Ym(B)))bf.u(g,O,function(){var a=y;return d.c?d.c(a):d.call(null,a)}(),B);else if(bd(B))bf.u(h,O,function(){var a=y;return e.c?e.c(a):e.call(null,a)}(),B);else{var u=b,E=function(){var a=y;return d.c?d.c(a):d.call(null,a)}();xn.f?xn.f(u,E,B):xn.call(null,u,E,B)}t+=1}else if(m=A(m)){if(od(m))p=Ub(m),m=Vb(m),n=p,p=K(p);else{var n=C(m),H=L(n,0),t=L(n,1);q(Ym(t))?bf.u(g,O,function(){var a=H;return d.c?d.c(a):d.call(null,a)}(),t):bd(t)?bf.u(h,O,function(){var a=H;return e.c?e.c(a):
e.call(null,a)}(),t):(n=b,p=function(){var a=H;return d.c?d.c(a):d.call(null,a)}(),xn.f?xn.f(n,p,t):xn.call(null,n,p,t));m=D(m);n=null;p=0}t=0}else break;A(G.c?G.c(g):G.call(null,g))&&setTimeout(function(a,c,d,e,g,h){return function(){for(var k=A(G.c?G.c(e):G.call(null,e)),m=null,n=0,p=0;;)if(p<n){var t=m.M(null,p),u=L(t,0),y=L(t,1),B=b,E=u,H=function(){var a=y;return G.c?G.c(a):G.call(null,a)}();xn.f?xn.f(B,E,H):xn.call(null,B,E,H);Xh(y,Zh(),function(a,c,d,e,g,h){return function(a,c,d,e){return xn.f?
xn.f(b,h,e):xn.call(null,b,h,e)}}(k,m,n,p,t,u,y,a,c,d,e,g,h));p+=1}else if(B=A(k)){t=B;if(od(t))k=Ub(t),p=Vb(t),m=k,n=K(k),k=p;else{var E=C(t),u=L(E,0),y=L(E,1),H=b,Ya=u,ob=function(){var a=y;return G.c?G.c(a):G.call(null,a)}();xn.f?xn.f(H,Ya,ob):xn.call(null,H,Ya,ob);Xh(y,Zh(),function(a,c,d,e,g,h){return function(a,c,d,e){return xn.f?xn.f(b,h,e):xn.call(null,b,h,e)}}(k,m,n,p,E,u,y,t,B,a,c,d,e,g,h));k=D(t);m=null;n=0}p=0}else return null}}(c,d,e,g,h,k),0);A(G.c?G.c(h):G.call(null,h))&&setTimeout(function(a,
c,d,e,g){return function(){for(var a=A(G.c?G.c(g):G.call(null,g)),c=null,d=0,e=0;;)if(e<d){var h=c.M(null,e),k=L(h,0),h=L(h,1),m=b;yn.f?yn.f(m,k,h):yn.call(null,m,k,h);e+=1}else if(a=A(a))od(a)?(k=Ub(a),a=Vb(a),c=k,d=k=K(k)):(c=C(a),k=L(c,0),h=L(c,1),c=b,yn.f?yn.f(c,k,h):yn.call(null,c,k,h),a=D(a),c=null,d=0),e=0;else return null}}(c,d,e,g,h,k),0)}var zn=Ba(on)?function(b,a){return b.appendChild(a)}:function(b,a){try{return b.appendChild(a)}catch(c){if(c instanceof Error)return null;throw c;}};
function An(b,a){jQuery(b).empty();var c=ld(a)?a:new V(null,1,5,W,[a],null);return Bn.b?Bn.b(b,c):Bn.call(null,b,c)}
function Bn(b,a){var c=L(a,0),d=ae(a,1);if(q(Ym(c)))An(b,G.c?G.c(c):G.call(null,c)),Xh(c,Zh(),function(){return function(a,c,d,e){return An(b,e)}}(a,c,d,a));else for(var c=A(Ve(function(){return function(a){return"string"===typeof a?Cn.c?Cn.c(a):Cn.call(null,a):q(pn.c?pn.c(a):pn.call(null,a))?a:null}}(a,c,d,a),tn(a))),d=null,e=0,g=0;;)if(g<e){var h=d.M(null,g),k=b;zn.b?zn.b(k,h):zn.call(null,k,h);g+=1}else if(c=A(c))od(c)?(e=Ub(c),c=Vb(c),d=e,e=K(e)):(e=C(c),d=b,zn.b?zn.b(d,e):zn.call(null,d,e),c=
D(c),d=null,e=0),g=0;else break;return b}f=Element.prototype;f.call=function(){function b(b,d){var e=null;if(1<arguments.length){for(var e=0,g=Array(arguments.length-1);e<g.length;)g[e]=arguments[e+1],++e;e=new uc(g,0)}return a.call(this,0,e)}function a(a,b){var e=vn(b),g=L(e,0),e=L(e,1);q(this.Jc)?this.Jc(g,e):(wn(this,g),Bn(this,e));return this}b.G=1;b.F=function(b){C(b);b=vc(b);return a(0,b)};b.j=a;return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};
f.b=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new uc(e,0)}return a.call(this,d)}function a(a){var b=vn(a);a=L(b,0);b=L(b,1);q(this.Jc)?this.Jc(a,b):(wn(this,a),Bn(this,b));return this}b.G=0;b.F=function(b){b=A(b);return a(b)};b.j=a;return b}();f.U=!0;f.w=function(b,a){return Oh(a,I(["#\x3cElement: ",this.tagName,"\x3e"],0))};
function Dn(b){return function(){function a(a){var b=null;if(0<arguments.length){for(var b=0,g=Array(arguments.length-0);b<g.length;)g[b]=arguments[b+0],++b;b=new uc(g,0)}return c.call(this,b)}function c(a){a=vn(a);var c=L(a,0),g=L(a,1);a=document.getElementsByTagName(b)[0];wn(a,c);jQuery(a).empty();for(var c=A(g),g=null,h=0,k=0;;)if(k<h){var m=g.M(null,k);a.appendChild(m);k+=1}else if(c=A(c))g=c,od(g)?(c=Ub(g),h=Vb(g),g=c,m=K(c),c=h,h=m):(m=C(g),a.appendChild(m),c=D(g),g=null,h=0),k=0;else return null}
a.G=0;a.F=function(a){a=A(a);return c(a)};a.j=c;return a}()}function En(b){return function(){function a(a){var b=null;if(0<arguments.length){for(var b=0,g=Array(arguments.length-0);b<g.length;)g[b]=arguments[b+0],++b;b=new uc(g,0)}return c.call(this,b)}function c(a){return Ge(document.createElement(b),a)}a.G=0;a.F=function(a){a=A(a);return c(a)};a.j=c;return a}()}
var Fn=Dn("body"),Gn=Dn("head"),Hn=En("a"),In=En("code"),Jn=En("div"),Kn=En("h1"),Ln=En("link"),Mn=En("pre"),Nn=En("span"),On=En("table"),Pn=En("td"),Qn=En("tr");function Cn(b){return document.createTextNode(b)}function Rn(b){jQuery(b)}jQuery(function(){return jQuery("body").on("submit",function(b){var a=jQuery(b.target),c=a.attr("action"),a=q(c)?c:a.attr("method");return q(a)?null:b.preventDefault()})});
var Sn=function Sn(){switch(arguments.length){case 1:return Sn.c(arguments[0]);case 2:return Sn.b(arguments[0],arguments[1]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}};Sn.c=function(b){return b.val()};Sn.b=function(b,a){return b.val(""+r(a))};Sn.G=2;var Tn=function Tn(){switch(arguments.length){case 1:return Tn.c(arguments[0]);case 2:return Tn.b(arguments[0],arguments[1]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}};Tn.c=function(b){return b.is(":checked")};
Tn.b=function(b,a){return b.prop("checked",ud(a))};Tn.G=2;if("undefined"===typeof xn)var xn=function(){var b=Ye?Ye(Q):Xe.call(null,Q),a=Ye?Ye(Q):Xe.call(null,Q),c=Ye?Ye(Q):Xe.call(null,Q),d=Ye?Ye(Q):Xe.call(null,Q),e=$c(new l(null,1,[rj,jj],null),ql,ii());return new ti(tc("tailrecursion.hoplon","do!"),function(){return function(a,b){return b}}(b,a,c,d,e),jj,e,b,a,c,d)}();ui(xn,jj,function(b,a,c){a=new Bg([a,c]);return xn.f?xn.f(b,Sl,a):xn.call(null,b,Sl,a)});
ui(xn,Hj,function(){function b(b,d,e){var g=null;if(2<arguments.length){for(var g=0,h=Array(arguments.length-2);g<h.length;)h[g]=arguments[g+2],++g;g=new uc(h,0)}return a.call(this,b,0,g)}function a(a,b,e){a=jQuery(a);return He(F.b("checkbox",a.attr("type"))?Tn:Sn,a,e)}b.G=2;b.F=function(b){var d=C(b);b=D(b);C(b);b=vc(b);return a(d,0,b)};b.j=a;return b}());
ui(xn,Sl,function(b,a,c){b=jQuery(b);c=A(c);a=null;for(var d=0,e=0;;)if(e<d){var g=a.M(null,e),h=L(g,0),g=L(g,1),h=pe(h);F.b(!1,g)?b.removeAttr(h):b.attr(h,F.b(!0,g)?h:g);e+=1}else if(c=A(c))od(c)?(h=Ub(c),c=Vb(c),a=h,d=h=K(h)):(a=C(c),h=L(a,0),g=L(a,1),a=pe(h),F.b(!1,g)?b.removeAttr(a):b.attr(a,F.b(!0,g)?a:g),c=D(c),a=null,d=0),e=0;else return null});
ui(xn,Gk,function(b,a,c){b=jQuery(b);a=function(){return function(a){return Dh(a,mf(!0))}}(b);c=md(c)?c:a("string"===typeof c?c.split(/\s+/):A(c));c=A(c);for(var d=null,e=0,g=0;;)if(g<e){var h=d.M(null,g);a=L(h,0);h=L(h,1);b.toggleClass(pe(a),ud(h));g+=1}else if(c=A(c))od(c)?(d=Ub(c),c=Vb(c),a=d,e=K(d),d=a):(d=C(c),a=L(d,0),h=L(d,1),b.toggleClass(pe(a),ud(h)),c=D(c),d=null,e=0),g=0;else return null});
ui(xn,Pj,function(b,a,c){b=jQuery(b);c=A(c);for(var d=null,e=0,g=0;;)if(g<e){var h=d.M(null,g);a=L(h,0);h=L(h,1);b.css(pe(a),""+r(h));g+=1}else if(c=A(c))od(c)?(d=Ub(c),c=Vb(c),a=d,e=K(d),d=a):(d=C(c),a=L(d,0),h=L(d,1),b.css(pe(a),""+r(h)),c=D(c),d=null,e=0),g=0;else return null});ui(xn,bk,function(b,a,c){return jQuery(b).toggle(ud(c))});ui(xn,Jj,function(b,a,c){return q(c)?jQuery(b).hide().slideDown("fast"):jQuery(b).slideUp("fast")});
ui(xn,Yi,function(b,a,c){return q(c)?jQuery(b).hide().fadeIn("fast"):jQuery(b).fadeOut("fast")});ui(xn,Vk,function(b,a,c){return setTimeout(function(){return q(c)?jQuery(b).focus():jQuery(b).focusout()},0)});ui(xn,Il,function(b){return jQuery(b).select()});ui(xn,Qk,function(b,a,c){return q(c)?(xn.f?xn.f(b,Vk,c):xn.call(null,b,Vk,c),xn.f?xn.f(b,Il,c):xn.call(null,b,Il,c)):null});ui(xn,Nl,function(b,a,c){return jQuery(b).text(""+r(c))});ui(xn,Ml,function(b,a,c){return jQuery(b).html(c)});
ui(xn,Cl,function(b,a,c){return q(c)?(a=jQuery("body,html"),b=jQuery(b),a.animate(ei(new l(null,1,[Pl,b.offset().top],null)))):null});if("undefined"===typeof yn)var yn=function(){var b=Ye?Ye(Q):Xe.call(null,Q),a=Ye?Ye(Q):Xe.call(null,Q),c=Ye?Ye(Q):Xe.call(null,Q),d=Ye?Ye(Q):Xe.call(null,Q),e=$c(new l(null,1,[rj,jj],null),ql,ii());return new ti(tc("tailrecursion.hoplon","on!"),function(){return function(a,b){return b}}(b,a,c,d,e),jj,e,b,a,c,d)}();jQuery.Event.prototype.Sb=function(){return jQuery(this.target).val()};
ui(yn,jj,function(b,a,c){return un(b,function(){return jQuery(b).on(pe(a),c)})});var Un=new V(null,2,5,W,[new l(null,5,[hk,"The making of a new blog",Dj,"making-a-new-blog",Fi,new V(null,1,5,W,["2015-05-02"],null),rl,"2015-04-24",oj,new V(null,3,5,W,[new V(null,2,5,W,[Ol,"I decided to start writing again. And of course the first obstacle\nfor a programmer creating a new blog is choosing what to use as the\nblog stack. To make things easy on me, this choice will be the subject\nof this first post.\n\n*Update (2015-05-02)*:\n[The source is available on\n github](https://github.com/mynomoto/mynomoto.github.io/tree/sources/blog)\n\n## Hoplon\nHoplon is currently being ported to run on boot 2. Since this is a\nspace for experiments that's my choice for rendering this page. I use\nHoplon on boot 1 and while Hoplon itself has not changed, all\nsurroundings have.\n\n### Dependencies\nThere is an official way to add js dependencies on clojurescript now.\nYou can find lots of packaged js ready to use on\n[CLJSJS](http://cljsjs.github.io/). No more worring about adding\npreambles on the compiler options.\n\n### Boot 2\nThe new version of boot has immutable filesets that you handle using\nmiddlewares. Each compilation starts with a clean state so no need to\nrun `lein clean` or `lein cljsbuild clean`.\n\nThis blog is being written using several of those tasks:\n\n- `watch`: watches for file changes and run the tasks after it on the\npipeline.\n- `speak`: beeps when tasks finishes.\n- `sass`: compiles sass files.\n- `hoplon`: compiles hoplon files.\n- `reload`: sends the updated javascript to the browser.\n- `cljs`: compiles clojurescript.\n\nAlso boot has a [nice page with kittens](boot-clj.com).\n\n### Markdown\nThere is a `md` macro on Hoplon that combined with a special syntax for\nmultiline strings allows users just to write markdown intead of having to\nuse normal strings and worry about escaping special chars.\n\n*Update (2015-05-02)*: This can only be used for things that are available when boot\nruns. It won't work on dynamic content. For that you can use\ncljsjs/markdown that packages\n[markdown-js](https://github.com/evilstreak/markdown-js). This blog uses\nmarkdown-js now.\n\n#### Bonus: Code highlight\nThe markdown task will use pygments to highlight your code as you can\nsee below:"],
null),new V(null,2,5,W,[Ok,"(defn xyabc [a]\n  (str a))\n\n(-\x3e\x3e x\n     (map str)\n     (filter y))"],null),new V(null,2,5,W,[Ol,"*Update (2015-05-02)*: This also only works for things available when boot runs.\nThis blog now uses cljsjs/highlight that packages\n[highlight.js](https://highlightjs.org/).\n\n## [MUI] (https://www.muicss.com)\nMui is simple and easy to use. Just a sprinkle of classes and\nsome color configuration go a long way."],null)],null)],null),new l(null,4,[hk,"Minimal Hoplon project",
Dj,"minimal-hoplon-project",rl,"2015-05-02",oj,new V(null,11,5,W,[new V(null,2,5,W,[Ol,"I created\n[minimal Hoplon project](https://github.com/mynomoto/hoplon-minimal).\nBesides the README.md it has only two other files. Let's see their\ncontents.\n\n## build.boot\nThis has the configuration to use [boot](http://boot-clj.com/) to build\nour project.\n\n`set-env! sets the environment, and here we set the dependencies and\nsource paths for the project. So we use a bunch of dependencies and our\nsources live inside the `src` directory."],
null),new V(null,2,5,W,[Ok,'(set-env!\n  :dependencies  \'[[adzerk/boot-cljs          "0.0-2814-3"]\n                   [adzerk/boot-cljs-repl     "0.1.9"]\n                   [adzerk/boot-reload        "0.2.6"]\n                   [tailrecursion/boot-hoplon "0.1.0-SNAPSHOT"]\n                   [tailrecursion/hoplon      "6.0.0-SNAPSHOT"]]\n  :source-paths   #{"src"})'],null),new V(null,2,5,W,[Ol,"`require` makes namespaces and tasks available. So the\n`'[adzerk.boot-cljs :refer [cljs]]` makes the `cljs` task from the\n`adzerk.boot-cljs` namespace available on this project."],
null),new V(null,2,5,W,[Ok,"(require\n  '[adzerk.boot-cljs          :refer [cljs]]\n  '[adzerk.boot-reload        :refer [reload]]\n  '[adzerk.boot-cljs-repl     :refer [cljs-repl start-repl]]\n  '[tailrecursion.boot-hoplon :refer [hoplon prerender]])"],null),new V(null,2,5,W,[Ol,"Here we define a `dev` task that's just a composition of several other\ntasks. You can run `boot -h` in a terminal to get help about what each one\ndoes. But the summary is that this task will reload your code when you\nchange and save your source files, will beep when the compilation finishes\nor fails and will start a Clojurescript REPL server."],
null),new V(null,2,5,W,[Ok,'(deftask dev\n  "Build hoplon-minimal for local development."\n  []\n  (comp\n    (watch)\n    (speak)\n    (hoplon)\n    (reload)\n    (cljs-repl)\n    (cljs)))'],null),new V(null,2,5,W,[Ol,'To connect on the Clojurescript REPL run `boot repl -c` on another\nterminal. Once the REPL starts run `(start-repl)`. You can test if this is\nworking running `(.alert js/window "From the Clojurescript REPL")`.\n\nLastly we define a `prod` task that will compile the Clojurescript using\nadvanded compilation and prerender the html file.'],
null),new V(null,2,5,W,[Ok,'(deftask prod\n  "Build hoplon-minimal for production deployment."\n  []\n  (comp\n    (hoplon)\n    (cljs :optimizations :advanced)\n    (prerender)))'],null),new V(null,2,5,W,[Ol,"So this is the end of the configuration part.\n\n## index.cljs.hl\nNow we need a Hoplon file to compile. The `index.cljs.hl` contains\nClojurescript code that will generate a html page. Let's take a look on\nit's contents."],null),new V(null,2,5,W,[Ok,'(page "index.html")\n\n(html\n  (head)\n  (body\n    (h1 "Hoplon Minimal")))'],
null),new V(null,2,5,W,[Ol,"The `page` form tell Hoplon to generate a `index.html` file. The rest of\nthe file will create the contents of an `html` file with default values.\n\nIf you are willing you [can find out more about\n                        Hoplon](http://hoplon.io/#/getting-started/). You\nalready have your project running so just pick it up from Task 3. Enjoy."],null)],null)],null)],null);function Vn(b,a){var c=He(Eh,b,a);return Rc(c,sf(function(a){return function(b){return a===b}}(c),a))}function Wn(b,a){return K(b)<K(a)?v(J,a,b):v(J,b,a)}var Xn=function Xn(){switch(arguments.length){case 1:return Xn.c(arguments[0]);case 2:return Xn.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Xn.j(arguments[0],arguments[1],a)}};Xn.c=function(b){return b};
Xn.b=function(b,a){for(;;)if(K(a)<K(b)){var c=b;b=a;a=c}else return v(function(a,b){return function(a,c){return vd(b,c)?a:hd.b(a,c)}}(b,a),b,b)};Xn.j=function(b,a,c){b=Vn(function(a){return-K(a)},J.j(c,a,I([b],0)));return v(Xn,C(b),vc(b))};Xn.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Xn.j(a,b,c)};Xn.G=2;
var Yn=function Yn(){switch(arguments.length){case 1:return Yn.c(arguments[0]);case 2:return Yn.b(arguments[0],arguments[1]);default:var a=new uc(Array.prototype.slice.call(arguments,2),0);return Yn.j(arguments[0],arguments[1],a)}};Yn.c=function(b){return b};Yn.b=function(b,a){return K(b)<K(a)?v(function(b,d){return vd(a,d)?hd.b(b,d):b},b,b):v(hd,b,a)};Yn.j=function(b,a,c){return v(Yn,b,J.b(c,a))};Yn.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Yn.j(a,b,c)};Yn.G=2;var Zn={},$n=function $n(a,c,d){if(a?a.Z:a)return a.Z(a,c,d);var e;e=$n[ba(null==a?null:a)];if(!e&&(e=$n._,!e))throw Ga("ITraversable.-collect",a);return e.call(null,a,c,d)},bo=function bo(a,c){if(a?a.X:a)return a.X(a,c);var d;d=bo[ba(null==a?null:a)];if(!d&&(d=bo._,!d))throw Ga("ITraversable.-collect-vars",a);return d.call(null,a,c)};function co(b,a){return ld(b)&&F.b(K(b),a)}
function eo(b,a){return ld(a)?v(function(a,d){var e=b.c?b.c(d):b.call(null,d);return q(e)?J.b(a,e):new Fc(null)},Wc,a):null}function fo(){var b=2<arguments.length?new uc(Array.prototype.slice.call(arguments,2),0):null;return go(arguments[0],arguments[1],b)}function go(b,a,c){var d=L(c,0),e=q(d)?d:Wc;return q(b.c?b.c(a):b.call(null,a))?J.b(e,a):(a?q(q(null)?null:a.W)||(a.Ib?0:Da(Zn,a)):Da(Zn,a))?$n(a,b,e):td(a)?v(function(){return function(a,c){return go(b,c,I([a],0))}}(e,c,d),e,a):e}
function ho(b){var a=id(b);return a?a:Ge(wd,b)}function io(b,a){return ed(b,new l(null,1,[Xj,a],null))}function jo(b){var a=Xj.c(fd(b));return q(a)?a:b}function ko(b,a,c){this.g=b;this.d=a;this.h=c;this.k=2229667594;this.r=8192}f=ko.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a){default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Placeholder{",", ","}",c,U.b(Wc,this.d))};
f.C=function(){return this.g};f.I=function(){return 0+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(Ad,a)?P.b(ed(tf.b(Q,this),this.g),a):new ko(this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return new ko(this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(Wc,this.d))};f.D=function(b,a){return new ko(a,this.d,this.h)};
f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return c};f.X=function(b,a){return a};function lo(b,a,c,d){this.symbol=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=lo.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "symbol":return this.symbol;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Variable{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[zj,this.symbol],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};
f.N=function(b,a){return vd(new zd(null,new l(null,1,[zj,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new lo(this.symbol,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b(zj,a):T.call(null,zj,a))?new lo(c,this.g,this.d,null):new lo(this.symbol,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[zj,this.symbol],null)],null),this.d))};f.D=function(b,a){return new lo(this.symbol,a,this.d,this.h)};
f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.symbol,I([c],0))};f.X=function(b,a){var c=this.symbol;return Z.b?Z.b(a,c):Z.call(null,a,c)};function mo(b,a,c,d){this.symbol=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=mo.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "symbol":return this.symbol;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.SrcVar{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[zj,this.symbol],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};
f.N=function(b,a){return vd(new zd(null,new l(null,1,[zj,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new mo(this.symbol,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b(zj,a):T.call(null,zj,a))?new mo(c,this.g,this.d,null):new mo(this.symbol,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[zj,this.symbol],null)],null),this.d))};f.D=function(b,a){return new mo(this.symbol,a,this.d,this.h)};
f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.symbol,I([c],0))};f.X=function(b,a){var c=this.symbol;return Z.b?Z.b(a,c):Z.call(null,a,c)};function no(b,a,c){this.g=b;this.d=a;this.h=c;this.k=2229667594;this.r=8192}f=no.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a){default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.DefaultSrc{",", ","}",c,U.b(Wc,this.d))};f.C=function(){return this.g};f.I=function(){return 0+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(Ad,a)?P.b(ed(tf.b(Q,this),this.g),a):new no(this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return new no(this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(Wc,this.d))};f.D=function(b,a){return new no(a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return c};f.X=function(b,a){return a};function oo(b,a,c){this.g=b;this.d=a;this.h=c;this.k=2229667594;this.r=8192}f=oo.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a){default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.RulesVar{",", ","}",c,U.b(Wc,this.d))};f.C=function(){return this.g};f.I=function(){return 0+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(Ad,a)?P.b(ed(tf.b(Q,this),this.g),a):new oo(this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return new oo(this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(Wc,this.d))};f.D=function(b,a){return new oo(a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return c};f.X=function(b,a){return a};function po(b,a,c,d){this.value=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=po.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "value":return this.value;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Constant{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[Hj,this.value],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,1,[Hj,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new po(this.value,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b(Hj,a):T.call(null,Hj,a))?new po(c,this.g,this.d,null):new po(this.value,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[Hj,this.value],null)],null),this.d))};
f.D=function(b,a){return new po(this.value,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.value,I([c],0))};f.X=function(b,a){var c=this.value;return Z.b?Z.b(a,c):Z.call(null,a,c)};function qo(b,a,c,d){this.symbol=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=qo.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "symbol":return this.symbol;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.PlainSymbol{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[zj,this.symbol],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,1,[zj,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new qo(this.symbol,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b(zj,a):T.call(null,zj,a))?new qo(c,this.g,this.d,null):new qo(this.symbol,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[zj,this.symbol],null)],null),this.d))};
f.D=function(b,a){return new qo(this.symbol,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.symbol,I([c],0))};f.X=function(b,a){var c=this.symbol;return Z.b?Z.b(a,c):Z.call(null,a,c)};function ro(b){return F.b(new z(null,"_","_",-1201019570,null),b)?new ko(null,null,null):null}function so(b){return b instanceof z&&F.b(C(pe(b)),"?")?new lo(b,null,null,null):null}
function to(b){return b instanceof z&&F.b(C(pe(b)),"$")?new mo(b,null,null,null):null}function uo(b){return b instanceof z?null:new po(b,null,null,null)}function vo(b){return b instanceof z&&Ba(so(b))&&Ba(to(b))&&Ba(ro(b))?new qo(b,null,null,null):null}function wo(b){var a=so(b);if(q(a))return a;a=uo(b);return q(a)?a:to(b)}function xo(b,a,c,d,e){this.required=b;this.sb=a;this.g=c;this.d=d;this.h=e;this.k=2229667594;this.r=8192}f=xo.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "free":return this.sb;case "required":return this.required;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.RuleVars{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Bl,this.required],null),new V(null,2,5,W,[tj,this.sb],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 2+K(this.d)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,2,[tj,null,Bl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new xo(this.required,this.sb,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Bl,a):T.call(null,Bl,a))?new xo(c,this.sb,this.g,this.d,null):q(T.b?T.b(tj,a):T.call(null,tj,a))?new xo(this.required,c,this.g,this.d,null):new xo(this.required,this.sb,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Bl,this.required],null),new V(null,2,5,W,[tj,this.sb],null)],null),this.d))};f.D=function(b,a){return new xo(this.required,this.sb,a,this.d,this.h)};
f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.sb,I([go(a,this.required,I([c],0))],0))};f.X=function(b,a){var c;c=this.required;c=Z.b?Z.b(a,c):Z.call(null,a,c);var d=this.sb;return Z.b?Z.b(c,d):Z.call(null,c,d)};function yo(b,a,c){this.g=b;this.d=a;this.h=c;this.k=2229667594;this.r=8192}f=yo.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a){default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.BindIgnore{",", ","}",c,U.b(Wc,this.d))};f.C=function(){return this.g};f.I=function(){return 0+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(Ad,a)?P.b(ed(tf.b(Q,this),this.g),a):new yo(this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return new yo(this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(Wc,this.d))};f.D=function(b,a){return new yo(a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return c};f.X=function(b,a){return a};function zo(b,a,c,d){this.ba=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=zo.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "variable":return this.ba;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.BindScalar{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[$i,this.ba],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,1,[$i,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new zo(this.ba,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b($i,a):T.call(null,$i,a))?new zo(c,this.g,this.d,null):new zo(this.ba,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[$i,this.ba],null)],null),this.d))};
f.D=function(b,a){return new zo(this.ba,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.ba,I([c],0))};f.X=function(b,a){var c=this.ba;return Z.b?Z.b(a,c):Z.call(null,a,c)};function Ao(b,a,c,d){this.cb=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=Ao.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "bindings":return this.cb;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.BindTuple{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[xj,this.cb],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,1,[xj,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Ao(this.cb,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b(xj,a):T.call(null,xj,a))?new Ao(c,this.g,this.d,null):new Ao(this.cb,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[xj,this.cb],null)],null),this.d))};
f.D=function(b,a){return new Ao(this.cb,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.cb,I([c],0))};f.X=function(b,a){var c=this.cb;return Z.b?Z.b(a,c):Z.call(null,a,c)};function Bo(b,a,c,d){this.ja=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=Bo.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "binding":return this.ja;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.BindColl{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[tk,this.ja],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,1,[tk,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Bo(this.ja,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b(tk,a):T.call(null,tk,a))?new Bo(c,this.g,this.d,null):new Bo(this.ja,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[tk,this.ja],null)],null),this.d))};
f.D=function(b,a){return new Bo(this.ja,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.ja,I([c],0))};f.X=function(b,a){var c=this.ja;return Z.b?Z.b(a,c):Z.call(null,a,c)};function Co(b){return F.b(new z(null,"_","_",-1201019570,null),b)?io(new yo(null,null,null),b):null}
function Do(b){if(q(function(){var a=co(b,2);return q(a)?F.b(Tc(b),new z(null,"...","...",-1926939749,null)):a}())){var a=function(){var a=C(b);return Eo.c?Eo.c(a):Eo.call(null,a)}();if(q(a))return io(new Bo(a,null,null,null),b);throw yi(""+r("Cannot parse collection binding"),new l(null,2,[$k,bl,gl,b],null));}return null}function Fo(b){var a=Co(b);return q(a)?a:Eo.c?Eo.c(b):Eo.call(null,b)}
function Go(b){var a=eo(Fo,b);if(q(a)){if(id(a))throw yi(""+r("Tuple binding cannot be empty"),new l(null,2,[$k,bl,gl,b],null));return io(new Ao(a,null,null,null),b)}return null}
function Eo(b){var a=Do(b);if(q(a))return a;a=co(b,1);a=q(a)?ld(C(b)):a;a=q(a)?io(new Bo(Go(C(b)),null,null,null),b):null;if(q(a))return a;a=Go(b);if(q(a))return a;a=Co(b);if(q(a))return a;a=so(b);a=q(a)?io(new zo(a,null,null,null),b):null;if(q(a))return a;throw yi(""+r("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)"),new l(null,2,[$k,bl,gl,b],null));}
var Ho=function Ho(a){if(a?a.rc:a)return a.rc(a);var c;c=Ho[ba(null==a?null:a)];if(!c&&(c=Ho._,!c))throw Ga("IFindVars.-find-vars",a);return c.call(null,a)};lo.prototype.rc=function(){return new V(null,1,5,W,[this.symbol],null)};function Io(b,a,c,d,e){this.fn=b;this.O=a;this.g=c;this.d=d;this.h=e;this.k=2229667594;this.r=8192}f=Io.prototype;f.rc=function(){return Ho(Vc(this.O))};f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "args":return this.O;case "fn":return this.fn;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Aggregate{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Vi,this.fn],null),new V(null,2,5,W,[Ci,this.O],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 2+K(this.d)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,2,[Ci,null,Vi,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Io(this.fn,this.O,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Vi,a):T.call(null,Vi,a))?new Io(c,this.O,this.g,this.d,null):q(T.b?T.b(Ci,a):T.call(null,Ci,a))?new Io(this.fn,c,this.g,this.d,null):new Io(this.fn,this.O,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Vi,this.fn],null),new V(null,2,5,W,[Ci,this.O],null)],null),this.d))};f.D=function(b,a){return new Io(this.fn,this.O,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;
f.Z=function(b,a,c){return go(a,this.O,I([go(a,this.fn,I([c],0))],0))};f.X=function(b,a){var c;c=this.fn;c=Z.b?Z.b(a,c):Z.call(null,a,c);var d=this.O;return Z.b?Z.b(c,d):Z.call(null,c,d)};function Jo(b,a,c,d,e,g){this.source=b;this.ba=a;this.pattern=c;this.g=d;this.d=e;this.h=g;this.k=2229667594;this.r=8192}f=Jo.prototype;f.rc=function(){return Ho(this.ba)};f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "pattern":return this.pattern;case "variable":return this.ba;case "source":return this.source;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Pull{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[Xj,this.source],null),new V(null,2,5,W,[$i,this.ba],null),new V(null,2,5,W,[Ll,this.pattern],null)],null),this.d))};f.C=function(){return this.g};
f.I=function(){return 3+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,3,[$i,null,Xj,null,Ll,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Jo(this.source,this.ba,this.pattern,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Xj,a):T.call(null,Xj,a))?new Jo(c,this.ba,this.pattern,this.g,this.d,null):q(T.b?T.b($i,a):T.call(null,$i,a))?new Jo(this.source,c,this.pattern,this.g,this.d,null):q(T.b?T.b(Ll,a):T.call(null,Ll,a))?new Jo(this.source,this.ba,c,this.g,this.d,null):new Jo(this.source,this.ba,this.pattern,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,3,5,W,[new V(null,2,5,W,[Xj,this.source],null),new V(null,2,5,W,[$i,this.ba],null),new V(null,2,5,W,[Ll,this.pattern],null)],null),this.d))};f.D=function(b,a){return new Jo(this.source,this.ba,this.pattern,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.pattern,I([go(a,this.ba,I([go(a,this.source,I([c],0))],0))],0))};
f.X=function(b,a){var c;c=this.source;c=Z.b?Z.b(a,c):Z.call(null,a,c);var d=this.ba;c=Z.b?Z.b(c,d):Z.call(null,c,d);d=this.pattern;return Z.b?Z.b(c,d):Z.call(null,c,d)};var Ko=function Ko(a){if(a?a.ec:a)return a.ec(a);var c;c=Ko[ba(null==a?null:a)];if(!c&&(c=Ko._,!c))throw Ga("IFindElements.find-elements",a);return c.call(null,a)};function Lo(b,a,c,d){this.elements=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=Lo.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "elements":return this.elements;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.FindRel{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[gk,this.elements],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,1,[gk,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Lo(this.elements,this.g,Me(P.b(this.d,a)),null)};f.ec=function(){return this.elements};f.K=function(b,a,c){return q(T.b?T.b(gk,a):T.call(null,gk,a))?new Lo(c,this.g,this.d,null):new Lo(this.elements,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[gk,this.elements],null)],null),this.d))};f.D=function(b,a){return new Lo(this.elements,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.elements,I([c],0))};f.X=function(b,a){var c=this.elements;return Z.b?Z.b(a,c):Z.call(null,a,c)};function Mo(b,a,c,d){this.element=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=Mo.prototype;
f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "element":return this.element;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.FindColl{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[fj,this.element],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,1,[fj,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Mo(this.element,this.g,Me(P.b(this.d,a)),null)};f.ec=function(){return new V(null,1,5,W,[this.element],null)};f.K=function(b,a,c){return q(T.b?T.b(fj,a):T.call(null,fj,a))?new Mo(c,this.g,this.d,null):new Mo(this.element,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[fj,this.element],null)],null),this.d))};f.D=function(b,a){return new Mo(this.element,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.element,I([c],0))};f.X=function(b,a){var c=this.element;return Z.b?Z.b(a,c):Z.call(null,a,c)};function No(b,a,c,d){this.element=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=No.prototype;
f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "element":return this.element;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.FindScalar{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[fj,this.element],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,1,[fj,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new No(this.element,this.g,Me(P.b(this.d,a)),null)};f.ec=function(){return new V(null,1,5,W,[this.element],null)};
f.K=function(b,a,c){return q(T.b?T.b(fj,a):T.call(null,fj,a))?new No(c,this.g,this.d,null):new No(this.element,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[fj,this.element],null)],null),this.d))};f.D=function(b,a){return new No(this.element,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.element,I([c],0))};
f.X=function(b,a){var c=this.element;return Z.b?Z.b(a,c):Z.call(null,a,c)};function Oo(b,a,c,d){this.elements=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=Oo.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "elements":return this.elements;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.FindTuple{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[gk,this.elements],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};
f.N=function(b,a){return vd(new zd(null,new l(null,1,[gk,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Oo(this.elements,this.g,Me(P.b(this.d,a)),null)};f.ec=function(){return this.elements};f.K=function(b,a,c){return q(T.b?T.b(gk,a):T.call(null,gk,a))?new Oo(c,this.g,this.d,null):new Oo(this.elements,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[gk,this.elements],null)],null),this.d))};
f.D=function(b,a){return new Oo(this.elements,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.elements,I([c],0))};f.X=function(b,a){var c=this.elements;return Z.b?Z.b(a,c):Z.call(null,a,c)};function Po(b){return b instanceof Io}function Qo(b){return b instanceof Jo}
function Ro(b){var a=so(b);if(q(a))return a;a:{if(ld(b)&&F.b(C(b),new z(null,"pull","pull",779986722,null))){if(3<=K(b)&&4>=K(b)){var c=(a=F.b(K(b),4))?Yc(b,1):new z(null,"$","$",-1580747756,null),a=a?D(D(b)):D(b),d=L(a,0),a=L(a,1),c=to(c),d=so(d),e=so(a),a=q(e)?e:uo(a);if(q(q(c)?q(d)?a:d:c)){a=new Jo(c,d,a,null,null,null);break a}}throw yi(""+r("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable)]"),new l(null,2,[$k,Ki,pj,b],null));}a=null}if(q(a))return a;a:{if(ld(b)&&
F.b(C(b),new z(null,"aggregate","aggregate",-1142967327,null))){if(3<=K(b)&&(L(b,0),c=L(b,1),a=ae(b,2),c=so(c),a=eo(wo,a),q(q(c)?a:c))){a=new Io(c,a,null,null,null);break a}throw yi(""+r("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]"),new l(null,2,[$k,Ki,pj,b],null));}a=null}q(a)?b=a:ld(b)&&2<=K(b)?(a=L(b,0),b=ae(b,1),a=vo(a),b=eo(wo,b),b=q(q(a)?b:a)?new Io(a,b,null,null,null):null):b=null;return b}
function So(b){var a;a=eo(Ro,b);a=null==a?null:new Lo(a,null,null,null);if(q(a))return a;a:{if(ld(b)&&F.b(K(b),1)&&(a=C(b),ld(a)&&F.b(K(a),2)&&F.b(Tc(a),new z(null,"...","...",-1926939749,null)))){a=Ro(C(a));a=null==a?null:new Mo(a,null,null,null);break a}a=null}if(q(a))return a;ld(b)&&F.b(K(b),2)&&F.b(Tc(b),new z(null,".",".",1975675962,null))?(a=Ro(C(b)),a=null==a?null:new No(a,null,null,null)):a=null;if(q(a))return a;ld(b)&&F.b(K(b),1)?(a=C(b),a=eo(Ro,a),a=null==a?null:new Oo(a,null,null,null)):
a=null;if(q(a))return a;throw yi(""+r("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)"),new l(null,2,[$k,Ki,pj,b],null));}function To(b){var a;a=to(b);a=q(a)?a:F.b(new z(null,"%","%",-950237169,null),b)?new oo(null,null,null):null;return q(a)?io(new zo(a,null,null,null),b):Eo(b)}function Uo(b,a,c,d,e){this.source=b;this.pattern=a;this.g=c;this.d=d;this.h=e;this.k=2229667594;this.r=8192}f=Uo.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "pattern":return this.pattern;case "source":return this.source;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Pattern{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Xj,this.source],null),new V(null,2,5,W,[Ll,this.pattern],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 2+K(this.d)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,2,[Xj,null,Ll,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Uo(this.source,this.pattern,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Xj,a):T.call(null,Xj,a))?new Uo(c,this.pattern,this.g,this.d,null):q(T.b?T.b(Ll,a):T.call(null,Ll,a))?new Uo(this.source,c,this.g,this.d,null):new Uo(this.source,this.pattern,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Xj,this.source],null),new V(null,2,5,W,[Ll,this.pattern],null)],null),this.d))};f.D=function(b,a){return new Uo(this.source,this.pattern,a,this.d,this.h)};
f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.pattern,I([go(a,this.source,I([c],0))],0))};f.X=function(b,a){var c;c=this.source;c=Z.b?Z.b(a,c):Z.call(null,a,c);var d=this.pattern;return Z.b?Z.b(c,d):Z.call(null,c,d)};function Vo(b,a,c,d,e){this.fn=b;this.O=a;this.g=c;this.d=d;this.h=e;this.k=2229667594;this.r=8192}f=Vo.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "args":return this.O;case "fn":return this.fn;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Predicate{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Vi,this.fn],null),new V(null,2,5,W,[Ci,this.O],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 2+K(this.d)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,2,[Ci,null,Vi,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Vo(this.fn,this.O,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Vi,a):T.call(null,Vi,a))?new Vo(c,this.O,this.g,this.d,null):q(T.b?T.b(Ci,a):T.call(null,Ci,a))?new Vo(this.fn,c,this.g,this.d,null):new Vo(this.fn,this.O,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Vi,this.fn],null),new V(null,2,5,W,[Ci,this.O],null)],null),this.d))};f.D=function(b,a){return new Vo(this.fn,this.O,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;
f.Z=function(b,a,c){return go(a,this.O,I([go(a,this.fn,I([c],0))],0))};f.X=function(b,a){var c;c=this.fn;c=Z.b?Z.b(a,c):Z.call(null,a,c);var d=this.O;return Z.b?Z.b(c,d):Z.call(null,c,d)};function Wo(b,a,c,d,e,g){this.fn=b;this.O=a;this.ja=c;this.g=d;this.d=e;this.h=g;this.k=2229667594;this.r=8192}f=Wo.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "binding":return this.ja;case "args":return this.O;case "fn":return this.fn;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Function{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[Vi,this.fn],null),new V(null,2,5,W,[Ci,this.O],null),new V(null,2,5,W,[tk,this.ja],null)],null),this.d))};f.C=function(){return this.g};
f.I=function(){return 3+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,3,[Ci,null,Vi,null,tk,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Wo(this.fn,this.O,this.ja,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Vi,a):T.call(null,Vi,a))?new Wo(c,this.O,this.ja,this.g,this.d,null):q(T.b?T.b(Ci,a):T.call(null,Ci,a))?new Wo(this.fn,c,this.ja,this.g,this.d,null):q(T.b?T.b(tk,a):T.call(null,tk,a))?new Wo(this.fn,this.O,c,this.g,this.d,null):new Wo(this.fn,this.O,this.ja,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,3,5,W,[new V(null,2,5,W,[Vi,this.fn],null),new V(null,2,5,W,[Ci,this.O],null),new V(null,2,5,W,[tk,this.ja],null)],null),this.d))};
f.D=function(b,a){return new Wo(this.fn,this.O,this.ja,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.ja,I([go(a,this.O,I([go(a,this.fn,I([c],0))],0))],0))};f.X=function(b,a){var c;c=this.fn;c=Z.b?Z.b(a,c):Z.call(null,a,c);var d=this.O;c=Z.b?Z.b(c,d):Z.call(null,c,d);d=this.ja;return Z.b?Z.b(c,d):Z.call(null,c,d)};
function Xo(b,a,c,d,e,g){this.source=b;this.name=a;this.O=c;this.g=d;this.d=e;this.h=g;this.k=2229667594;this.r=8192}f=Xo.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "args":return this.O;case "name":return this.name;case "source":return this.source;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.RuleExpr{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[Xj,this.source],null),new V(null,2,5,W,[Cj,this.name],null),new V(null,2,5,W,[Ci,this.O],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 3+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,3,[Ci,null,Cj,null,Xj,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Xo(this.source,this.name,this.O,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Xj,a):T.call(null,Xj,a))?new Xo(c,this.name,this.O,this.g,this.d,null):q(T.b?T.b(Cj,a):T.call(null,Cj,a))?new Xo(this.source,c,this.O,this.g,this.d,null):q(T.b?T.b(Ci,a):T.call(null,Ci,a))?new Xo(this.source,this.name,c,this.g,this.d,null):new Xo(this.source,this.name,this.O,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,3,5,W,[new V(null,2,5,W,[Xj,this.source],null),new V(null,2,5,W,[Cj,this.name],null),new V(null,2,5,W,[Ci,this.O],null)],null),this.d))};f.D=function(b,a){return new Xo(this.source,this.name,this.O,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.O,I([go(a,this.name,I([go(a,this.source,I([c],0))],0))],0))};
f.X=function(b,a){var c;c=this.source;c=Z.b?Z.b(a,c):Z.call(null,a,c);var d=this.name;c=Z.b?Z.b(c,d):Z.call(null,c,d);d=this.O;return Z.b?Z.b(c,d):Z.call(null,c,d)};function Yo(b,a,c,d,e,g){this.source=b;this.Wa=a;this.T=c;this.g=d;this.d=e;this.h=g;this.k=2229667594;this.r=8192}f=Yo.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "clauses":return this.T;case "vars":return this.Wa;case "source":return this.source;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Not{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[Xj,this.source],null),new V(null,2,5,W,[Kl,this.Wa],null),new V(null,2,5,W,[fl,this.T],null)],null),this.d))};f.C=function(){return this.g};
f.I=function(){return 3+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,3,[Xj,null,fl,null,Kl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Yo(this.source,this.Wa,this.T,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Xj,a):T.call(null,Xj,a))?new Yo(c,this.Wa,this.T,this.g,this.d,null):q(T.b?T.b(Kl,a):T.call(null,Kl,a))?new Yo(this.source,c,this.T,this.g,this.d,null):q(T.b?T.b(fl,a):T.call(null,fl,a))?new Yo(this.source,this.Wa,c,this.g,this.d,null):new Yo(this.source,this.Wa,this.T,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,3,5,W,[new V(null,2,5,W,[Xj,this.source],null),new V(null,2,5,W,[Kl,this.Wa],null),new V(null,2,5,W,[fl,this.T],null)],null),this.d))};f.D=function(b,a){return new Yo(this.source,this.Wa,this.T,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.T,I([go(a,this.Wa,I([go(a,this.source,I([c],0))],0))],0))};
f.X=function(b,a){var c;c=this.source;c=Z.b?Z.b(a,c):Z.call(null,a,c);var d=this.Wa;c=Z.b?Z.b(c,d):Z.call(null,c,d);d=this.T;return Z.b?Z.b(c,d):Z.call(null,c,d)};function Zo(b,a,c,d,e,g){this.source=b;this.$a=a;this.T=c;this.g=d;this.d=e;this.h=g;this.k=2229667594;this.r=8192}f=Zo.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "clauses":return this.T;case "rule-vars":return this.$a;case "source":return this.source;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Or{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[Xj,this.source],null),new V(null,2,5,W,[sj,this.$a],null),new V(null,2,5,W,[fl,this.T],null)],null),this.d))};f.C=function(){return this.g};
f.I=function(){return 3+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,3,[sj,null,Xj,null,fl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Zo(this.source,this.$a,this.T,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Xj,a):T.call(null,Xj,a))?new Zo(c,this.$a,this.T,this.g,this.d,null):q(T.b?T.b(sj,a):T.call(null,sj,a))?new Zo(this.source,c,this.T,this.g,this.d,null):q(T.b?T.b(fl,a):T.call(null,fl,a))?new Zo(this.source,this.$a,c,this.g,this.d,null):new Zo(this.source,this.$a,this.T,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,3,5,W,[new V(null,2,5,W,[Xj,this.source],null),new V(null,2,5,W,[sj,this.$a],null),new V(null,2,5,W,[fl,this.T],null)],null),this.d))};f.D=function(b,a){return new Zo(this.source,this.$a,this.T,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.T,I([go(a,this.$a,I([go(a,this.source,I([c],0))],0))],0))};
f.X=function(b,a){var c;c=this.source;c=Z.b?Z.b(a,c):Z.call(null,a,c);var d=this.$a;c=Z.b?Z.b(c,d):Z.call(null,c,d);d=this.T;return Z.b?Z.b(c,d):Z.call(null,c,d)};function $o(b,a,c,d){this.T=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=$o.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "clauses":return this.T;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.And{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[fl,this.T],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};
f.N=function(b,a){return vd(new zd(null,new l(null,1,[fl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new $o(this.T,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b(fl,a):T.call(null,fl,a))?new $o(c,this.g,this.d,null):new $o(this.T,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[fl,this.T],null)],null),this.d))};f.D=function(b,a){return new $o(this.T,a,this.d,this.h)};
f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.T,I([c],0))};f.X=function(b,a){var c=this.T;return Z.b?Z.b(a,c):Z.call(null,a,c)};function ap(b){var a=ro(b);if(q(a))return a;a=so(b);return q(a)?a:uo(b)}function bp(b){if(ld(b)){var a=to(C(b));return q(a)?new V(null,2,5,W,[a,D(b)],null):new V(null,2,5,W,[new no(null,null,null),b],null)}return null}
function cp(b){if(ld(b)){var a=L(b,0);b=ae(b,1);b=null==b?Wc:b;var c=vo(a),a=q(c)?c:so(a);b=eo(wo,b);return q(q(a)?b:a)?new V(null,2,5,W,[a,b],null):null}return null}var Z=function Z(a,c){return(c?q(q(null)?null:c.W)||(c.Ib?0:Da(Zn,c)):Da(Zn,c))?bo(c,a):ld(c)?v(Z,a,c):a};Zo.prototype.W=!0;Zo.prototype.X=function(b,a){return Z(a,this.$a)};Yo.prototype.W=!0;Yo.prototype.X=function(b,a){return tf.b(a,this.Wa)};lo.prototype.W=!0;lo.prototype.X=function(b,a){return J.b(a,this)};
function dp(b){return Z(Wc,b)}function ep(b,a,c){a=Yn.b(Ah(b),Ah(dp(a)));if(!id(a))throw yi([r("Join variable not declared inside clauses: "),r(Wh(I([uf(zj,a)],0)))].join(""),new l(null,2,[$k,hj,gl,c],null));if(id(b))throw yi(""+r("Join variables should not be empty"),new l(null,2,[$k,hj,gl,c],null));}function fp(b,a){ep(b.Wa,b.T,a);return b}
function gp(b,a){for(var c=sd(b)?Ge(Ze,b):b,d=Zc(c,sj),e=sd(d)?Ge(Ze,d):d,d=Zc(e,Bl),e=Zc(e,tj),g=Zc(c,fl),c=U.b(d,e),d=A(g),e=null,h=g=0;;)if(h<g){var k=e.M(null,h);ep(c,new V(null,1,5,W,[k],null),a);h+=1}else if(d=A(d))e=d,od(e)?(d=Ub(e),h=Vb(e),e=d,g=K(d),d=h):(d=C(e),ep(c,new V(null,1,5,W,[d],null),a),d=D(e),e=null,g=0),h=0;else break;return b}
function ef(b){if(ld(b)&&F.b(new z(null,"and","and",668631710,null),C(b))){var a=eo(ff,D(b));if(q(Me(a)))return new $o(a,null,null,null);throw yi(""+r("Cannot parse 'and' clause, expected [ 'and' clause+ ]"),new l(null,2,[$k,hj,gl,b],null));}return null}
function ff(b){var a;a:{var c=bp(b);if(q(c)){a=L(c,0);var d=L(c,1),c=L(d,0),d=ae(d,1);if(F.b(new z(null,"not","not",1044554643,null),c)){c=eo(ff,d);if(q(c)){a=fp(new Yo(a,$f(Bh.c(dp(c))),c,null,null,null),b);break a}throw yi(""+r("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]"),new l(null,2,[$k,hj,gl,b],null));}}a=null}if(q(a))return a;a:{c=bp(b);if(q(c)){a=L(c,0);var e=L(c,1),c=L(e,0),d=L(e,1),e=ae(e,2);if(F.b(new z(null,"not-join","not-join",-645515756,null),c)){c=eo(so,d);d=eo(ff,
e);if(q(q(c)?d:c)){a=fp(new Yo(a,c,d,null,null,null),b);break a}throw yi(""+r("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]"),new l(null,2,[$k,hj,gl,b],null));}}a=null}if(q(a))return a;a:{c=bp(b);if(q(c)&&(a=L(c,0),d=L(c,1),c=L(d,0),d=ae(d,1),F.b(new z(null,"or","or",1876275696,null),c))){c=eo(df(),d);if(q(c)){a=gp(new Zo(a,new xo(null,$f(Bh.c(dp(c))),null,null,null),c,null,null,null),b);break a}throw yi(""+r("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]"),
new l(null,2,[$k,hj,gl,b],null));}a=null}if(q(a))return a;a:{c=bp(b);if(q(c)&&(a=L(c,0),d=L(c,1),e=L(d,0),c=L(d,1),d=ae(d,2),F.b(new z(null,"or-join","or-join",591375469,null),e))){if(ld(c)){var g=ld(C(c))?new V(null,2,5,W,[C(c),D(c)],null):new V(null,2,5,W,[null,c],null),e=L(g,0),g=L(g,1),e=eo(so,e),g=eo(so,g);if(id(e)&&id(g))throw yi(""+r("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]"),new l(null,2,[$k,nj,gl,c],null));if(!q(ho(U.b(e,g))))throw yi(""+r("Rule variables should be distinct"),
new l(null,2,[$k,nj,gl,c],null));c=new xo(e,g,null,null,null)}else throw yi(""+r("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]"),new l(null,2,[$k,nj,gl,c],null));d=eo(ff,d);if(q(q(c)?d:c)){a=gp(new Zo(a,c,d,null,null,null),b);break a}throw yi(""+r("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]"),new l(null,2,[$k,hj,gl,b],null));}a=null}if(q(a))return a;a:{if(q(co(b,1))&&(c=cp(C(b)),q(c))){a=L(c,0);c=L(c,1);a=new Vo(a,c,null,null,null);
break a}a=null}if(q(a))return a;a:{if(q(co(b,2))&&(c=L(b,0),a=L(b,1),d=cp(c),q(d))){c=L(d,0);d=L(d,1);a=Eo(a);a=q(a)?new Wo(c,d,a,null,null,null):null;break a}a=null}if(q(a))return a;a:{c=bp(b);if(q(c)&&(a=L(c,0),c=L(c,1),d=L(c,0),c=ae(c,1),d=vo(d),e=eo(ap,c),q(d))){if(id(c))throw yi(""+r("rule-expr requieres at least one argument"),new l(null,2,[$k,hj,gl,b],null));if(null==e)throw yi(""+r("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]"),new l(null,2,[$k,hj,gl,b],null));
a=new Xo(a,d,e,null,null,null);break a}a=null}if(q(a))return a;a:{c=bp(b);if(q(c)&&(a=L(c,0),c=L(c,1),c=eo(ap,c),q(c))){if(id(c))throw yi(""+r("Pattern could not be empty"),new l(null,2,[$k,hj,gl,b],null));a=io(new Uo(a,c,null,null,null),b);break a}a=null}if(q(a))return a;throw yi(""+r("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)"),new l(null,2,[$k,hj,gl,b],null));}
function hp(b,a,c,d,e,g,h){this.find=b;this.bb=a;this.Xa=c;this.ab=d;this.g=e;this.d=g;this.h=h;this.k=2229667594;this.r=8192}f=hp.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "where":return this.ab;case "in":return this.Xa;case "with":return this.bb;case "find":return this.find;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Query{",", ","}",c,U.b(new V(null,4,5,W,[new V(null,2,5,W,[Gi,this.find],null),new V(null,2,5,W,[Bk,this.bb],null),new V(null,2,5,W,[Jl,this.Xa],null),new V(null,2,5,W,[Ti,this.ab],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 4+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,4,[Gi,null,Ti,null,Bk,null,Jl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new hp(this.find,this.bb,this.Xa,this.ab,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Gi,a):T.call(null,Gi,a))?new hp(c,this.bb,this.Xa,this.ab,this.g,this.d,null):q(T.b?T.b(Bk,a):T.call(null,Bk,a))?new hp(this.find,c,this.Xa,this.ab,this.g,this.d,null):q(T.b?T.b(Jl,a):T.call(null,Jl,a))?new hp(this.find,this.bb,c,this.ab,this.g,this.d,null):q(T.b?T.b(Ti,a):T.call(null,Ti,a))?new hp(this.find,this.bb,this.Xa,c,this.g,this.d,null):new hp(this.find,this.bb,this.Xa,this.ab,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,4,5,W,[new V(null,2,5,W,[Gi,this.find],null),new V(null,2,5,W,[Bk,this.bb],null),new V(null,2,5,W,[Jl,this.Xa],null),new V(null,2,5,W,[Ti,this.ab],null)],null),this.d))};f.D=function(b,a){return new hp(this.find,this.bb,this.Xa,this.ab,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.W=!0;f.Z=function(b,a,c){return go(a,this.ab,I([go(a,this.Xa,I([go(a,this.bb,I([go(a,this.find,I([c],0))],0))],0))],0))};
f.X=function(b,a){return Z(Z(Z(Z(a,this.find),this.bb),this.Xa),this.ab)};function ip(b){for(var a=Q,c=null;;){var d=C(b);if(q(d))d instanceof R?c=d:a=Ef.u(a,new V(null,1,5,W,[c],null),Ue(J,Wc),d),b=D(b);else return a}}
function jp(b,a){var c=Ah(dp(Gi.c(b))),d=Ah(Bk.c(b)),e=Ah(dp(Jl.c(b))),g=Ah(dp(Ti.c(b))),e=Yn.b(Wn(c,d),Wn(g,e)),c=Xn.b(c,d);if(!id(e))throw yi([r("Query for unknown vars: "),r(Wh(I([uf(zj,e)],0)))].join(""),new l(null,3,[$k,Rl,Kl,e,gl,a],null));if(!id(c))throw yi([r(":in and :with should not use same variables: "),r(Wh(I([uf(zj,c)],0)))].join(""),new l(null,3,[$k,Rl,Kl,c,gl,a],null));var h=dp(Jl.c(b)),k=fo(function(){return function(a){return a instanceof mo}}(h),Jl.c(b)),m=fo(function(){return function(a){return a instanceof
oo}}(h,k),Jl.c(b));if(!q(function(){var a=ho(h);return q(a)?(a=ho(k),q(a)?ho(m):a):a}()))throw yi(""+r("Vars used in :in should be distinct"),new l(null,2,[$k,Rl,gl,a],null));c=dp(Bk.c(b));if(!q(ho(c)))throw yi(""+r("Vars used in :with should be distinct"),new l(null,2,[$k,Rl,gl,a],null));c=go(function(a){return a instanceof mo},Jl.c(b),I([Ad],0));d=go(function(){return function(a){return a instanceof mo}}(c),Ti.c(b),I([Ad],0));c=Yn.b(d,c);if(!id(c))throw yi([r("Where uses unknown source vars: "),
r(Wh(I([uf(zj,c)],0)))].join(""),new l(null,3,[$k,Rl,Kl,c,gl,a],null));c=fo(function(a){return a instanceof Xo},Ti.c(b));d=fo(function(){return function(a){return a instanceof oo}}(c),Jl.c(b));if(!id(c)&&id(d))throw yi(""+r("Missing rules var '%' in :in"),new l(null,2,[$k,Rl,gl,a],null));};var kp,lp=C(rf(function(b){return 0!=(128&1<<b)},xf.f(31,-1,-1)))+1,mp=(1<<lp)-1;function np(b,a){return 0===(kp.b?kp.b(b,a):kp.call(null,b,a))}function op(b,a,c){for(var d=0;;)if(d<=a){var e=d+a>>>1,g=b[e],h=c;0>(kp.b?kp.b(g,h):kp.call(null,g,h))?d=e+1:a=e-1}else return d}function pp(b,a,c){for(var d=0;;)if(d<=a){var e=d+a>>>1,g=b[e],h=c;0<(kp.b?kp.b(g,h):kp.call(null,g,h))?a=e-1:d=e+1}else return d}function qp(b,a){var c=b.length,d=op(b,c-1,a),c=(c=d<c)?np(b[d],a):c;return q(c)?d:-1}
function rp(b,a){var c=b.length,d=op(b,c-1,a);return d===c?-1:d}function sp(b){return b[b.length-1]}function tp(b,a,c,d,e,g){var h=g.length;d-=a;c-=e;for(var k=d+h,m=Array(d+h+c),n=0;;)if(n<d)m[n]=b[a+n],n+=1;else break;for(a=0;;)if(a<h)m[a+d]=g[a],a+=1;else break;for(g=0;;)if(g<c)m[g+k]=b[e+g],g+=1;else break;return m}function up(b,a,c,d){return tp(b,0,b.length,a,c,d)}
function vp(b,a){for(var c=b.length,d=c+a.length,e=d>>>1,g=Array(e),h=Array(d-e),k=0;;)if(k<d)(k<e?g:h)[k<e?k:k-e]=(k<c?b:a)[k<c?k:k-c],k+=1;else break;return[g,h]}function wp(b,a,c,d){var e;a:{e=c-a;var g=e===d.length-0;if(g)for(g=0;;){if(g===e){e=!0;break a}var h;h=b[g+a];var k=d[g+0];h=np.b?np.b(h,k):np.call(null,h,k);if(Ba(h)){e=!1;break a}g+=1}else e=g}return e?b:up(b,a,c,d)}
function xp(b,a){for(var c=a.length,d=0;;)if(d<c){var e=d,g;g=a[d];g=b.c?b.c(g):b.call(null,g);a[e]=g;d+=1}else break;return a}function yp(b){var a=b.length,c=[];if(0<a)for(var d=0;;){var e=a-d;if(128>=e){c.push(b.slice(d));break}else 160<=e?(c.push(b.slice(d,d+96)),d+=96):(e>>>=1,c.push(b.slice(d,d+e)),d+=e)}return c}function zp(b){return sp(b.keys)}function Ap(b,a){return q(b)?q(a)?[b,a]:[b]:[a]}function Bp(b,a,c){return q(b)?q(a)?q(c)?[b,a,c]:[b,a]:q(c)?[b,c]:[b]:q(a)?q(c)?[a,c]:[a]:[c]}
function Cp(b,a,c,d){if(q(a))return[b];if(64<b.Da())return Bp(c,b,d);if(q(q(c)?64>=c.Da():c))return Ap(c.merge(b),d);if(q(q(d)?64>=d.Da():d))return Ap(c,b.merge(d));if(q(q(c)?null==d||c.Da()<d.Da():c))return b=c.Lc(b),Bp(b[0],b[1],d);b=b.Lc(d);return Bp(c,b[0],b[1])}function Dp(b,a){this.keys=b;this.ia=a}f=Dp.prototype;f.Da=function(){return this.keys.length};f.merge=function(b){return new Dp(this.keys.concat(b.keys),this.ia.concat(b.ia))};
f.Lc=function(b){var a=vp(this.keys,b.keys);b=vp(this.ia,b.ia);return Ap(new Dp(a[0],b[0]),new Dp(a[1],b[1]))};f.Kc=function(b){var a=rp(this.keys,b);return-1===a?null:this.ia[a].Kc(b)};f.Hc=function(b){var a=op(this.keys,this.keys.length-2,b),c=this.ia[a].Hc(b);if(q(c)){b=wp(this.keys,a,a+1,c.map(zp));a=up(this.ia,a,a+1,c);if(128>=a.length)return[new Dp(b,a)];c=a.length>>>1;return[new Dp(b.slice(0,c),a.slice(0,c)),new Dp(b.slice(c),a.slice(c))]}return null};
f.Ic=function(b,a,c,d){var e=rp(this.keys,b);if(-1===e)return null;var g=0<=e-1?this.ia[e-1]:null,h=e+1<this.ia.length?this.ia[e+1]:null;b=this.ia[e].Ic(b,!1,g,h);return q(b)?(g=q(g)?e-1:e,h=q(h)?2+e:1+e,e=wp(this.keys,g,h,b.map(zp)),b=up(this.ia,g,h,b),Cp(new Dp(e,b),a,c,d)):null};function Ep(b){this.keys=b}f=Ep.prototype;f.toString=function(){return ec($f(this.keys))};f.Da=function(){return this.keys.length};f.merge=function(b){return new Ep(this.keys.concat(b.keys))};
f.Lc=function(b){b=vp(this.keys,b.keys);return Ap(new Ep(b[0]),new Ep(b[1]))};f.Kc=function(b){b=qp(this.keys,b);return-1===b?null:this.keys[b]};f.Hc=function(b){var a=op(this.keys,this.keys.length-1,b),c=this.keys.length,d;d=(d=a<c)?np(b,this.keys[a]):d;return q(d)?null:128===c?(d=c+1>>>1,a>d?[new Ep(this.keys.slice(0,d)),new Ep(tp(this.keys,d,c,a,a,[b]))]:[new Ep(tp(this.keys,0,d,a,a,[b])),new Ep(this.keys.slice(d,c))]):[new Ep(up(this.keys,a,a,[b]))]};
f.Ic=function(b,a,c,d){b=qp(this.keys,b);if(-1===b)return null;b=up(this.keys,b,b+1,[]);return Cp(new Ep(b),a,c,d)};function Fp(b){return new Ep(b)}function Gp(b,a){for(var c=b.shift,d=b.root;;)if(0<c)d=d.ia[mp&a>>>c],c-=lp;else return d.keys}
function Hp(b,a,c){var d=kp;kp=c;try{var e=b.root.Hc(a);if(null==e)return b;if(1===e.length){var g=e[0],h=b.shift,k=b.l+1;return Jp.u?Jp.u(b,g,h,k):Jp.call(null,b,g,h,k)}var m=new Dp(e.map(zp),e),n=b.shift+lp,p=b.l+1;return Jp.u?Jp.u(b,m,n,p):Jp.call(null,b,m,n,p)}finally{kp=d}}
function Kp(b,a,c){var d=kp;kp=c;try{var e=b.root.Ic(a,!0,null,null);if(null==e)return b;var g=e[0];if(g instanceof Dp&&1===g.ia.length){var h=g.ia[0],k=b.shift-lp,m=b.l-1;return Jp.u?Jp.u(b,h,k,m):Jp.call(null,b,h,k,m)}var n=b.shift,p=b.l-1;return Jp.u?Jp.u(b,g,n,p):Jp.call(null,b,g,n,p)}finally{kp=d}}var Lp=function Lp(a,c,d){var e=mp&c>>>d;return 0<d?(c=Lp(a.ia[e],c,d-lp),-1===c?e+1<a.ia.length?0|e+1<<d:-1:c|e<<d):e+1<a.keys.length?0|e+1<<0:-1};
function Mp(b,a,c,d,e){this.set=b;this.left=a;this.right=c;this.keys=d;this.tb=e;this.r=0;this.k=143130816}f=Mp.prototype;f.ea=function(b,a){if(null==this.keys)return a.t?a.t():a.call(null);var c=this.keys[this.tb],d=ab(this);return q(d)?zb.f(d,a,c):c};
f.fa=function(b,a,c){b=this.left;for(var d=this.keys,e=this.tb;;){if(Gc(c))return a=c,G.c?G.c(a):G.call(null,a);if(null==d)return c;var g=d[e];c=a.b?a.b(c,g):a.call(null,c,g);if(e+1<d.length)if(b+1<this.right)e+=1,b+=1;else return c;else if(d=this.set,b=Lp(d.root,b,d.shift),Le.b(-1,b)&&b<this.right)d=Gp(this.set,b),e=mp&b>>>0;else return c}};
f.ka=function(){if(q(this.keys)){if(this.tb+1<this.keys.length)return this.left+1<this.right?new Mp(this.set,this.left+1,this.right,this.keys,this.tb+1):null;var b;b=this.set;b=Lp(b.root,this.left,b.shift);if(Le.b(-1,b)&&b<this.right){var a=this.set,c=this.right;return Op.f?Op.f(a,b,c):Op.call(null,a,b,c)}}return null};f.ca=function(){return q(this.keys)?this.keys[this.tb]:null};f.ya=function(){var b=ab(this);return q(b)?b:new Mp(this.set,-1,-1,null,-1)};f.B=function(){return q(this.keys)?this:null};
function Op(b,a,c){return new Mp(b,a,c,Gp(b,a),mp&a>>>0)}
function Pp(b,a){var c;a:{var d=kp;kp=b.Jb;try{var e;c:for(var g=b.root,h=0,k=b.shift;;){var m=g.keys,n=m.length;if(0===k){var p=op(m,n-1,a);e=n===p?-1:h|p<<0;break c}var p=op(m,n-2,a),t=h|p<<k,u=k-lp,g=g.ia[p],h=t,k=u}if(0>e)c=null;else{var y;c:for(var B=b.root,g=0,E=b.shift;;){var H=B.keys,M=H.length;if(0===E){var S=pp(H,M-1,a);y=g|S<<0;break c}S=pp(H,M-2,a);h=g|S<<E;k=E-lp;B=B.ia[S];g=h;E=k}c=y>e?new Mp(b,e,y,Gp(b,e),mp&e>>>0):null}break a}finally{kp=d}c=void 0}return c}
function Qp(b,a,c,d,e,g){this.root=b;this.shift=a;this.l=c;this.Jb=d;this.o=e;this.h=g;this.k=2296779023;this.r=8192}f=Qp.prototype;f.toString=function(){return ec(this)};f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){b=kp;kp=this.Jb;try{var d=this.root.Kc(a);return q(d)?d:c}finally{kp=b}};f.w=function(b,a,c){return X(a,Y,"#{"," ","}",c,A(this))};f.C=function(){return this.o};f.I=function(){return this.l};
f.A=function(){var b=this.h;if(null!=b)return b;a:for(var b=0,a=A(this);;)if(a)var c=C(a),b=(b+nc(c))%4503599627370496,a=D(a);else break a;return this.h=b};f.p=function(b,a){return kd(a)&&this.l===K(a)&&Ne(function(a){return function(b){return vd(a,b)}}(this),a)};f.Y=function(){return new Qp(new Ep([]),0,0,this.Jb,this.o,0)};f.Dc=function(b,a){return Kp(this,a,this.Jb)};
f.B=function(){var b;if(0<this.root.keys.length){a:{b=this.root;for(var a=0,c=this.shift;;)if(0<c)a|=b.ia.length-1<<c,c-=lp,b=sp(b.ia);else{b=a|b.keys.length-1<<0;break a}}b=Op(this,0,b+1)}else b=null;return b};f.D=function(b,a){return new Qp(this.root,this.shift,this.l,this.Jb,a,this.h)};f.H=function(b,a){return Hp(this,a,this.Jb)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.s(null,b);case 3:return this.q(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.s(null,b)};b.f=function(a,b,d){return this.q(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};f.c=function(b){return this.s(null,b)};f.b=function(b,a){return this.q(null,b,a)};function Jp(b,a,c,d){return new Qp(a,c,d,b.Jb,b.o,null)}
function Rp(b,a){for(var c=xp(Fp,yp(b)),d=c,e=0;;){var g=K(d);switch(g){case 0:return new Qp(new Ep([]),0,0,a,null,0);case 1:return new Qp(C(d),e,b.length,a,null,0);default:d=xp(function(){return function(a){return new Dp(a.map(zp),a)}}(d,e,g,c),yp(d)),e+=lp}}}function Sp(b){return new Qp(new Ep([]),0,0,b,null,0)};function Tp(b,a,c,d,e,g,h,k){this.e=b;this.a=a;this.v=c;this.tx=d;this.added=e;this.g=g;this.d=h;this.h=k;this.k=2229667594;this.r=8192}f=Tp.prototype;f.toString=function(){return Wh(I([this],0))};f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "added":return this.added;case "tx":return this.tx;case "v":return this.v;case "a":return this.a;case "e":return this.e;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.core.Datom{",", ","}",c,U.b(new V(null,5,5,W,[new V(null,2,5,W,[ek,this.e],null),new V(null,2,5,W,[Dl,this.a],null),new V(null,2,5,W,[Ui,this.v],null),new V(null,2,5,W,[vk,this.tx],null),new V(null,2,5,W,[uj,this.added],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 5+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,5,[Ui,null,uj,null,ek,null,vk,null,Dl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Tp(this.e,this.a,this.v,this.tx,this.added,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(ek,a):T.call(null,ek,a))?new Tp(c,this.a,this.v,this.tx,this.added,this.g,this.d,null):q(T.b?T.b(Dl,a):T.call(null,Dl,a))?new Tp(this.e,c,this.v,this.tx,this.added,this.g,this.d,null):q(T.b?T.b(Ui,a):T.call(null,Ui,a))?new Tp(this.e,this.a,c,this.tx,this.added,this.g,this.d,null):q(T.b?T.b(vk,a):T.call(null,vk,a))?new Tp(this.e,this.a,this.v,c,this.added,this.g,this.d,null):q(T.b?T.b(uj,a):T.call(null,uj,a))?new Tp(this.e,this.a,this.v,this.tx,c,this.g,this.d,
null):new Tp(this.e,this.a,this.v,this.tx,this.added,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,5,5,W,[new V(null,2,5,W,[ek,this.e],null),new V(null,2,5,W,[Dl,this.a],null),new V(null,2,5,W,[Ui,this.v],null),new V(null,2,5,W,[vk,this.tx],null),new V(null,2,5,W,[uj,this.added],null)],null),this.d))};f.D=function(b,a){return new Tp(this.e,this.a,this.v,this.tx,this.added,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};f.Cc=!0;
f.B=function(){return Ta(Ta(Ta(Ta(Ta(wc,this.added),this.tx),this.v),this.a),this.e)};f.p=function(b,a){return F.b(this.e,a.e)&&F.b(this.a,a.a)&&F.b(this.v,a.v)};f.Uc=!0;f.A=function(){var b=this.h;return q(b)?b:this.h=oc(oc(nc(this.e),nc(this.a)),nc(this.v))};
var Up={},Vp=function Vp(a,c){if(a?a.kd:a)return a.kd(0,c);var d;d=Vp[ba(null==a?null:a)];if(!d&&(d=Vp._,!d))throw Ga("ISearch.-search",a);return d.call(null,a,c)},Wp=function Wp(a,c,d){if(a?a.jd:a)return a.jd(0,c,d);var e;e=Wp[ba(null==a?null:a)];if(!e&&(e=Wp._,!e))throw Ga("IIndexAccess.-datoms",a);return e.call(null,a,c,d)},Xp={},Yp=function Yp(a){if(a?a.xd:a)return a.La;var c;c=Yp[ba(null==a?null:a)];if(!c&&(c=Yp._,!c))throw Ga("IDB.-schema",a);return c.call(null,a)},Zp=function Zp(a,c){if(a?
a.hd:a)return a.hd(0,c);var d;d=Zp[ba(null==a?null:a)];if(!d&&(d=Zp._,!d))throw Ga("IDB.-attrs-by",a);return d.call(null,a,c)};function $p(b,a){return q(q(b)?a:b)?Bd(b,a):0}function aq(b,a){return q(q(b)?a:b)?b-a:0}function bq(b,a){if(null!=b&&null!=a){var c=Ea(b),d=Ea(a);return c===d?Bd(b,a):la(c,d)}return 0}function cq(b,a){var c=aq(b.e,a.e);return 0===c&&(c=$p(b.a,a.a),0===c&&(c=bq(b.v,a.v),0===c))?(c=aq(b.tx,a.tx),0===c?0:c):c}
function dq(b,a){var c=$p(b.a,a.a);return 0===c&&(c=aq(b.e,a.e),0===c&&(c=bq(b.v,a.v),0===c))?(c=aq(b.tx,a.tx),0===c?0:c):c}function eq(b,a){var c=$p(b.a,a.a);return 0===c&&(c=bq(b.v,a.v),0===c&&(c=aq(b.e,a.e),0===c))?(c=aq(b.tx,a.tx),0===c?0:c):c}function fq(b,a){return b instanceof R?Sb(b,a):la(b,a)}function gq(b,a){var c=Ea(b),d=Ea(a);return c===d?Bd(b,a):la(c,d)}function hq(b,a){var c=b.e-a.e;return 0===c&&(c=fq(b.a,a.a),0===c&&(c=gq(b.v,a.v),0===c))?(c=b.tx-a.tx,0===c?0:c):c}
function iq(b,a){var c=fq(b.a,a.a);return 0===c&&(c=b.e-a.e,0===c&&(c=gq(b.v,a.v),0===c))?(c=b.tx-a.tx,0===c?0:c):c}function jq(b,a){var c=fq(b.a,a.a);return 0===c&&(c=gq(b.v,a.v),0===c&&(c=b.e-a.e,0===c))?(c=b.tx-a.tx,0===c?0:c):c}function kq(b,a,c,d,e){q(c)&&(lq.c?lq.c(c):lq.call(null,c));a=mq.b?mq.b(b,a):mq.call(null,b,a);var g;g=(g=null!=d)?nq.b?nq.b(b,c):nq.call(null,b,c):g;return new Tp(a,c,q(g)?oq.b?oq.b(b,d):oq.call(null,b,d):d,mq.b?mq.b(b,e):mq.call(null,b,e),null,null,null,null)}
function pq(b,a,c,d,e,g,h,k,m,n){this.La=b;this.aa=a;this.Oa=c;this.Ca=d;this.Sa=e;this.Ta=g;this.Ia=h;this.g=k;this.d=m;this.h=n;this.k=2229667594;this.r=8192}f=pq.prototype;f.toString=function(){return ec(this)};f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "rschema":return this.Ia;case "max-tx":return this.Ta;case "max-eid":return this.Sa;case "avet":return this.Ca;case "aevt":return this.Oa;case "eavt":return this.aa;case "schema":return this.La;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.core.DB{",", ","}",c,U.b(new V(null,7,5,W,[new V(null,2,5,W,[Ii,this.La],null),new V(null,2,5,W,[ik,this.aa],null),new V(null,2,5,W,[cj,this.Oa],null),new V(null,2,5,W,[Aj,this.Ca],null),new V(null,2,5,W,[Mj,this.Sa],null),new V(null,2,5,W,[Ri,this.Ta],null),new V(null,2,5,W,[kl,this.Ia],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 7+K(this.d)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,7,[Ii,null,Ri,null,cj,null,Aj,null,Mj,null,ik,null,kl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new pq(this.La,this.aa,this.Oa,this.Ca,this.Sa,this.Ta,this.Ia,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Ii,a):T.call(null,Ii,a))?new pq(c,this.aa,this.Oa,this.Ca,this.Sa,this.Ta,this.Ia,this.g,this.d,null):q(T.b?T.b(ik,a):T.call(null,ik,a))?new pq(this.La,c,this.Oa,this.Ca,this.Sa,this.Ta,this.Ia,this.g,this.d,null):q(T.b?T.b(cj,a):T.call(null,cj,a))?new pq(this.La,this.aa,c,this.Ca,this.Sa,this.Ta,this.Ia,this.g,this.d,null):q(T.b?T.b(Aj,a):T.call(null,Aj,a))?new pq(this.La,this.aa,this.Oa,c,this.Sa,this.Ta,this.Ia,this.g,this.d,null):q(T.b?T.b(Mj,a):T.call(null,
Mj,a))?new pq(this.La,this.aa,this.Oa,this.Ca,c,this.Ta,this.Ia,this.g,this.d,null):q(T.b?T.b(Ri,a):T.call(null,Ri,a))?new pq(this.La,this.aa,this.Oa,this.Ca,this.Sa,c,this.Ia,this.g,this.d,null):q(T.b?T.b(kl,a):T.call(null,kl,a))?new pq(this.La,this.aa,this.Oa,this.Ca,this.Sa,this.Ta,c,this.g,this.d,null):new pq(this.La,this.aa,this.Oa,this.Ca,this.Sa,this.Ta,this.Ia,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,7,5,W,[new V(null,2,5,W,[Ii,this.La],null),new V(null,2,5,W,[ik,this.aa],null),new V(null,2,5,W,[cj,this.Oa],null),new V(null,2,5,W,[Aj,this.Ca],null),new V(null,2,5,W,[Mj,this.Sa],null),new V(null,2,5,W,[Ri,this.Ta],null),new V(null,2,5,W,[kl,this.Ia],null)],null),this.d))};f.D=function(b,a){return new pq(this.La,this.aa,this.Oa,this.Ca,this.Sa,this.Ta,this.Ia,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};
f.jd=function(b,a,c){b=Zc(this,a);a:{var d=L(c,0),e=L(c,1),g=L(c,2);c=L(c,3);switch(a instanceof R?a.L:null){case "avet":a=kq(this,g,d,e,c);break a;case "aevt":a=kq(this,e,d,g,c);break a;case "eavt":a=kq(this,d,e,g,c);break a;default:throw Error([r("No matching clause: "),r(a)].join(""));}}return Pp(b,a)};f.gd=!0;f.xd=function(){return this.La};f.hd=function(b,a){return this.Ia.c?this.Ia.c(a):this.Ia.call(null,a)};f.yd=!0;
f.kd=function(b,a){var c=L(a,0),d=L(a,1),e=L(a,2),g=L(a,3);return q(c)?q(d)?null!=e?q(g)?Pp(this.aa,new Tp(c,d,e,g,null,null,null,null)):Pp(this.aa,new Tp(c,d,e,null,null,null,null,null)):q(g)?rf(function(a,b,c,d,e,g){return function(a){return F.b(g,a.tx)}}(this,a,c,d,e,g),Pp(this.aa,new Tp(c,d,null,null,null,null,null,null))):Pp(this.aa,new Tp(c,d,null,null,null,null,null,null)):null!=e?q(g)?rf(function(a,b,c,d,e,g){return function(a){return F.b(e,a.v)&&F.b(g,a.tx)}}(this,a,c,d,e,g),Pp(this.aa,new Tp(c,
null,null,null,null,null,null,null))):rf(function(a,b,c,d,e){return function(a){return F.b(e,a.v)}}(this,a,c,d,e,g),Pp(this.aa,new Tp(c,null,null,null,null,null,null,null))):q(g)?rf(function(a,b,c,d,e,g){return function(a){return F.b(g,a.tx)}}(this,a,c,d,e,g),Pp(this.aa,new Tp(c,null,null,null,null,null,null,null))):Pp(this.aa,new Tp(c,null,null,null,null,null,null,null)):q(d)?null!=e?q(g)?rf(function(a,b,c,d,e,g){return function(a){return F.b(g,a.tx)}}(this,a,c,d,e,g),Pp(this.Ca,new Tp(null,d,e,
null,null,null,null,null))):Pp(this.Ca,new Tp(null,d,e,null,null,null,null,null)):q(g)?rf(function(a,b,c,d,e,g){return function(a){return F.b(g,a.tx)}}(this,a,c,d,e,g),Pp(this.Ca,new Tp(null,d,null,null,null,null,null,null))):Pp(this.Ca,new Tp(null,d,null,null,null,null,null,null)):null!=e?q(g)?rf(function(a,b,c,d,e,g){return function(a){return F.b(e,a.v)&&F.b(g,a.tx)}}(this,a,c,d,e,g),this.aa):rf(function(a,b,c,d,e){return function(a){return F.b(e,a.v)}}(this,a,c,d,e,g),this.aa):q(g)?rf(function(a,
b,c,d,e,g){return function(a){return F.b(g,a.tx)}}(this,a,c,d,e,g),this.aa):this.aa};function qq(b){return new pq(Ii.c(b),ik.c(b),cj.c(b),Aj.c(b),Mj.c(b),Ri.c(b),kl.c(b),null,P.j(b,Ii,I([ik,cj,Aj,Mj,Ri,kl],0)),null)}f.Y=function(){return qq(new l(null,7,[Ii,this.La,ik,Qa(this.aa),cj,Qa(this.Oa),Aj,Qa(this.Ca),Mj,0,Ri,536870912,kl,this.Ia],null))};f.Tc=!0;f.I=function(){return K(this.aa)};f.Cc=!0;f.B=function(){return Eb(this.aa)};
f.p=function(b,a){var c;if(c=a instanceof pq||!1)if(c=F.b(Yp(this),Yp(a)))b:{var d=Wp(this,ik,Wc);c=Wp(a,ik,Wc);var e=F.b(K(d),K(c));if(e)for(d=A(d),c=A(c);;){if(null==d){c=!0;break b}if(F.b(C(d),C(c)))d=D(d),c=D(c);else{c=!1;break b}}else c=e}return c};f.Uc=!0;f.A=function(){var b=this.h;if(!q(b)){a:{var a=Wp(this,ik,Wc);if(A(a))for(b=nc(C(a)),a=D(a);;){if(null==a)break a;b=oc(b,nc(C(a)));a=D(a)}else b=0}b=this.h=b}return b};
function rq(b,a,c,d,e,g,h,k){this.fb=b;this.eb=a;this.kb=c;this.jb=d;this.lb=e;this.g=g;this.d=h;this.h=k;this.k=2229667594;this.r=8192}f=rq.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "tx-meta":return this.lb;case "tempids":return this.jb;case "tx-data":return this.kb;case "db-after":return this.eb;case "db-before":return this.fb;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.core.TxReport{",", ","}",c,U.b(new V(null,5,5,W,[new V(null,2,5,W,[mk,this.fb],null),new V(null,2,5,W,[kj,this.eb],null),new V(null,2,5,W,[nk,this.kb],null),new V(null,2,5,W,[Hi,this.jb],null),new V(null,2,5,W,[ll,this.lb],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 5+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,5,[Hi,null,kj,null,mk,null,nk,null,ll,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new rq(this.fb,this.eb,this.kb,this.jb,this.lb,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(mk,a):T.call(null,mk,a))?new rq(c,this.eb,this.kb,this.jb,this.lb,this.g,this.d,null):q(T.b?T.b(kj,a):T.call(null,kj,a))?new rq(this.fb,c,this.kb,this.jb,this.lb,this.g,this.d,null):q(T.b?T.b(nk,a):T.call(null,nk,a))?new rq(this.fb,this.eb,c,this.jb,this.lb,this.g,this.d,null):q(T.b?T.b(Hi,a):T.call(null,Hi,a))?new rq(this.fb,this.eb,this.kb,c,this.lb,this.g,this.d,null):q(T.b?T.b(ll,a):T.call(null,ll,a))?new rq(this.fb,this.eb,this.kb,this.jb,c,this.g,this.d,
null):new rq(this.fb,this.eb,this.kb,this.jb,this.lb,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,5,5,W,[new V(null,2,5,W,[mk,this.fb],null),new V(null,2,5,W,[kj,this.eb],null),new V(null,2,5,W,[nk,this.kb],null),new V(null,2,5,W,[Hi,this.jb],null),new V(null,2,5,W,[ll,this.lb],null)],null),this.d))};f.D=function(b,a){return new rq(this.fb,this.eb,this.kb,this.jb,this.lb,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};
function sq(b,a,c){return vd(Zp(b,c),a)}function nq(b,a){return sq(b,a,Fj)}
function tq(b,a){if("number"===typeof a)return a;if(ld(a)){if(Le.b(K(a),2))throw yi([r("Lookup ref should contain 2 elements: "),r(Wh(I([a],0)))].join(""),new l(null,2,[$k,Ik,Wj,a],null));if(sq(b,C(a),Oi))return ek.c(C(Wp(b,Aj,a)));throw yi([r("Lookup ref attribute should be marked as :db.unique/identity: "),r(Wh(I([a],0)))].join(""),new l(null,2,[$k,Ni,Wj,a],null));}throw yi([r("Expected number or lookup ref for entity id, got "),r(Wh(I([a],0)))].join(""),new l(null,2,[$k,Kk,Wj,a],null));}
function oq(b,a){var c=tq(b,a);if(q(c))return c;throw yi([r("Nothing found for entity id "),r(Wh(I([a],0)))].join(""),new l(null,2,[$k,Rk,Wj,a],null));}function mq(b,a){return q(a)?oq(b,a):null}function lq(b,a){if(b instanceof R||"string"===typeof b)return null;throw yi([r("Bad entity attribute "),r(Wh(I([b],0))),r(" at "),r(Wh(I([a],0))),r(", expected keyword or string")].join(""),new l(null,3,[$k,nl,Li,b,Uk,a],null));}
function uq(b,a){if(null==b)throw yi([r("Cannot store nil as a value at "),r(Wh(I([a],0)))].join(""),new l(null,3,[$k,nl,Hj,b,Uk,a],null));return null}function vq(b){return Af(b,new V(null,2,5,W,[mk,Ri],null))+1}function wq(b,a){return a>Mj.c(b)&&536870912>a?O.f(b,Mj,a):b}function xq(b,a,c){return Ef.u(Df(b,new V(null,2,5,W,[Hi,a],null),c),new V(null,1,5,W,[kj],null),wq,c)}function yq(b){return F.b(b,Ek)||F.b(b,":db/current-tx")}
function zq(b,a){var c;c=a.added;c=q(c)?sq(b,a.a,Wi):c;if(q(c)&&(c=Me(Wp(b,Aj,new V(null,2,5,W,[a.a,a.v],null))),q(c)))throw yi([r("Cannot add "),r(Wh(I([a],0))),r(" because of unique constraint: "),r(Wh(I([c],0)))].join(""),new l(null,3,[$k,Ai,Li,a.a,ij,a],null));if(q(a.added))return wq(Ef.P(Ef.P(Ef.P(b,new V(null,1,5,W,[ik],null),Hp,a,hq),new V(null,1,5,W,[cj],null),Hp,a,iq),new V(null,1,5,W,[Aj],null),Hp,a,jq),a.e);c=C(Vp(b,new V(null,3,5,W,[a.e,a.a,a.v],null)));return Ef.P(Ef.P(Ef.P(b,new V(null,
1,5,W,[ik],null),Kp,c,hq),new V(null,1,5,W,[cj],null),Kp,c,iq),new V(null,1,5,W,[Aj],null),Kp,c,jq)}function Aq(b,a){return Ef.u(Ef.u(b,new V(null,1,5,W,[kj],null),zq,a),new V(null,1,5,W,[nk],null),J,a)}function Bq(b){if(b instanceof R)return F.b("_",Yc(pe(b),0));if("string"===typeof b)return ud(Kh(/(?:([^\/]+)\/)?_([^\/]+)/,b));throw yi([r("Bad attribute type: "),r(Wh(I([b],0))),r(", expected keyword or string")].join(""),new l(null,2,[$k,nl,Li,b],null));}
function Cq(b){if(b instanceof R)return Bq(b)?oe.b(ne(b),be(pe(b),1)):oe.b(ne(b),[r("_"),r(pe(b))].join(""));if("string"===typeof b){var a=Kh(/(?:([^\/]+)\/)?([^\/]+)/,b);L(a,0);b=L(a,1);a=L(a,2);return F.b("_",Yc(a,0))?q(b)?[r(b),r("/"),r(a.substring(1))].join(""):a.substring(1):q(b)?[r(b),r("/_"),r(a)].join(""):[r("_"),r(a)].join("")}throw yi([r("Bad attribute type: "),r(Wh(I([b],0))),r(", expected keyword or string")].join(""),new l(null,2,[$k,nl,Li,b],null));}
function Dq(b,a){var c=Me(Zp(b,Oi));return q(c)?Kd(function(){return function(c,e,g){var h=C(Wp(b,Aj,new V(null,2,5,W,[e,g],null)));if(q(h)){var k=Pk.c(c),m=h.e;if(null==k)return O.f(P.b(c,e),Pk,m);if(F.b(k,m))return P.b(c,e);throw yi([r("Cannot resolve upsert for "),r(Wh(I([a],0))),r(": "),r(Wh(I([new Bg([Pk,k,e,g])],0))),r(" conflicts with existing "),r(Wh(I([h],0)))].join(""),new l(null,4,[$k,dk,Li,e,tl,a,ij,h],null));}return c}}(c,c),a,xh(a,c)):a}
function Eq(b,a,c){return Bq(a)||sq(b,a,ml)?Aa(c)||jd(c)&&!md(c)?F.b(K(c),2)&&sq(b,C(c),Oi)?new V(null,1,5,W,[c],null):c:new V(null,1,5,W,[c],null):new V(null,1,5,W,[c],null)}
function Fq(b,a){return function(a){return function e(g){return new qe(null,function(a){return function(){for(var c=g;;){var m=A(c);if(m){var n=m,p=C(n),t=L(p,0),u=L(p,1);if(Le.b(t,Pk)){var y=lq(t,new Bg([Pk,a,t,u])),B=Bq(t),E=B?Cq(t):t;if(B&&!nq(b,E))throw yi([r("Bad attribute "),r(Wh(I([t],0))),r(": reverse attribute name requires {:db/valueType :db.type/ref} in schema")].join(""),new l(null,3,[$k,nl,Li,t,Uk,new Bg([Pk,a,t,u])],null));if(m=A(function(a,c,e,g,h,k,m,n,p,t,u){return function Ca(y){return new qe(null,
function(a,c,e,g,h,k,m,n,p,t,u){return function(){for(;;){var a=A(y);if(a){if(od(a)){var c=Ub(a),h=K(c),k=ue(h);a:for(var n=0;;)if(n<h){var p=w.b(c,n),p=nq(b,g)&&md(p)?O.f(p,Cq(m),u):e?new V(null,4,5,W,[el,p,g,u],null):new V(null,4,5,W,[el,u,g,p],null);k.add(p);n+=1}else{c=!0;break a}return c?we(k.R(),Ca(Vb(a))):we(k.R(),null)}k=C(a);return Rc(nq(b,g)&&md(k)?O.f(k,Cq(m),u):e?new V(null,4,5,W,[el,k,g,u],null):new V(null,4,5,W,[el,u,g,k],null),Ca(vc(a)))}return null}}}(a,c,e,g,h,k,m,n,p,t,u),null,null)}}(c,
y,B,E,null,p,t,u,n,m,a)(Eq(b,t,u))))return U.b(m,e(vc(c)))}c=vc(c)}else return null}}}(a),null,null)}}(Pk.c(a))(a)}function Gq(b,a){L(a,0);var c=L(a,1),d=L(a,2),e=L(a,3);lq(d,a);uq(e,a);var g=vq(b),h=kj.c(b),c=oq(h,c),e=nq(h,d)?oq(h,e):e,k=new Tp(c,d,e,g,!0,null,null,null);if(sq(h,d,ml))return id(Vp(h,new V(null,3,5,W,[c,d,e],null)))?Aq(b,k):b;h=C(Vp(h,new V(null,2,5,W,[c,d],null)));return q(h)?F.b(h.v,e)?b:Aq(Aq(b,new Tp(c,d,h.v,g,!1,null,null,null)),k):Aq(b,k)}
function Hq(b,a){var c=vq(b);return Aq(b,new Tp(a.e,a.a,a.v,c,!1,null,null,null))}function Iq(b,a){return tf.f(Ad,Se(qf(function(a){return sq(b,a.a,Zj)}),gf.c(function(a){return new V(null,2,5,W,[jk,a.v],null)})),a)}
function Jq(b,a){for(;;){if(null!=a&&!ld(a))throw yi([r("Bad transaction data "),r(Wh(I([a],0))),r(", expected sequential collection")].join(""),new l(null,2,[$k,nl,nk,a],null));var c=a,d=L(c,0),e=ae(c,1),g=kj.c(b);if(null==d)return Ef.f(Df(b,new V(null,2,5,W,[Hi,Ek],null),vq(b)),new V(null,2,5,W,[kj,Ri],null),Ec);if(md(d)){var h=Pk.c(d),k=mq(g,0>h?Af(b,new V(null,2,5,W,[Hi,h],null)):yq(h)?vq(b):h),m=Dq(g,O.f(d,Pk,k)),d=function(){var a=Pk.c(m);return q(a)?a:Mj.c(g)+1}(),k=O.f(m,Pk,d),h=0>h?xq(b,
h,d):null==h?Ef.u(b,new V(null,1,5,W,[kj],null),wq,d):b,e=U.b(Fq(g,k),e);b=h;a=e}else if(ld(d)){var n=d,k=L(n,0),p=L(n,1),h=L(n,2),t=L(n,3);if(F.b(k,ck)){var k=d,u=L(k,0),h=L(k,1),d=ae(k,2),k=b,e=U.b(He(h,g,d),e);b=k;a=e}else if(F.b(k,Jk)){var y=d,u=L(y,0),B=L(y,1),E=L(y,2),H=L(y,3),M=L(y,4),S=oq(g,B),ca=lq(E,d),qa=nq(g,E)?oq(g,H):H,Fa=nq(g,E)?oq(g,M):M,N=uq(qa,d),eb=uq(Fa,d),ga=Vp(g,new V(null,2,5,W,[S,E],null));if(sq(g,E,ml))if(q(Oe(function(a,b,c,d,e,g,h,k,m,n,p){return function(a){return F.b(a.v,
p)}}(b,a,y,u,B,E,H,M,S,ca,qa,Fa,N,eb,ga,n,k,p,h,t,c,d,e,g),ga)))b=h=Gq(b,new V(null,4,5,W,[el,S,E,Fa],null)),a=e;else throw yi([r(":db.fn/cas failed on datom ["),r(Wh(I([S],0))),r(" "),r(Wh(I([E],0))),r(" "),r(Wh(I([gf.b(Ui,ga)],0))),r("], expected "),r(Wh(I([qa],0)))].join(""),new l(null,4,[$k,Mi,Fl,ga,Nk,qa,vj,Fa],null));else if(k=C(ga).v,F.b(k,qa))b=h=Gq(b,new V(null,4,5,W,[el,S,E,Fa],null)),a=e;else throw yi([r(":db.fn/cas failed on datom ["),r(Wh(I([S],0))),r(" "),r(Wh(I([E],0))),r(" "),r(Wh(I([k],
0))),r("], expected "),r(Wh(I([qa],0)))].join(""),new l(null,4,[$k,Mi,Fl,C(ga),Nk,qa,vj,Fa],null));}else if(yq(p))d=b,e=U.b(new V(null,1,5,W,[new V(null,4,5,W,[k,vq(b),h,t],null)],null),e),b=d,a=e;else if(nq(g,h)&&yq(t))d=b,e=U.b(new V(null,1,5,W,[new V(null,4,5,W,[k,p,h,vq(b)],null)],null),e),b=d,a=e;else if(0>p)d=Af(b,new V(null,2,5,W,[Hi,p],null)),q(d)?(p=b,e=U.b(new V(null,1,5,W,[new V(null,4,5,W,[k,d,h,t],null)],null),e),b=p,a=e):(e=xq(b,p,Mj.c(g)+1),h=a,b=e,a=h);else if(nq(g,h)&&0>t)d=Af(b,
new V(null,2,5,W,[Hi,t],null)),q(d)?(t=b,e=U.b(new V(null,1,5,W,[new V(null,4,5,W,[k,p,h,d],null)],null),e),b=t,a=e):(e=xq(b,t,Mj.c(g)+1),h=a,b=e,a=h);else if(F.b(k,el))b=h=Gq(b,d),a=e;else if(F.b(k,qk))B=oq(g,p),k=nq(g,h)?oq(g,t):t,lq(h,d),uq(k,d),d=C(Vp(g,new V(null,3,5,W,[B,h,k],null))),q(d)&&(b=h=Hq(b,d)),a=e;else if(F.b(k,Hk))B=oq(g,p),lq(h,d),ga=Vp(g,new V(null,2,5,W,[B,h],null)),h=v(Hq,b,ga),e=U.b(Iq(g,ga),e),b=h,a=e;else if(F.b(k,jk))B=oq(g,p),ga=Vp(g,new V(null,1,5,W,[B],null)),h=pf(function(a,
b,c,d,e,g,h,k,m,n,p,t,u){return function(a){return Vp(u,new V(null,3,5,W,[null,a,c],null))}}(b,a,B,ga,n,k,p,h,t,c,d,e,g),I([Zp(g,Fj)],0)),h=v(Hq,b,U.b(ga,h)),e=U.b(Iq(g,ga),e),b=h,a=e;else throw yi([r("Unknown operation at "),r(Wh(I([d],0))),r(", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute or :db.fn/retractEntity")].join(""),new l(null,3,[$k,nl,Lj,k,nk,d],null));}else throw yi([r("Bad entity type at "),r(Wh(I([d],0))),r(", expected map or vector")].join(""),new l(null,2,[$k,
nl,nk,d],null));}};function Kq(b,a,c,d,e){this.Qb=b;this.Ja=a;this.g=c;this.d=d;this.h=e;this.k=2229667594;this.r=8192}f=Kq.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "attrs":return this.Ja;case "wildcard?":return this.Qb;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullSpec{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[pl,this.Qb],null),new V(null,2,5,W,[Sk,this.Ja],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 2+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};
f.N=function(b,a){return vd(new zd(null,new l(null,2,[Sk,null,pl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Kq(this.Qb,this.Ja,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b(pl,a):T.call(null,pl,a))?new Kq(c,this.Ja,this.g,this.d,null):q(T.b?T.b(Sk,a):T.call(null,Sk,a))?new Kq(this.Qb,c,this.g,this.d,null):new Kq(this.Qb,this.Ja,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,2,5,W,[new V(null,2,5,W,[pl,this.Qb],null),new V(null,2,5,W,[Sk,this.Ja],null)],null),this.d))};f.D=function(b,a){return new Kq(this.Qb,this.Ja,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};var Lq=function Lq(a){if(a?a.yb:a)return a.yb(a);var c;c=Lq[ba(null==a?null:a)];if(!c&&(c=Lq._,!c))throw Ga("IPullSpecComponent.-as-spec",a);return c.call(null,a)};
function Mq(b,a,c,d){this.attr=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=Mq.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "attr":return this.attr;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullAttrName{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[Sl,this.attr],null)],null),this.d))};f.C=function(){return this.g};
f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.yb=function(){return new V(null,2,5,W,[this.attr,new l(null,1,[Sl,this.attr],null)],null)};f.N=function(b,a){return vd(new zd(null,new l(null,1,[Sl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Mq(this.attr,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Sl,a):T.call(null,Sl,a))?new Mq(c,this.g,this.d,null):new Mq(this.attr,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[Sl,this.attr],null)],null),this.d))};f.D=function(b,a){return new Mq(this.attr,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};function Nq(b,a,c,d,e){this.attr=b;this.Cb=a;this.g=c;this.d=d;this.h=e;this.k=2229667594;this.r=8192}f=Nq.prototype;
f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "rattr":return this.Cb;case "attr":return this.attr;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Sl,this.attr],null),new V(null,2,5,W,[dj,this.Cb],null)],null),this.d))};f.C=function(){return this.g};
f.I=function(){return 2+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.yb=function(){return new V(null,2,5,W,[this.Cb,new l(null,1,[Sl,this.attr],null)],null)};f.N=function(b,a){return vd(new zd(null,new l(null,2,[dj,null,Sl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Nq(this.attr,this.Cb,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Sl,a):T.call(null,Sl,a))?new Nq(c,this.Cb,this.g,this.d,null):q(T.b?T.b(dj,a):T.call(null,dj,a))?new Nq(this.attr,c,this.g,this.d,null):new Nq(this.attr,this.Cb,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Sl,this.attr],null),new V(null,2,5,W,[dj,this.Cb],null)],null),this.d))};f.D=function(b,a){return new Nq(this.attr,this.Cb,a,this.d,this.h)};
f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};function Oq(b,a,c,d,e){this.attr=b;this.ha=a;this.g=c;this.d=d;this.h=e;this.k=2229667594;this.r=8192}f=Oq.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "limit":return this.ha;case "attr":return this.attr;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullLimitExpr{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Sl,this.attr],null),new V(null,2,5,W,[gj,this.ha],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 2+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};
f.yb=function(){return Df(Lq(this.attr),new V(null,2,5,W,[1,gj],null),this.ha)};f.N=function(b,a){return vd(new zd(null,new l(null,2,[gj,null,Sl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Oq(this.attr,this.ha,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b(Sl,a):T.call(null,Sl,a))?new Oq(c,this.ha,this.g,this.d,null):q(T.b?T.b(gj,a):T.call(null,gj,a))?new Oq(this.attr,c,this.g,this.d,null):new Oq(this.attr,this.ha,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Sl,this.attr],null),new V(null,2,5,W,[gj,this.ha],null)],null),this.d))};f.D=function(b,a){return new Oq(this.attr,this.ha,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};function Pq(b,a,c,d,e){this.attr=b;this.value=a;this.g=c;this.d=d;this.h=e;this.k=2229667594;this.r=8192}f=Pq.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "value":return this.value;case "attr":return this.attr;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Sl,this.attr],null),new V(null,2,5,W,[Hj,this.value],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 2+K(this.d)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.yb=function(){return Df(Lq(this.attr),new V(null,2,5,W,[1,rj],null),this.value)};f.N=function(b,a){return vd(new zd(null,new l(null,2,[Hj,null,Sl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Pq(this.attr,this.value,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Sl,a):T.call(null,Sl,a))?new Pq(c,this.value,this.g,this.d,null):q(T.b?T.b(Hj,a):T.call(null,Hj,a))?new Pq(this.attr,c,this.g,this.d,null):new Pq(this.attr,this.value,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Sl,this.attr],null),new V(null,2,5,W,[Hj,this.value],null)],null),this.d))};f.D=function(b,a){return new Pq(this.attr,this.value,a,this.d,this.h)};
f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};function Qq(b,a,c){this.g=b;this.d=a;this.h=c;this.k=2229667594;this.r=8192}f=Qq.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a){default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullWildcard{",", ","}",c,U.b(Wc,this.d))};f.C=function(){return this.g};f.I=function(){return 0+K(this.d)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(Ad,a)?P.b(ed(tf.b(Q,this),this.g),a):new Qq(this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return new Qq(this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(Wc,this.d))};f.D=function(b,a){return new Qq(a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};
function Rq(b,a,c,d){this.ha=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=Rq.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "limit":return this.ha;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[gj,this.ha],null)],null),this.d))};f.C=function(){return this.g};
f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.yb=function(){return new V(null,2,5,W,[yk,this.ha],null)};f.N=function(b,a){return vd(new zd(null,new l(null,1,[gj,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Rq(this.ha,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(gj,a):T.call(null,gj,a))?new Rq(c,this.g,this.d,null):new Rq(this.ha,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[gj,this.ha],null)],null),this.d))};f.D=function(b,a){return new Rq(this.ha,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};function Sq(b,a,c,d,e){this.attr=b;this.Bb=a;this.g=c;this.d=d;this.h=e;this.k=2229667594;this.r=8192}f=Sq.prototype;
f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "porrl":return this.Bb;case "attr":return this.attr;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Sl,this.attr],null),new V(null,2,5,W,[wk,this.Bb],null)],null),this.d))};f.C=function(){return this.g};
f.I=function(){return 2+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.yb=function(){return Gf(Lq(this.attr),1,J,Lq(this.Bb))};f.N=function(b,a){return vd(new zd(null,new l(null,2,[wk,null,Sl,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Sq(this.attr,this.Bb,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Sl,a):T.call(null,Sl,a))?new Sq(c,this.Bb,this.g,this.d,null):q(T.b?T.b(wk,a):T.call(null,wk,a))?new Sq(this.attr,c,this.g,this.d,null):new Sq(this.attr,this.Bb,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Sl,this.attr],null),new V(null,2,5,W,[wk,this.Bb],null)],null),this.d))};f.D=function(b,a){return new Sq(this.attr,this.Bb,a,this.d,this.h)};
f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};function Tq(b,a){return a instanceof Qq?O.f(b,pl,!0):Gf(b,Sk,De,Lq(a))}function Uq(b,a,c,d){this.Ob=b;this.g=a;this.d=c;this.h=d;this.k=2229667594;this.r=8192}f=Uq.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "specs":return this.Ob;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullPattern{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[Lk,this.Ob],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 1+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};
f.yb=function(){var b=new Kq(!1,Mb(Q),null,null,null),b=v(Tq,b,this.Ob);return new V(null,2,5,W,[Yk,Ff(b,Sk,Ce)],null)};f.N=function(b,a){return vd(new zd(null,new l(null,1,[Lk,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Uq(this.Ob,this.g,Me(P.b(this.d,a)),null)};f.K=function(b,a,c){return q(T.b?T.b(Lk,a):T.call(null,Lk,a))?new Uq(c,this.g,this.d,null):new Uq(this.Ob,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,1,5,W,[new V(null,2,5,W,[Lk,this.Ob],null)],null),this.d))};f.D=function(b,a){return new Uq(this.Ob,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};var Vq=new zd(null,new l(null,3,[Pi,null,"*",null,new z(null,"*","*",345799209,null),null],null),null);function Wq(b){return b instanceof R||"string"===typeof b?Bq(b)?new Nq(Cq(b),b,null,null,null):new Mq(b,null,null,null):null}
var Xq=new zd(null,new l(null,2,["...",null,new z(null,"...","...",-1926939749,null),null],null),null);function Yq(b){return ld(b)&&F.b(3,K(b))}var Zq=new zd(null,new l(null,3,[new z(null,"limit","limit",284709164,null),null,gj,null,"limit",null],null),null);
function $q(b){var a=L(b,0),c=L(b,1),d=L(b,2);if(q(Zq.c?Zq.c(a):Zq.call(null,a))){c=(a=null==d||"number"===typeof d&&0<d)?Wq(c):a;if(q(c))return new Oq(c,d,null,null,null);throw yi(""+r('Expected ["limit" attr-name (positive-number | nil)]'),new l(null,2,[$k,sl,pj,b],null));}return null}var ar=new zd(null,new l(null,3,[new z(null,"default","default",-347290801,null),null,rj,null,"default",null],null),null);
function br(b){var a=L(b,0),c=L(b,1);b=function(){var b=Wq(a);return q(b)?b:q(Yq(a))?$q(a):null}();if(q(b)){var d=function(){var a;a=q(Xq.c?Xq.c(c):Xq.call(null,c))?new Rq(null,null,null,null):"number"===typeof c&&0<c?new Rq(c,null,null,null):null;return q(a)?a:cr.c?cr.c(c):cr.call(null,c)}();if(q(d))return new Sq(b,d,null,null,null);throw yi(""+r("Expected (pattern | recursion-limit)"),new l(null,2,[$k,sl,pj,new V(null,2,5,W,[a,c],null)],null));}throw yi(""+r("Expected (attr-name | limit-expr)"),
new l(null,2,[$k,sl,pj,new V(null,2,5,W,[a,c],null)],null));}
function dr(b){var a=Wq(b);if(q(a))return a;a=q(Vq.c?Vq.c(b):Vq.call(null,b))?new Qq(null,null,null):null;if(q(a))return a;a=md(b)?br(C(b)):null;if(q(a))return a;if(q(Yq(b))){if(a=$q(b),!q(a))b:{var c=L(b,0),d=L(b,1),a=L(b,2);if(q(ar.c?ar.c(c):ar.call(null,c))){c=ar.c?ar.c(c):ar.call(null,c);d=q(c)?Wq(d):c;if(q(d)){a=new Pq(d,a,null,null,null);break b}throw yi(""+r('Expected ["default" attr-name any-value]'),new l(null,2,[$k,sl,pj,b],null));}a=null}}else a=null;if(q(a))return a;throw yi(""+r("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)"),
new l(null,2,[$k,sl,pj,b],null));}function er(b){return md(b)?xl:q(Vq.c?Vq.c(b):Vq.call(null,b))?Xi:wj}function fr(b){return tf.f(Wc,gf.c(function(a){return J.b(Q,a)}),b)}function gr(b){b=gi(er,b);var a=q(Me(Zc(b,Xi)))?new V(null,1,5,W,[new z(null,"*","*",345799209,null)],null):Wc;return tf.f(tf.b(a,Zc(b,wj)),Se(gf.c(fr),ai),Zc(b,xl))}function cr(b){return ld(b)?new Uq(tf.f(Wc,gf.c(dr),gr(b)),null,null,null):null}
function hr(b){var a;a=null==b?null:cr(b);a=null==a?null:Yc(Lq(a),1);if(q(a))return a;throw yi(""+r("Cannot parse pull pattern, expected: [attr-spec+]"),new l(null,2,[$k,sl,pj,b],null));};function ir(b,a){return v(De,b,a)}function jr(b,a,c){return ad([Si,Tj,Vj,yk,Lk,pl,yl,Ll,Tl],[c,a,Ll,new l(null,2,[al,Q,zk,Ad],null),A(Sk.c(b)),pl.c(b),Mb(Q),b,Mb(Wc)])}function kr(b,a,c,d){return O.f(jr(b,a,c),Sl,d)}function lr(b,a,c){var d=Ll.c(b);return O.j(b,Tj,a,I([Lk,A(Sk.c(d)),pl,pl.c(d),yl,Mb(Q),Tl,function(){var a=Tl.c(b);return A(c)?De.b(a,c):a}()],0))}function mr(b,a,c){var d=sd(b)?Ge(Ze,b):b,e=Zc(d,zk),d=Zc(d,al);return O.j(b,al,Ff(d,a,Ue(Ec,0)),I([zk,J.b(e,c)],0))}
function nr(b,a,c){var d;d=vd(Bf(b,new V(null,2,5,W,[yk,zk],null),Ad),c);return q(d)?J.b(a,Gf(b,Tl,De,new l(null,1,[Pk,c],null))):null}function or(b){b=yl.c(b);b=null==b?null:Ob(b);return null==b?null:Zc(b,Kj)}function pr(b,a){var c=Sl.c(b),c=mr(yk.c(b),c,a);return O.f(kr(Ll.c(b),new V(null,1,5,W,[a],null),!1,Kj),yk,c)}
function qr(b){var a=L(b,0);b=ae(b,1);var c=A(Tj.c(a));if(c){var a=lr(a,vc(c),or(a)),c=C(c),d=nr(a,b,c);return q(d)?d:J.j(b,a,I([pr(a,c)],0))}c=or(a);d=Tl.c(a);c=A(c)?De.b(d,c):d;return J.b(b,O.j(a,Vj,Zi,I([Tl,c],0)))}function rr(b,a,c,d,e){var g=sd(d)?Ge(Ze,d):d,h=Zc(g,Ll),g=Zc(g,yk),k=$c(Zc(g,al),b,0);return F.b(yk.c(Zc(Sk.c(h),b)),k)?J.b(e,d):qr(J.j(e,d,I([new l(null,7,[Vj,yk,Ll,h,Sl,b,Si,a,Tj,c,yk,g,Tl,Mb(Wc)],null)],0)))}
var sr=function(b){return function(a,c,d,e,g){a=mr(yk.c(a),d,c);return O.f(kr(b,g,e,d),yk,a)}}(new Kq(!0,Q,null,null,null));
function tr(b,a,c,d,e,g,h,k){var m=L(k,0),n=ae(k,1),p=$c(h,gj,1E3),t=Me(q(p)?tf.f(Wc,hf(p),g):g);if(q(t)){var u=sq(b,c,ml),y=nq(b,c),B=y&&sq(b,c,Zj),E=q(e)?function(){return function(a){return a.v}}(u,y,B,p,t,k,m,n):function(){return function(a){return a.e}}(u,y,B,p,t,k,m,n);if(vd(h,Yk))return J.j(n,m,I([kr(Yk.c(h),uf(E,t),u,a)],0));if(vd(h,yk))return rr(a,u,uf(E,t),m,n);if(q(B?e:B))return J.j(n,m,I([sr(m,d,a,u,uf(E,t))],0));var H=function(){return y?Se(function(){return function(a){return ad([Pk],
[a])}}(E,u,y,B,E,p,t,k,m,n),E):E}(),M=q(e)?!u:B;return J.b(n,Hf(m,yl,Ee,a,function(){var a=tf.f(Wc,gf.c(H),t);return M?C(a):a}()))}return J.b(n,vd(h,rj)?Hf(m,yl,Ee,a,rj.c(h)):m)}function ur(b,a){var c=L(a,0),d=ae(a,1),e=A(El.c(c));if(e){var g=C(e),e=L(g,0),g=L(g,1),h=$c(Af(c,new V(null,2,5,W,[Ll,Sk],null)),e,Q);return tr(b,e,e,jl.c(c),!0,g,h,J.b(d,Ff(c,El,vc)))}e=L(d,0);d=ae(d,1);return J.b(d,Gf(e,yl,ir,Ce(yl.c(c))))}
function vr(b,a,c,d,e){var g=gi(function(a){return a.a},Wp(b,ik,new V(null,1,5,W,[d],null))),h=sd(a)?Ge(Ze,a):a,k=Zc(h,yk),h=Zc(h,Sl),k=null!=h?mr(k,h,d):k;return ur(b,J.j(c,a,I([new l(null,6,[Vj,vl,yl,Be(new l(null,1,[Pk,d],null)),jl,d,Ll,e,El,A(g),yk,k],null)],0)))}
function wr(b,a){for(;;){var c=a,d=L(c,0),e=ae(c,1);if(c=A(Tj.c(d))){if(q(pl.c(d))){var g=b,d=O.j(d,Lk,Wc,I([jl,C(c),pl,!1],0)),c=e,h=sd(d)?Ge(Ze,d):d,e=Zc(h,Ll),h=Zc(h,jl),k=nr(d,c,h);return q(k)?k:vr(g,d,c,h,e)}if(g=A(Lk.c(d))){h=g;g=C(h);Ll.c(d);e=J.b(e,O.f(d,Lk,vc(h)));d=b;h=g;c=C(c);g=L(h,0);h=L(h,1);if(F.b(Pk,g))d=q(Me(Wp(d,ik,new V(null,1,5,W,[c],null))))?J.b(vc(e),Hf(C(e),yl,Ee,Pk,c)):e;else var k=Sl.c(h),m=F.b(g,k),n=m?Wp(d,ik,new V(null,2,5,W,[c,k],null)):Wp(d,Aj,new V(null,2,5,W,[k,c],
null)),d=tr(d,g,k,c,m,n,h,e);return d}g=b;d=J.b(e,lr(d,vc(c),Me(Ce(yl.c(d)))));b=g;a=d}else return J.b(e,O.f(d,Vj,Zi))}}
function xr(b,a){for(;;)switch(Vj.c(C(a))instanceof R?Vj.c(C(a)).L:null){case "done":var c=a,d=L(c,0),e=ae(c,1),g=function(){var a=Ce(Tl.c(d));return Ba(Si.c(d))?C(a):a}();if(A(e)){var c=b,h=J.b(vc(e),function(){var a=C(e);return q(g)?Hf(a,yl,Ee,Sl.c(d),g):a}());b=c;a=h;continue}else return g;case "recursion":c=b;h=qr(a);b=c;a=h;continue;case "pattern":c=b;h=wr(b,a);b=c;a=h;continue;case "expand":c=b;h=ur(b,a);b=c;a=h;continue;default:throw Error([r("No matching clause: "),r(Vj.c(C(a)))].join(""));
}}function yr(b,a,c){c=tf.f(Wc,gf.c(function(a){return oq(b,a)}),c);return xr(b,Ta(wc,jr(a,c,!1)))};var zr=function zr(a,c){var d;d=Te(zr,a);if(sd(c)){for(var e=d=gf.b(d,c);;)if(A(e))e=D(e);else break;d=a.c?a.c(d):a.call(null,d)}else jd(c)?(d=tf.b(null==c?null:Qa(c),gf.b(d,c)),d=a.c?a.c(d):a.call(null,d)):d=a.c?a.c(c):a.call(null,c);return d};function Ar(b,a){var c;c="number"===typeof a||ld(a)?tq(b,a):null;return q(c)?new Br(b,c,!1,Q):null}function Cr(b,a,c){return sq(b,a,ml)?nq(b,a)?v(function(a,c){return J.b(a,Ar(b,c.v))},Ad,c):v(function(a,b){return J.b(a,b.v)},Ad,c):nq(b,a)?Ar(b,C(c).v):C(c).v}function Dr(b,a){return v(function(a,d){var e=C(d).a;return O.f(a,e,Cr(b,e,d))},Q,Jh(Dl,a))}function Er(b,a){return Kd(function(a,d,e){return O.f(a,d,sq(b,d,Zj)?sq(b,d,ml)?Ah(gf.b(Fr,e)):Fr.c?Fr.c(e):Fr.call(null,e):e)},Q,a)}
function Fr(b){if(!q(b.Mc)){var a=Me(Vp(b.db,new V(null,1,5,W,[b.eid],null)));q(a)&&(b.Mc=!0,b.Pa=Er(b.db,Dr(b.db,a)))}return b}function Gr(b,a,c,d){a=Me(Vp(b,new V(null,3,5,W,[null,c,a],null)));return q(a)?sq(b,c,Zj)?Ar(b,C(a).e):v(function(){return function(a,c){return J.b(a,Ar(b,c.e))}}(a,a),Ad,a):d}function Hr(b){return q(b)?Fd(b):null}
function Ir(b){Fr(b);return function c(d){return new qe(null,function(){for(;;){var e=A(d);if(e){if(od(e)){var g=Ub(e),h=K(g),k=ue(h);a:for(var m=0;;)if(m<h){var n=w.b(g,m),p=L(n,0),n=L(n,1),p=sq(b.db,p,ml)?new V(null,2,5,W,[p,Hr(n)],null):new V(null,2,5,W,[p,n],null);k.add(p);m+=1}else{g=!0;break a}return g?we(k.R(),c(Vb(e))):we(k.R(),null)}g=C(e);k=L(g,0);g=L(g,1);return Rc(sq(b.db,k,ml)?new V(null,2,5,W,[k,Hr(g)],null):new V(null,2,5,W,[k,g],null),c(vc(e)))}return null}},null,null)}(b.Pa)}
function Br(b,a,c,d){this.db=b;this.eid=a;this.Mc=c;this.Pa=d;this.r=0;this.k=2162164483}f=Br.prototype;f.w=function(b,a,c){return Jb(O.f(this.Pa,Pk,this.eid),a,c)};f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.s(null,b);case 3:return this.q(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.s(null,b)};b.f=function(a,b,d){return this.q(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Ja(a)))};
f.c=function(b){return this.s(null,b)};f.b=function(b,a){return this.q(null,b,a)};f.Eb=function(b,a){return Le.b(Xk,x.f(this,a,Xk))};f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){if(F.b(a,Pk))return this.eid;if(Bq(a))return Gr(this.db,this.eid,Cq(a),c);b=this.Pa.c?this.Pa.c(a):this.Pa.call(null,a);if(q(b))return b;if(q(this.Mc))return c;b=Me(Vp(this.db,new V(null,2,5,W,[this.eid,a],null)));return q(b)?(this.Pa=O.f(this.Pa,a,Cr(this.db,a,b)),this.Pa.c?this.Pa.c(a):this.Pa.call(null,a)):c};f.I=function(){Fr(this);return K(this.Pa)};f.B=function(){Fr(this);return A(this.Pa)};f.A=function(){return nc(this.eid)};
f.p=function(b,a){return a instanceof Br&&F.b(this.eid,a.eid)};f.entry_set=function(){return Fd(gf.b(Fd,Ir(this)))};
f.forEach=function(){function b(a,b){for(var c=A(Ir(this)),h=null,k=0,m=0;;)if(m<k){var n=h.M(null,m),p=L(n,0),n=L(n,1);a.call(b,n,p,this);m+=1}else if(c=A(c))od(c)?(h=Ub(c),c=Vb(c),p=h,k=K(h),h=p):(h=C(c),p=L(h,0),n=L(h,1),a.call(b,n,p,this),c=D(c),h=null,k=0),m=0;else return null}function a(a){for(var b=A(Ir(this)),c=null,h=0,k=0;;)if(k<h){var m=c.M(null,k),n=L(m,0),m=L(m,1);a.f?a.f(m,n,this):a.call(null,m,n,this);k+=1}else if(b=A(b))od(b)?(c=Ub(b),b=Vb(b),n=c,h=K(c),c=n):(c=C(b),n=L(c,0),c=m=L(c,
1),a.f?a.f(c,n,this):a.call(null,c,n,this),b=D(b),c=null,h=0),k=0;else return null}var c=null,c=function(c,e){switch(arguments.length){case 1:return a.call(this,c);case 2:return b.call(this,c,e)}throw Error("Invalid arity: "+arguments.length);};c.c=a;c.b=b;return c}();f.get=function(b){if(F.b(b,":db/id"))return this.eid;if(Bq(b))return Hr(Gr(this.db,this.eid,Cq(b),null));var a=this.s(null,b);return sq(this.db,b,ml)?Hr(a):a};f.key_set=function(){return Fd(wg(this))};f.entries=function(){return qg(Ir(this))};
f.value_set=function(){return Fd(gf.b(Tc,Ir(this)))};f.toString=function(){return ec(this)};f.keys=function(){return yc(wg(this))};f.values=function(){return yc(gf.b(Tc,Ir(this)))};f.equiv=function(b){return this.p(null,b)};f.has=function(b){return null!=this.get(b)};fa("datascript.impl.entity.Entity.prototype.get",Br.prototype.get);fa("datascript.impl.entity.Entity.prototype.has",Br.prototype.has);fa("datascript.impl.entity.Entity.prototype.forEach",Br.prototype.forEach);
fa("datascript.impl.entity.Entity.prototype.key_set",Br.prototype.key_set);fa("datascript.impl.entity.Entity.prototype.value_set",Br.prototype.value_set);fa("datascript.impl.entity.Entity.prototype.entry_set",Br.prototype.entry_set);fa("datascript.impl.entity.Entity.prototype.keys",Br.prototype.keys);fa("datascript.impl.entity.Entity.prototype.values",Br.prototype.values);fa("datascript.impl.entity.Entity.prototype.entries",Br.prototype.entries);fa("cljs.core.ES6Iterator.prototype.next",xc.prototype.next);
fa("cljs.core.ES6EntriesIterator.prototype.next",pg.prototype.next);var Jr,Kr;function Lr(b,a,c,d,e,g){this.Db=b;this.Ma=a;this.rules=c;this.g=d;this.d=e;this.h=g;this.k=2229667594;this.r=8192}f=Lr.prototype;f.s=function(b,a){return x.f(this,a,null)};f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "rules":return this.rules;case "sources":return this.Ma;case "rels":return this.Db;default:return $c(this.d,a,c)}};
f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.query.Context{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[ok,this.Db],null),new V(null,2,5,W,[Bj,this.Ma],null),new V(null,2,5,W,[fk,this.rules],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 3+K(this.d)};f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};
f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,3,[Bj,null,fk,null,ok,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Lr(this.Db,this.Ma,this.rules,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(ok,a):T.call(null,ok,a))?new Lr(c,this.Ma,this.rules,this.g,this.d,null):q(T.b?T.b(Bj,a):T.call(null,Bj,a))?new Lr(this.Db,c,this.rules,this.g,this.d,null):q(T.b?T.b(fk,a):T.call(null,fk,a))?new Lr(this.Db,this.Ma,c,this.g,this.d,null):new Lr(this.Db,this.Ma,this.rules,this.g,O.f(this.d,a,c),null)};
f.B=function(){return A(U.b(new V(null,3,5,W,[new V(null,2,5,W,[ok,this.Db],null),new V(null,2,5,W,[Bj,this.Ma],null),new V(null,2,5,W,[fk,this.rules],null)],null),this.d))};f.D=function(b,a){return new Lr(this.Db,this.Ma,this.rules,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};function Mr(b,a,c,d,e){this.Ja=b;this.Pb=a;this.g=c;this.d=d;this.h=e;this.k=2229667594;this.r=8192}f=Mr.prototype;f.s=function(b,a){return x.f(this,a,null)};
f.q=function(b,a,c){switch(a instanceof R?a.L:null){case "tuples":return this.Pb;case "attrs":return this.Ja;default:return $c(this.d,a,c)}};f.w=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.query.Relation{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Sk,this.Ja],null),new V(null,2,5,W,[Ji,this.Pb],null)],null),this.d))};f.C=function(){return this.g};f.I=function(){return 2+K(this.d)};
f.A=function(){var b=this.h;return null!=b?b:this.h=b=ce(this)};f.p=function(b,a){var c;c=q(a)?(c=this.constructor===a.constructor)?og(this,a):c:a;return q(c)?!0:!1};f.N=function(b,a){return vd(new zd(null,new l(null,2,[Ji,null,Sk,null],null),null),a)?P.b(ed(tf.b(Q,this),this.g),a):new Mr(this.Ja,this.Pb,this.g,Me(P.b(this.d,a)),null)};
f.K=function(b,a,c){return q(T.b?T.b(Sk,a):T.call(null,Sk,a))?new Mr(c,this.Pb,this.g,this.d,null):q(T.b?T.b(Ji,a):T.call(null,Ji,a))?new Mr(this.Ja,c,this.g,this.d,null):new Mr(this.Ja,this.Pb,this.g,O.f(this.d,a,c),null)};f.B=function(){return A(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Sk,this.Ja],null),new V(null,2,5,W,[Ji,this.Pb],null)],null),this.d))};f.D=function(b,a){return new Mr(this.Ja,this.Pb,a,this.d,this.h)};f.H=function(b,a){return nd(a)?gb(this,w.b(a,0),w.b(a,1)):v(Ta,this,a)};
function Nr(b,a){return Xn.b(Ah(wg(b)),Ah(wg(a)))}function Or(b){return tf.f(Wc,ai,b)}
var Pr=function Pr(a,c){return F.b(new z(null,"_","_",-1201019570,null),a)?!0:F.b(new V(null,1,5,W,[new z(null,"*","*",345799209,null)],null),a)?ld(c):a instanceof z?F.b(c,a):ld(a)?F.b(Vc(a),new z(null,"*","*",345799209,null))?ld(c)&&Ne(function(a){var c=L(a,0);a=L(a,1);return Pr(c,a)},gf.f(ag,Ch(a),c)):ld(c)&&F.b(K(c),K(a))&&Ne(function(a){var c=L(a,0);a=L(a,1);return Pr(c,a)},gf.f(ag,a,c)):a.c?a.c(c):a.call(null,c)};function Qr(b){return b instanceof z&&F.b("$",C(pe(b)))}
function Rr(b){return b instanceof z&&F.b("?",C(pe(b)))}function Sr(b){return b instanceof R||"string"===typeof b}function Tr(b){return Pr(new V(null,2,5,W,[Sr,new z(null,"_","_",-1201019570,null)],null),b)}function Ur(b,a,c,d,e){this.Ab=b;this.sc=a;this.uc=c;this.Lb=d;this.ha=e;this.r=0;this.k=2147484416}f=Ur.prototype;f.w=function(b,a,c){return Jb(Ob(this.Ab),a,c)};f.s=function(b,a){return x.f(this.Ab,a,null)};f.q=function(b,a,c){return x.f(this.Ab,a,c)};
f.K=function(b,a,c){b=x.f(this.uc,a,null);q(b)?a=new Ur(this.Ab,O.f(P.b(this.sc,b),this.Lb,a),Pb(this.uc,a,this.Lb),this.Lb+1,this.ha):(a=new Ur(Pb(this.Ab,a,c),O.f(this.sc,this.Lb,a),Pb(this.uc,a,this.Lb),this.Lb+1,this.ha),K(a.Ab)>a.ha&&(b=C(a.sc),c=L(b,0),b=L(b,1),a=new Ur(Qb(a.Ab,b),P.b(a.sc,c),Qb(a.uc,b),a.Lb,a.ha)));return a};f.Eb=function(b,a){return db(this.Ab,a)};
function Vr(b,a,c,d){for(var e=a.length,g=d.length,h=Array(e+g),k=0;;)if(k<e)h[k]=b[a[k]],k+=1;else break;for(b=0;;)if(b<g)h[e+b]=c[d[b]],b+=1;else break;return h}function Wr(b,a){return new Mr(Sk.c(b),U.b(Ji.c(b),Ji.c(a)),null,null,null)}var Xr=function Xr(){switch(arguments.length){case 0:return Xr.t();case 2:return Xr.b(arguments[0],arguments[1]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}};Xr.t=function(){return new Mr(Q,new V(null,1,5,W,[[]],null),null,null,null)};
Xr.b=function(b,a){var c=wg(Sk.c(b)),d=wg(Sk.c(a)),e=Fd(gf.b(Sk.c(b),c)),g=Fd(gf.b(Sk.c(a),d));return new Mr(Dh(U.b(c,d),xf.t()),Ce(v(function(b,c,d,e){return function(g,t){return v(function(a,b,c,d){return function(a,b){return De.b(a,Vr(t,c,b,d))}}(b,c,d,e),g,Ji.c(a))}}(c,d,e,g),Mb(Wc),Ji.c(b))),null,null,null)};Xr.G=2;var Yr=function Yr(){var a=0<arguments.length?new uc(Array.prototype.slice.call(arguments,0),0):null;return Yr.j(a)};Yr.j=function(b){var a=K(b);return Le.b(jf(a/2,b),kf(a/2,b))};
Yr.G=0;Yr.F=function(b){return Yr.j(A(b))};var Zr=function Zr(){var a=2<arguments.length?new uc(Array.prototype.slice.call(arguments,2),0):null;return Zr.j(arguments[0],arguments[1],a)};Zr.j=function(b,a,c){return v(function(c,e){var g=C(Vp(b,new V(null,2,5,W,[a,e],null)));return q(g)?new Fc(g.v):null},null,c)};Zr.G=2;Zr.F=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Zr.j(a,b,c)};
var $r=ad([new z(null,"true?","true?",-1600332395,null),new z(null,"odd?","odd?",-1458588199,null),new z(null,"get-else","get-else",1312024065,null),new z(null,"\x3e\x3d","\x3e\x3d",1016916022,null),new z(null,"\x3e","\x3e",1085014381,null),new z(null,"get-some","get-some",409442058,null),new z(null,"nil?","nil?",1612038930,null),new z(null,"inc","inc",324505433,null),new z(null,"/","/",-1371932971,null),new z(null,"quot","quot",-1125214196,null),new z(null,"false?","false?",-1522377573,null),new z(null,
"identity","identity",-1007039734,null),new z(null,"-differ?","-differ?",1465687357,null),new z(null,"\x3c\x3d","\x3c\x3d",1244895369,null),new z(null,"\x3d","\x3d",-1501502141,null),new z(null,"min","min",2085523049,null),new z(null,"+","+",-740910886,null),new z(null,"missing?","missing?",-1710383910,null),new z(null,"ground","ground",-1460862835,null),new z(null,"\x3d\x3d","\x3d\x3d",-234118149,null),new z(null,"max","max",1701898075,null),new z(null,"*","*",345799209,null),new z(null,"zero?",
"zero?",325758897,null),new z(null,"!\x3d","!\x3d",-201205829,null),new z(null,"dec","dec",-766002333,null),new z(null,"vector","vector",-751469611,null),new z(null,"not\x3d","not\x3d",1466536204,null),new z(null,"str","str",-1564826950,null),new z(null,"\x3c","\x3c",993667236,null),new z(null,"-","-",-471816912,null),new z(null,"pos?","pos?",-244377722,null),new z(null,"mod","mod",1510044207,null),new z(null,"rem","rem",664046770,null),new z(null,"even?","even?",-1827825394,null),new z(null,"neg?",
"neg?",-1902175577,null)],[function(b){return!0===b},Qe,function(b,a,c,d){b=C(Vp(b,new V(null,2,5,W,[a,c],null)));return q(b)?b.v:d},Ud,Td,Zr,za,Ec,Qd,Yd,function(b){return!1===b},Ld,Yr,Sd,F,Wd,Nd,function(b,a,c){return null==Zc(Ar(b,a),c)},Ld,$d,Vd,Pd,function(b){return 0===b},Le,function(b){return b-1},ag,Le,r,Rd,Od,function(b){return 0<b},Xd,function(b,a){var c=Yd(b,a);return b-a*c},Pe,function(b){return 0>b}]),as=function(){function b(b){var e=a(b);return c(function(){return function(a){return function k(b){return new qe(null,
function(a){return function(){for(;;){var c=A(b);if(c){if(od(c)){var d=Ub(c),e=K(d),g=ue(e);a:for(var B=0;;)if(B<e){var E=w.b(d,B)-a;g.add(E*E);B+=1}else{d=!0;break a}return d?we(g.R(),k(Vb(c))):we(g.R(),null)}g=C(c)-a;return Rc(g*g,k(vc(c)))}return null}}}(a),null,null)}}(e)(b)}())/K(b)}function a(a){return c(a)/K(a)}function c(a){return v(Nd,0,a)}return ad([new z(null,"variance","variance",-1522424942,null),new z(null,"count","count",-514511684,null),new z(null,"median","median",-2084869638,null),
new z(null,"sum","sum",1777518341,null),new z(null,"min","min",2085523049,null),new z(null,"max","max",1701898075,null),new z(null,"count-distinct","count-distinct",-1566572514,null),new z(null,"distinct","distinct",-148347594,null),new z(null,"avg","avg",1837937727,null),new z(null,"stddev","stddev",775056588,null),new z(null,"rand","rand",-1745930995,null),new z(null,"sample","sample",1719555128,null)],[b,K,function(a){var b=Ed(Bd,a);a=K(a);var c=a>>1,h=Yc(b,c);return Pe(a)?(h+Yc(b,c-1))/2:h},c,
function(){function a(b,c){return $f(v(function(a,c){return K(a)<b?Ed(bq,J.b(a,c)):0>bq(c,Vc(a))?Ed(bq,J.b(Ch(a),c)):a},Wc,c))}function b(a){return v(function(a,b){return 0>bq(b,a)?b:a},C(a),D(a))}var c=null,c=function(c,g){switch(arguments.length){case 1:return b.call(this,c);case 2:return a.call(this,c,g)}throw Error("Invalid arity: "+arguments.length);};c.c=b;c.b=a;return c}(),function(){function a(b,c){return $f(v(function(a,c){return K(a)<b?Ed(bq,J.b(a,c)):0<bq(c,C(a))?Ed(bq,J.b(D(a),c)):a},
Wc,c))}function b(a){return v(function(a,b){return 0<bq(b,a)?b:a},C(a),D(a))}var c=null,c=function(c,g){switch(arguments.length){case 1:return b.call(this,c);case 2:return a.call(this,c,g)}throw Error("Invalid arity: "+arguments.length);};c.c=b;c.b=a;return c}(),function(a){return K(Bh.c(a))},Se($f,Bh),a,function(a){a=b(a);return Math.sqrt(a)},function(){function a(b,c){return $f(of(b,function(){return Yc(c,fi(K(c)))}))}var b=null,b=function(b,c){switch(arguments.length){case 1:return Yc(b,fi(K(b)));
case 2:return a.call(this,b,c)}throw Error("Invalid arity: "+arguments.length);};b.c=function(a){return Yc(a,fi(K(a)))};b.b=a;return b}(),function(a,b){var c=jf,h;h=Fd.c?Fd.c(b):Fd.call(null,b);for(var k=Math.random,m=h.length-1;0<m;m--){var n=Math.floor(k()*(m+1)),p=h[m];h[m]=h[n];h[n]=p}h=$f.c?$f.c(h):$f.call(null,h);return $f(c(a,h))}])}();function bs(b){b="string"===typeof b?pm(new Wl(b,[],-1),!1,null):b;return gi(Uc,b)}function cs(b){return td(b)||Aa(b)}
function ds(b){b=gf.b(zj,$f(Bh.c(dp(b))));return new Mr(Dh(b,xf.t()),Wc,null,null,null)}var es=function es(a,c){if(a?a.fc:a)return a.fc(a,c);var d;d=es[ba(null==a?null:a)];if(!d&&(d=es._,!d))throw Ga("IBinding.in-\x3erel",a);return d.call(null,a,c)};
Ao.prototype.fc=function(b,a){if(Ba(cs(a)))throw yi([r("Cannot bind value "),r(Wh(I([a],0))),r(" to tuple "),r(Wh(I([jo(this)],0)))].join(""),new l(null,3,[$k,Ej,Hj,a,tk,jo(this)],null));if(K(a)<K(this.cb))throw yi([r("Not enough elements in a collection "),r(Wh(I([a],0))),r(" to bind tuple "),r(Wh(I([jo(this)],0)))].join(""),new l(null,3,[$k,Ej,Hj,a,tk,jo(this)],null));return Jd(Xr,gf.f(function(){return function(a,b){return es(a,b)}}(this),this.cb,a))};
Bo.prototype.fc=function(b,a){if(Ba(cs(a)))throw yi([r("Cannot bind value "),r(Wh(I([a],0))),r(" to collection "),r(Wh(I([jo(this)],0)))].join(""),new l(null,3,[$k,Ej,Hj,a,tk,jo(this)],null));return id(a)?ds(this):Jd(Wr,gf.b(function(a){return function(b){return es(a.ja,b)}}(this),a))};zo.prototype.fc=function(b,a){return new Mr(new Bg([this.ba.symbol,0]),new V(null,1,5,W,[[a]],null),null,null,null)};yo.prototype.fc=function(){return Xr.t()};
function fs(b,a){var c=L(a,0),d=L(a,1);return c instanceof zo&&c.ba instanceof mo?Ef.P(b,new V(null,1,5,W,[Bj],null),O,c.ba.symbol,d):c instanceof zo&&c.ba instanceof oo?O.f(b,fk,bs(d)):Ef.u(b,new V(null,1,5,W,[ok],null),J,es(c,d))}function gs(b,a,c){return v(fs,b,Dh(a,c))}function hs(b,a){var c=b.c?b.c(a):b.call(null,a);return null!=Jr&&vd(Jr,a)?function(a){return function(b){b=b[a];return"number"===typeof b?b:tq(Kr,b)}}(c):function(a){return function(b){return b[a]}}(c)}
function is(b){return 1===K(b)?C(b):function(a){return function(b){return Ae(a.map(function(){return function(a){return a.c?a.c(b):a.call(null,b)}}(a)))}}(Fd(b))}function js(b,a){for(var c=a,d=Mb(Q);;){var e=C(c);if(q(e)){var g;g=e;g=b.c?b.c(g):b.call(null,g);c=D(c);d=Ee.f(d,g,J.b($c(d,g,wc),e))}else return Ob(d)}}
function ks(b,a){var c=Ji.c(b),d=Ji.c(a),e=Sk.c(b),g=Sk.c(a),h=$f(Nr(Sk.c(b),Sk.c(a))),k=gf.b(function(a,b,c){return function(a){return hs(c,a)}}(c,d,e,g,h),h),m=gf.b(function(a,b,c,d){return function(a){return hs(d,a)}}(c,d,e,g,h,k),h),n=wg(e),p=$f(Yn.b(Ah(wg(g)),Ah(wg(e)))),t=Fd(gf.b(e,n)),u=Fd(gf.b(g,p)),y=is(k),B=js(y,c),E=is(m),c=Ce(v(function(a,b,c,d,e,g,h,k,m,n,p,t,u,y){return function(B,E){var cb=y.c?y.c(E):y.call(null,E),Ya=Zc(u,cb);return q(Ya)?v(function(a,b,c,d,e,g,h,k,m,n,p,t,u,y){return function(a,
b){return De.b(a,Vr(b,u,E,y))}}(Ya,Ya,cb,a,b,c,d,e,g,h,k,m,n,p,t,u,y),B,Ya):B}}(c,d,e,g,h,k,m,n,p,t,u,y,B,E),Mb(Wc),d));return new Mr(Dh(U.b(n,p),xf.t()),c,null,null,null)}function ls(b,a){var c=uf(function(a){return a instanceof z?null:a},a),d=Vp(b,c),c=tf.b(Q,rf(function(){return function(a){var b=L(a,0);L(a,1);return Rr(b)}}(c,d),gf.f(ag,a,new V(null,4,5,W,["e","a","v","tx"],null))));return new Mr(c,d,null,null,null)}
function ms(b,a){var c=rf(function(b){a:for(var c=a;;){var d=b;if(q(q(d)?c:d)){var d=C(b),k=C(c);if(k instanceof z||F.b(d,k))b=D(b),c=D(c);else{b=!1;break a}}else{b=!0;break a}}return b},b),d=tf.b(Q,rf(function(){return function(a){var b=L(a,0);L(a,1);return Rr(b)}}(c),gf.f(ag,a,xf.t())));return new Mr(d,gf.b(Fd,c),null,null,null)}function ns(b){return q(Qr(C(b)))?b:U.b(new V(null,1,5,W,[new z(null,"$","$",-1580747756,null)],null),b)}
function os(b,a){return(b?q(q(null)?null:b.yd)||(b.Ib?0:Da(Up,b)):Da(Up,b))?ls(b,a):ms(b,a)}function ps(b,a){for(var c=b,d=a,e=Wc;;){var g=C(c);if(q(g))q(Me(Nr(Sk.c(d),Sk.c(g))))?(c=D(c),d=ks(g,d)):(c=D(c),e=J.b(e,g));else return J.b(e,d)}}function qs(b,a){var c=Oe(function(b){return vd(Sk.c(b),a)?b:null},ok.c(b));if(q(c)){var d=C(Ji.c(c));return q(d)?d[Sk.c(c).call(null,a)]:null}return null}
function rs(b,a){var c=rf(function(b){return!id(Xn.b(Ah(a),Ah(wg(Sk.c(b)))))},ok.c(b)),d=Jd(Xr,c);return new V(null,2,5,W,[Ef.f(b,new V(null,1,5,W,[ok],null),function(a){return function(b){return sf(Ah(a),b)}}(c,d)),d],null)}function ss(b,a,c,d){return function(e){var g=gf.b(function(c){if(c instanceof z){var d=Zc(Bj.c(b),c);return q(d)?d:e[Zc(Sk.c(a),c)]}return c},d);return Ge(c,g)}}
function ts(b,a){var c=L(a,0),d=L(c,0),e=ae(c,1),g=function(){var a=Zc($r,d);return q(a)?a:qs(b,d)}(),h=rs(b,rf(pc,e)),k=L(h,0),m=L(h,1),n=q(g)?function(){return Ef.f(m,new V(null,1,5,W,[Ji],null),function(a){return function(b){return rf(a,b)}}(ss(k,m,g,e),a,c,d,e,g,h,k,m))}():O.f(m,new V(null,1,5,W,[Ji],null),Wc);return Ef.u(k,new V(null,1,5,W,[ok],null),J,n)}
function us(b,a){var c=L(a,0),d=L(c,0),e=ae(c,1),g=L(a,1),h=Eo(g),k=function(){var a=Zc($r,d);return q(a)?a:qs(b,d)}(),m=rs(b,rf(pc,e)),n=L(m,0),p=L(m,1),t=q(k)?function(){var b=ss(n,p,k,e),t=Me(Ji.c(p));return q(t)?Jd(Wr,gf.b(function(a,b,c,d,e,g,h,k,m,n,p,t,u){return function(a){var b=c.c?c.c(a):c.call(null,a),b=es(m,b);return Xr.b(new Mr(Sk.c(u),new V(null,1,5,W,[a],null),null,null,null),b)}}(t,t,b,a,c,d,e,g,h,k,m,n,p),t)):Xr.b(p,ds(h))}():Xr.b(O.f(p,new V(null,1,5,W,[Ji],null),Wc),ds(h));return Ef.u(n,
new V(null,1,5,W,[ok],null),J,t)}function vs(b,a){return ld(a)&&vd(fk.c(b),q(Qr(C(a)))?Tc(a):C(a))}var ws=Ye?Ye(0):Xe.call(null,0);
function xs(b,a){var c=L(b,0),d=ae(b,1),e=bf.b(ws,Ec),g=Zc(fk.c(a),c);return function(a,b,c,d,e){return function u(g){return new qe(null,function(a,b,c,d,e){return function(){for(;;){var h=A(g);if(h){var k=h;if(od(k)){var m=Ub(k),n=K(m),p=ue(n);return function(){for(var g=0;;)if(g<n){var u=w.b(m,g),y=u,ga=L(y,0),xa=L(ga,0),ya=ae(ga,1),Sa=ae(y,1),Ca=Dh(ya,c);xe(p,zr(function(a,b,c,d,e,g,h,k,m,n,p,u,y,B,E,H,M){return function(a){if(q(Rr(a))){var b=h.c?h.c(a):h.call(null,a);return q(b)?b:sc([r(pe(a)),
r("__auto__"),r(M)].join(""))}return a}}(g,y,ga,xa,ya,Sa,Ca,u,m,n,p,k,h,a,b,c,d,e),Sa));g+=1}else return!0}()?we(p.R(),u(Vb(k))):we(p.R(),null)}var ga=C(k),xa=ga,ya=L(xa,0),Na=L(ya,0),Ca=ae(ya,1),Sa=ae(xa,1),Xa=Dh(Ca,c);return Rc(zr(function(a,b,c,d,e,g,h,k,m,n,p,u,y){return function(a){if(q(Rr(a))){var b=g.c?g.c(a):g.call(null,a);return q(b)?b:sc([r(pe(a)),r("__auto__"),r(y)].join(""))}return a}}(xa,ya,Na,Ca,Sa,Xa,ga,k,h,a,b,c,d,e),Sa),u(vc(k)))}return null}}}(a,b,c,d,e),null,null)}}(b,c,d,e,g)(g)}
function ys(b,a){var c=sf(function(a){var b=L(a,0);a=L(a,1);return F.b(b,a)},gf.f(ag,b,a));return new V(null,2,5,W,[gf.b(C,c),gf.b(Tc,c)],null)}
function zs(b,a){var c=L(b,0),d=ae(b,1),e=Zc(a,c);return function(a,b,c,d){return function p(e){return new qe(null,function(a,b,c){return function(){for(;;){var a=A(e);if(a){if(od(a)){var b=Ub(a),d=K(b),g=ue(d);a:for(var h=0;;)if(h<d){var k=w.b(b,h),m=ys(c,k),k=L(m,0),m=L(m,1),k=new V(null,1,5,W,[U.j(new V(null,1,5,W,[new z(null,"-differ?","-differ?",1465687357,null)],null),k,I([m],0))],null);g.add(k);h+=1}else{b=!0;break a}return b?we(g.R(),p(Vb(a))):we(g.R(),null)}g=C(a);b=ys(c,g);g=L(b,0);b=L(b,
1);return Rc(new V(null,1,5,W,[U.j(new V(null,1,5,W,[new z(null,"-differ?","-differ?",1465687357,null)],null),g,I([b],0))],null),p(vc(a)))}return null}}}(a,b,c,d),null,null)}}(b,c,d,e)(e)}function As(b){var a=Ye?Ye(Wc):Xe.call(null,Wc);zr(function(a){return function(b){q(Rr.c?Rr.c(b):Rr.call(null,b))&&bf.f(a,J,b);return b}}(a),b);return G.c?G.c(a):G.call(null,a)}
function Bs(b,a){var c=function(a){return function(b){b=L(b,0);L(b,0);b=ae(b,1);return Ne(a,b)}}(Ah(As(b)));return new V(null,2,5,W,[rf(c,a),sf(c,a)],null)}
function Cs(b,a){for(var c=rf(Rr,a),d=Dh(c,xf.t()),e=function(){return function(a,b){return v(Ds,a,b)}}(c,d),g=function(a,b,c){return function(d){return Oe(function(){return function(a){return id(Ji.c(a))}}(a,b,c),ok.c(d))}}(c,d,e),h=Ta(wc,new l(null,5,[ul,Wc,Ij,b,fl,new V(null,1,5,W,[a],null),Bi,Q,Dk,Q],null)),k=new Mr(d,Wc,null,null,null);;){var m=C(h);if(q(m)){var n=m,p=Ih(function(){return function(a){return Ba(vs(b,a))}}(h,k,n,m,c,d,e,g),fl.c(n)),t=L(p,0),u=L(p,1),y=L(u,0),B=ae(u,1);if(null==
y)var E=e(Ij.c(n),t),H=function(){var a=E;return Es?Es(a,c):Fs.call(null,a,c)}(),M=new Mr(d,H,null,null,null),H=D(h),M=Wr(k,M);else{var S=y,ca=L(S,0),qa=ae(S,1),Fa=zs(y,Bi.c(n)),N=Bs(U.b(ul.c(n),t),U.b(Fa,Dk.c(n))),eb=L(N,0),ga=L(N,1);if(q(Oe(function(){return function(a){return F.b(a,new V(null,1,5,W,[he(new z(null,"-differ?","-differ?",1465687357,null))],null))}}(h,k,S,ca,qa,Fa,N,eb,ga,p,t,u,y,B,n,m,c,d,e,g),eb)))H=D(h);else{var xa=U.b(t,eb),ya=e(Ij.c(n),xa);if(q(g(ya)))H=D(h);else var Na=O.f(Bi.c(n),
ca,J.b($c(Bi.c(n),ca,Wc),qa)),Ca=xs(y,b),H=U.b(function(){return function(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,N,S,ca,ga,qa,xa){return function Np(ya){return new qe(null,function(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M){return function(){for(;;){var a=A(ya);if(a){if(od(a)){var b=Ub(a),d=K(b),h=ue(d);a:for(var k=0;;)if(k<d){var m=w.b(b,k),m=new l(null,5,[ul,e,Ij,g,fl,Or(I([m,M],0)),Bi,c,Dk,u],null);h.add(m);k+=1}else{b=!0;break a}return b?we(h.R(),Np(Vb(a))):we(h.R(),null)}h=C(a);return Rc(new l(null,5,
[ul,e,Ij,g,fl,Or(I([h,M],0)),Bi,c,Dk,u],null),Np(vc(a)))}return null}}}(a,b,c,d,e,g,h,k,m,n,p,t,u,y,B,E,H,M,N,S,ca,ga,qa,xa),null,null)}}(h,k,Na,Ca,xa,ya,S,ca,qa,Fa,N,eb,ga,p,t,u,y,B,n,m,c,d,e,g)(Ca)}(),D(h))}M=k}h=H;k=M}else return k}}
function Gs(b,a){if(b?q(q(null)?null:b.gd)||(b.Ib?0:Da(Xp,b)):Da(Xp,b)){var c=L(a,0),d=L(a,1),e=L(a,2),g=L(a,3);return cg(new V(null,4,5,W,[q(Tr(c))?oq(b,c):c,d,q(function(){if(q(e)){var a=Sr(d);return q(a)?(a=nq(b,d))?Tr(e):a:a}return e}())?oq(b,e):e,q(Tr(g))?oq(b,g):g],null),0,K(a))}return a}function Hs(b,a){var c=L(a,0),d=L(a,1),e=L(a,2),g=L(a,3),c=q(Rr(c))?J.b(Ad,c):Ad,g=q(Rr(g))?J.b(c,g):c,c=Rr(e),d=q(c)?Ba(Rr(d))&&nq(b,d):c;return q(d)?J.b(g,e):g}
function Ds(b,a){if(q(function(){var b=new V(null,1,5,W,[new V(null,2,5,W,[pc,new z(null,"*","*",345799209,null)],null)],null);return Pr.b?Pr.b(b,a):Pr.call(null,b,a)}()))return ts(b,a);if(q(function(){var b=new V(null,2,5,W,[new V(null,2,5,W,[pc,new z(null,"*","*",345799209,null)],null),new z(null,"_","_",-1201019570,null)],null);return Pr.b?Pr.b(b,a):Pr.call(null,b,a)}()))return us(b,a);if(q(function(){var b=new V(null,1,5,W,[new z(null,"*","*",345799209,null)],null);return Pr.b?Pr.b(b,a):Pr.call(null,
b,a)}())){var c=ns(a),d=L(c,0),c=ae(c,1),d=Zc(Bj.c(b),d),c=Gs(d,c),e=os(d,c),g=d?q(q(null)?null:d.gd)?!0:d.Ib?!1:Da(Xp,d):Da(Xp,d),h=Kr,k=Jr;Kr=g?d:null;Jr=g?Hs(d,c):null;try{return Ef.u(b,new V(null,1,5,W,[ok],null),ps,e)}finally{Jr=k,Kr=h}}else throw Error([r("No matching clause: "),r(a)].join(""));}
function Is(b,a){if(q(vs(b,a))){var c=q(Qr(C(a)))?new V(null,2,5,W,[C(a),D(a)],null):new V(null,2,5,W,[new z(null,"$","$",-1580747756,null),a],null),d=L(c,0),c=L(c,1),d=Af(b,new V(null,2,5,W,[Bj,d],null)),d=Cs(O.f(b,Bj,new l(null,1,[new z(null,"$","$",-1580747756,null),d],null)),c);return Ef.u(b,new V(null,1,5,W,[ok],null),ps,d)}return Ds(b,a)}
function Fs(){switch(arguments.length){case 2:return Es(arguments[0],arguments[1]);case 3:return Js(arguments[0],arguments[1],arguments[2]);default:throw Error([r("Invalid arity: "),r(arguments.length)].join(""));}}function Es(b,a){var c=ok.c(b);return Js(new V(null,1,5,W,[Array(K(a))],null),c,a)}
function Js(b,a,c){for(;;){var d=C(a);if(q(d)){var e=d,g=xh(Sk.c(e),c);if(id(g))var h=b,k=D(a),m=c;else var n=Fd(gf.b(function(a,b,c,d){return function(a){return Zc(d,a)}}(b,a,c,g,e,d),c)),p=K(c),h=function(){return function(a,b,c,d,e,g,h,k){return function qa(m){return new qe(null,function(a,b,c,d,e,g,h,k){return function(){for(var n=m;;){var p=A(n);if(p){var t=p,u=C(t);if(p=A(function(a,b,c,d,e,g,h,k,m,n,p,t){return function Ip(u){return new qe(null,function(a,b,c,d,e,g,h,k,m){return function(){for(;;){var a=
A(u);if(a){if(od(a)){var b=Ub(a),c=K(b),d=ue(c);return function(){for(var a=0;;)if(a<c){for(var g=w.b(b,a),h=d,n=Ja(e),p=0;;)if(p<m){var t=k[p];q(t)&&(n[p]=g[t]);p+=1}else break;h.add(n);a+=1}else return!0}()?we(d.R(),Ip(Vb(a))):we(d.R(),null)}var g=C(a);return Rc(function(){for(var a=Ja(e),b=0;;)if(b<m){var c=k[b];q(c)&&(a[b]=g[c]);b+=1}else break;return a}(),Ip(vc(a)))}return null}}}(a,b,c,d,e,g,h,k,m,n,p,t),null,null)}}(n,a,b,c,u,t,p,d,e,g,h,k)(Ji.c(h))))return U.b(p,qa(vc(n)));n=vc(n)}else return null}}}(a,
b,c,d,e,g,h,k),null,null)}}(b,a,c,n,p,g,e,d)(b)}(),k=D(a),m=c;b=h;a=k;c=m}else return b}}function Ks(b,a){return Ah(gf.b($f,Es(b,a)))}var Ls=function Ls(a,c){if(a?a.gc:a)return a.gc(a,c);var d;d=Ls[ba(null==a?null:a)];if(!d&&(d=Ls._,!d))throw Ga("IContextResolve.-context-resolve",a);return d.call(null,a,c)};po.prototype.gc=function(){return this.value};qo.prototype.gc=function(){return Zc(as,this.symbol)};mo.prototype.gc=function(b,a){return Af(a,new V(null,2,5,W,[Bj,this.symbol],null))};
lo.prototype.gc=function(b,a){return qs(a,this.symbol)};function Ms(b,a,c){return wf(function(b,e,g){if(q(Po(b))){e=Ls(Vi.c(b),a);b=gf.b(function(){return function(b){return Ls(b,a)}}(e),Ch(Ci.c(b)));var h=gf.b(function(){return function(a){return Yc(a,g)}}(e,b),c);return Ge(e,U.b(b,new V(null,1,5,W,[h],null)))}return e},b,C(c))}function Ns(b){var a=Re(Po);return sf(za,gf.f(function(b,d){return q(a.c?a.c(b):a.call(null,b))?d:null},b,xf.t()))}
function Os(b,a,c){var d=Ns(b),e=function(a){return function(b){return gf.b(function(){return function(a){return Yc(b,a)}}(a),a)}}(d);c=gi(e,c);return function(c,d,e){return function n(p){return new qe(null,function(){return function(){for(;;){var c=A(p);if(c){if(od(c)){var d=Ub(c),e=K(d),g=ue(e);a:for(var h=0;;)if(h<e){var k=w.b(d,h);L(k,0);k=L(k,1);k=Ms(b,a,k);g.add(k);h+=1}else{d=!0;break a}return d?we(g.R(),n(Vb(c))):we(g.R(),null)}g=C(c);L(g,0);g=L(g,1);return Rc(Ms(b,a,g),n(vc(c)))}return null}}}(c,
d,e),null,null)}}(d,e,c)(c)}var Ps=function Ps(a,c){if(a?a.hc:a)return a.hc(a,c);var d;d=Ps[ba(null==a?null:a)];if(!d&&(d=Ps._,!d))throw Ga("IPostProcess.-post-process",a);return d.call(null,a,c)};Oo.prototype.hc=function(b,a){return C(a)};No.prototype.hc=function(b,a){return Uc(a)};Mo.prototype.hc=function(b,a){return tf.f(Wc,gf.c(C),a)};Lo.prototype.hc=function(b,a){return a};
function Qs(b,a,c){return function(a){return function g(b){return new qe(null,function(a){return function(){for(;;){var c=A(b);if(c){var d=c;if(od(d)){var p=Ub(d),t=K(p),u=ue(t);return function(){for(var b=0;;)if(b<t){var g=w.b(p,b);xe(u,vf(function(){return function(a,b){if(q(a)){var c=L(a,0),d=L(a,1);return yr(c,d,new V(null,1,5,W,[b],null))}return b}}(b,g,p,t,u,d,c,a),a,g));b+=1}else return!0}()?we(u.R(),g(Vb(d))):we(u.R(),null)}var y=C(d);return Rc(vf(function(){return function(a,b){if(q(a)){var c=
L(a,0),d=L(a,1);return yr(c,d,new V(null,1,5,W,[b],null))}return b}}(y,d,c,a),a,y),g(vc(d)))}return null}}}(a),null,null)}}(function(){return function e(b){return new qe(null,function(){for(;;){var c=A(b);if(c){if(od(c)){var k=Ub(c),m=K(k),n=ue(m);a:for(var p=0;;)if(p<m){var t=w.b(k,p),t=q(Qo(t))?new V(null,2,5,W,[Ls(t.source,a),hr(Ls(t.pattern,a))],null):null;n.add(t);p+=1}else{k=!0;break a}return k?we(n.R(),e(Vb(c))):we(n.R(),null)}n=C(c);return Rc(q(Qo(n))?new V(null,2,5,W,[Ls(n.source,a),hr(Ls(n.pattern,
a))],null):null,e(vc(c)))}return null}},null,null)}(b)}())(c)}var Rs,Ss=new Ur(Mb(Q),th(),Mb(Q),0,100);Rs=new cf(Ss);
function Ts(b){var a=x.f(G.c?G.c(Rs):G.call(null,Rs),b,null);if(q(a))return a;if(md(b))a=b;else if(ld(b))a=ip(b);else throw yi(""+r("Query should be a vector or a map"),new l(null,2,[$k,Rl,gl,b],null));var c=a,a=So(Gi.c(c)),d=Bk.c(c);if(q(d)){var e=eo(so,d);if(q(e))d=e;else throw yi(""+r("Cannot parse :with clause, expected [ variable+ ]"),new l(null,2,[$k,xk,gl,d],null));}else d=null;var e=Jl.b(c,new V(null,1,5,W,[new z(null,"$","$",-1580747756,null)],null)),g=eo(To,e);if(!q(g))throw yi(""+r("Cannot parse :in clause, expected (src-var | % | bind-scalar | bind-tuple | bind-coll | bind-rel)"),
new l(null,2,[$k,Di,gl,e],null));e=g;c=Ti.b(c,Wc);g=eo(ff,c);if(!q(g))throw yi(""+r("Cannot parse :where clause, expected [clause+]"),new l(null,2,[$k,hj,gl,c],null));a=new l(null,4,[Gi,a,Bk,d,Jl,e,Ti,g],null);a=new hp(Gi.c(a),Bk.c(a),Jl.c(a),Ti.c(a),null,P.j(a,Gi,I([Bk,Jl,Ti],0)),null);jp(a,b);ac(Rs,O.j(tb(Rs),Rs,b,I([a],0)));return a}function Us(){var b=1<arguments.length?new uc(Array.prototype.slice.call(arguments,1),0):null;return Vs(arguments[0],b)}
function Vs(b,a){var c=Ts(b),d=Gi.c(c),e=Ko(d),g=pf(Ho,I([Ko(d)],0)),h=K(e),k=Bk.c(c),m=U.b(g,gf.b(zj,k)),n=ld(b)?ip(b):b,p=Ti.c(n),t=gs(new Lr(Wc,Q,Q,null,null,null),Jl.c(c),a),u=Ks(v(Is,t,p),m),c=q(Bk.c(n))?uf(function(a,b,c,d,e,g){return function(a){return $f(cg(a,0,g))}}(u,c,d,e,g,h,k,m,n,p,t,u),u):u,c=q(Oe(Po,e))?Os(e,t,c):c,e=q(Oe(Qo,e))?Qs(e,t,c):c;return Ps(d,e)};function Ws(b,a){return F.b(new V(null,2,5,W,[b,a],null),new V(null,2,5,W,[Zj,!0],null))?new V(null,1,5,W,[Zj],null):F.b(a,Fj)?new V(null,1,5,W,[Fj],null):F.b(a,ml)?new V(null,1,5,W,[ml],null):F.b(a,Oi)?new V(null,2,5,W,[Wi,Oi],null):F.b(a,lk)?new V(null,2,5,W,[Wi,lk],null):null}function Xs(b){var a=Ad;return v(function(b,d){var e=L(d,0),g=L(d,1);return Ef.u(b,new V(null,1,5,W,[e],null),Ue(J,a),g)},Q,b)}
function Ys(b){return Xs(function(){return function c(b){return new qe(null,function(){for(var e=b;;){var g=A(e);if(g){var h=g,k=C(h),m=L(k,0),n=L(k,1);if(g=A(function(b,c,d,e,g,h){return function M(k){return new qe(null,function(b,c,d,e,g,h){return function(){for(var m=k;;){var n=A(m);if(n){var p=n,t=C(p),u=L(t,0),y=L(t,1);if(n=A(function(b,c,d,e,g,h,k,m,n,p,t,u){return function Ag(y){return new qe(null,function(b,c,d,e,g,h,k,m,n){return function(){for(;;){var b=A(y);if(b){if(od(b)){var c=Ub(b),
d=K(c),e=ue(d);a:for(var g=0;;)if(g<d){var h=w.b(c,g);e.add(new V(null,2,5,W,[h,n],null));g+=1}else{c=!0;break a}return c?we(e.R(),Ag(Vb(b))):we(e.R(),null)}e=C(b);return Rc(new V(null,2,5,W,[e,n],null),Ag(vc(b)))}return null}}}(b,c,d,e,g,h,k,m,n,p,t,u),null,null)}}(m,b,t,u,y,p,n,c,d,e,g,h)(Ws(u,y))))return U.b(n,M(vc(m)));m=vc(m)}else return null}}}(b,c,d,e,g,h),null,null)}}(e,k,m,n,h,g)(n)))return U.b(g,c(vc(e)));e=vc(e)}else return null}},null,null)}(b)}())}
function Zs(b,a,c,d){if(null!=c&&!vd(d,c))throw yi([r("Bad attribute specification for "),r(Wh(I([new Bg([b,new Bg([a,c])])],0))),r(", expected one of "),r(d)].join(""),new l(null,4,[$k,dl,Li,b,ej,a,Hj,c],null));}
function $s(b){for(var a=A(b),c=null,d=0,e=0;;)if(e<d){var g=c.M(null,e),h=L(g,0),k=L(g,1),m=Zj.b(k,!1);Zs(h,Zj,Zj.c(k),new zd(null,new l(null,2,[!0,null,!1,null],null),null));if(q(function(){var a=m;return q(a)?Le.b(yj.c(k),Fj):a}()))throw yi([r("Bad attribute specification for "),r(h),r(": {:db/isComponent true} should also have {:db/valueType :db.type/ref}")].join(""),new l(null,3,[$k,dl,Li,h,ej,Zj],null));Zs(h,Wi,Wi.c(k),new zd(null,new l(null,2,[Oi,null,lk,null],null),null));Zs(h,yj,yj.c(k),
new zd(null,new l(null,1,[Fj,null],null),null));Zs(h,Mk,Mk.c(k),new zd(null,new l(null,2,[ml,null,Al,null],null),null));e+=1}else if(a=A(a)){if(od(a))d=Ub(a),a=Vb(a),c=d,d=K(d);else{var c=C(a),d=L(c,0),n=L(c,1),p=Zj.b(n,!1);Zs(d,Zj,Zj.c(n),new zd(null,new l(null,2,[!0,null,!1,null],null),null));if(q(function(){var a=p;return q(a)?Le.b(yj.c(n),Fj):a}()))throw yi([r("Bad attribute specification for "),r(d),r(": {:db/isComponent true} should also have {:db/valueType :db.type/ref}")].join(""),new l(null,
3,[$k,dl,Li,d,ej,Zj],null));Zs(d,Wi,Wi.c(n),new zd(null,new l(null,2,[Oi,null,lk,null],null),null));Zs(d,yj,yj.c(n),new zd(null,new l(null,1,[Fj,null],null),null));Zs(d,Mk,Mk.c(n),new zd(null,new l(null,2,[ml,null,Al,null],null),null));a=D(a);c=null;d=0}e=0}else break;return b}
function at(b,a){var c=L(a,0),d=Ka(b),e=d.length,g=Rp(d.sort(hq),cq),h=0<e?d[e-1].e:0,k=Rp(d.sort(iq),dq),m=Rp(d.sort(jq),eq),d=Md(gf.c(function(){return function(a){return a.tx}}(d,e,g,h,k,m,a,c)),Vd,536870912,d);return qq(new l(null,7,[Ii,$s(c),ik,g,cj,k,Aj,m,Mj,h,Ri,d,kl,Ys(c)],null))}
function bt(b,a,c){var d=Ye?Ye(null):Xe.call(null,null);bf.b(b,function(b){return function(d){var h=I([c],0),h=L(h,0);if(q(!1))throw yi("Filtered DB cannot be modified",new l(null,1,[$k,Yj],null));d=new l(null,5,[mk,d,kj,d,nk,Wc,Hi,Q,ll,h],null);d=new rq(mk.c(d),kj.c(d),nk.c(d),Hi.c(d),ll.c(d),null,P.j(d,mk,I([kj,nk,Hi,ll],0)),null);d=Jq(d,a);af.b?af.b(b,d):af.call(null,b,d);return kj.c(d)}}(d));return G.c?G.c(d):G.call(null,d)}Tp.prototype.U=!0;
Tp.prototype.w=function(b,a,c){return X(a,Y,"#datascript/Datom ["," ","]",c,new V(null,5,5,W,[this.e,this.a,this.v,this.tx,this.added],null))};function ct(b,a,c){Hb(a,"#datascript/DB {");Hb(a,":schema ");Y(Yp(b),a,c);Hb(a,", :datoms ");X(a,function(a,b,c){return X(b,Y,"["," ","]",c,new V(null,4,5,W,[a.e,a.a,a.v,a.tx],null))},"["," ","]",c,Wp(b,ik,Wc));return Hb(a,"}")}pq.prototype.U=!0;pq.prototype.w=function(b,a,c){return ct(this,a,c)};
Rm("datascript/Datom",function(b){var a=L(b,0),c=L(b,1),d=L(b,2),e=L(b,3);b=L(b,4);b=I([e,b],0);e=L(b,0);b=L(b,1);return new Tp(a,c,d,q(e)?e:536870912,null==b?!0:b,null,null,null)});Rm("datascript/DB",function(b){var a=sd(b)?Ge(Ze,b):b,c=Zc(a,El),d=Zc(a,Ii);return at(gf.b(function(){return function(a){var b=L(a,0),c=L(a,1),d=L(a,2);a=L(a,3);return new Tp(b,c,d,a,!0,null,null,null)}}(b,a,c,d),c),I([d],0))});Ye||Xe.call(null,-1E6);var dt,et=I([new l(null,1,[hl,new l(null,1,[Mk,ml],null)],null)],0),ft=L(et,0),gt,ht=I([ft],0),it=L(ht,0);gt=qq(new l(null,7,[Ii,$s(it),ik,Sp(cq),cj,Sp(dq),Aj,Sp(eq),Mj,0,Ri,536870912,kl,Ys(it)],null));dt=kn(gt,I([ua,new l(null,1,[wl,Ye?Ye(Q):Xe.call(null,Q)],null)],0));
(function(){for(var b=2<arguments.length?new uc(Array.prototype.slice.call(arguments,2),0):null,a=arguments[0],c=arguments[1],b=L(b,0),c=bt(a,c,b),a=wl.c(fd(a)),a=G.c?G.c(a):G.call(null,a),a=A(a),b=null,d=0,e=0;;)if(e<d){var g=b.M(null,e);L(g,0);var g=L(g,1),h=c;g.c?g.c(h):g.call(null,h);e+=1}else if(a=A(a))od(a)?(d=Ub(a),a=Vb(a),b=d,d=K(d)):(b=C(a),L(b,0),b=L(b,1),d=c,b.c?b.c(d):b.call(null,d),a=D(a),b=null,d=0),e=0;else break;return c})(dt,Un);
function jt(b,a){var c;c=new V(null,4,5,W,[Gi,he(new z(null,"pull","pull",779986722,null),new z(null,"?post","?post",1630125397,null),new V(null,1,5,W,[new z(null,"*","*",345799209,null)],null)),Ti,new V(null,3,5,W,[new z(null,"?post","?post",1630125397,null),Dj,b],null)],null);c=Us.b?Us.b(c,a):Us.call(null,c,a);return Uc(c)}
function kt(b){var a=new V(null,8,5,W,[Gi,new z(null,"?title","?title",-835622503,null),new z(null,"?created-at","?created-at",902546172,null),new z(null,"?permalink","?permalink",-1396906766,null),Ti,new V(null,3,5,W,[new z(null,"?post","?post",1630125397,null),Dj,new z(null,"?permalink","?permalink",-1396906766,null)],null),new V(null,3,5,W,[new z(null,"?post","?post",1630125397,null),hk,new z(null,"?title","?title",-835622503,null)],null),new V(null,3,5,W,[new z(null,"?post","?post",1630125397,
null),rl,new z(null,"?created-at","?created-at",902546172,null)],null)],null);return Us.b?Us.b(a,b):Us.call(null,a,b)};var lt=hn(window.location.hash);(function(b,a){var c=q(a)?a:Ld;gn(function(){return function(a,b){return b.location.hash=a}}(b,c)).call(null,b,window);setInterval(function(a,b){return function(){if(Le.b(G.c?G.c(a):G.call(null,a),window.location.hash)){var c=window.location.hash;b.c?b.c(c):b.call(null,c);return window.location.hash=G.c?G.c(a):G.call(null,a)}return null}}(b,c),100);return b})(lt,function(b){return af.b?af.b(lt,b):af.call(null,lt,b)});
var mt=gn(function(b,a){return b.c?b.c(a):b.call(null,a)}).call(null,function(b){b=mn(b,/\//,3);L(b,0);L(b,1);return L(b,2)},lt);var nt=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new uc(e,0)}return a.call(this,d)}function a(a){a=vn(a);L(a,0);a=L(a,1);var b;b=new l(null,1,[bj,"middle"],null);b=Qn.b?Qn.b(Pj,b):Qn.call(null,Pj,b);a=Ge(b,a);a=On.f?On.f(Nj,"100%",a):On.call(null,Nj,"100%",a);a=Jn.f?Jn.f(Gk,"mui-container",a):Jn.call(null,Gk,"mui-container",a);return Jn.f?Jn.f(Gk,"mui-appbar",a):Jn.call(null,Gk,"mui-appbar",a)}b.G=0;b.F=
function(b){b=A(b);return a(b)};b.j=a;return b}(),ot=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new uc(e,0)}return a.call(this,d)}function a(a){a=vn(a);L(a,0);a=L(a,1);return Ge(Jn.b?Jn.b(Gk,"mui-panel"):Jn.call(null,Gk,"mui-panel"),a)}b.G=0;b.F=function(b){b=A(b);return a(b)};b.j=a;return b}();ei(new l(null,6,[Nj,400,Hl,200,Ql,new V(null,1,5,W,[new l(null,2,[Cj,"table",Fk,new V(null,9,5,W,[new l(null,2,[cl,"A",zi,28],null),new l(null,2,[cl,"B",zi,55],null),new l(null,2,[cl,"C",zi,43],null),new l(null,2,[cl,"D",zi,91],null),new l(null,2,[cl,"E",zi,81],null),new l(null,2,[cl,"F",zi,53],null),new l(null,2,[cl,"G",zi,19],null),new l(null,2,[cl,"H",zi,87],null),new l(null,2,[cl,"I",zi,52],null)],null)],null)],null),ak,new V(null,2,5,W,[new l(null,4,[Cj,"x",Sj,"ordinal",Gl,"width",il,new l(null,
2,[Ql,"table",Rj,"data.x"],null)],null),new l(null,4,[Cj,"y",Gl,"height",Zk,!0,il,new l(null,2,[Ql,"table",Rj,"data.y"],null)],null)],null),qj,new V(null,2,5,W,[new l(null,2,[Sj,"x",mj,"x"],null),new l(null,3,[Sj,"y",mj,"y",Wk,5],null)],null),Tk,new V(null,1,5,W,[new l(null,3,[Sj,"rect",Ck,new l(null,1,[Ql,"table"],null),Ei,new l(null,3,[kk,new l(null,4,[cl,new l(null,2,[mj,"x",Rj,"data.x"],null),Nj,new l(null,3,[mj,"x",Oj,!0,lj,-1],null),zi,new l(null,2,[mj,"y",Rj,"data.y"],null),ol,new l(null,2,
[mj,"y",Hj,0],null)],null),Uj,new l(null,1,[Gj,new l(null,1,[Hj,"steelblue"],null)],null),rk,new l(null,1,[Gj,new l(null,1,[Hj,"red"],null)],null)],null)],null)],null)],null));var pt=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new uc(e,0)}return a.call(this,d)}function a(a){a=vn(a);var b=L(a,0),e=sd(b)?Ge(Ze,b):b,g=Zc(e,Gk),h=L(a,1),k=function(){var a=Ge(In.b?In.b(Gk,g):In.call(null,Gk,g),h);return Mn.c?Mn.c(a):Mn.call(null,a)}();Rn(function(a){return function(){return hljs.highlightBlock(a)}}(k,a,b,e,e,g,h));return k}b.G=0;b.F=function(b){b=A(b);return a(b)};b.j=a;return b}();function qt(b,a){var c=new l(null,1,[aj,"grey"],null),d=[r("Original date: "),r(b),r(function(){var b=C(a);return q(b)?[r(" / Last updated: "),r(b)].join(""):null}())].join("");return Nn.f?Nn.f(Pj,c,d):Nn.call(null,Pj,c,d)}function rt(b){var a=L(b,0);b=L(b,1);switch(a instanceof R?a.L:null){case "code":return pt.j(I([b],0));case "md":return a=markdown.toHTML(b,"Maruku"),Jn.b?Jn.b(Ml,a):Jn.call(null,Ml,a);default:throw Error([r("No matching clause: "),r(a)].join(""));}}
function st(b){var a=sd(b)?Ge(Ze,b):b;b=Zc(a,Fi);var c=Zc(a,rl),d=Zc(a,oj),a=Zc(a,hk);return new V(null,3,5,W,[Kn.c?Kn.c(a):Kn.call(null,a),qt(c,b),ot.j(I([gf.b(rt,d)],0))],null)}function tt(b){var a=L(b,0),c=L(b,1);b=L(b,2);b=[r("#/blog/"),r(b)].join("");a=[r(c),r(": "),r(a)].join("");a=Hn.f?Hn.f(zl,b,a):Hn.call(null,zl,b,a);return Jn.f?Jn.f(Gk,"mui-text-title",a):Jn.call(null,Gk,"mui-text-title",a)}
function ut(b){return new V(null,2,5,W,[Kn.c?Kn.c("Posts:"):Kn.call(null,"Posts:"),ot.j(I([gf.b(tt,Gd(Tc,Td,kt(b)))],0))],null)}var vt,wt=Ln.u?Ln.u(pk,"blog.css",uk,"stylesheet"):Ln.call(null,pk,"blog.css",uk,"stylesheet");vt=Gn.c?Gn.c(wt):Gn.call(null,wt);
var xt=I([vt,function(){var b=nt.j(I([function(){var a=function(){var a=new l(null,1,[Qj,"pointer"],null),b=function(){return function(){return af.b?af.b(lt,"#/blog"):af.call(null,lt,"#/blog")}}(Gk,"mui-text-headline mui-text-accent",Pj,a,sk,Gk,"mui-appbar-height");return Jn.ga?Jn.ga(Gk,"mui-text-headline mui-text-accent",Pj,a,sk,b,"mynomoto's experiments"):Jn.call(null,Gk,"mui-text-headline mui-text-accent",Pj,a,sk,b,"mynomoto's experiments")}();return Pn.f?Pn.f(Gk,"mui-appbar-height",a):Pn.call(null,
Gk,"mui-appbar-height",a)}()],0)),a=function(){var a=gn(function(){return function(a,b,c,h,k,m){if(q(c.c?c.c(b):c.call(null,b)))return k.c?k.c(a):k.call(null,a);a=h.b?h.b(b,a):h.call(null,b,a);return m.c?m.c(a):m.call(null,a)}}(Gk,"mui-container",b)).call(null,dt,mt,nn,jt,ut,st);return Jn.f?Jn.f(Gk,"mui-container",a):Jn.call(null,Gk,"mui-container",a)}();return Fn.b?Fn.b(b,a):Fn.call(null,b,a)}()],0),yt=vn(xt),zt=L(yt,0);L(yt,1);wn(document.getElementsByTagName("html")[0],zt);