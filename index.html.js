if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}

!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return t>n?-1:n>t?1:n>=t?0:0/0}function r(n){return null===n?0/0:+n}function u(n){return!isNaN(n)}function i(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function c(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function l(){this._=Object.create(null)}function s(n){return(n+="")===pa||n[0]===va?va+n:n}function f(n){return(n+="")[0]===va?n.slice(1):n}function h(n){return s(n)in this._}function g(n){return(n=s(n))in this._&&delete this._[n]}function p(){var n=[];for(var t in this._)n.push(f(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=da.length;r>e;++e){var u=da[e]+t;if(u in n)return u}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new l;return t.on=function(t,u){var i,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function S(){ta.event.preventDefault()}function k(){for(var n,t=ta.event;n=t.sourceEvent;)t=n;return t}function E(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=ta.event;u.target=n,ta.event=u,t[u.type].apply(e,r)}finally{ta.event=i}}},t}function A(n){return ya(n,_a),n}function N(n){return"function"==typeof n?n:function(){return Ma(n,this)}}function C(n){return"function"==typeof n?n:function(){return xa(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ta.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?i:u}function q(n){return n.trim().replace(/\s+/g," ")}function L(n){return new RegExp("(?:^|\\s+)"+ta.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=T(n).map(D);var u=n.length;return"function"==typeof t?r:e}function D(n){var t=L(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",q(u+" "+n))):e.setAttribute("class",q(u.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ta.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return ba(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;r>e;e++)for(var u,i=n[e],o=0,a=i.length;a>o;o++)(u=i[o])&&t(u,o,e);return n}function Z(n){return ya(n,Sa),n}function V(n){var t,e;return function(r,u,i){var o,a=n[i].update,c=a.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(o=a[t])&&++t<c;);return o}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=c(t,ra(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t,e=new RegExp("^__on([^.]+)"+ta.requote(n)+"$");for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),c=$;a>0&&(n=n.slice(0,a));var l=ka.get(n);return l&&(n=l,c=B),a?t?u:r:t?b:i}function $(n,t){return function(e){var r=ta.event;ta.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ta.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++Aa,u="click"+r,i=ta.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==Ea&&(Ea="onselectstart"in e?!1:x(e.style,"userSelect")),Ea){var o=n(e).style,a=o[Ea];o[Ea]="none"}return function(n){if(i.on(r,null),Ea&&(o[Ea]=a),n){var t=function(){i.on(u,null)};i.on(u,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var u=r.createSVGPoint();if(0>Na){var i=t(n);if(i.scrollX||i.scrollY){r=ta.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Na=!(o.f||o.e),r.remove()}}return Na?(u.x=e.pageX,u.y=e.pageY):(u.x=e.clientX,u.y=e.clientY),u=u.matrixTransform(n.getScreenCTM().inverse()),[u.x,u.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return ta.event.changedTouches[0].identifier}function K(n){return n>0?1:0>n?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nt(n){return n>1?0:-1>n?qa:Math.acos(n)}function tt(n){return n>1?Ra:-1>n?-Ra:Math.asin(n)}function et(n){return((n=Math.exp(n))-1/n)/2}function rt(n){return((n=Math.exp(n))+1/n)/2}function ut(n){return((n=Math.exp(2*n))-1)/(n+1)}function it(n){return(n=Math.sin(n/2))*n}function ot(){}function at(n,t,e){return this instanceof at?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof at?new at(n.h,n.s,n.l):bt(""+n,_t,at):new at(n,t,e)}function ct(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(o-i)*n/60:180>n?o:240>n?i+(o-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,i=2*e-o,new mt(u(n+120),u(n),u(n-120))}function lt(n,t,e){return this instanceof lt?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof lt?new lt(n.h,n.c,n.l):n instanceof ft?gt(n.l,n.a,n.b):gt((n=wt((n=ta.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new lt(n,t,e)}function st(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new ft(e,Math.cos(n*=Da)*t,Math.sin(n)*t)}function ft(n,t,e){return this instanceof ft?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof ft?new ft(n.l,n.a,n.b):n instanceof lt?st(n.h,n.c,n.l):wt((n=mt(n)).r,n.g,n.b):new ft(n,t,e)}function ht(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=pt(u)*Xa,r=pt(r)*$a,i=pt(i)*Ba,new mt(dt(3.2404542*u-1.5371385*r-.4985314*i),dt(-.969266*u+1.8760108*r+.041556*i),dt(.0556434*u-.2040259*r+1.0572252*i))}function gt(n,t,e){return n>0?new lt(Math.atan2(e,t)*Pa,Math.sqrt(t*t+e*e),n):new lt(0/0,0/0,n)}function pt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function vt(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function dt(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mt(n,t,e){return this instanceof mt?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mt?new mt(n.r,n.g,n.b):bt(""+n,mt,ct):new mt(n,t,e)}function yt(n){return new mt(n>>16,n>>8&255,255&n)}function Mt(n){return yt(n)+""}function xt(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function bt(n,t,e){var r,u,i,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(n))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(kt(u[0]),kt(u[1]),kt(u[2]))}return(i=Ga.get(n.toLowerCase()))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&i)>>4,o=o>>4|o,a=240&i,a=a>>4|a,c=15&i,c=c<<4|c):7===n.length&&(o=(16711680&i)>>16,a=(65280&i)>>8,c=255&i)),t(o,a,c))}function _t(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-i,c=(o+i)/2;return a?(u=.5>c?a/(o+i):a/(2-o-i),r=n==o?(t-e)/a+(e>t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=0/0,u=c>0&&1>c?0:r),new at(r,u,c)}function wt(n,t,e){n=St(n),t=St(t),e=St(e);var r=vt((.4124564*n+.3575761*t+.1804375*e)/Xa),u=vt((.2126729*n+.7151522*t+.072175*e)/$a),i=vt((.0193339*n+.119192*t+.9503041*e)/Ba);return ft(116*u-16,500*(r-u),200*(u-i))}function St(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function kt(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function Et(n){return"function"==typeof n?n:function(){return n}}function At(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Nt(t,e,n,r)}}function Nt(n,t,e,r){function u(){var n,t=c.status;if(!t&&zt(c)||t>=200&&300>t||304===t){try{n=e.call(i,c)}catch(r){return void o.error.call(i,r)}o.load.call(i,n)}else o.error.call(i,c)}var i={},o=ta.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState>3&&u()},c.onprogress=function(n){var t=ta.event;ta.event=n;try{o.progress.call(i,c)}finally{ta.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(l=n,i):l},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(ra(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)for(var s in a)c.setRequestHeader(s,a[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=l&&(c.responseType=l),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},ta.rebind(i,o,"on"),null==r?i:i.get(Ct(r))}function Ct(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function zt(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qt(){var n=Lt(),t=Tt()-n;t>24?(isFinite(t)&&(clearTimeout(tc),tc=setTimeout(qt,t)),nc=0):(nc=1,rc(qt))}function Lt(){var n=Date.now();for(ec=Ka;ec;)n>=ec.t&&(ec.f=ec.c(n-ec.t)),ec=ec.n;return n}function Tt(){for(var n,t=Ka,e=1/0;t;)t.f?t=n?n.n=t.n:Ka=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return Qa=n,e}function Rt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Dt(n,t){var e=Math.pow(10,3*ga(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Pt(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r&&e?function(n,t){for(var u=n.length,i=[],o=0,a=r[0],c=0;u>0&&a>0&&(c+a+1>t&&(a=Math.max(1,t-c)),i.push(n.substring(u-=a,u+a)),!((c+=a+1)>t));)a=r[o=(o+1)%r.length];return i.reverse().join(e)}:y;return function(n){var e=ic.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",c=e[4]||"",l=e[5],s=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="="),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+g.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===c&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=oc.get(g)||Ut;var M=l&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===a?"":a;if(0>p){var c=ta.formatPrefix(n,h);n=c.scale(n),e=c.symbol+d}else n*=p;n=g(n,h);var x,b,_=n.lastIndexOf(".");if(0>_){var w=y?n.lastIndexOf("e"):-1;0>w?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!l&&f&&(x=i(x,1/0));var S=v.length+x.length+b.length+(M?0:u.length),k=s>S?new Array(S=s-S+1).join(r):"";return M&&(x=i(k+x,k.length?s-b.length:1/0)),u+=v,n=x+b,("<"===o?u+n+k:">"===o?k+u+n:"^"===o?k.substring(0,S>>=1)+u+n+k.substring(S):u+(M?n:k+n))+e}}}function Ut(n){return n+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ft(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new cc(e-1)),1),e}function i(n,e){return t(n=new cc(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i>1)for(;r>o;)e(o)%i||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{cc=jt;var r=new jt;return r._=n,o(r,t,e)}finally{cc=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=Ht(n);return c.floor=c,c.round=Ht(r),c.ceil=Ht(u),c.offset=Ht(i),c.range=a,n}function Ht(n){return function(t,e){try{cc=jt;var r=new jt;return r._=t,n(r,e)._}finally{cc=Date}}}function Ot(n){function t(n){function t(t){for(var e,u,i,o=[],a=-1,c=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(c,a)),null!=(u=sc[e=n.charAt(++a)])&&(e=n.charAt(++a)),(i=N[e])&&(e=i(t,null==u?"e"===e?" ":"0":u)),o.push(e),c=a+1);return o.push(n.slice(c,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&cc!==jt,o=new(i?jt:cc);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,o,a=0,c=t.length,l=e.length;c>a;){if(r>=l)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=C[o in sc?t.charAt(a++):o],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){E.lastIndex=0;var r=E.exec(t.slice(e));return r?(n.m=A.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,N.c.toString(),t,r)}function c(n,t,r){return e(n,N.x.toString(),t,r)}function l(n,t,r){return e(n,N.X.toString(),t,r)}function s(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{cc=jt;var t=new cc;return t._=n,r(t)}finally{cc=Date}}var r=t(n);return e.parse=function(n){try{cc=jt;var t=r.parse(n);return t&&t._}finally{cc=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ae;var M=ta.map(),x=Yt(v),b=Zt(v),_=Yt(d),w=Zt(d),S=Yt(m),k=Zt(m),E=Yt(y),A=Zt(y);p.forEach(function(n,t){M.set(n.toLowerCase(),t)});var N={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return It(n.getDate(),t,2)},e:function(n,t){return It(n.getDate(),t,2)},H:function(n,t){return It(n.getHours(),t,2)},I:function(n,t){return It(n.getHours()%12||12,t,2)},j:function(n,t){return It(1+ac.dayOfYear(n),t,3)},L:function(n,t){return It(n.getMilliseconds(),t,3)},m:function(n,t){return It(n.getMonth()+1,t,2)},M:function(n,t){return It(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return It(n.getSeconds(),t,2)},U:function(n,t){return It(ac.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return It(ac.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return It(n.getFullYear()%100,t,2)},Y:function(n,t){return It(n.getFullYear()%1e4,t,4)},Z:ie,"%":function(){return"%"}},C={a:r,A:u,b:i,B:o,c:a,d:Qt,e:Qt,H:te,I:te,j:ne,L:ue,m:Kt,M:ee,p:s,S:re,U:Xt,w:Vt,W:$t,x:c,X:l,y:Wt,Y:Bt,Z:Jt,"%":oe};return t}function It(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function Yt(n){return new RegExp("^(?:"+n.map(ta.requote).join("|")+")","i")}function Zt(n){for(var t=new l,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function Vt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Xt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function $t(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Bt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Wt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.y=Gt(+r[0]),e+r[0].length):-1}function Jt(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Gt(n){return n+(n>68?1900:2e3)}function Kt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Qt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function ne(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function te(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ee(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function re(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ue(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ie(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=ga(t)/60|0,u=ga(t)%60;return e+It(r,"0",2)+It(u,"0",2)}function oe(n,t,e){hc.lastIndex=0;var r=hc.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ae(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ce(){}function le(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function se(n,t){n&&dc.hasOwnProperty(n.type)&&dc[n.type](n,t)}function fe(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function he(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)fe(n[e],t,1);t.polygonEnd()}function ge(){function n(n,t){n*=Da,t=t*Da/2+qa/4;var e=n-r,o=e>=0?1:-1,a=o*e,c=Math.cos(t),l=Math.sin(t),s=i*l,f=u*c+s*Math.cos(a),h=s*o*Math.sin(a);yc.add(Math.atan2(h,f)),r=n,u=c,i=l}var t,e,r,u,i;Mc.point=function(o,a){Mc.point=n,r=(t=o)*Da,u=Math.cos(a=(e=a)*Da/2+qa/4),i=Math.sin(a)},Mc.lineEnd=function(){n(t,e)}}function pe(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function ve(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function de(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function me(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ye(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Me(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function xe(n){return[Math.atan2(n[1],n[0]),tt(n[2])]}function be(n,t){return ga(n[0]-t[0])<Ca&&ga(n[1]-t[1])<Ca}function _e(n,t){n*=Da;var e=Math.cos(t*=Da);we(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function we(n,t,e){++xc,_c+=(n-_c)/xc,wc+=(t-wc)/xc,Sc+=(e-Sc)/xc}function Se(){function n(n,u){n*=Da;var i=Math.cos(u*=Da),o=i*Math.cos(n),a=i*Math.sin(n),c=Math.sin(u),l=Math.atan2(Math.sqrt((l=e*c-r*a)*l+(l=r*o-t*c)*l+(l=t*a-e*o)*l),t*o+e*a+r*c);bc+=l,kc+=l*(t+(t=o)),Ec+=l*(e+(e=a)),Ac+=l*(r+(r=c)),we(t,e,r)}var t,e,r;qc.point=function(u,i){u*=Da;var o=Math.cos(i*=Da);t=o*Math.cos(u),e=o*Math.sin(u),r=Math.sin(i),qc.point=n,we(t,e,r)}}function ke(){qc.point=_e}function Ee(){function n(n,t){n*=Da;var e=Math.cos(t*=Da),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),l=u*c-i*a,s=i*o-r*c,f=r*a-u*o,h=Math.sqrt(l*l+s*s+f*f),g=r*o+u*a+i*c,p=h&&-nt(g)/h,v=Math.atan2(h,g);Nc+=p*l,Cc+=p*s,zc+=p*f,bc+=v,kc+=v*(r+(r=o)),Ec+=v*(u+(u=a)),Ac+=v*(i+(i=c)),we(r,u,i)}var t,e,r,u,i;qc.point=function(o,a){t=o,e=a,qc.point=n,o*=Da;var c=Math.cos(a*=Da);r=c*Math.cos(o),u=c*Math.sin(o),i=Math.sin(a),we(r,u,i)},qc.lineEnd=function(){n(t,e),qc.lineEnd=ke,qc.point=_e}}function Ae(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function Ne(){return!0}function Ce(n,t,e,r,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(be(e,r)){u.lineStart();for(var a=0;t>a;++a)u.point((e=n[a])[0],e[1]);return void u.lineEnd()}var c=new qe(e,n,null,!0),l=new qe(e,null,c,!1);c.o=l,i.push(c),o.push(l),c=new qe(r,n,null,!1),l=new qe(r,null,c,!0),c.o=l,i.push(c),o.push(l)}}),o.sort(t),ze(i),ze(o),i.length){for(var a=0,c=e,l=o.length;l>a;++a)o[a].e=c=!c;for(var s,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;s=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,l=s.length;l>a;++a)u.point((f=s[a])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){s=g.p.z;for(var a=s.length-1;a>=0;--a)u.point((f=s[a])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,s=g.z,p=!p}while(!g.v);u.lineEnd()}}}function ze(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function qe(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Le(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function a(n,t){var e=u(n,t);d.point(e[0],e[1])}function c(){y.point=a,d.lineStart()}function l(){y.point=o,d.lineEnd()}function s(n,t){v.push([n,t]);var e=u(n,t);x.point(e[0],e[1])}function f(){x.lineStart(),v=[]}function h(){s(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&t){n=e[0];var u,r=n.length-1,o=-1;if(r>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++o<r;)i.point((u=n[o])[0],u[1]);i.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Te))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:o,lineStart:c,lineEnd:l,polygonStart:function(){y.point=s,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=c,y.lineEnd=l,g=ta.merge(g);var n=Fe(m,p);g.length?(b||(i.polygonStart(),b=!0),Ce(g,De,n,e,i)):n&&(b||(i.polygonStart(),b=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},M=Re(),x=t(M),b=!1;return y}}function Te(n){return n.length>1}function Re(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function De(n,t){return((n=n.x)[0]<0?n[1]-Ra-Ca:Ra-n[1])-((t=t.x)[0]<0?t[1]-Ra-Ca:Ra-t[1])}function Pe(n){var t,e=0/0,r=0/0,u=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(i,o){var a=i>0?qa:-qa,c=ga(i-e);ga(c-qa)<Ca?(n.point(e,r=(r+o)/2>0?Ra:-Ra),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(i,r),t=0):u!==a&&c>=qa&&(ga(e-u)<Ca&&(e-=u*Ca),ga(i-a)<Ca&&(i-=a*Ca),r=Ue(e,r,i,o),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=i,r=o),u=a},lineEnd:function(){n.lineEnd(),e=r=0/0},clean:function(){return 2-t}}}function Ue(n,t,e,r){var u,i,o=Math.sin(n-e);return ga(o)>Ca?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+r)/2}function je(n,t,e,r){var u;if(null==n)u=e*Ra,r.point(-qa,u),r.point(0,u),r.point(qa,u),r.point(qa,0),r.point(qa,-u),r.point(0,-u),r.point(-qa,-u),r.point(-qa,0),r.point(-qa,u);else if(ga(n[0]-t[0])>Ca){var i=n[0]<t[0]?qa:-qa;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function Fe(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;yc.reset();for(var a=0,c=t.length;c>a;++a){var l=t[a],s=l.length;if(s)for(var f=l[0],h=f[0],g=f[1]/2+qa/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===s&&(d=0),n=l[d];var m=n[0],y=n[1]/2+qa/4,M=Math.sin(y),x=Math.cos(y),b=m-h,_=b>=0?1:-1,w=_*b,S=w>qa,k=p*M;if(yc.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),i+=S?b+_*La:b,S^h>=e^m>=e){var E=de(pe(f),pe(n));Me(E);var A=de(u,E);Me(A);var N=(S^b>=0?-1:1)*tt(A[2]);(r>N||r===N&&(E[0]||E[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=m,p=M,v=x,f=n}}return(-Ca>i||Ca>i&&0>yc)^1&o}function He(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0>f?qa:-qa),h):0;if(!e&&(l=c=v)&&n.lineStart(),v!==c&&(g=r(e,p),(be(e,g)||be(p,g))&&(p[0]+=Ca,p[1]+=Ca,v=t(p[0],p[1]))),v!==c)s=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&&e&&o^v){var m;d&i||!(m=r(p,e,!0))||(s=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&be(e,p)||n.point(p[0],p[1]),e=p,c=v,i=d},lineEnd:function(){c&&n.lineEnd(),e=null},clean:function(){return s|(l&&c)<<1}}}function r(n,t,e){var r=pe(n),u=pe(t),o=[1,0,0],a=de(r,u),c=ve(a,a),l=a[0],s=c-l*l;if(!s)return!e&&n;var f=i*c/s,h=-i*l/s,g=de(o,a),p=ye(o,f),v=ye(a,h);me(p,v);var d=g,m=ve(p,d),y=ve(d,d),M=m*m-y*(ve(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=ye(d,(-m-x)/y);if(me(b,p),b=xe(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],E=t[1];w>S&&(_=w,w=S,S=_);var A=S-w,N=ga(A-qa)<Ca,C=N||Ca>A;if(!N&&k>E&&(_=k,k=E,E=_),C?N?k+E>0^b[1]<(ga(b[0]-w)<Ca?k:E):k<=b[1]&&b[1]<=E:A>qa^(w<=b[0]&&b[0]<=S)){var z=ye(d,(-m+x)/y);return me(z,p),[b,xe(z)]}}}function u(t,e){var r=o?n:qa-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),o=i>0,a=ga(i)>Ca,c=gr(n,6*Da);return Le(t,e,c,o?[0,-n]:[-qa,n-qa])}function Oe(n,t,e,r){return function(u){var i,o=u.a,a=u.b,c=o.x,l=o.y,s=a.x,f=a.y,h=0,g=1,p=s-c,v=f-l;if(i=n-c,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-c,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-l,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-l,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={x:c+h*p,y:l+h*v}),1>g&&(u.b={x:c+g*p,y:l+g*v}),u}}}}}}function Ie(n,t,e,r){function u(r,u){return ga(r[0]-n)<Ca?u>0?0:3:ga(r[0]-e)<Ca?u>0?2:1:ga(r[1]-t)<Ca?u>0?1:0:u>0?3:2}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],u=0;e>u;++u)for(var i,o=1,a=d[u],c=a.length,l=a[0];c>o;++o)i=a[o],l[1]<=r?i[1]>r&&Q(l,i,n)>0&&++t:i[1]<=r&&Q(l,i,n)<0&&--t,l=i;return 0!==t}function l(i,a,c,l){var s=0,f=0;if(null==i||(s=u(i,c))!==(f=u(a,c))||o(i,a)<0^c>0){do l.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+c+4)%4)!==f)}else l.point(a[0],a[1])}function s(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){s(n,t)&&a.point(n,t)}function h(){C.point=p,d&&d.push(m=[]),S=!0,w=!1,b=_=0/0}function g(){v&&(p(y,M),x&&w&&A.rejoin(),v.push(A.buffer())),C.point=f,w&&a.lineEnd()}function p(n,t){n=Math.max(-Tc,Math.min(Tc,n)),t=Math.max(-Tc,Math.min(Tc,t));var e=s(n,t);if(d&&m.push([n,t]),S)y=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};N(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,m,y,M,x,b,_,w,S,k,E=a,A=Re(),N=Oe(n,t,e,r),C={point:f,lineStart:h,lineEnd:g,polygonStart:function(){a=A,v=[],d=[],k=!0},polygonEnd:function(){a=E,v=ta.merge(v);var t=c([n,r]),e=k&&t,u=v.length;(e||u)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),u&&Ce(v,i,t,l,a),a.polygonEnd()),v=d=m=null}};return C}}function Ye(n){var t=0,e=qa/3,r=ir(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*qa/180,e=n[1]*qa/180):[t/qa*180,e/qa*180]},u}function Ze(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),o-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/u,tt((i-(n*n+e*e)*u*u)/(2*u))]},e}function Ve(){function n(n,t){Dc+=u*n-r*t,r=n,u=t}var t,e,r,u;Hc.point=function(i,o){Hc.point=n,t=r=i,e=u=o},Hc.lineEnd=function(){n(t,e)}}function Xe(n,t){Pc>n&&(Pc=n),n>jc&&(jc=n),Uc>t&&(Uc=t),t>Fc&&(Fc=t)}function $e(){function n(n,t){o.push("M",n,",",t,i)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function u(){o.push("Z")}var i=Be(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return i=Be(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Be(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function We(n,t){_c+=n,wc+=t,++Sc}function Je(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(u*u+i*i);kc+=o*(t+n)/2,Ec+=o*(e+r)/2,Ac+=o,We(t=n,e=r)}var t,e;Ic.point=function(r,u){Ic.point=n,We(t=r,e=u)}}function Ge(){Ic.point=We}function Ke(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(e*e+i*i);kc+=o*(r+n)/2,Ec+=o*(u+t)/2,Ac+=o,o=u*n-r*t,Nc+=o*(r+n),Cc+=o*(u+t),zc+=3*o,We(r=n,u=t)}var t,e,r,u;Ic.point=function(i,o){Ic.point=n,We(t=r=i,e=u=o)},Ic.lineEnd=function(){n(t,e)}}function Qe(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,La)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:u,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function nr(n){function t(n){return(a?r:e)(n)}function e(t){return rr(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=0/0,S.point=i,t.lineStart()}function i(e,r){var i=pe([e,r]),o=n(e,r);u(M,x,y,b,_,w,M=o[0],x=o[1],y=e,b=i[0],_=i[1],w=i[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=l,S.lineEnd=s}function l(n,t){i(f=n,h=t),g=M,p=x,v=b,d=_,m=w,S.point=i}function s(){u(M,x,y,b,_,w,g,p,f,v,d,m,a,t),S.lineEnd=o,o()}var f,h,g,p,v,d,m,y,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c
},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,a,c,l,s,f,h,g,p,v,d,m){var y=s-t,M=f-e,x=y*y+M*M;if(x>4*i&&d--){var b=a+g,_=c+p,w=l+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),E=ga(ga(w)-1)<Ca||ga(r-h)<Ca?(r+h)/2:Math.atan2(_,b),A=n(E,k),N=A[0],C=A[1],z=N-t,q=C-e,L=M*z-y*q;(L*L/x>i||ga((y*z+M*q)/x-.5)>.3||o>a*g+c*p+l*v)&&(u(t,e,r,a,c,l,N,C,E,b/=S,_/=S,w,d,m),m.point(N,C),u(N,C,E,b,_,w,s,f,h,g,p,v,d,m))}}var i=.5,o=Math.cos(30*Da),a=16;return t.precision=function(n){return arguments.length?(a=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function tr(n){var t=nr(function(t,e){return n([t*Pa,e*Pa])});return function(n){return or(t(n))}}function er(n){this.stream=n}function rr(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ur(n){return ir(function(){return n})()}function ir(n){function t(n){return n=a(n[0]*Da,n[1]*Da),[n[0]*h+c,l-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(l-n[1])/h),n&&[n[0]*Pa,n[1]*Pa]}function r(){a=Ae(o=lr(m,M,x),i);var n=i(v,d);return c=g-n[0]*h,l=p+n[1]*h,u()}function u(){return s&&(s.valid=!1,s=null),t}var i,o,a,c,l,s,f=nr(function(n,t){return n=i(n,t),[n[0]*h+c,l-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,M=0,x=0,b=Lc,_=y,w=null,S=null;return t.stream=function(n){return s&&(s.valid=!1),s=or(b(o,f(_(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,Lc):He((w=+n)*Da),u()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Ie(n[0][0],n[0][1],n[1][0],n[1][1]):y,u()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Da,d=n[1]%360*Da,r()):[v*Pa,d*Pa]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Da,M=n[1]%360*Da,x=n.length>2?n[2]%360*Da:0,r()):[m*Pa,M*Pa,x*Pa]},ta.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function or(n){return rr(n,function(t,e){n.point(t*Da,e*Da)})}function ar(n,t){return[n,t]}function cr(n,t){return[n>qa?n-La:-qa>n?n+La:n,t]}function lr(n,t,e){return n?t||e?Ae(fr(n),hr(t,e)):fr(n):t||e?hr(t,e):cr}function sr(n){return function(t,e){return t+=n,[t>qa?t-La:-qa>t?t+La:t,e]}}function fr(n){var t=sr(n);return t.invert=sr(-n),t}function hr(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*r+a*u;return[Math.atan2(c*i-s*o,a*r-l*u),tt(s*i+c*o)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*i-c*o;return[Math.atan2(c*i+l*o,a*r+s*u),tt(s*r-a*u)]},e}function gr(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var c=o*t;null!=u?(u=pr(e,u),i=pr(e,i),(o>0?i>u:u>i)&&(u+=o*La)):(u=n+o*La,i=n-.5*c);for(var l,s=u;o>0?s>i:i>s;s-=c)a.point((l=xe([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],l[1])}}function pr(n,t){var e=pe(t);e[0]-=n,Me(e);var r=nt(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ca)%(2*Math.PI)}function vr(n,t,e){var r=ta.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function dr(n,t,e){var r=ta.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function mr(n){return n.source}function yr(n){return n.target}function Mr(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=u*Math.cos(n),l=u*Math.sin(n),s=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(it(r-t)+u*o*it(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*s,u=e*l+t*f,o=e*i+t*a;return[Math.atan2(u,r)*Pa,Math.atan2(o,Math.sqrt(r*r+u*u))*Pa]}:function(){return[n*Pa,t*Pa]};return p.distance=h,p}function xr(){function n(n,u){var i=Math.sin(u*=Da),o=Math.cos(u),a=ga((n*=Da)-t),c=Math.cos(a);Yc+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*i-e*o*c)*a),e*i+r*o*c),t=n,e=i,r=o}var t,e,r;Zc.point=function(u,i){t=u*Da,e=Math.sin(i*=Da),r=Math.cos(i),Zc.point=n},Zc.lineEnd=function(){Zc.point=Zc.lineEnd=b}}function br(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,r*o),Math.asin(r&&e*i/r)]},e}function _r(n,t){function e(n,t){o>0?-Ra+Ca>t&&(t=-Ra+Ca):t>Ra-Ca&&(t=Ra-Ca);var e=o/Math.pow(u(t),i);return[e*Math.sin(i*n),o-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(qa/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=K(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(o/r,1/i))-Ra]},e):Sr}function wr(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return ga(u)<Ca?ar:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-K(u)*Math.sqrt(n*n+e*e)]},e)}function Sr(n,t){return[n,Math.log(Math.tan(qa/4+t/2))]}function kr(n){var t,e=ur(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=i.apply(e,arguments);if(o===e){if(t=null==n){var a=qa*r(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Er(n,t){return[Math.log(Math.tan(qa/4+t/2)),-n]}function Ar(n){return n[0]}function Nr(n){return n[1]}function Cr(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function zr(n,t){return n[0]-t[0]||n[1]-t[1]}function qr(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Lr(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,c=n[1],l=e[1],s=t[1]-c,f=r[1]-l,h=(a*(c-l)-f*(u-i))/(f*o-a*s);return[u+h*o,c+h*s]}function Tr(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Rr(){tu(this),this.edge=this.site=this.circle=null}function Dr(n){var t=el.pop()||new Rr;return t.site=n,t}function Pr(n){Xr(n),Qc.remove(n),el.push(n),tu(n)}function Ur(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,o=n.N,a=[n];Pr(n);for(var c=i;c.circle&&ga(e-c.circle.x)<Ca&&ga(r-c.circle.cy)<Ca;)i=c.P,a.unshift(c),Pr(c),c=i;a.unshift(c),Xr(c);for(var l=o;l.circle&&ga(e-l.circle.x)<Ca&&ga(r-l.circle.cy)<Ca;)o=l.N,a.push(l),Pr(l),l=o;a.push(l),Xr(l);var s,f=a.length;for(s=1;f>s;++s)l=a[s],c=a[s-1],Kr(l.edge,c.site,l.site,u);c=a[0],l=a[f-1],l.edge=Jr(c.site,l.site,null,u),Vr(c),Vr(l)}function jr(n){for(var t,e,r,u,i=n.x,o=n.y,a=Qc._;a;)if(r=Fr(a,o)-i,r>Ca)a=a.L;else{if(u=i-Hr(a,o),!(u>Ca)){r>-Ca?(t=a.P,e=a):u>-Ca?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Dr(n);if(Qc.insert(t,c),t||e){if(t===e)return Xr(t),e=Dr(t.site),Qc.insert(c,e),c.edge=e.edge=Jr(t.site,c.site),Vr(t),void Vr(e);if(!e)return void(c.edge=Jr(t.site,c.site));Xr(t),Xr(e);var l=t.site,s=l.x,f=l.y,h=n.x-s,g=n.y-f,p=e.site,v=p.x-s,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,M=v*v+d*d,x={x:(d*y-g*M)/m+s,y:(h*M-v*y)/m+f};Kr(e.edge,l,p,x),c.edge=Jr(l,n,null,x),e.edge=Jr(n,p,null,x),Vr(t),Vr(e)}}function Fr(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var o=n.P;if(!o)return-1/0;e=o.site;var a=e.x,c=e.y,l=c-t;if(!l)return a;var s=a-r,f=1/i-1/l,h=s/l;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*l)-c+l/2+u-i/2)))/f+r:(r+a)/2}function Hr(n,t){var e=n.N;if(e)return Fr(e,t);var r=n.site;return r.y===t?r.x:1/0}function Or(n){this.site=n,this.edges=[]}function Ir(n){for(var t,e,r,u,i,o,a,c,l,s,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Kc,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(a=i.edges,c=a.length,o=0;c>o;)s=a[o].end(),r=s.x,u=s.y,l=a[++o%c].start(),t=l.x,e=l.y,(ga(r-t)>Ca||ga(u-e)>Ca)&&(a.splice(o,0,new Qr(Gr(i.site,s,ga(r-f)<Ca&&p-u>Ca?{x:f,y:ga(t-f)<Ca?e:p}:ga(u-p)<Ca&&h-r>Ca?{x:ga(e-p)<Ca?t:h,y:p}:ga(r-h)<Ca&&u-g>Ca?{x:h,y:ga(t-h)<Ca?e:g}:ga(u-g)<Ca&&r-f>Ca?{x:ga(e-g)<Ca?t:f,y:g}:null),i.site,null)),++c)}function Yr(n,t){return t.angle-n.angle}function Zr(){tu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vr(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var o=u.x,a=u.y,c=r.x-o,l=r.y-a,s=i.x-o,f=i.y-a,h=2*(c*f-l*s);if(!(h>=-za)){var g=c*c+l*l,p=s*s+f*f,v=(f*g-l*p)/h,d=(c*p-s*g)/h,f=d+a,m=rl.pop()||new Zr;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,M=tl._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}tl.insert(y,m),y||(nl=m)}}}}function Xr(n){var t=n.circle;t&&(t.P||(nl=t.N),tl.remove(t),rl.push(t),tu(t),n.circle=null)}function $r(n){for(var t,e=Gc,r=Oe(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Br(t,n)||!r(t)||ga(t.a.x-t.b.x)<Ca&&ga(t.a.y-t.b.y)<Ca)&&(t.a=t.b=null,e.splice(u,1))}function Br(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],l=t[1][1],s=n.l,f=n.r,h=s.x,g=s.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(o>d||d>=a)return;if(h>p){if(i){if(i.y>=l)return}else i={x:d,y:c};e={x:d,y:l}}else{if(i){if(i.y<c)return}else i={x:d,y:l};e={x:d,y:c}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=l)return}else i={x:(c-u)/r,y:c};e={x:(l-u)/r,y:l}}else{if(i){if(i.y<c)return}else i={x:(l-u)/r,y:l};e={x:(c-u)/r,y:c}}else if(v>g){if(i){if(i.x>=a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}else{if(i){if(i.x<o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}return n.a=i,n.b=e,!0}function Wr(n,t){this.l=n,this.r=t,this.a=this.b=null}function Jr(n,t,e,r){var u=new Wr(n,t);return Gc.push(u),e&&Kr(u,n,t,e),r&&Kr(u,t,n,r),Kc[n.i].edges.push(new Qr(u,n,t)),Kc[t.i].edges.push(new Qr(u,t,n)),u}function Gr(n,t,e){var r=new Wr(n,null);return r.a=t,r.b=e,Gc.push(r),r}function Kr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function Qr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function nu(){this._=null}function tu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function eu(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ru(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function uu(n){for(;n.L;)n=n.L;return n}function iu(n,t){var e,r,u,i=n.sort(ou).pop();for(Gc=[],Kc=new Array(n.length),Qc=new nu,tl=new nu;;)if(u=nl,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(Kc[i.i]=new Or(i),jr(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Ur(u.arc)}t&&($r(t),Ir(t));var o={cells:Kc,edges:Gc};return Qc=tl=Gc=Kc=null,o}function ou(n,t){return t.y-n.y||t.x-n.x}function au(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function cu(n){return n.x}function lu(n){return n.y}function su(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fu(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5*(e+u),a=.5*(r+i),c=t.nodes;c[0]&&fu(n,c[0],e,r,o,a),c[1]&&fu(n,c[1],o,r,u,a),c[2]&&fu(n,c[2],e,a,o,i),c[3]&&fu(n,c[3],o,a,u,i)}}function hu(n,t,e,r,u,i,o){var a,c=1/0;return function l(n,s,f,h,g){if(!(s>i||f>o||r>h||u>g)){if(p=n.point){var p,v=t-n.x,d=e-n.y,m=v*v+d*d;if(c>m){var y=Math.sqrt(c=m);r=t-y,u=e-y,i=t+y,o=e+y,a=p}}for(var M=n.nodes,x=.5*(s+h),b=.5*(f+g),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;k>S;++S)if(n=M[3&S])switch(3&S){case 0:l(n,s,f,x,b);break;case 1:l(n,x,f,h,b);break;case 2:l(n,s,b,x,g);break;case 3:l(n,x,b,h,g)}}}(n,r,u,i,o),a}function gu(n,t){n=ta.rgb(n),t=ta.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return"#"+xt(Math.round(e+i*n))+xt(Math.round(r+o*n))+xt(Math.round(u+a*n))}}function pu(n,t){var e,r={},u={};for(e in n)e in t?r[e]=mu(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function vu(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function du(n,t){var e,r,u,i=il.lastIndex=ol.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(e=il.exec(n))&&(r=ol.exec(t));)(u=r.index)>i&&(u=t.slice(i,u),a[o]?a[o]+=u:a[++o]=u),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:vu(e,r)})),i=ol.lastIndex;return i<t.length&&(u=t.slice(i),a[o]?a[o]+=u:a[++o]=u),a.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var e,r=0;t>r;++r)a[(e=c[r]).i]=e.x(n);return a.join("")})}function mu(n,t){for(var e,r=ta.interpolators.length;--r>=0&&!(e=ta.interpolators[r](n,t)););return e}function yu(n,t){var e,r=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a>e;++e)r.push(mu(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;o>e;++e)u[e]=t[e];return function(n){for(e=0;a>e;++e)u[e]=r[e](n);return u}}function Mu(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function xu(n){return function(t){return 1-n(1-t)}}function bu(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function _u(n){return n*n}function wu(n){return n*n*n}function Su(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function ku(n){return function(t){return Math.pow(t,n)}}function Eu(n){return 1-Math.cos(n*Ra)}function Au(n){return Math.pow(2,10*(n-1))}function Nu(n){return 1-Math.sqrt(1-n*n)}function Cu(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/La*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*La/t)}}function zu(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function qu(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Lu(n,t){n=ta.hcl(n),t=ta.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return st(e+i*n,r+o*n,u+a*n)+""}}function Tu(n,t){n=ta.hsl(n),t=ta.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return ct(e+i*n,r+o*n,u+a*n)+""}}function Ru(n,t){n=ta.lab(n),t=ta.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return ht(e+i*n,r+o*n,u+a*n)+""}}function Du(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Pu(n){var t=[n.a,n.b],e=[n.c,n.d],r=ju(t),u=Uu(t,e),i=ju(Fu(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Pa,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Pa:0}function Uu(n,t){return n[0]*t[0]+n[1]*t[1]}function ju(n){var t=Math.sqrt(Uu(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Fu(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Hu(n,t){var e,r=[],u=[],i=ta.transform(n),o=ta.transform(t),a=i.translate,c=o.translate,l=i.rotate,s=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),u.push({i:1,x:vu(a[0],c[0])},{i:3,x:vu(a[1],c[1])})):r.push(c[0]||c[1]?"translate("+c+")":""),l!=s?(l-s>180?s+=360:s-l>180&&(l+=360),u.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vu(l,s)})):s&&r.push(r.pop()+"rotate("+s+")"),f!=h?u.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vu(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),u.push({i:e-4,x:vu(g[0],p[0])},{i:e-2,x:vu(g[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),e=u.length,function(n){for(var t,i=-1;++i<e;)r[(t=u[i]).i]=t.x(n);return r.join("")}}function Ou(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Iu(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Yu(n){for(var t=n.source,e=n.target,r=Vu(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Zu(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Vu(n,t){if(n===t)return n;for(var e=Zu(n),r=Zu(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function Xu(n){n.fixed|=2}function $u(n){n.fixed&=-7}function Bu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Wu(n){n.fixed&=-5}function Ju(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,o=n.nodes,a=o.length,c=-1;++c<a;)i=o[c],null!=i&&(Ju(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*e[n.point.index];n.charge+=n.pointCharge=l,r+=l*n.point.x,u+=l*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function Gu(n,t){return ta.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=ri,n}function Ku(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function Qu(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(i=n.children)&&(u=i.length))for(var u,i,o=-1;++o<u;)e.push(i[o]);for(;null!=(n=r.pop());)t(n)}function ni(n){return n.children}function ti(n){return n.value}function ei(n,t){return t.value-n.value}function ri(n){return ta.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function ui(n){return n.x}function ii(n){return n.y}function oi(n,t,e){n.y0=t,n.y=e}function ai(n){return ta.range(n.length)}function ci(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function li(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function si(n){return n.reduce(fi,0)}function fi(n,t){return n+t[1]}function hi(n,t){return gi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function gi(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function pi(n){return[ta.min(n),ta.max(n)]}function vi(n,t){return n.value-t.value}function di(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function mi(n,t){n._pack_next=t,t._pack_prev=n}function yi(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Mi(n){function t(n){s=Math.min(n.x-n.r,s),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(l=e.length)){var e,r,u,i,o,a,c,l,s=1/0,f=-1/0,h=1/0,g=-1/0;if(e.forEach(xi),r=e[0],r.x=-r.r,r.y=0,t(r),l>1&&(u=e[1],u.x=u.r,u.y=0,t(u),l>2))for(i=e[2],wi(r,u,i),t(i),di(r,i),r._pack_prev=i,di(i,u),u=r._pack_next,o=3;l>o;o++){wi(r,u,i=e[o]);var p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)if(yi(a,i)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&&!yi(c,i);c=c._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?mi(r,u=a):mi(r=c,u),o--):(di(r,i),u=i,t(i))}var m=(s+f)/2,y=(h+g)/2,M=0;for(o=0;l>o;o++)i=e[o],i.x-=m,i.y-=y,M=Math.max(M,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=M,e.forEach(bi)}}function xi(n){n._pack_next=n._pack_prev=n}function bi(n){delete n._pack_next,delete n._pack_prev}function _i(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,o=u.length;++i<o;)_i(u[i],t,e,r)}function wi(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var o=t.r+e.r,a=u*u+i*i;o*=o,r*=r;var c=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*u+l*i,e.y=n.y+c*i-l*u}else e.x=n.x+r,e.y=n.y}function Si(n,t){return n.parent==t.parent?1:2}function ki(n){var t=n.children;return t.length?t[0]:n.t}function Ei(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ai(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Ni(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Ci(n,t,e){return n.a.parent===t.parent?n.a:e}function zi(n){return 1+ta.max(n,function(n){return n.y})}function qi(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Li(n){var t=n.children;return t&&t.length?Li(t[0]):n}function Ti(n){var t,e=n.children;return e&&(t=e.length)?Ti(e[t-1]):n}function Ri(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Di(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Pi(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Ui(n){return n.rangeExtent?n.rangeExtent():Pi(n.range())}function ji(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Fi(n,t){var e,r=0,u=n.length-1,i=n[r],o=n[u];return i>o&&(e=r,r=u,u=e,e=i,i=o,o=e),n[r]=t.floor(i),n[u]=t.ceil(o),n}function Hi(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ml}function Oi(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=ta.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function Ii(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Oi:ji,c=r?Iu:Ou;return o=u(n,t,c,e),a=u(t,n,c,mu),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Du)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Xi(n,t)},i.tickFormat=function(t,e){return $i(n,t,e)},i.nice=function(t){return Zi(n,t),u()},i.copy=function(){return Ii(n,t,e,r)},u()}function Yi(n,t){return ta.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Zi(n,t){return Fi(n,Hi(Vi(n,t)[2]))}function Vi(n,t){null==t&&(t=10);var e=Pi(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Xi(n,t){return ta.range.apply(ta,Vi(n,t))}function $i(n,t,e){var r=Vi(n,t);if(e){var u=ic.exec(e);if(u.shift(),"s"===u[8]){var i=ta.formatPrefix(Math.max(ga(r[0]),ga(r[1])));return u[7]||(u[7]="."+Bi(i.scale(r[2]))),u[8]="f",e=ta.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+Wi(u[8],r)),e=u.join("")}else e=",."+Bi(r[2])+"f";return ta.format(e)}function Bi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function Wi(n,t){var e=Bi(t[2]);return n in yl?Math.abs(e-Bi(Math.max(ga(t[0]),ga(t[1]))))+ +("e"!==n):e-2*("%"===n)}function Ji(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),o):t},o.nice=function(){var t=Fi(r.map(u),e?Math:xl);return n.domain(t),r=t.map(i),o},o.ticks=function(){var n=Pi(r),o=[],a=n[0],c=n[1],l=Math.floor(u(a)),s=Math.ceil(u(c)),f=t%1?2:t;if(isFinite(s-l)){if(e){for(;s>l;l++)for(var h=1;f>h;h++)o.push(i(l)*h);o.push(i(l))}else for(o.push(i(l));l++<s;)for(var h=f-1;h>0;h--)o.push(i(l)*h);for(l=0;o[l]<a;l++);for(s=o.length;o[s-1]>c;s--);o=o.slice(l,s)}return o},o.tickFormat=function(n,t){if(!arguments.length)return Ml;arguments.length<2?t=Ml:"function"!=typeof t&&(t=ta.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/i(c(u(n)+r))<=a?t(n):""}},o.copy=function(){return Ji(n.copy(),t,e,r)},Yi(o,n)}function Gi(n,t,e){function r(t){return n(u(t))}var u=Ki(t),i=Ki(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Xi(e,n)},r.tickFormat=function(n,t){return $i(e,n,t)},r.nice=function(n){return r.domain(Zi(e,n))},r.exponent=function(o){return arguments.length?(u=Ki(t=o),i=Ki(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return Gi(n.copy(),t,e)},Yi(r,n)}function Ki(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function Qi(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]}function r(t,e){return ta.range(n.length).map(function(n){return t+e*n})}var u,i,o;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new l;for(var i,o=-1,a=r.length;++o<a;)u.has(i=r[o])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,o=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=(c+l)/2,0):(l-c)/(n.length-1+a);return i=r(c+s*a/2,s),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=l=Math.round((c+l)/2),0):(l-c)/(n.length-1+a)|0;return i=r(c+Math.round(s*a/2+(l-c-(n.length-1+a)*s)/2),s),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=(f-s)/(n.length-a+2*c);return i=r(s+h*c,h),l&&i.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=Math.floor((f-s)/(n.length-a+2*c));return i=r(s+Math.round((f-s-(n.length-a)*h)/2),h),l&&i.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Pi(t.a[0])},e.copy=function(){return Qi(n,t)},e.domain(n)}function no(n,t){function i(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=ta.quantile(n,e/r);return o}function o(n){return isNaN(n=+n)?void 0:t[ta.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(u).sort(e),i()):n},o.range=function(n){return arguments.length?(t=n,i()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),0>e?[0/0,0/0]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return no(n,t)},i()}function to(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?0/0:t/i+n,[t,t+1/i]},r.copy=function(){return to(n,t,e)},u()}function eo(n,t){function e(e){return e>=e?t[ta.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return eo(n,t)},e}function ro(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Xi(n,t)},t.tickFormat=function(t,e){return $i(n,t,e)},t.copy=function(){return ro(n)},t}function uo(){return 0}function io(n){return n.innerRadius}function oo(n){return n.outerRadius}function ao(n){return n.startAngle}function co(n){return n.endAngle}function lo(n){return n&&n.padAngle}function so(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function fo(n,t,e,r,u){var i=n[0]-t[0],o=n[1]-t[1],a=(u?r:-r)/Math.sqrt(i*i+o*o),c=a*o,l=-a*i,s=n[0]+c,f=n[1]+l,h=t[0]+c,g=t[1]+l,p=(s+h)/2,v=(f+g)/2,d=h-s,m=g-f,y=d*d+m*m,M=e-r,x=s*g-h*f,b=(0>m?-1:1)*Math.sqrt(M*M*y-x*x),_=(x*m-d*b)/y,w=(-x*d-m*b)/y,S=(x*m+d*b)/y,k=(-x*d+m*b)/y,E=_-p,A=w-v,N=S-p,C=k-v;return E*E+A*A>N*N+C*C&&(_=S,w=k),[[_-c,w-l],[_*e/M,w*e/M]]}function ho(n){function t(t){function o(){l.push("M",i(n(s),a))}for(var c,l=[],s=[],f=-1,h=t.length,g=Et(e),p=Et(r);++f<h;)u.call(this,c=t[f],f)?s.push([+g.call(this,c,f),+p.call(this,c,f)]):s.length&&(o(),s=[]);return s.length&&o(),l.length?l.join(""):null}var e=Ar,r=Nr,u=Ne,i=go,o=i.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=El.get(n)||go).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function go(n){return n.join("L")}function po(n){return go(n)+"Z"}function vo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function mo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function yo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function Mo(n,t){return n.length<4?go(n):n[1]+_o(n.slice(1,-1),wo(n,t))}function xo(n,t){return n.length<3?go(n):n[0]+_o((n.push(n[0]),n),wo([n[n.length-2]].concat(n,[n[1]]),t))}function bo(n,t){return n.length<3?go(n):n[0]+_o(n,wo(n,t))}function _o(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return go(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],u=n[1],c=2),t.length>1){a=t[1],i=n[c],c++,r+="C"+(u[0]+o[0])+","+(u[1]+o[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var l=2;l<t.length;l++,c++)i=n[c],a=t[l],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){var s=n[c];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+s[0]+","+s[1]}return r}function wo(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],o=n[1],a=1,c=n.length;++a<c;)e=i,i=o,o=n[a],r.push([u*(o[0]-e[0]),u*(o[1]-e[1])]);return r}function So(n){if(n.length<3)return go(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],c=[u,",",i,"L",No(Cl,o),",",No(Cl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Co(c,o,a);return n.pop(),c.push("L",r),c.join("")}function ko(n){if(n.length<4)return go(n);for(var t,e=[],r=-1,u=n.length,i=[0],o=[0];++r<3;)t=n[r],i.push(t[0]),o.push(t[1]);for(e.push(No(Cl,i)+","+No(Cl,o)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Co(e,i,o);return e.join("")}function Eo(n){for(var t,e,r=-1,u=n.length,i=u+4,o=[],a=[];++r<4;)e=n[r%u],o.push(e[0]),a.push(e[1]);for(t=[No(Cl,o),",",No(Cl,a)],--r;++r<i;)e=n[r%u],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Co(t,o,a);return t.join("")}function Ao(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],o=n[0][1],a=n[e][0]-i,c=n[e][1]-o,l=-1;++l<=e;)r=n[l],u=l/e,r[0]=t*r[0]+(1-t)*(i+u*a),r[1]=t*r[1]+(1-t)*(o+u*c);return So(n)}function No(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Co(n,t,e){n.push("C",No(Al,t),",",No(Al,e),",",No(Nl,t),",",No(Nl,e),",",No(Cl,t),",",No(Cl,e))}function zo(n,t){return(t[1]-n[1])/(t[0]-n[0])}function qo(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=zo(u,i);++t<e;)r[t]=(o+(o=zo(u=i,i=n[t+1])))/2;return r[t]=o,r}function Lo(n){for(var t,e,r,u,i=[],o=qo(n),a=-1,c=n.length-1;++a<c;)t=zo(n[a],n[a+1]),ga(t)<Ca?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),o[a]=u*e,o[a+1]=u*r));for(a=-1;++a<=c;)u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),i.push([u||0,o[a]*u||0]);return i}function To(n){return n.length<3?go(n):n[0]+_o(n,Lo(n))}function Ro(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]-Ra,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Do(n){function t(t){function c(){v.push("M",a(n(m),f),s,l(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,M=t.length,x=Et(e),b=Et(u),_=e===r?function(){return g}:Et(r),w=u===i?function(){return p}:Et(i);++y<M;)o.call(this,h=t[y],y)?(d.push([g=+x.call(this,h,y),p=+b.call(this,h,y)]),m.push([+_.call(this,h,y),+w.call(this,h,y)])):d.length&&(c(),d=[],m=[]);return d.length&&c(),v.length?v.join(""):null}var e=Ar,r=Ar,u=0,i=Nr,o=Ne,a=go,c=a.key,l=a,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r
},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=El.get(n)||go).key,l=a.reverse||a,s=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Po(n){return n.radius}function Uo(n){return[n.x,n.y]}function jo(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Ra;return[e*Math.cos(r),e*Math.sin(r)]}}function Fo(){return 64}function Ho(){return"circle"}function Oo(n){var t=Math.sqrt(n/qa);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Io(n){return function(){var t,e;(t=this[n])&&(e=t[t.active])&&(--t.count?delete t[t.active]:delete this[n],t.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function Yo(n,t,e){return ya(n,Pl),n.namespace=t,n.id=e,n}function Zo(n,t,e,r){var u=n.id,i=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[i][u].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[i][u].tween.set(t,e)}))}function Vo(n){return null==n&&(n=""),function(){this.textContent=n}}function Xo(n){return null==n?"__transition__":"__transition_"+n+"__"}function $o(n,t,e,r,u){var i=n[e]||(n[e]={active:0,count:0}),o=i[r];if(!o){var a=u.time;o=i[r]={tween:new l,time:a,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++i.count,ta.timer(function(u){function c(e){if(i.active>r)return s();var u=i[i.active];u&&(--i.count,delete i[i.active],u.event&&u.event.interrupt.call(n,n.__data__,u.index)),i.active=r,o.event&&o.event.start.call(n,n.__data__,t),o.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&v.push(r)}),h=o.ease,f=o.duration,ta.timer(function(){return p.c=l(e||1)?Ne:l,1},0,a)}function l(e){if(i.active!==r)return 1;for(var u=e/f,a=h(u),c=v.length;c>0;)v[--c].call(n,a);return u>=1?(o.event&&o.event.end.call(n,n.__data__,t),s()):void 0}function s(){return--i.count?delete i[r]:delete n[e],1}var f,h,g=o.delay,p=ec,v=[];return p.t=g+a,u>=g?c(u-g):void(p.c=c)},0,a)}}function Bo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function Wo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function Jo(n){return n.toISOString()}function Go(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=ta.bisect(Vl,u);return i==Vl.length?[t.year,Vi(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Vl[i-1]<Vl[i]/u?i-1:i]:[Bl,Vi(n,e)[2]]}return r.invert=function(t){return Ko(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Ko)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Ko(+e+1),t).length}var i=r.domain(),o=Pi(i),a=null==n?u(o,10):"number"==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),r.domain(Fi(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=Ko(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Ko(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Pi(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],Ko(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Go(n.copy(),t,e)},Yi(r,n)}function Ko(n){return new Date(n)}function Qo(n){return JSON.parse(n.responseText)}function na(n){var t=ua.createRange();return t.selectNode(ua.body),t.createContextualFragment(n.responseText)}var ta={version:"3.5.5"},ea=[].slice,ra=function(n){return ea.call(n)},ua=this.document;if(ua)try{ra(ua.documentElement.childNodes)[0].nodeType}catch(ia){ra=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),ua)try{ua.createElement("DIV").style.setProperty("opacity",0,"")}catch(oa){var aa=this.Element.prototype,ca=aa.setAttribute,la=aa.setAttributeNS,sa=this.CSSStyleDeclaration.prototype,fa=sa.setProperty;aa.setAttribute=function(n,t){ca.call(this,n,t+"")},aa.setAttributeNS=function(n,t,e){la.call(this,n,t,e+"")},sa.setProperty=function(n,t,e){fa.call(this,n,t+"",e)}}ta.ascending=e,ta.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:0/0},ta.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},ta.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},ta.extent=function(n,t){var e,r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=n[i])&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<o;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},ta.sum=function(n,t){var e,r=0,i=n.length,o=-1;if(1===arguments.length)for(;++o<i;)u(e=+n[o])&&(r+=e);else for(;++o<i;)u(e=+t.call(n,n[o],o))&&(r+=e);return r},ta.mean=function(n,t){var e,i=0,o=n.length,a=-1,c=o;if(1===arguments.length)for(;++a<o;)u(e=r(n[a]))?i+=e:--c;else for(;++a<o;)u(e=r(t.call(n,n[a],a)))?i+=e:--c;return c?i/c:void 0},ta.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},ta.median=function(n,t){var i,o=[],a=n.length,c=-1;if(1===arguments.length)for(;++c<a;)u(i=r(n[c]))&&o.push(i);else for(;++c<a;)u(i=r(t.call(n,n[c],c)))&&o.push(i);return o.length?ta.quantile(o.sort(e),.5):void 0},ta.variance=function(n,t){var e,i,o=n.length,a=0,c=0,l=-1,s=0;if(1===arguments.length)for(;++l<o;)u(e=r(n[l]))&&(i=e-a,a+=i/++s,c+=i*(e-a));else for(;++l<o;)u(e=r(t.call(n,n[l],l)))&&(i=e-a,a+=i/++s,c+=i*(e-a));return s>1?c/(s-1):void 0},ta.deviation=function(){var n=ta.variance.apply(this,arguments);return n?Math.sqrt(n):n};var ha=i(e);ta.bisectLeft=ha.left,ta.bisect=ta.bisectRight=ha.right,ta.bisector=function(n){return i(1===n.length?function(t,r){return e(n(t),r)}:n)},ta.shuffle=function(n,t,e){(i=arguments.length)<3&&(e=n.length,2>i&&(t=0));for(var r,u,i=e-t;i;)u=Math.random()*i--|0,r=n[i+t],n[i+t]=n[u+t],n[u+t]=r;return n},ta.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ta.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},ta.zip=function(){if(!(r=arguments.length))return[];for(var n=-1,t=ta.min(arguments,o),e=new Array(t);++n<t;)for(var r,u=-1,i=e[n]=new Array(r);++u<r;)i[u]=arguments[u][n];return e},ta.transpose=function(n){return ta.zip.apply(ta,n)},ta.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ta.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ta.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ta.merge=function(n){for(var t,e,r,u=n.length,i=-1,o=0;++i<u;)o+=n[i].length;for(e=new Array(o);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--o]=r[t];return e};var ga=Math.abs;ta.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,u=[],i=a(ga(e)),o=-1;if(n*=i,t*=i,e*=i,0>e)for(;(r=n+e*++o)>t;)u.push(r/i);else for(;(r=n+e*++o)<t;)u.push(r/i);return u},ta.map=function(n,t){var e=new l;if(n instanceof l)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,u=-1,i=n.length;if(1===arguments.length)for(;++u<i;)e.set(u,n[u]);else for(;++u<i;)e.set(t.call(n,r=n[u],u),r)}else for(var o in n)e.set(o,n[o]);return e};var pa="__proto__",va="\x00";c(l,{has:h,get:function(n){return this._[s(n)]},set:function(n,t){return this._[s(n)]=t},remove:g,keys:p,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:f(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t),this._[t])}}),ta.nest=function(){function n(t,o,a){if(a>=i.length)return r?r.call(u,o):e?o.sort(e):o;for(var c,s,f,h,g=-1,p=o.length,v=i[a++],d=new l;++g<p;)(h=d.get(c=v(s=o[g])))?h.push(s):d.set(c,[s]);return t?(s=t(),f=function(e,r){s.set(e,n(t,r,a))}):(s={},f=function(e,r){s[e]=n(t,r,a)}),d.forEach(f),s}function t(n,e){if(e>=i.length)return n;var r=[],u=o[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],o=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(ta.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return o[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},ta.set=function(n){var t=new m;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},c(m,{has:h,add:function(n){return this._[s(n+="")]=!0,n},remove:g,values:p,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t))}}),ta.behavior={},ta.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=M(n,t,t[e]);return n};var da=["webkit","ms","moz","Moz","o","O"];ta.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ta.event=null,ta.requote=function(n){return n.replace(ma,"\\$&")};var ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ya={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},Ma=function(n,t){return t.querySelector(n)},xa=function(n,t){return t.querySelectorAll(n)},ba=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(ba=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(Ma=function(n,t){return Sizzle(n,t)[0]||null},xa=Sizzle,ba=Sizzle.matchesSelector),ta.selection=function(){return ta.select(ua.documentElement)};var _a=ta.selection.prototype=[];_a.select=function(n){var t,e,r,u,i=[];n=N(n);for(var o=-1,a=this.length;++o<a;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,l=r.length;++c<l;)(u=r[c])?(t.push(e=n.call(u,u.__data__,c,o)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return A(i)},_a.selectAll=function(n){var t,e,r=[];n=C(n);for(var u=-1,i=this.length;++u<i;)for(var o=this[u],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=ra(n.call(e,e.__data__,a,u))),t.parentNode=e);return A(r)};var wa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ta.ns={prefix:wa,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.slice(0,t),n=n.slice(t+1)),wa.hasOwnProperty(e)?{space:wa[e],local:n}:n}},_a.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ta.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},_a.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!L(n[u]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},_a.style=function(n,e,r){var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(2>u){var i=this.node();return t(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},_a.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},_a.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},_a.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},_a.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},_a.insert=function(n,t){return n=j(n),t=N(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},_a.remove=function(){return this.each(F)},_a.data=function(n,t){function e(n,e){var r,u,i,o=n.length,f=e.length,h=Math.min(o,f),g=new Array(f),p=new Array(f),v=new Array(o);if(t){var d,m=new l,y=new Array(o);for(r=-1;++r<o;)m.has(d=t.call(u=n[r],u.__data__,r))?v[r]=u:m.set(d,u),y[r]=d;for(r=-1;++r<f;)(u=m.get(d=t.call(e,i=e[r],r)))?u!==!0&&(g[r]=u,u.__data__=i):p[r]=H(i),m.set(d,!0);for(r=-1;++r<o;)m.get(y[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=H(i);for(;f>r;++r)p[r]=H(e[r]);for(;o>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,a.push(p),c.push(g),s.push(v)}var r,u,i=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++i<o;)(u=r[i])&&(n[i]=u.__data__);return n}var a=Z([]),c=A([]),s=A([]);if("function"==typeof n)for(;++i<o;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<o;)e(r=this[i],n);return c.enter=function(){return a},c.exit=function(){return s},c},_a.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},_a.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return A(u)},_a.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},_a.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},_a.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},_a.call=function(n){var t=ra(arguments);return n.apply(t[0]=this,t),this},_a.empty=function(){return!this.node()},_a.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},_a.size=function(){var n=0;return Y(this,function(){++n}),n};var Sa=[];ta.selection.enter=Z,ta.selection.enter.prototype=Sa,Sa.append=_a.append,Sa.empty=_a.empty,Sa.node=_a.node,Sa.call=_a.call,Sa.size=_a.size,Sa.select=function(n){for(var t,e,r,u,i,o=[],a=-1,c=this.length;++a<c;){r=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(var l=-1,s=u.length;++l<s;)(i=u[l])?(t.push(r[l]=e=n.call(u.parentNode,i.__data__,l,a)),e.__data__=i.__data__):t.push(null)}return A(o)},Sa.insert=function(n,t){return arguments.length<2&&(t=V(this)),_a.insert.call(this,n,t)},ta.select=function(t){var e;return"string"==typeof t?(e=[Ma(t,ua)],e.parentNode=ua.documentElement):(e=[t],e.parentNode=n(t)),A([e])},ta.selectAll=function(n){var t;return"string"==typeof n?(t=ra(xa(n,ua)),t.parentNode=ua.documentElement):(t=n,t.parentNode=null),A([t])},_a.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var ka=ta.map({mouseenter:"mouseover",mouseleave:"mouseout"});ua&&ka.forEach(function(n){"on"+n in ua&&ka.remove(n)});var Ea,Aa=0;ta.mouse=function(n){return J(n,k())};var Na=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ta.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,u=0,i=t.length;i>u;++u)if((r=t[u]).identifier===e)return J(n,r)},ta.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(n,t,e,i,o){return function(){function a(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],p|=n|e,M=r,g({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:n,dy:e}))}function c(){t(h,v)&&(m.on(i+d,null).on(o+d,null),y(p&&ta.event.target===f),g({type:"dragend"}))}var l,s=this,f=ta.event.target,h=s.parentNode,g=r.of(s,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=ta.select(e(f)).on(i+d,a).on(o+d,c),y=W(f),M=t(h,v);u?(l=u.apply(s,arguments),l=[l.x-M[0],l.y-M[1]]):l=[0,0],g({type:"dragstart"})}}var r=E(n,"drag","dragstart","dragend"),u=null,i=e(b,ta.mouse,t,"mousemove","mouseup"),o=e(G,ta.touch,y,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},ta.rebind(n,r,"on")},ta.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ra(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Ca=1e-6,za=Ca*Ca,qa=Math.PI,La=2*qa,Ta=La-Ca,Ra=qa/2,Da=qa/180,Pa=180/qa,Ua=Math.SQRT2,ja=2,Fa=4;ta.interpolateZoom=function(n,t){function e(n){var t=n*y;if(m){var e=rt(v),o=i/(ja*h)*(e*ut(Ua*t+v)-et(v));return[r+o*l,u+o*s,i*e/rt(Ua*t+v)]}return[r+n*l,u+n*s,i*Math.exp(Ua*t)]}var r=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],l=o-r,s=a-u,f=l*l+s*s,h=Math.sqrt(f),g=(c*c-i*i+Fa*f)/(2*i*ja*h),p=(c*c-i*i-Fa*f)/(2*c*ja*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p),m=d-v,y=(m||Math.log(c/i))/Ua;return e.duration=1e3*y,e},ta.behavior.zoom=function(){function n(n){n.on(q,f).on(Oa+".zoom",g).on("dblclick.zoom",p).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function u(n){k.k=Math.max(N[0],Math.min(N[1],n))}function i(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:k.x,y:k.y,k:k.k},u(Math.pow(2,o)),i(d=e,r),t=ta.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function a(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function c(n){z++||n({type:"zoomstart"})}function l(n){a(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function s(n){--z||n({type:"zoomend"}),d=null}function f(){function n(){f=1,i(ta.mouse(u),g),l(a)}function r(){h.on(L,null).on(T,null),p(f&&ta.event.target===o),s(a)}var u=this,o=ta.event.target,a=D.of(u,arguments),f=0,h=ta.select(t(u)).on(L,n).on(T,r),g=e(ta.mouse(u)),p=W(u);Dl.call(u),c(a)}function h(){function n(){var n=ta.touches(p);return g=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=ta.event.target;ta.select(t).on(x,r).on(b,a),_.push(t);for(var e=ta.event.changedTouches,u=0,i=e.length;i>u;++u)d[e[u].identifier]=null;var c=n(),l=Date.now();if(1===c.length){if(500>l-M){var s=c[0];o(p,s,d[s.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=l}else if(c.length>1){var s=c[0],f=c[1],h=s[0]-f[0],g=s[1]-f[1];m=h*h+g*g}}function r(){var n,t,e,r,o=ta.touches(p);Dl.call(p);for(var a=0,c=o.length;c>a;++a,r=null)if(e=o[a],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var s=(s=e[0]-n[0])*s+(s=e[1]-n[1])*s,f=m&&Math.sqrt(s/m);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],u(f*g)}M=null,i(n,t),l(v)}function a(){if(ta.event.touches.length){for(var t=ta.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var u in d)return void n()}ta.selectAll(_).on(y,null),w.on(q,f).on(R,h),E(),s(v)}var g,p=this,v=D.of(p,arguments),d={},m=0,y=".zoom-"+ta.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,_=[],w=ta.select(p),E=W(p);t(),c(v),w.on(q,null).on(R,t)}function g(){var n=D.of(this,arguments);y?clearTimeout(y):(v=e(d=m||ta.mouse(this)),Dl.call(this),c(n)),y=setTimeout(function(){y=null,s(n)},50),S(),u(Math.pow(2,.002*Ha())*k.k),i(d,v),l(n)}function p(){var n=ta.mouse(this),t=Math.log(k.k)/Math.LN2;o(this,n,e(n),ta.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,m,y,M,x,b,_,w,k={x:0,y:0,k:1},A=[960,500],N=Ia,C=250,z=0,q="mousedown.zoom",L="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=E(n,"zoomstart","zoom","zoomend");return Oa||(Oa="onwheel"in ua?(Ha=function(){return-ta.event.deltaY*(ta.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ua?(Ha=function(){return ta.event.wheelDelta},"mousewheel"):(Ha=function(){return-ta.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Tl?ta.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},c(n)}).tween("zoom:zoom",function(){var e=A[0],r=A[1],u=d?d[0]:e/2,i=d?d[1]:r/2,o=ta.interpolateZoom([(u-k.x)/k.k,(i-k.y)/k.k,e/k.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:u-r[0]*a,y:i-r[1]*a,k:a},l(n)}}).each("interrupt.zoom",function(){s(n)}).each("end.zoom",function(){s(n)}):(this.__chart__=k,c(n),l(n),s(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},a(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:+t},a(),n):k.k},n.scaleExtent=function(t){return arguments.length?(N=null==t?Ia:[+t[0],+t[1]],n):N},n.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],n):m},n.size=function(t){return arguments.length?(A=t&&[+t[0],+t[1]],n):A},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},ta.rebind(n,D,"on")};var Ha,Oa,Ia=[0,1/0];ta.color=ot,ot.prototype.toString=function(){return this.rgb()+""},ta.hsl=at;var Ya=at.prototype=new ot;Ya.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new at(this.h,this.s,this.l/n)},Ya.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new at(this.h,this.s,n*this.l)},Ya.rgb=function(){return ct(this.h,this.s,this.l)},ta.hcl=lt;var Za=lt.prototype=new ot;Za.brighter=function(n){return new lt(this.h,this.c,Math.min(100,this.l+Va*(arguments.length?n:1)))},Za.darker=function(n){return new lt(this.h,this.c,Math.max(0,this.l-Va*(arguments.length?n:1)))},Za.rgb=function(){return st(this.h,this.c,this.l).rgb()},ta.lab=ft;var Va=18,Xa=.95047,$a=1,Ba=1.08883,Wa=ft.prototype=new ot;Wa.brighter=function(n){return new ft(Math.min(100,this.l+Va*(arguments.length?n:1)),this.a,this.b)},Wa.darker=function(n){return new ft(Math.max(0,this.l-Va*(arguments.length?n:1)),this.a,this.b)},Wa.rgb=function(){return ht(this.l,this.a,this.b)},ta.rgb=mt;var Ja=mt.prototype=new ot;Ja.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new mt(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mt(u,u,u)},Ja.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mt(n*this.r,n*this.g,n*this.b)},Ja.hsl=function(){return _t(this.r,this.g,this.b)},Ja.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var Ga=ta.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ga.forEach(function(n,t){Ga.set(n,yt(t))}),ta.functor=Et,ta.xhr=At(y),ta.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var o=Nt(n,t,null==e?r:u(e),i);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:u(n)):e},o}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(s>=l)return o;if(u)return u=!1,i;var t=s;if(34===n.charCodeAt(t)){for(var e=t;e++<l;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}s=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++s):10===r&&(u=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;l>s;){var r=n.charCodeAt(s++),a=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(s)&&(++s,++a);else if(r!==c)continue;return n.slice(t,s-a)}return n.slice(t)}for(var r,u,i={},o={},a=[],l=n.length,s=0,f=0;(r=e())!==o;){for(var h=[];r!==i&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,f++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new m,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(o).join(n)].concat(t.map(function(t){return u.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},ta.csv=ta.dsv(",","text/csv"),ta.tsv=ta.dsv("	","text/tab-separated-values");var Ka,Qa,nc,tc,ec,rc=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ta.timer=function(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,f:!1,n:null};Qa?Qa.n=i:Ka=i,Qa=i,nc||(tc=clearTimeout(tc),nc=1,rc(qt))},ta.timer.flush=function(){Lt(),Tt()},ta.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var uc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Dt);ta.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=ta.round(n,Rt(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),uc[8+e/3]};var ic=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,oc=ta.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ta.round(n,Rt(n,t))).toFixed(Math.max(0,Math.min(20,Rt(n*(1+1e-15),t))))}}),ac=ta.time={},cc=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){lc.setUTCDate.apply(this._,arguments)},setDay:function(){lc.setUTCDay.apply(this._,arguments)},setFullYear:function(){lc.setUTCFullYear.apply(this._,arguments)},setHours:function(){lc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){lc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){lc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){lc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){lc.setUTCSeconds.apply(this._,arguments)},setTime:function(){lc.setTime.apply(this._,arguments)}};var lc=Date.prototype;ac.year=Ft(function(n){return n=ac.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ac.years=ac.year.range,ac.years.utc=ac.year.utc.range,ac.day=Ft(function(n){var t=new cc(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ac.days=ac.day.range,ac.days.utc=ac.day.utc.range,ac.dayOfYear=function(n){var t=ac.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=ac[n]=Ft(function(n){return(n=ac.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ac.year(n).getDay();return Math.floor((ac.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ac[n+"s"]=e.range,ac[n+"s"].utc=e.utc.range,ac[n+"OfYear"]=function(n){var e=ac.year(n).getDay();return Math.floor((ac.dayOfYear(n)+(e+t)%7)/7)}}),ac.week=ac.sunday,ac.weeks=ac.sunday.range,ac.weeks.utc=ac.sunday.utc.range,ac.weekOfYear=ac.sundayOfYear;var sc={"-":"",_:" ",0:"0"},fc=/^\s*\d+/,hc=/^%/;ta.locale=function(n){return{numberFormat:Pt(n),timeFormat:Ot(n)}};var gc=ta.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ta.format=gc.numberFormat,ta.geo={},ce.prototype={s:0,t:0,add:function(n){le(n,this.t,pc),le(pc.s,this.s,this),this.s?this.t+=pc.t:this.s=pc.t
},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pc=new ce;ta.geo.stream=function(n,t){n&&vc.hasOwnProperty(n.type)?vc[n.type](n,t):se(n,t)};var vc={Feature:function(n,t){se(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)se(e[r].geometry,t)}},dc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){fe(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)fe(e[r],t,0)},Polygon:function(n,t){he(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)he(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)se(e[r],t)}};ta.geo.area=function(n){return mc=0,ta.geo.stream(n,Mc),mc};var mc,yc=new ce,Mc={sphere:function(){mc+=4*qa},point:b,lineStart:b,lineEnd:b,polygonStart:function(){yc.reset(),Mc.lineStart=ge},polygonEnd:function(){var n=2*yc;mc+=0>n?4*qa+n:n,Mc.lineStart=Mc.lineEnd=Mc.point=b}};ta.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=pe([t*Da,e*Da]);if(m){var u=de(m,r),i=[u[1],-u[0],0],o=de(i,u);Me(o),o=xe(o);var c=t-p,l=c>0?1:-1,v=o[0]*Pa*l,d=ga(c)>180;if(d^(v>l*p&&l*t>v)){var y=o[1]*Pa;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>l*p&&l*t>v)){var y=-o[1]*Pa;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t)}else n(t,e);m=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=ga(r)>180?r+(r>0?360:-360):r}else v=n,d=e;Mc.point(n,e),t(n,e)}function i(){Mc.lineStart()}function o(){u(v,d),Mc.lineEnd(),ga(y)>Ca&&(s=-(h=180)),x[0]=s,x[1]=h,m=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,v,d,m,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=u,b.lineStart=i,b.lineEnd=o,y=0,Mc.polygonStart()},polygonEnd:function(){Mc.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>yc?(s=-(h=180),f=-(g=90)):y>Ca?g=90:-Ca>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],ta.geo.stream(n,b);var t=M.length;if(t){M.sort(c);for(var e,r=1,u=M[0],i=[u];t>r;++r)e=M[r],l(e[0],u)||l(e[1],u)?(a(u[0],e[1])>a(u[0],u[1])&&(u[1]=e[1]),a(e[0],u[1])>a(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(var o,e,p=-1/0,t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(o=a(u[1],e[0]))>p&&(p=o,s=e[0],h=u[1])}return M=x=null,1/0===s||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[s,f],[h,g]]}}(),ta.geo.centroid=function(n){xc=bc=_c=wc=Sc=kc=Ec=Ac=Nc=Cc=zc=0,ta.geo.stream(n,qc);var t=Nc,e=Cc,r=zc,u=t*t+e*e+r*r;return za>u&&(t=kc,e=Ec,r=Ac,Ca>bc&&(t=_c,e=wc,r=Sc),u=t*t+e*e+r*r,za>u)?[0/0,0/0]:[Math.atan2(e,t)*Pa,tt(r/Math.sqrt(u))*Pa]};var xc,bc,_c,wc,Sc,kc,Ec,Ac,Nc,Cc,zc,qc={sphere:b,point:_e,lineStart:Se,lineEnd:ke,polygonStart:function(){qc.lineStart=Ee},polygonEnd:function(){qc.lineStart=Se}},Lc=Le(Ne,Pe,je,[-qa,-qa/2]),Tc=1e9;ta.geo.clipExtent=function(){var n,t,e,r,u,i,o={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(a){return arguments.length?(i=Ie(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&&(u.valid=!1,u=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ta.geo.conicEqualArea=function(){return Ye(Ze)}).raw=Ze,ta.geo.albers=function(){return ta.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ta.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,e(i,o),t||(r(i,o),t)||u(i,o),t}var t,e,r,u,i=ta.geo.albers(),o=ta.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ta.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?o:u>=.166&&.234>u&&r>=-.214&&-.115>r?a:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var l=i.scale(),s=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[s-.455*l,f-.238*l],[s+.455*l,f+.238*l]]).stream(c).point,r=o.translate([s-.307*l,f+.201*l]).clipExtent([[s-.425*l+Ca,f+.12*l+Ca],[s-.214*l-Ca,f+.234*l-Ca]]).stream(c).point,u=a.translate([s-.205*l,f+.212*l]).clipExtent([[s-.214*l+Ca,f+.166*l+Ca],[s-.115*l-Ca,f+.234*l-Ca]]).stream(c).point,n},n.scale(1070)};var Rc,Dc,Pc,Uc,jc,Fc,Hc={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Dc=0,Hc.lineStart=Ve},polygonEnd:function(){Hc.lineStart=Hc.lineEnd=Hc.point=b,Rc+=ga(Dc/2)}},Oc={point:Xe,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Ic={point:We,lineStart:Je,lineEnd:Ge,polygonStart:function(){Ic.lineStart=Ke},polygonEnd:function(){Ic.point=We,Ic.lineStart=Je,Ic.lineEnd=Ge}};ta.geo.path=function(){function n(n){return n&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=u(i)),ta.geo.stream(n,o)),i.result()}function t(){return o=null,n}var e,r,u,i,o,a=4.5;return n.area=function(n){return Rc=0,ta.geo.stream(n,u(Hc)),Rc},n.centroid=function(n){return _c=wc=Sc=kc=Ec=Ac=Nc=Cc=zc=0,ta.geo.stream(n,u(Ic)),zc?[Nc/zc,Cc/zc]:Ac?[kc/Ac,Ec/Ac]:Sc?[_c/Sc,wc/Sc]:[0/0,0/0]},n.bounds=function(n){return jc=Fc=-(Pc=Uc=1/0),ta.geo.stream(n,u(Oc)),[[Pc,Uc],[jc,Fc]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||tr(n):y,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new $e:new Qe(n),"function"!=typeof a&&i.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),n):a},n.projection(ta.geo.albersUsa()).context(null)},ta.geo.transform=function(n){return{stream:function(t){var e=new er(t);for(var r in n)e[r]=n[r];return e}}},er.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ta.geo.projection=ur,ta.geo.projectionMutator=ir,(ta.geo.equirectangular=function(){return ur(ar)}).raw=ar.invert=ar,ta.geo.rotation=function(n){function t(t){return t=n(t[0]*Da,t[1]*Da),t[0]*=Pa,t[1]*=Pa,t}return n=lr(n[0]%360*Da,n[1]*Da,n.length>2?n[2]*Da:0),t.invert=function(t){return t=n.invert(t[0]*Da,t[1]*Da),t[0]*=Pa,t[1]*=Pa,t},t},cr.invert=ar,ta.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=lr(-n[0]*Da,-n[1]*Da,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Pa,n[1]*=Pa}}),{type:"Polygon",coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=gr((t=+r)*Da,u*Da),n):t},n.precision=function(r){return arguments.length?(e=gr(t*Da,(u=+r)*Da),n):u},n.angle(90)},ta.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Da,u=n[1]*Da,i=t[1]*Da,o=Math.sin(r),a=Math.cos(r),c=Math.sin(u),l=Math.cos(u),s=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*o)*e+(e=l*s-c*f*a)*e),c*s+l*f*a)},ta.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ta.range(Math.ceil(i/d)*d,u,d).map(h).concat(ta.range(Math.ceil(l/m)*m,c,m).map(g)).concat(ta.range(Math.ceil(r/p)*p,e,p).filter(function(n){return ga(n%d)>Ca}).map(s)).concat(ta.range(Math.ceil(a/v)*v,o,v).filter(function(n){return ga(n%m)>Ca}).map(f))}var e,r,u,i,o,a,c,l,s,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],l=+t[0][1],c=+t[1][1],i>u&&(t=i,i=u,u=t),l>c&&(t=l,l=c,c=t),n.precision(y)):[[i,l],[u,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(y)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,s=vr(a,o,90),f=dr(r,e,y),h=vr(l,c,90),g=dr(i,u,y),n):y},n.majorExtent([[-180,-90+Ca],[180,90-Ca]]).minorExtent([[-180,-80-Ca],[180,80+Ca]])},ta.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=mr,u=yr;return n.distance=function(){return ta.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},ta.geo.interpolate=function(n,t){return Mr(n[0]*Da,n[1]*Da,t[0]*Da,t[1]*Da)},ta.geo.length=function(n){return Yc=0,ta.geo.stream(n,Zc),Yc};var Yc,Zc={sphere:b,point:b,lineStart:xr,lineEnd:b,polygonStart:b,polygonEnd:b},Vc=br(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ta.geo.azimuthalEqualArea=function(){return ur(Vc)}).raw=Vc;var Xc=br(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},y);(ta.geo.azimuthalEquidistant=function(){return ur(Xc)}).raw=Xc,(ta.geo.conicConformal=function(){return Ye(_r)}).raw=_r,(ta.geo.conicEquidistant=function(){return Ye(wr)}).raw=wr;var $c=br(function(n){return 1/n},Math.atan);(ta.geo.gnomonic=function(){return ur($c)}).raw=$c,Sr.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Ra]},(ta.geo.mercator=function(){return kr(Sr)}).raw=Sr;var Bc=br(function(){return 1},Math.asin);(ta.geo.orthographic=function(){return ur(Bc)}).raw=Bc;var Wc=br(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ta.geo.stereographic=function(){return ur(Wc)}).raw=Wc,Er.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Ra]},(ta.geo.transverseMercator=function(){var n=kr(Er),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Er,ta.geom={},ta.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,u=Et(e),i=Et(r),o=n.length,a=[],c=[];for(t=0;o>t;t++)a.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(a.sort(zr),t=0;o>t;t++)c.push([a[t][0],-a[t][1]]);var l=Cr(a),s=Cr(c),f=s[0]===l[0],h=s[s.length-1]===l[l.length-1],g=[];for(t=l.length-1;t>=0;--t)g.push(n[a[l[t]][2]]);for(t=+f;t<s.length-h;++t)g.push(n[a[s[t]][2]]);return g}var e=Ar,r=Nr;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ta.geom.polygon=function(n){return ya(n,Jc),n};var Jc=ta.geom.polygon.prototype=[];Jc.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},Jc.centroid=function(n){var t,e,r=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],i+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[i*n,o*n]},Jc.clip=function(n){for(var t,e,r,u,i,o,a=Tr(n),c=-1,l=this.length-Tr(this),s=this[l-1];++c<l;){for(t=n.slice(),n.length=0,u=this[c],i=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],qr(o,s,u)?(qr(i,s,u)||n.push(Lr(i,o,s,u)),n.push(o)):qr(i,s,u)&&n.push(Lr(i,o,s,u)),i=o;a&&n.push(n[0]),s=u}return n};var Gc,Kc,Qc,nl,tl,el=[],rl=[];Or.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Yr),t.length},Qr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nu.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=uu(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(eu(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ru(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(ru(this,e),n=e,e=n.U),e.C=!1,r.C=!0,eu(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,o=n.R;if(e=i?o?uu(o):i:o,u?u.L===n?u.L=e:u.R=e:this._=e,i&&o?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==o?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=o,o.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,eu(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ru(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,eu(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,ru(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,eu(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,ru(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},ta.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return iu(e(n),a).cells.forEach(function(e,a){var c=e.edges,l=e.site,s=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=r&&l.x<=i&&l.y>=u&&l.y<=o?[[r,o],[i,o],[i,u],[r,u]]:[];s.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Ca)*Ca,y:Math.round(o(n,t)/Ca)*Ca,i:t}})}var r=Ar,u=Nr,i=r,o=u,a=ul;return n?t(n):(t.links=function(n){return iu(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return iu(e(n)).cells.forEach(function(e,r){for(var u,i,o=e.site,a=e.edges.sort(Yr),c=-1,l=a.length,s=a[l-1].edge,f=s.l===o?s.r:s.l;++c<l;)u=s,i=f,s=a[c].edge,f=s.l===o?s.r:s.l,r<i.i&&r<f.i&&au(o,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=Et(r=n),t):r},t.y=function(n){return arguments.length?(o=Et(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?ul:n,t):a===ul?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===ul?null:a&&a[1]},t)};var ul=[[-1e6,-1e6],[1e6,1e6]];ta.geom.delaunay=function(n){return ta.geom.voronoi().triangles(n)},ta.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,s=n.y;if(null!=c)if(ga(c-e)+ga(s-r)<.01)l(n,t,e,r,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,l(n,f,c,s,u,i,o,a),l(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else l(n,t,e,r,u,i,o,a)}function l(n,t,e,r,u,o,a,c){var l=.5*(u+a),s=.5*(o+c),f=e>=l,h=r>=s,g=h<<1|f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=su()),f?u=l:a=l,h?o=s:c=s,i(n,t,e,r,u,o,a,c)}var s,f,h,g,p,v,d,m,y,M=Et(a),x=Et(c);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,o)for(g=0;p>g;++g)s=n[g],s.x<v&&(v=s.x),s.y<d&&(d=s.y),s.x>m&&(m=s.x),s.y>y&&(y=s.y),f.push(s.x),h.push(s.y);else for(g=0;p>g;++g){var b=+M(s=n[g],g),_=+x(s,g);v>b&&(v=b),d>_&&(d=_),b>m&&(m=b),_>y&&(y=_),f.push(b),h.push(_)}var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=su();if(k.add=function(n){i(k,n,+M(n,++g),+x(n,g),v,d,m,y)},k.visit=function(n){fu(n,k,v,d,m,y)},k.find=function(n){return hu(k,n[0],n[1],v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=s=null,k}var o,a=Ar,c=Nr;return(o=arguments.length)?(a=cu,c=lu,3===o&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(a=n,i):a},i.y=function(n){return arguments.length?(c=n,i):c},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},ta.interpolateRgb=gu,ta.interpolateObject=pu,ta.interpolateNumber=vu,ta.interpolateString=du;var il=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ol=new RegExp(il.source,"g");ta.interpolate=mu,ta.interpolators=[function(n,t){var e=typeof t;return("string"===e?Ga.has(t)||/^(#|rgb\(|hsl\()/.test(t)?gu:du:t instanceof ot?gu:Array.isArray(t)?yu:"object"===e&&isNaN(t)?pu:vu)(n,t)}],ta.interpolateArray=yu;var al=function(){return y},cl=ta.map({linear:al,poly:ku,quad:function(){return _u},cubic:function(){return wu},sin:function(){return Eu},exp:function(){return Au},circle:function(){return Nu},elastic:Cu,back:zu,bounce:function(){return qu}}),ll=ta.map({"in":y,out:xu,"in-out":bu,"out-in":function(n){return bu(xu(n))}});ta.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=cl.get(e)||al,r=ll.get(r)||y,Mu(r(e.apply(null,ea.call(arguments,1))))},ta.interpolateHcl=Lu,ta.interpolateHsl=Tu,ta.interpolateLab=Ru,ta.interpolateRound=Du,ta.transform=function(n){var t=ua.createElementNS(ta.ns.prefix.svg,"g");return(ta.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Pu(e?e.matrix:sl)})(n)},Pu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var sl={a:1,b:0,c:0,d:1,e:0,f:0};ta.interpolateTransform=Hu,ta.layout={},ta.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Yu(n[e]));return t}},ta.layout.chord=function(){function n(){var n,l,f,h,g,p={},v=[],d=ta.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(l=0,g=-1;++g<i;)l+=u[h][g];v.push(l),m.push(ta.range(i)),n+=l}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&m.forEach(function(n,t){n.sort(function(n,e){return a(u[t][n],u[t][e])})}),n=(La-s*i)/n,l=0,h=-1;++h<i;){for(f=l,g=-1;++g<i;){var y=d[h],M=m[y][g],x=u[y][M],b=l,_=l+=x*n;p[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/n},l+=s}for(h=-1;++h<i;)for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,o,a,c,l={},s=0;return l.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,l):u},l.padding=function(n){return arguments.length?(s=n,e=r=null,l):s},l.sortGroups=function(n){return arguments.length?(o=n,e=r=null,l):o},l.sortSubgroups=function(n){return arguments.length?(a=n,e=null,l):a},l.sortChords=function(n){return arguments.length?(c=n,e&&t(),l):c},l.chords=function(){return e||n(),e},l.groups=function(){return r||n(),r},l},ta.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=u-e,c=i*i+o*o;if(c>a*a/d){if(p>c){var l=t.charge/c;n.px-=i*l,n.py-=o*l}return!0}if(t.point&&c&&p>c){var l=t.pointCharge/c;n.px-=i*l,n.py-=o*l}}return!t.charge}}function t(n){n.px=ta.event.x,n.py=ta.event.y,a.resume()}var e,r,u,i,o,a={},c=ta.dispatch("start","tick","end"),l=[1,1],s=.9,f=fl,h=hl,g=-30,p=gl,v=.1,d=.64,m=[],M=[];return a.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,a,f,h,p,d,y,x,b=m.length,_=M.length;for(e=0;_>e;++e)a=M[e],f=a.source,h=a.target,y=h.x-f.x,x=h.y-f.y,(p=y*y+x*x)&&(p=r*i[e]*((p=Math.sqrt(p))-u[e])/p,y*=p,x*=p,h.x-=y*(d=f.weight/(h.weight+f.weight)),h.y-=x*d,f.x+=y*(d=1-d),f.y+=x*d);if((d=r*v)&&(y=l[0]/2,x=l[1]/2,e=-1,d))for(;++e<b;)a=m[e],a.x+=(y-a.x)*d,a.y+=(x-a.y)*d;if(g)for(Ju(t=ta.geom.quadtree(m),r,o),e=-1;++e<b;)(a=m[e]).fixed||t.visit(n(a));for(e=-1;++e<b;)a=m[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*s,a.y-=(a.py-(a.py=a.y))*s);c.tick({type:"tick",alpha:r})},a.nodes=function(n){return arguments.length?(m=n,a):m},a.links=function(n){return arguments.length?(M=n,a):M},a.size=function(n){return arguments.length?(l=n,a):l},a.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,a):f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(s=+n,a):s},a.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,a):g},a.chargeDistance=function(n){return arguments.length?(p=n*n,a):Math.sqrt(p)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),ta.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;c>a;++a)e[a]=[];for(a=0;s>a;++a){var u=M[a];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var i,o=e[t],a=-1,l=o.length;++a<l;)if(!isNaN(i=o[a][n]))return i;return Math.random()*r}var t,e,r,c=m.length,s=M.length,p=l[0],v=l[1];for(t=0;c>t;++t)(r=m[t]).index=t,r.weight=0;for(t=0;s>t;++t)r=M[t],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(t=0;c>t;++t)r=m[t],isNaN(r.x)&&(r.x=n("x",p)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof f)for(t=0;s>t;++t)u[t]=+f.call(this,M[t],t);else for(t=0;s>t;++t)u[t]=f;if(i=[],"function"==typeof h)for(t=0;s>t;++t)i[t]=+h.call(this,M[t],t);else for(t=0;s>t;++t)i[t]=h;if(o=[],"function"==typeof g)for(t=0;c>t;++t)o[t]=+g.call(this,m[t],t);else for(t=0;c>t;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=ta.behavior.drag().origin(y).on("dragstart.force",Xu).on("drag.force",t).on("dragend.force",$u)),arguments.length?void this.on("mouseover.force",Bu).on("mouseout.force",Wu).call(e):e},ta.rebind(a,c,"on")};var fl=20,hl=1,gl=1/0;ta.layout.hierarchy=function(){function n(u){var i,o=[u],a=[];for(u.depth=0;null!=(i=o.pop());)if(a.push(i),(l=e.call(n,i,i.depth))&&(c=l.length)){for(var c,l,s;--c>=0;)o.push(s=l[c]),s.parent=i,s.depth=i.depth+1;r&&(i.value=0),i.children=l}else r&&(i.value=+r.call(n,i,i.depth)||0),delete i.children;return Qu(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),a}var t=ei,e=ni,r=ti;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(Ku(t,function(n){n.children&&(n.value=0)}),Qu(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ta.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(o=i.length)){var o,a,c,l=-1;for(r=t.value?r/t.value:0;++l<o;)n(a=i[l],e,c=a.value*r,u),e+=c}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}var r=ta.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},Gu(e,r)},ta.layout.pie=function(){function n(o){var a,c=o.length,l=o.map(function(e,r){return+t.call(n,e,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof u?u.apply(this,arguments):u)-s,h=Math.min(Math.abs(f)/c,+("function"==typeof i?i.apply(this,arguments):i)),g=h*(0>f?-1:1),p=(f-c*g)/ta.sum(l),v=ta.range(c),d=[];return null!=e&&v.sort(e===pl?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])}),v.forEach(function(n){d[n]={data:o[n],value:a=l[n],startAngle:s,endAngle:s+=a*p+g,padAngle:h}}),d}var t=Number,e=pl,r=0,u=La,i=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n.padAngle=function(t){return arguments.length?(i=t,n):i},n};var pl={};ta.layout.stack=function(){function n(a,c){if(!(h=a.length))return a;var l=a.map(function(e,r){return t.call(n,e,r)}),s=l.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,s,c);l=ta.permute(l,f),s=ta.permute(s,f);var h,g,p,v,d=r.call(n,s,c),m=l[0].length;for(p=0;m>p;++p)for(u.call(n,l[0][p],v=d[p],s[0][p][1]),g=1;h>g;++g)u.call(n,l[g][p],v+=s[g-1][p][1],s[g][p][1]);return a}var t=y,e=ai,r=ci,u=oi,i=ui,o=ii;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:vl.get(t)||ai,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:dl.get(t)||ci,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};var vl=ta.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(li),i=n.map(si),o=ta.range(r).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,l=[],s=[];for(t=0;r>t;++t)e=o[t],c>a?(a+=i[e],l.push(e)):(c+=i[e],s.push(e));return s.reverse().concat(l)},reverse:function(n){return ta.range(n.length).reverse()},"default":ai}),dl=ta.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,o=[],a=0,c=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;i>e;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,u,i,o,a,c,l,s=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=l=0,e=1;h>e;++e){for(t=0,u=0;s>t;++t)u+=n[t][e][1];for(t=0,i=0,a=f[e][0]-f[e-1][0];s>t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t>r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;i+=o*n[t][e][1]}g[e]=c-=u?i/u*a:0,l>c&&(l=c)}for(e=0;h>e;++e)g[e]-=l;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,o=1/u,a=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=o}for(e=0;i>e;++e)a[e]=0;return a},zero:ci});ta.layout.histogram=function(){function n(n,i){for(var o,a,c=[],l=n.map(e,this),s=r.call(this,l,i),f=u.call(this,s,l,i),i=-1,h=l.length,g=f.length-1,p=t?1:1/h;++i<g;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g>0)for(i=-1;++i<h;)a=l[i],a>=s[0]&&a<=s[1]&&(o=c[ta.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}var t=!0,e=Number,r=pi,u=hi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=Et(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return gi(n,t)}:Et(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ta.layout.pack=function(){function n(n,i){var o=e.call(this,n,i),a=o[0],c=u[0],l=u[1],s=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Qu(a,function(n){n.r=+s(n.value)}),Qu(a,Mi),r){var f=r*(t?1:Math.max(2*a.r/c,2*a.r/l))/2;Qu(a,function(n){n.r+=f}),Qu(a,Mi),Qu(a,function(n){n.r-=f})}return _i(a,c/2,l/2,t?1:1/Math.max(2*a.r/c,2*a.r/l)),o}var t,e=ta.layout.hierarchy().sort(vi),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Gu(n,e)},ta.layout.tree=function(){function n(n,u){var s=o.call(this,n,u),f=s[0],h=t(f);if(Qu(h,e),h.parent.m=-h.z,Ku(h,r),l)Ku(f,i);else{var g=f,p=f,v=f;Ku(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=a(g,p)/2-g.x,m=c[0]/(p.x+a(p,g)/2+d),y=c[1]/(v.depth||1);Ku(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return s}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var u,i=t.children,o=0,a=i.length;a>o;++o)r.push((i[o]=u={_:i[o],parent:t,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Ni(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+a(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r,u=n,i=n,o=t,c=u.parent.children[0],l=u.m,s=i.m,f=o.m,h=c.m;o=Ei(o),u=ki(u),o&&u;)c=ki(c),i=Ei(i),i.a=n,r=o.z+f-u.z-l+a(o._,u._),r>0&&(Ai(Ci(o,n,e),n,r),l+=r,s+=r),f+=o.m,l+=u.m,h+=c.m,s+=i.m;o&&!Ei(i)&&(i.t=o,i.m+=f-s),u&&!ki(c)&&(c.t=u,c.m+=l-h,e=n)}return e}function i(n){n.x*=c[0],n.y=n.depth*c[1]}var o=ta.layout.hierarchy().sort(null).value(null),a=Si,c=[1,1],l=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(l=null==(c=t)?i:null,n):l?null:c},n.nodeSize=function(t){return arguments.length?(l=null==(c=t)?null:i,n):l?c:null},Gu(n,o)},ta.layout.cluster=function(){function n(n,i){var o,a=t.call(this,n,i),c=a[0],l=0;Qu(c,function(n){var t=n.children;t&&t.length?(n.x=qi(t),n.y=zi(t)):(n.x=o?l+=e(n,o):0,n.y=0,o=n)});var s=Li(c),f=Ti(c),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return Qu(c,u?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=ta.layout.hierarchy().sort(null).value(null),e=Si,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},Gu(n,t)},ta.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var i=e.children;if(i&&i.length){var o,a,c,l=f(e),s=[],h=i.slice(),p=1/0,v="slice"===g?l.dx:"dice"===g?l.dy:"slice-dice"===g?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(n(h,l.dx*l.dy/e.value),s.area=0;(c=h.length)>0;)s.push(o=h[c-1]),s.area+=o.area,"squarify"!==g||(a=r(s,v))<=p?(h.pop(),p=a):(s.area-=s.pop().area,u(s,v,l,!1),v=Math.min(l.dx,l.dy),s.length=s.area=0,p=1/0);s.length&&(u(s,v,l,!0),s.length=s.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,o=f(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;i=a.pop();)c.push(i),c.area+=i.area,null!=i.z&&(u(c,i.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,o=n.length,a=e.x,l=e.y,s=t?c(n.area/t):0;if(t==e.dx){for((r||s>e.dy)&&(s=e.dy);++i<o;)u=n[i],u.x=a,u.y=l,u.dy=s,a+=u.dx=Math.min(e.x+e.dx-a,s?c(u.area/s):0);u.z=!0,u.dx+=e.x+e.dx-a,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);++i<o;)u=n[i],u.x=a,u.y=l,u.dx=s,l+=u.dy=Math.min(e.y+e.dy-l,s?c(u.area/s):0);u.z=!1,u.dy+=e.y+e.dy-l,e.x+=s,e.dx-=s}}function i(r){var u=o||a(r),i=u[0];return i.x=0,i.y=0,i.dx=l[0],i.dy=l[1],o&&a.revalue(i),n([i],i.dx*i.dy/i.value),(o?e:t)(i),h&&(o=u),u}var o,a=ta.layout.hierarchy(),c=Math.round,l=[1,1],s=null,f=Ri,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));
return i.size=function(n){return arguments.length?(l=n,i):l},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ri(t):Di(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Di(t,n)}if(!arguments.length)return s;var r;return f=null==(s=n)?Ri:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(c=n?Math.round:Number,i):c!=Number},i.sticky=function(n){return arguments.length?(h=n,o=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},Gu(i,a)},ta.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=ta.random.normal.apply(ta,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ta.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},ta.scale={};var ml={floor:y,ceil:y};ta.scale.linear=function(){return Ii([0,1],[0,1],mu,!1)};var yl={s:1,g:1,p:1,r:1,e:1};ta.scale.log=function(){return Ji(ta.scale.linear().domain([0,1]),10,!0,[1,10])};var Ml=ta.format(".0e"),xl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ta.scale.pow=function(){return Gi(ta.scale.linear(),1,[0,1])},ta.scale.sqrt=function(){return ta.scale.pow().exponent(.5)},ta.scale.ordinal=function(){return Qi([],{t:"range",a:[[]]})},ta.scale.category10=function(){return ta.scale.ordinal().range(bl)},ta.scale.category20=function(){return ta.scale.ordinal().range(_l)},ta.scale.category20b=function(){return ta.scale.ordinal().range(wl)},ta.scale.category20c=function(){return ta.scale.ordinal().range(Sl)};var bl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mt),_l=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mt),wl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mt),Sl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mt);ta.scale.quantile=function(){return no([],[])},ta.scale.quantize=function(){return to(0,1,[0,1])},ta.scale.threshold=function(){return eo([.5],[0,1])},ta.scale.identity=function(){return ro([0,1])},ta.svg={},ta.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),s=o.apply(this,arguments)-Ra,f=a.apply(this,arguments)-Ra,h=Math.abs(f-s),g=s>f?0:1;if(n>l&&(p=l,l=n,n=p),h>=Ta)return t(l,g)+(n?t(n,1-g):"")+"Z";var p,v,d,m,y,M,x,b,_,w,S,k,E=0,A=0,N=[];if((m=(+c.apply(this,arguments)||0)/2)&&(d=i===kl?Math.sqrt(n*n+l*l):+i.apply(this,arguments),g||(A*=-1),l&&(A=tt(d/l*Math.sin(m))),n&&(E=tt(d/n*Math.sin(m)))),l){y=l*Math.cos(s+A),M=l*Math.sin(s+A),x=l*Math.cos(f-A),b=l*Math.sin(f-A);var C=Math.abs(f-s-2*A)<=qa?0:1;if(A&&so(y,M,x,b)===g^C){var z=(s+f)/2;y=l*Math.cos(z),M=l*Math.sin(z),x=b=null}}else y=M=0;if(n){_=n*Math.cos(f-E),w=n*Math.sin(f-E),S=n*Math.cos(s+E),k=n*Math.sin(s+E);var q=Math.abs(s-f+2*E)<=qa?0:1;if(E&&so(_,w,S,k)===1-g^q){var L=(s+f)/2;_=n*Math.cos(L),w=n*Math.sin(L),S=k=null}}else _=w=0;if((p=Math.min(Math.abs(l-n)/2,+u.apply(this,arguments)))>.001){v=l>n^g?0:1;var T=null==S?[_,w]:null==x?[y,M]:Lr([y,M],[S,k],[x,b],[_,w]),R=y-T[0],D=M-T[1],P=x-T[0],U=b-T[1],j=1/Math.sin(Math.acos((R*P+D*U)/(Math.sqrt(R*R+D*D)*Math.sqrt(P*P+U*U)))/2),F=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(null!=x){var H=Math.min(p,(l-F)/(j+1)),O=fo(null==S?[_,w]:[S,k],[y,M],l,H,g),I=fo([x,b],[_,w],l,H,g);p===H?N.push("M",O[0],"A",H,",",H," 0 0,",v," ",O[1],"A",l,",",l," 0 ",1-g^so(O[1][0],O[1][1],I[1][0],I[1][1]),",",g," ",I[1],"A",H,",",H," 0 0,",v," ",I[0]):N.push("M",O[0],"A",H,",",H," 0 1,",v," ",I[0])}else N.push("M",y,",",M);if(null!=S){var Y=Math.min(p,(n-F)/(j-1)),Z=fo([y,M],[S,k],n,-Y,g),V=fo([_,w],null==x?[y,M]:[x,b],n,-Y,g);p===Y?N.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",V[1],"A",n,",",n," 0 ",g^so(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-g," ",Z[1],"A",Y,",",Y," 0 0,",v," ",Z[0]):N.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",Z[0])}else N.push("L",_,",",w)}else N.push("M",y,",",M),null!=x&&N.push("A",l,",",l," 0 ",C,",",g," ",x,",",b),N.push("L",_,",",w),null!=S&&N.push("A",n,",",n," 0 ",q,",",1-g," ",S,",",k);return N.push("Z"),N.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=io,r=oo,u=uo,i=kl,o=ao,a=co,c=lo;return n.innerRadius=function(t){return arguments.length?(e=Et(t),n):e},n.outerRadius=function(t){return arguments.length?(r=Et(t),n):r},n.cornerRadius=function(t){return arguments.length?(u=Et(t),n):u},n.padRadius=function(t){return arguments.length?(i=t==kl?kl:Et(t),n):i},n.startAngle=function(t){return arguments.length?(o=Et(t),n):o},n.endAngle=function(t){return arguments.length?(a=Et(t),n):a},n.padAngle=function(t){return arguments.length?(c=Et(t),n):c},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Ra;return[Math.cos(t)*n,Math.sin(t)*n]},n};var kl="auto";ta.svg.line=function(){return ho(y)};var El=ta.map({linear:go,"linear-closed":po,step:vo,"step-before":mo,"step-after":yo,basis:So,"basis-open":ko,"basis-closed":Eo,bundle:Ao,cardinal:bo,"cardinal-open":Mo,"cardinal-closed":xo,monotone:To});El.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Al=[0,2/3,1/3,0],Nl=[0,1/3,2/3,0],Cl=[0,1/6,2/3,1/6];ta.svg.line.radial=function(){var n=ho(Ro);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},mo.reverse=yo,yo.reverse=mo,ta.svg.area=function(){return Do(y)},ta.svg.area.radial=function(){var n=Do(Ro);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ta.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),l=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,l)?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+u(l.r,l.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=c.call(n,u,r)-Ra,s=l.call(n,u,r)-Ra;return{r:i,a0:o,a1:s,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>qa)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=mr,o=yr,a=Po,c=ao,l=co;return n.radius=function(t){return arguments.length?(a=Et(t),n):a},n.source=function(t){return arguments.length?(i=Et(t),n):i},n.target=function(t){return arguments.length?(o=Et(t),n):o},n.startAngle=function(t){return arguments.length?(c=Et(t),n):c},n.endAngle=function(t){return arguments.length?(l=Et(t),n):l},n},ta.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)/2,c=[i,{x:i.x,y:a},{x:o.x,y:a},o];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=mr,e=yr,r=Uo;return n.source=function(e){return arguments.length?(t=Et(e),n):t},n.target=function(t){return arguments.length?(e=Et(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ta.svg.diagonal.radial=function(){var n=ta.svg.diagonal(),t=Uo,e=n.projection;return n.projection=function(n){return arguments.length?e(jo(t=n)):t},n},ta.svg.symbol=function(){function n(n,r){return(zl.get(t.call(this,n,r))||Oo)(e.call(this,n,r))}var t=Ho,e=Fo;return n.type=function(e){return arguments.length?(t=Et(e),n):t},n.size=function(t){return arguments.length?(e=Et(t),n):e},n};var zl=ta.map({circle:Oo,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Ll)),e=t*Ll;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/ql),e=t*ql/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/ql),e=t*ql/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ta.svg.symbolTypes=zl.keys();var ql=Math.sqrt(3),Ll=Math.tan(30*Da);_a.transition=function(n){for(var t,e,r=Tl||++Ul,u=Xo(n),i=[],o=Rl||{time:Date.now(),ease:Su,delay:0,duration:250},a=-1,c=this.length;++a<c;){i.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(e=l[s])&&$o(e,s,u,r,o),t.push(e)}return Yo(i,u,r)},_a.interrupt=function(n){return this.each(null==n?Dl:Io(Xo(n)))};var Tl,Rl,Dl=Io(Xo()),Pl=[],Ul=0;Pl.call=_a.call,Pl.empty=_a.empty,Pl.node=_a.node,Pl.size=_a.size,ta.transition=function(n,t){return n&&n.transition?Tl?n.transition(t):n:ta.selection().transition(n)},ta.transition.prototype=Pl,Pl.select=function(n){var t,e,r,u=this.id,i=this.namespace,o=[];n=N(n);for(var a=-1,c=this.length;++a<c;){o.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(r=l[s])&&(e=n.call(r,r.__data__,s,a))?("__data__"in r&&(e.__data__=r.__data__),$o(e,s,i,u,r[i][u]),t.push(e)):t.push(null)}return Yo(o,i,u)},Pl.selectAll=function(n){var t,e,r,u,i,o=this.id,a=this.namespace,c=[];n=C(n);for(var l=-1,s=this.length;++l<s;)for(var f=this[l],h=-1,g=f.length;++h<g;)if(r=f[h]){i=r[a][o],e=n.call(r,r.__data__,h,l),c.push(t=[]);for(var p=-1,v=e.length;++p<v;)(u=e[p])&&$o(u,p,a,o,i),t.push(u)}return Yo(c,a,o)},Pl.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]);for(var e=this[i],a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return Yo(u,this.namespace,this.id)},Pl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(u){u[r][e].tween.set(n,t)})},Pl.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?Hu:mu,a=ta.ns.qualify(n);return Zo(this,"attr."+n,t,a.local?i:u)},Pl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=ta.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Pl.style=function(n,e,r){function u(){this.style.removeProperty(n)}function i(e){return null==e?u:(e+="",function(){var u,i=t(this).getComputedStyle(this,null).getPropertyValue(n);return i!==e&&(u=mu(i,e),function(t){this.style.setProperty(n,u(t),r)})})}var o=arguments.length;if(3>o){if("string"!=typeof n){2>o&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Zo(this,"style."+n,e,i)},Pl.styleTween=function(n,e,r){function u(u,i){var o=e.call(this,u,i,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,u)},Pl.text=function(n){return Zo(this,"text",n,Vo)},Pl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Pl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ta.ease.apply(ta,arguments)),Y(this,function(r){r[e][t].ease=n}))},Pl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,u,i){r[e][t].delay=+n.call(r,r.__data__,u,i)}:(n=+n,function(r){r[e][t].delay=n}))},Pl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,u,i){r[e][t].duration=Math.max(1,n.call(r,r.__data__,u,i))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Pl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var u=Rl,i=Tl;try{Tl=e,Y(this,function(t,u,i){Rl=t[r][e],n.call(t,t.__data__,u,i)})}finally{Rl=u,Tl=i}}else Y(this,function(u){var i=u[r][e];(i.event||(i.event=ta.dispatch("start","end","interrupt"))).on(n,t)});return this},Pl.transition=function(){for(var n,t,e,r,u=this.id,i=++Ul,o=this.namespace,a=[],c=0,l=this.length;l>c;c++){a.push(n=[]);for(var t=this[c],s=0,f=t.length;f>s;s++)(e=t[s])&&(r=e[o][u],$o(e,s,o,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Yo(a,o,i)},ta.svg.axis=function(){function n(n){n.each(function(){var n,l=ta.select(this),s=this.__chart__||e,f=this.__chart__=e.copy(),h=null==c?f.ticks?f.ticks.apply(f,a):f.domain():c,g=null==t?f.tickFormat?f.tickFormat.apply(f,a):y:t,p=l.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ca),d=ta.transition(p.exit()).style("opacity",Ca).remove(),m=ta.transition(p.order()).style("opacity",1),M=Math.max(u,0)+o,x=Ui(f),b=l.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ta.transition(b));v.append("line"),v.append("text");var w,S,k,E,A=v.select("line"),N=m.select("line"),C=p.select("text").text(g),z=v.select("text"),q=m.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=Bo,w="x",k="y",S="x2",E="y2",C.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+L*i+"V0H"+x[1]+"V"+L*i)):(n=Wo,w="y",k="x",S="y2",E="x2",C.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),_.attr("d","M"+L*i+","+x[0]+"H0V"+x[1]+"H"+L*i)),A.attr(E,L*u),z.attr(k,L*M),N.attr(S,0).attr(E,L*u),q.attr(w,0).attr(k,L*M),f.rangeBand){var T=f,R=T.rangeBand()/2;s=f=function(n){return T(n)+R}}else s.rangeBand?s=f:d.call(n,f,s);v.call(n,s,f),m.call(n,f,f)})}var t,e=ta.scale.linear(),r=jl,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Fl?t+"":jl,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var jl="bottom",Fl={top:1,right:1,bottom:1,left:1};ta.svg.brush=function(){function n(t){t.each(function(){var t=ta.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(v,y);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Hl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var c,f=ta.transition(t),h=ta.transition(o);l&&(c=Ui(l),h.attr("x",c[0]).attr("width",c[1]-c[0]),r(f)),s&&(c=Ui(s),h.attr("y",c[0]).attr("height",c[1]-c[0]),u(f)),e(f)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+f[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",f[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function u(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==ta.event.keyCode&&(C||(M=null,q[0]-=f[1],q[1]-=h[1],C=2),S())}function v(){32==ta.event.keyCode&&2==C&&(q[0]+=f[1],q[1]+=h[1],C=0,S())}function d(){var n=ta.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(ta.event.altKey?(M||(M=[(f[0]+f[1])/2,(h[0]+h[1])/2]),q[0]=f[+(n[0]<M[0])],q[1]=h[+(n[1]<M[1])]):M=null),A&&m(n,l,0)&&(r(k),t=!0),N&&m(n,s,1)&&(u(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function m(n,t,e){var r,u,i=Ui(t),c=i[0],l=i[1],s=q[e],v=e?h:f,d=v[1]-v[0];return C&&(c-=s,l-=d+s),r=(e?p:g)?Math.max(c,Math.min(l,n[e])):n[e],C?u=(r+=s)+d:(M&&(s=Math.max(c,Math.min(l,2*M[e]-r))),r>s?(u=r,r=s):u=s),v[0]!=r||v[1]!=u?(e?a=null:o=null,v[0]=r,v[1]=u,!0):void 0}function y(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ta.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=ta.select(ta.event.target),w=c.of(b,arguments),k=ta.select(b),E=_.datum(),A=!/^(n|s)$/.test(E)&&l,N=!/^(e|w)$/.test(E)&&s,C=_.classed("extent"),z=W(b),q=ta.mouse(b),L=ta.select(t(b)).on("keydown.brush",i).on("keyup.brush",v);if(ta.event.changedTouches?L.on("touchmove.brush",d).on("touchend.brush",y):L.on("mousemove.brush",d).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),C)q[0]=f[0]-q[0],q[1]=h[0]-q[1];else if(E){var T=+/w$/.test(E),R=+/^n/.test(E);x=[f[1-T]-q[0],h[1-R]-q[1]],q[0]=f[T],q[1]=h[R]}else ta.event.altKey&&(M=q.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),ta.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var o,a,c=E(n,"brushstart","brush","brushend"),l=null,s=null,f=[0,0],h=[0,0],g=!0,p=!0,v=Ol[0];return n.event=function(n){n.each(function(){var n=c.of(this,arguments),t={x:f,y:h,i:o,j:a},e=this.__chart__||t;this.__chart__=t,Tl?ta.select(this).transition().each("start.brush",function(){o=e.i,a=e.j,f=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=yu(f,t.x),r=yu(h,t.y);return o=a=null,function(u){f=t.x=e(u),h=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(l=t,v=Ol[!l<<1|!s],n):l},n.y=function(t){return arguments.length?(s=t,v=Ol[!l<<1|!s],n):s},n.clamp=function(t){return arguments.length?(l&&s?(g=!!t[0],p=!!t[1]):l?g=!!t:s&&(p=!!t),n):l&&s?[g,p]:l?g:s?p:null},n.extent=function(t){var e,r,u,i,c;return arguments.length?(l&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),o=[e,r],l.invert&&(e=l(e),r=l(r)),e>r&&(c=e,e=r,r=c),(e!=f[0]||r!=f[1])&&(f=[e,r])),s&&(u=t[0],i=t[1],l&&(u=u[1],i=i[1]),a=[u,i],s.invert&&(u=s(u),i=s(i)),u>i&&(c=u,u=i,i=c),(u!=h[0]||i!=h[1])&&(h=[u,i])),n):(l&&(o?(e=o[0],r=o[1]):(e=f[0],r=f[1],l.invert&&(e=l.invert(e),r=l.invert(r)),e>r&&(c=e,e=r,r=c))),s&&(a?(u=a[0],i=a[1]):(u=h[0],i=h[1],s.invert&&(u=s.invert(u),i=s.invert(i)),u>i&&(c=u,u=i,i=c))),l&&s?[[e,u],[r,i]]:l?[e,r]:s&&[u,i])},n.clear=function(){return n.empty()||(f=[0,0],h=[0,0],o=a=null),n},n.empty=function(){return!!l&&f[0]==f[1]||!!s&&h[0]==h[1]},ta.rebind(n,c,"on")};var Hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ol=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Il=ac.format=gc.timeFormat,Yl=Il.utc,Zl=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Il.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jo:Zl,Jo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Jo.toString=Zl.toString,ac.second=Ft(function(n){return new cc(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ac.seconds=ac.second.range,ac.seconds.utc=ac.second.utc.range,ac.minute=Ft(function(n){return new cc(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ac.minutes=ac.minute.range,ac.minutes.utc=ac.minute.utc.range,ac.hour=Ft(function(n){var t=n.getTimezoneOffset()/60;return new cc(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ac.hours=ac.hour.range,ac.hours.utc=ac.hour.utc.range,ac.month=Ft(function(n){return n=ac.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ac.months=ac.month.range,ac.months.utc=ac.month.utc.range;var Vl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xl=[[ac.second,1],[ac.second,5],[ac.second,15],[ac.second,30],[ac.minute,1],[ac.minute,5],[ac.minute,15],[ac.minute,30],[ac.hour,1],[ac.hour,3],[ac.hour,6],[ac.hour,12],[ac.day,1],[ac.day,2],[ac.week,1],[ac.month,1],[ac.month,3],[ac.year,1]],$l=Il.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",Ne]]),Bl={range:function(n,t,e){return ta.range(Math.ceil(n/e)*e,+t,e).map(Ko)},floor:y,ceil:y};Xl.year=ac.year,ac.scale=function(){return Go(ta.scale.linear(),Xl,$l)};var Wl=Xl.map(function(n){return[n[0].utc,n[1]]}),Jl=Yl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",Ne]]);Wl.year=ac.year.utc,ac.scale.utc=function(){return Go(ta.scale.linear(),Wl,Jl)},ta.text=At(function(n){return n.responseText}),ta.json=function(n,t){return Nt(n,"application/json",Qo,t)},ta.html=function(n,t){return Nt(n,"text/html",na,t)},ta.xml=At(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(ta):"object"==typeof module&&module.exports&&(module.exports=ta),this.d3=ta}();
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.vg=e()}}(function(){var e;return function t(e,n,r){function i(s,o){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){t.exports={version:"2.2.4",dataflow:e("vega-dataflow"),parse:e("./src/parse/"),scene:{Bounder:e("./src/scene/Bounder"),Builder:e("./src/scene/Builder"),Encoder:e("./src/scene/Encoder"),GroupBuilder:e("./src/scene/GroupBuilder")},transforms:e("./src/transforms"),schema:e("./src/core/schema"),config:e("./src/core/config"),util:e("datalib"),debug:e("vega-logging").debug}},{"./src/core/config":88,"./src/core/schema":89,"./src/parse/":95,"./src/scene/Bounder":107,"./src/scene/Builder":108,"./src/scene/Encoder":109,"./src/scene/GroupBuilder":110,"./src/transforms":139,datalib:24,"vega-dataflow":39,"vega-logging":45}],2:[function(e,t,n){},{}],3:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.dsv={})}(this,function(e){"use strict";var t=function(e){function t(e,t){var r;return n(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})}function n(e,t){function n(){if(c>=l)return s;if(i)return i=!1,a;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;l>c;){var r=e.charCodeAt(c++),o=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++o);else if(r!==u)continue;return e.slice(t,c-o)}return e.slice(t)}for(var r,i,a={},s={},o=[],l=e.length,c=0,d=0;(r=n())!==s;){for(var f=[];r!==a&&r!==s;)f.push(r),r=n();t&&null==(f=t(f,d++))||o.push(f)}return o}function r(t){if(Array.isArray(t[0]))return i(t);var n=Object.create(null),r=[];return t.forEach(function(e){for(var t in e)(t+="")in n||r.push(n[t]=t)}),[r.map(s).join(e)].concat(t.map(function(t){return r.map(function(e){return s(t[e])}).join(e)})).join("\n")}function i(e){return e.map(a).join("\n")}function a(t){return t.map(s).join(e)}function s(e){return o.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var o=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return{parse:t,parseRows:n,format:r,formatRows:i}};e.csv=t(","),e.tsv=t("	"),e.dsv=t})},{}],4:[function(t,n,r){"undefined"==typeof Map?(Map=function(){this.clear()},Map.prototype={set:function(e,t){return this._[e]=t,this},get:function(e){return this._[e]},has:function(e){return e in this._},"delete":function(e){return e in this._&&delete this._[e]},clear:function(){this._=Object.create(null)},get size(){var e=0;for(var t in this._)++e;return e},forEach:function(e){for(var t in this._)e(this._[t],t,this)}}):function(){var e=new Map;e.set(0,0)!==e&&(e=e.set,Map.prototype.set=function(){return e.apply(this,arguments),this})}(),function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.format={})}(this,function(e){"use strict";function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function n(e){return e=t(Math.abs(e)),e?e[1]:NaN}function r(e,n){var r=t(e,n);if(!r)return e+"";var i=r[0],a=r[1],s=a-(g=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+t(e,n+s-1)[0]}function i(e,n){var r=t(e,n);if(!r)return e+"";var i=r[0],a=r[1];return 0>a?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}function a(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,a=-1;r>i;++i)switch(e[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break e;default:a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e}function s(e){return new o(e)}function o(e){if(!(t=I.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",s=!!t[5],o=t[6]&&+t[6],u=!!t[7],l=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(u=!0,c="g"):P[c]||(c=""),(s||"0"===n&&"="===r)&&(s=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=s,this.width=o,this.comma=u,this.precision=l,this.type=c}function u(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function l(e){return e}function c(e){function t(e){e=s(e);var t=e.fill,n=e.align,r=e.sign,u=e.symbol,l=e.zero,c=e.width,d=e.comma,f=e.precision,h=e.type,p="$"===u?a[0]:"#"===u&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",m="$"===u?a[1]:/[%p]/.test(h)?"%":"",v=P[h],y=!h||/[defgprs%]/.test(h);return f=null==f?h?6:12:/[gprs]/.test(h)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),function(e){var a=p,s=m;if("c"===h)s=v(e)+s,e="";else{e=+e;var u=(0>e||0>1/e)&&(e*=-1,!0);if(e=v(e,f),a=(u?"("===r?r:"-":"-"===r||"("===r?"":r)+a,s=s+("s"===h?O[8+g/3]:"")+(u&&"("===r?")":""),y)for(var _,b=-1,x=e.length;++b<x;)if(_=e.charCodeAt(b),48>_||_>57){s=(46===_?o+e.slice(b+1):e.slice(b))+s,e=e.slice(0,b);break}}d&&!l&&(e=i(e,1/0));var w=a.length+e.length+s.length,k=c>w?new Array(c-w+1).join(t):"";switch(d&&l&&(e=i(k+e,k.length?c-s.length:1/0),k=""),n){case"<":return a+e+s+k;case"=":return a+k+e+s;case"^":return k.slice(0,w=k.length>>1)+a+e+s+k.slice(w)}return k+a+e+s}}function r(e,r){var i=t((e=s(e),e.type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(n(r)/3))),o=Math.pow(10,-a),u=O[8+a/3];return function(e){return i(o*e)+u}}var i=e.grouping&&e.thousands?u(e.grouping,e.thousands):l,a=e.currency,o=e.decimal;return{format:t,formatPrefix:r}}function d(e,t){return Math.max(0,n(Math.abs(t))-n(Math.abs(e)))+1}function f(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(t)/3)))-n(Math.abs(e)))}function h(e){return Math.max(0,-n(Math.abs(e)))}function p(e){return"string"!=typeof e||(e=U.get(e))?c(e):null}var g,m={decimal:".",thousands:",",grouping:[3],currency:["¥",""]},v={decimal:",",thousands:" ",grouping:[3],currency:[""," руб."]},y={decimal:",",thousands:".",grouping:[3],currency:["R$",""]},_={decimal:",",thousands:".",grouping:[3],currency:["","zł"]},b={decimal:",",thousands:".",grouping:[3],currency:["€ ",""]},x={decimal:",",thousands:".",grouping:[3],currency:[""," ден."]},w={decimal:",",thousands:".",grouping:[3],currency:["€",""]},k={decimal:".",thousands:",",grouping:[3],currency:["₪",""]},S={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},M={decimal:",",thousands:" ",grouping:[3],currency:["","$"]},T={decimal:",",thousands:" ",grouping:[3],currency:[""," €"]},A={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},E={decimal:".",thousands:",",grouping:[3],currency:["$",""]},L={decimal:".",thousands:",",grouping:[3],currency:["£",""]},C={decimal:".",thousands:",",grouping:[3],currency:["$",""]},D={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},N={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},P={"":a,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return i(100*e,t)},r:i,s:r,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},I=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var O=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],U=(new Map).set("ca-ES",N).set("de-DE",D).set("en-CA",C).set("en-GB",L).set("en-US",E).set("es-ES",A).set("fi-FI",T).set("fr-CA",M).set("fr-FR",S).set("he-IL",k).set("it-IT",w).set("mk-MK",x).set("nl-NL",b).set("pl-PL",_).set("pt-BR",y).set("ru-RU",v).set("zh-CN",m),z=c(E);e.format=z.format,e.formatPrefix=z.formatPrefix,e.localeFormat=p,e.formatSpecifier=s,e.precisionFixed=h,e.precisionPrefix=f,e.precisionRound=d})},{}],5:[function(t,n,r){"undefined"==typeof Map?(Map=function(){this.clear()},Map.prototype={set:function(e,t){return this._[e]=t,this},get:function(e){return this._[e]},has:function(e){return e in this._},"delete":function(e){return e in this._&&delete this._[e]},clear:function(){this._=Object.create(null)},get size(){var e=0;for(var t in this._)++e;return e},forEach:function(e){for(var t in this._)e(this._[t],t,this)}}):function(){var e=new Map;e.set(0,0)!==e&&(e=e.set,Map.prototype.set=function(){return e.apply(this,arguments),this})}(),function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.timeFormat={})}(this,function(e){"use strict";function t(e,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.round=function(t){var r=new Date(+t),i=new Date(t-1);return e(r),e(i),n(i,1),i-t>t-r?r:i},i.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},i.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},i.range=function(t,r,i){var a=[];if(t=new Date(t-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(r>t&&i>0))return a;for(n(t,1),e(t),r>t&&a.push(new Date(+t));n(t,i),e(t),r>t;)a.push(new Date(+t));return a},i.filter=function(r){return t(function(t){for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(i.count=function(t,n){return be.setTime(+t),xe.setTime(+n),e(be),e(xe),Math.floor(r(be,xe))}),i}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function r(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}function i(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function a(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function s(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function o(e){function t(e,t){return function(n){for(var r,i,a,s=[],o=-1,u=0,l=e.length;++o<l;)37===e.charCodeAt(o)&&(s.push(e.slice(u,o)),null!=(i=Ce[r=e.charAt(++o)])&&(r=e.charAt(++o)),(a=t[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),s.push(r),u=o+1);return s.push(e.slice(u,o)),s.join("")}}function n(e,t){return function(n){var i=s(1900),o=r(i,e,n,0);if(o!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"Z"in i){if("w"in i&&("W"in i||"U"in i)){var u=a(s(i.y)).getUTCDay();"W"in i&&(i.U=i.W,i.w=(i.w+6)%7,--u),i.m=0,i.d=i.w+7*i.U-(u+6)%7}return i.H+=i.Z/100|0,i.M+=i.Z%100,a(i)}if("w"in i&&("W"in i||"U"in i)){var u=t(s(i.y)).getDay();"W"in i&&(i.U=i.W,i.w=(i.w+6)%7,--u),i.m=0,i.d=i.w+7*i.U-(u+6)%7}return t(i)}}function r(e,t,n,r){for(var i,a,s=0,o=t.length,u=n.length;o>s;){if(r>=u)return-1;if(i=t.charCodeAt(s++),37===i){if(i=t.charAt(s++),a=Ue[i in Ce?t.charAt(s++):i],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function o(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.w=Ee.get(r[0].toLowerCase()),n+r[0].length):-1}function u(e,t,n){var r=Me.exec(t.slice(n));return r?(e.w=Te.get(r[0].toLowerCase()),n+r[0].length):-1}function l(e,t,n){var r=Ne.exec(t.slice(n));return r?(e.m=Pe.get(r[0].toLowerCase()),n+r[0].length):-1}function te(e,t,n){var r=Le.exec(t.slice(n));return r?(e.m=De.get(r[0].toLowerCase()),n+r[0].length):-1}function ne(e,t,n){return r(e,me,t,n)}function re(e,t,n){return r(e,ve,t,n)}function ie(e,t,n){return r(e,ye,t,n)}function ae(e,t,n){var r=Se.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}function se(e){return xe[e.getDay()]}function oe(e){return be[e.getDay()]}function ue(e){return ke[e.getMonth()]}function le(e){return we[e.getMonth()]}function ce(e){return _e[+(e.getHours()>=12)]}function de(e){return xe[e.getUTCDay()]}function fe(e){return be[e.getUTCDay()]}function he(e){return ke[e.getUTCMonth()]}function pe(e){return we[e.getUTCMonth()]}function ge(e){return _e[+(e.getUTCHours()>=12)]}var me=e.dateTime,ve=e.date,ye=e.time,_e=e.periods,be=e.days,xe=e.shortDays,we=e.months,ke=e.shortMonths,Se=d(_e),Me=c(be),Te=d(be),Ae=c(xe),Ee=d(xe),Le=c(we),De=d(we),Ne=c(ke),Pe=d(ke),Ie={a:se,A:oe,b:ue,B:le,c:null,d:T,e:T,H:A,I:E,j:L,L:C,m:D,M:N,p:ce,S:P,U:I,w:O,W:U,x:null,X:null,y:z,Y:j,Z:F,"%":ee},Oe={a:de,A:fe,b:he,B:pe,c:null,d:R,e:R,H:q,I:G,j:B,L:$,m:Y,M:H,p:ge,S:W,U:V,w:X,W:J,x:null,X:null,y:K,Y:Z,Z:Q,"%":ee},Ue={a:o,A:u,b:l,B:te,c:ne,d:_,e:_,H:x,I:x,j:b,L:S,m:y,M:w,p:ae,S:k,U:h,w:f,W:p,x:re,X:ie,y:m,Y:g,Z:v,"%":M};return Ie.x=t(ve,Ie),Ie.X=t(ye,Ie),Ie.c=t(me,Ie),Oe.x=t(ve,Oe),Oe.X=t(ye,Oe),Oe.c=t(me,Oe),{format:function(e){var r=t(e+="",Ie);return r.parse=n(e,i),r.toString=function(){return e},r},utcFormat:function(e){var r=t(e+="",Oe);return r.parse=n(e,a),r.toString=function(){return e},r}}}function u(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",a=i.length;return r+(n>a?new Array(n-a+1).join(t)+i:i)}function l(e){return e.replace(Pe,"\\$&")}function c(e){return new RegExp("^(?:"+e.map(l).join("|")+")","i")}function d(e){for(var t=new Map,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function f(e,t,n){var r=De.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function h(e,t,n){var r=De.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function p(e,t,n){var r=De.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function g(e,t,n){var r=De.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function m(e,t,n){var r=De.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function v(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function y(e,t,n){var r=De.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function _(e,t,n){var r=De.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function b(e,t,n){var r=De.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function x(e,t,n){var r=De.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function w(e,t,n){var r=De.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function k(e,t,n){var r=De.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function S(e,t,n){var r=De.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function M(e,t,n){var r=Ne.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function T(e,t){return u(e.getDate(),t,2)}function A(e,t){return u(e.getHours(),t,2)}function E(e,t){return u(e.getHours()%12||12,t,2)}function L(e,t){return u(1+we.count(Me(e),e),t,3)}function C(e,t){return u(e.getMilliseconds(),t,3)}function D(e,t){return u(e.getMonth()+1,t,2)}function N(e,t){return u(e.getMinutes(),t,2)}function P(e,t){return u(e.getSeconds(),t,2)}function I(e,t){return u(ke.count(Me(e),e),t,2)}function O(e){return e.getDay()}function U(e,t){return u(Se.count(Me(e),e),t,2)}function z(e,t){return u(e.getFullYear()%100,t,2)}function j(e,t){return u(e.getFullYear()%1e4,t,4)}function F(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+u(t/60|0,"0",2)+u(t%60,"0",2)}function R(e,t){return u(e.getUTCDate(),t,2)}function q(e,t){return u(e.getUTCHours(),t,2)}function G(e,t){return u(e.getUTCHours()%12||12,t,2)}function B(e,t){return u(1+Te.count(Le(e),e),t,3)}function $(e,t){return u(e.getUTCMilliseconds(),t,3)}function Y(e,t){return u(e.getUTCMonth()+1,t,2)}function H(e,t){return u(e.getUTCMinutes(),t,2)}function W(e,t){return u(e.getUTCSeconds(),t,2)}function V(e,t){return u(Ae.count(Le(e),e),t,2)}function X(e){return e.getUTCDay()}function J(e,t){return u(Ee.count(Le(e),e),t,2)}function K(e,t){return u(e.getUTCFullYear()%100,t,2)}function Z(e,t){return u(e.getUTCFullYear()%1e4,t,4)}function Q(){return"+0000"}function ee(){return"%"}function te(e){return e.toISOString()}function ne(e){return"string"!=typeof e||(e=ze.get(e))?o(e):null}var re={dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["上午","下午"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},ie={dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],shortDays:["вс","пн","вт","ср","чт","пт","сб"],months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],shortMonths:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"]},ae={dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]},se={dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","Śr.","Czw.","Pt.","Sob."],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Paźdz.","Listop.","Grudz."]},oe={dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]},ue={dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["недела","понеделник","вторник","среда","четврток","петок","сабота"],shortDays:["нед","пон","вто","сре","чет","пет","саб"],months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],shortMonths:["јан","фев","мар","апр","мај","јун","јул","авг","сеп","окт","ное","дек"]},le={dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]},ce={dateTime:"%A, %e ב%B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],shortDays:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],shortMonths:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"]},de={dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."]},fe={dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["jan","fév","mar","avr","mai","jui","jul","aoû","sep","oct","nov","déc"]},he={dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"]},pe={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["dom","lun","mar","mié","jue","vie","sáb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]},ge={dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},me={dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ve={dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ye={dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},_e={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortMonths:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]},be=new Date,xe=new Date,we=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),ke=n(0),Se=n(1),Me=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()}),Te=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5}),Ae=r(0),Ee=r(1),Le=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),Ce={"-":"",_:" ",0:"0"},De=/^\s*\d+/,Ne=/^%/,Pe=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ie="%Y-%m-%dT%H:%M:%S.%LZ";te.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},te.toString=function(){return Ie};var Oe=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?te:ge.utcFormat(Ie),Ue=Oe,ze=(new Map).set("ca-ES",_e).set("de-DE",ye).set("en-CA",ve).set("en-GB",me).set("en-US",ge).set("es-ES",pe).set("fi-FI",he).set("fr-CA",fe).set("fr-FR",de).set("he-IL",ce).set("it-IT",le).set("mk-MK",ue).set("nl-NL",oe).set("pl-PL",se).set("pt-BR",ae).set("ru-RU",ie).set("zh-CN",re),je=o(ge);e.format=je.format,e.utcFormat=je.utcFormat,e.localeFormat=ne,e.isoFormat=Ue})},{}],6:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.time={})}(this,function(e){"use strict";function t(e,n,r){function s(t){return e(t=new Date(+t)),t}return s.floor=s,s.round=function(t){var r=new Date(+t),i=new Date(t-1);return e(r),e(i),n(i,1),i-t>t-r?r:i},s.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},s.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},s.range=function(t,r,i){var a=[];if(t=new Date(t-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(r>t&&i>0))return a;for(n(t,1),e(t),r>t&&a.push(new Date(+t));n(t,i),e(t),r>t;)a.push(new Date(+t));return a},s.filter=function(r){return t(function(t){for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(s.count=function(t,n){return a.setTime(+t),i.setTime(+n),e(a),e(i),Math.floor(r(a,i))}),s}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function r(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var i=new Date,a=new Date,s=t(function(e){e.setMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.seconds=s.range;var o=t(function(e){e.setSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.minutes=o.range;var u=t(function(e){e.setMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.hours=u.range;var l=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5});e.days=l.range,e.sunday=n(0),e.sundays=e.sunday.range,e.monday=n(1),e.mondays=e.monday.range,e.tuesday=n(2),e.tuesdays=e.tuesday.range,e.wednesday=n(3),e.wednesdays=e.wednesday.range,e.thursday=n(4),e.thursdays=e.thursday.range,e.friday=n(5),e.fridays=e.friday.range,e.saturday=n(6),e.saturdays=e.saturday.range;var c=e.sunday;e.weeks=c.range;var d=t(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())});e.months=d.range;var f=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()});e.years=f.range;var h=t(function(e){e.setUTCMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.utcSeconds=h.range;var p=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.utcMinutes=p.range;var g=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.utcHours=g.range;var m=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5});e.utcDays=m.range,e.utcSunday=r(0),e.utcSundays=e.utcSunday.range,e.utcMonday=r(1),e.utcMondays=e.utcMonday.range,e.utcTuesday=r(2),e.utcTuesdays=e.utcTuesday.range,e.utcWednesday=r(3),e.utcWednesdays=e.utcWednesday.range,e.utcThursday=r(4),e.utcThursdays=e.utcThursday.range,e.utcFriday=r(5),e.utcFridays=e.utcFriday.range,e.utcSaturday=r(6),e.utcSaturdays=e.utcSaturday.range;var v=e.utcSunday;e.utcWeeks=v.range;var y=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())});e.utcMonths=y.range;var _=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()});e.utcYears=_.range,e.interval=t,e.second=s,e.minute=o,e.hour=u,e.day=l,e.week=c,e.month=d,e.year=f,e.utcSecond=h,e.utcMinute=p,e.utcHour=g,e.utcDay=m,e.utcWeek=v,e.utcMonth=y,e.utcYear=_})},{}],7:[function(e,t,n){function r(){this._cells={},this._aggr=[],this._stream=!1}function i(e){if(a.isArray(e))return e;if(null==e)return[];var t,n,r=[];for(t in e)n=a.array(e[t]),r.push({name:t,ops:n});return r}var a=e("../util"),s=e("./measures"),o=e("./collector"),u=r.Flags={ADD_CELL:1,MOD_CELL:2},l=r.prototype;l.stream=function(e){return null==e?this._stream:(this._stream=!!e,this._aggr=[],this)},l.key=function(e){return null==e?this._key:(this._key=a.$(e),this)},l.groupby=function(e){return this._dims=a.array(e).map(function(e,t){if(e=a.isString(e)?{name:e,get:a.$(e)}:a.isFunction(e)?{name:a.name(e)||e.name||"_"+t,get:e}:e.name&&a.isFunction(e.get)?e:null,null==e)throw"Invalid groupby argument: "+e;return e}),this.clear()},l.summarize=function(e){e=i(e),this._count=!0;var t,n,r,o,u,l,c,d=this._aggr=[];for(r=0;r<e.length;++r){for(o=0,t=[],n=e[r];o<n.ops.length;++o)u=n.ops[o],"count"!==u&&(this._count=!1),l=n.as&&n.as[o]||u+("*"===n.name?"":"_"+n.name),t.push(s[u](l));c=n.get&&a.$(n.get)||("*"===n.name?a.identity:a.$(n.name)),d.push({name:n.name,measures:s.create(t,this._stream,c,this._assign)})}return this.clear()},l.count=function(){return this.summarize({"*":"count"})},l._assign=function(e,t,n){e[t]=n},l.clear=function(){return this._cells={},this},l._cellkey=function(e){var t,n=this._dims,r=n.length,i=String(n[0].get(e));for(t=1;r>t;++t)i+="|"+n[t].get(e);return i},l._cell=function(e){var t=this._dims.length?this._cellkey(e):"";return this._cells[t]||(this._cells[t]=this._newcell(e,t))},l._newcell=function(e,t){var n,r={num:0,tuple:this._newtuple(e,t),flag:u.ADD_CELL,aggs:{}},i=this._aggr;for(n=0;n<i.length;++n)r.aggs[i[n].name]=new i[n].measures(r,r.tuple);return r.collect&&(r.data=new o(this._key)),r},l._newtuple=function(e){var t,n,r=this._dims,i={};for(t=0,n=r.length;n>t;++t)i[r[t].name]=r[t].get(e);return this._ingest(i)},l._ingest=a.identity,l._add=function(e){var t,n=this._cell(e),r=this._aggr;if(n.num+=1,!this._count)for(n.collect&&n.data.add(e),t=0;t<r.length;++t)n.aggs[r[t].name].add(e);n.flag|=u.MOD_CELL,this._on_add&&this._on_add(e,n)},l._rem=function(e){var t,n=this._cell(e),r=this._aggr;if(n.num-=1,!this._count)for(n.collect&&n.data.rem(e),t=0;t<r.length;++t)n.aggs[r[t].name].rem(e);n.flag|=u.MOD_CELL,this._on_rem&&this._on_rem(e,n)},l._mod=function(e,t){
var n,r=this._cell(t),i=this._cell(e),s=this._aggr;for(r!==i?(r.num-=1,i.num+=1,r.collect&&r.data.rem(t),i.collect&&i.data.add(e)):r.collect&&!a.isObject(e)&&(r.data.rem(t),r.data.add(e)),n=0;n<s.length;++n)r.aggs[s[n].name].rem(t),i.aggs[s[n].name].add(e);r.flag|=u.MOD_CELL,i.flag|=u.MOD_CELL,this._on_mod&&this._on_mod(e,t,r,i)},l.result=function(){var e,t,n,r=[],i=this._aggr;for(n in this._cells){if(e=this._cells[n],e.num>0){for(e.collect&&e.data.values(),t=0;t<i.length;++t)e.aggs[i[t].name].set();r.push(e.tuple)}else delete this._cells[n];e.flag=0}return this._rems=!1,r},l.changes=function(e){var t,n,r,i,a=e||{add:[],rem:[],mod:[]},s=this._aggr;for(i in this._cells){for(t=this._cells[i],n=t.flag,t.collect&&t.data.values(),r=0;r<s.length;++r)t.aggs[s[r].name].set();t.num<=0?(a.rem.push(t.tuple),delete this._cells[i],this._on_drop&&this._on_drop(t)):(this._on_keep&&this._on_keep(t),n&u.ADD_CELL?a.add.push(t.tuple):n&u.MOD_CELL&&a.mod.push(t.tuple)),t.flag=0}return this._rems=!1,a},l.execute=function(e){return this.clear().insert(e).result()},l.insert=function(e){this._consolidate();for(var t=0;t<e.length;++t)this._add(e[t]);return this},l.remove=function(e){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var t=0;t<e.length;++t)this._rem(e[t]);return this._rems=!0,this},l._consolidate=function(){if(this._rems){for(var e in this._cells)this._cells[e].collect&&this._cells[e].data.values();this._rems=!1}},t.exports=r},{"../util":29,"./collector":8,"./measures":10}],8:[function(e,t,n){function r(e){this._add=[],this._rem=[],this._key=e||null,this._last=null}var i=e("../util"),a=e("../stats"),s="__dl_rem__",o=r.prototype;o.add=function(e){this._add.push(e)},o.rem=function(e){this._rem.push(e)},o.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r,o=this._add,u=this._rem,l=this._key,c=Array(o.length-u.length);if(i.isObject(u[0]))if(l)for(r=i.toMap(u,l),e=0,t=0,n=o.length;n>e;++e)r.hasOwnProperty(l(o[e]))||(c[t++]=o[e]);else{for(e=0,n=u.length;n>e;++e)u[e][s]=1;for(e=0,t=0,n=o.length;n>e;++e)o[e][s]||(c[t++]=o[e]);for(e=0,n=u.length;n>e;++e)delete u[e][s]}else for(r=a.count.map(u),e=0,t=0,n=o.length;n>e;++e)r[o[e]]>0?r[o[e]]-=1:c[t++]=o[e];return this._rem=[],this._add=c},o.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=a.extent.index(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},o.argmin=function(e){return this.extent(e)[0]},o.argmax=function(e){return this.extent(e)[1]},o.min=function(e){var t=this.extent(e)[0];return t?e(t):+(1/0)},o.max=function(e){var t=this.extent(e)[1];return t?e(t):-(1/0)},o.quartile=function(e){return this._get===e&&this._q||(this._q=a.quartile(this.values(),e),this._get=e),this._q},o.q1=function(e){return this.quartile(e)[0]},o.q2=function(e){return this.quartile(e)[1]},o.q3=function(e){return this.quartile(e)[2]},t.exports=r},{"../stats":26,"../util":29}],9:[function(e,t,n){var r=e("../util"),i=e("./aggregator");t.exports=function(){var e=[].reduce.call(arguments,function(e,t){return e.concat(r.array(t))},[]);return(new i).groupby(e).summarize({"*":"values"})}},{"../util":29,"./aggregator":7}],10:[function(e,t,n){function r(e){return function(t){var n=s.extend({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function i(e,t){function n(e,r){function i(t){e[t]||n(e,e[t]=o[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),e}var r=e.reduce(n,e.reduce(function(e,t){return e[t.name]=t,e},{}));return s.vals(r).sort(function(e,t){return e.idx-t.idx})}function a(t,n,r,a){var o=i(t,n),u="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",l="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",d="var t = this.tuple; var cell = this.cell;";return o.forEach(function(e){e.idx<0?(u=e.init+u,l=e.add+l,c=e.rem+c):(u+=e.init,l+=e.add,c+=e.rem)}),t.slice().sort(function(e,t){return e.idx-t.idx}).forEach(function(e){d+="this.assign(t,'"+e.out+"',"+e.set+");"}),d+="return t;",u=Function("cell","t",u),u.prototype.assign=a,u.prototype.add=Function("t","var v = this.get(t);"+l),u.prototype.rem=Function("t","var v = this.get(t);"+c),u.prototype.set=Function(d),u.prototype.get=r,u.prototype.distinct=e("../stats").count.distinct,u.prototype.isValid=s.isValid,u.fields=t.map(s.$("out")),u}var s=e("../util"),o={values:r({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:r({name:"count",set:"cell.num"}),missing:r({name:"missing",set:"this.missing"}),valid:r({name:"valid",set:"this.valid"}),sum:r({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:r({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:r({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:r({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:r({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:r({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:r({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),median:r({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:r({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:r({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:r({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:r({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:r({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:r({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:r({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:r({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","stdev","median"],idx:5})};o.create=a,t.exports=o},{"../stats":26,"../util":29}],11:[function(e,t,n){function r(e){if(!e)throw Error("Missing binning options.");var t,n,r,o,u,l,c,d=e.maxbins||15,f=e.base||10,h=Math.log(f),p=e.div||[5,2],g=e.min,m=e.max,v=m-g;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,i(e.steps,v/d,0,e.steps.length))];else{n=Math.ceil(Math.log(d)/h),r=e.minstep||0,t=Math.max(r,Math.pow(f,Math.round(Math.log(v)/h)-n));do t*=f;while(Math.ceil(v/t)>d);for(l=0;l<p.length;++l)u=t/p[l],u>=r&&d>=v/u&&(t=u)}return u=Math.log(t),o=u>=0?0:~~(-u/h)+1,c=Math.pow(f,-o-1),g=Math.min(g,Math.floor(g/t+c)*t),m=Math.ceil(m/t)*t,{start:g,stop:m,step:t,unit:{precision:o},value:a,index:s}}function i(e,t,n,r){for(;r>n;){var i=n+r>>>1;l.cmp(e[i],t)<0?n=i+1:r=i}return n}function a(e){return this.step*Math.floor(e/this.step+d)}function s(e){return Math.floor((e-this.start)/this.step+d)}function o(e){return this.unit.date(a.call(this,e))}function u(e){return s.call(this,this.unit.unit(e))}var l=e("../util"),c=e("../time"),d=1e-15;r.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?c.utc:c,n=e.min,i=e.max,a=e.maxbins||20,s=e.minbins||4,l=+i-+n,d=e.unit?t[e.unit]:t.find(l,s,a),f=r({min:null!=d.min?d.min:d.unit(n),max:null!=d.max?d.max:d.unit(i),maxbins:a,minstep:d.minstep,steps:d.step});return f.unit=d,f.index=u,e.raw||(f.value=o),f},t.exports=r},{"../time":28,"../util":29}],12:[function(e,t,n){function r(e,t,n){n=s(e,t,n);var r=a(n);return r?f.$func("bin",r.unit.unit?function(e){return r.value(r.unit.unit(e))}:function(e){return r.value(e)})(n.accessor):n.accessor||f.identity}function i(e,t,n){n=s(e,t,n);var r=a(n);return r?o(e,n.accessor,r):u(e,n.accessor,n&&n.sort)}function a(e){var t=e.type,n=null;return(null==t||p[t])&&("integer"===t&&null==e.minstep&&(e.minstep=1),n="date"===t?l.date(e):l(e)),n}function s(){var e=arguments,t=0,n=f.isArray(e[t])?e[t++]:null,r=f.isFunction(e[t])||f.isString(e[t])?f.$(e[t++]):null,i=f.extend({},e[t]);if(n&&(i.type=i.type||d(n,r),p[i.type])){var a=h.extent(n,r);i=f.extend({min:a[0],max:a[1]},i)}return r&&(i.accessor=r),i}function o(e,t,n){for(var r,i,a=c.range(n.start,n.stop+n.step/2,n.step).map(function(e){return{value:n.value(e),count:0}}),s=0;s<e.length;++s)if(r=t?t(e[s]):e[s],f.isValid(r)){if(i=n.index(r),0>i||i>=a.length||!isFinite(i))continue;a[i].count+=1}return a.bins=n,a}function u(e,t,n){var r=h.unique(e,t),i=h.count.map(e,t);return r.map(function(e){return{value:e,count:i[e]}}).sort(f.comparator(n?"-count":"+value"))}var l=e("./bins"),c=e("../generate"),d=e("../import/type"),f=e("../util"),h=e("../stats"),p={integer:1,number:1,date:1};t.exports={$bin:r,histogram:i}},{"../generate":14,"../import/type":23,"../stats":26,"../util":29,"./bins":11}],13:[function(e,t,n){function r(e){var t=d.localeFormat(e);if(null==t)throw Error("Unrecognized locale: "+e);f=t}function i(e){var t=c.localeFormat(e);if(null==t)throw Error("Unrecognized locale: "+e);h=t}function a(e,t){e.length||(e=[0]),null==t&&(t=10);var n=e[0],r=e[e.length-1];n>r&&(s=r,r=n,n=s);var i=r-n||(t=1,n||r||1),a=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),s=i/t/a;return s>=p?a*=10:s>=g?a*=5:s>=m&&(a*=2),[Math.ceil(n/a)*a,Math.floor(r/a)*a+a/2,a]}function s(e,t,n){var r=a(e,t);if(null==n)n=",."+d.precisionFixed(r[2])+"f";else switch(n=d.formatSpecifier(n),n.type){case"s":var i=Math.max(Math.abs(r[0]),Math.abs(r[1]));return null==n.precision&&(n.precision=d.precisionPrefix(r[2],i)),f.formatPrefix(n,i);case"":case"e":case"g":case"p":case"r":null==n.precision&&(n.precision=d.precisionRound(r[2],Math.max(Math.abs(r[0]),Math.abs(r[1])))-("e"===n.type));break;case"f":case"%":null==n.precision&&(n.precision=d.precisionFixed(r[2])-2*("%"===n.type))}return f.format(n)}function o(){var e=h.format,t=e(".%L"),n=e(":%S"),r=e("%I:%M"),i=e("%I %p"),a=e("%a %d"),s=e("%b %d"),o=e("%B"),u=e("%Y");return function(e){var c=+e;return(l.second(e)<c?t:l.minute(e)<c?n:l.hour(e)<c?r:l.day(e)<c?i:l.month(e)<c?l.week(e)<c?a:s:l.year(e)<c?o:u)(e)}}function u(){var e=h.utcFormat,t=e(".%L"),n=e(":%S"),r=e("%I:%M"),i=e("%I %p"),a=e("%a %d"),s=e("%b %d"),o=e("%B"),u=e("%Y");return function(e){var c=+e;return(l.utcSecond(e)<c?t:l.utcMinute(e)<c?n:l.utcHour(e)<c?r:l.utcDay(e)<c?i:l.utcMonth(e)<c?l.utcWeek(e)<c?a:s:l.utcYear(e)<c?o:u)(e)}}var l=e("d3-time"),c=e("d3-time-format"),d=e("d3-format"),f=d,h=c;t.exports={numberLocale:r,number:function(e){return f.format(e)},numberPrefix:function(e,t){return f.formatPrefix(e,t)},timeLocale:i,time:function(e){return h.format(e)},utc:function(e){return h.utcFormat(e)},locale:function(e){r(e),i(e)},auto:{number:s,time:function(){return o()},utc:function(){return u()}}};var p=Math.sqrt(50),g=Math.sqrt(10),m=Math.sqrt(2)},{"d3-format":4,"d3-time":6,"d3-time-format":5}],14:[function(e,t,n){var r=t.exports={};r.repeat=function(e,t){var n,r=Array(t);for(n=0;t>n;++n)r[n]=e;return r},r.zeros=function(e){return r.repeat(0,e)},r.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("Infinite range");var r,i=[],a=-1;if(0>n)for(;(r=e+n*++a)>t;)i.push(r);else for(;(r=e+n*++a)<t;)i.push(r);return i},r.random={},r.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var n=t-e,i=function(){return e+n*Math.random()};return i.samples=function(e){return r.zeros(e).map(i)},i},r.random.integer=function(e,t){void 0===t&&(t=e,e=0);var n=t-e,i=function(){return e+Math.floor(n*Math.random())};return i.samples=function(e){return r.zeros(e).map(i)},i},r.random.normal=function(e,t){e=e||0,t=t||1;var n,i=function(){var r,i,a=0,s=0;if(void 0!==n)return a=n,n=void 0,a;do a=2*Math.random()-1,s=2*Math.random()-1,r=a*a+s*s;while(0===r||r>1);return i=Math.sqrt(-2*Math.log(r)/r),n=e+s*i*t,e+a*i*t};return i.samples=function(e){return r.zeros(e).map(i)},i}},{}],15:[function(e,t,n){function r(e,t){if(e){var n=t.header;e=(n?n.join(t.delimiter)+"\n":"")+e}return a.dsv(t.delimiter).parse(e)}var i=e("../../util"),a=e("d3-dsv");r.delimiter=function(e){var t={delimiter:e};return function(e,n){return r(e,n?i.extend(n,t):t)}},t.exports=r},{"../../util":29,"d3-dsv":3}],16:[function(e,t,n){var r=e("./dsv");t.exports={json:e("./json"),topojson:e("./topojson"),treejson:e("./treejson"),dsv:r,csv:r.delimiter(","),tsv:r.delimiter("	")}},{"./dsv":15,"./json":17,"./topojson":18,"./treejson":19}],17:[function(e,t,n){var r=e("../../util");t.exports=function(e,t){var n=r.isObject(e)&&!r.isBuffer(e)?e:JSON.parse(e);return t&&t.property&&(n=r.accessor(t.property)(n)),n}},{"../../util":29}],18:[function(e,t,n){(function(n){var r=e("./json"),i=function(e,t){var n=i.topojson;if(null==n)throw Error("TopoJSON library not loaded.");var a,s=r(e,t);if(t&&t.feature){if(a=s.objects[t.feature])return n.feature(s,a).features;throw Error("Invalid TopoJSON object: "+t.feature)}if(t&&t.mesh){if(a=s.objects[t.mesh])return[n.mesh(s,s.objects[t.mesh])];throw Error("Invalid TopoJSON object: "+t.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};i.topojson="undefined"!=typeof window?window.topojson:"undefined"!=typeof n?n.topojson:null,t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./json":17}],19:[function(e,t,n){function r(e,t){function n(e){r.push(e);var i=e[t];if(i)for(var a=0;a<i.length;++a)n(i[a],e)}t=t||"children";var r=[];return n(e,null),r.root=e,r}var i=e("./json");t.exports=function(e,t){return e=i(e,t),r(e,t&&t.children)}},{"./json":17}],20:[function(e,t,n){function r(t){var n=t.url;if(!n&&t.file)return d+t.file;if(t.baseURL&&!c.test(n)&&(l(n,"/")||"/"===t.baseURL[t.baseURL.length-1]||(n="/"+n),n=t.baseURL+n),!i.useXHR&&l(n,"//")&&(n=(t.defaultProtocol||"http")+":"+n),t.domainWhiteList){var r,a;if(i.useXHR){var s=document.createElement("a");s.href=n,""===s.host&&(s.href=s.href),r=s.hostname.toLowerCase(),a=window.location.hostname}else{var o=e("url").parse(n);r=o.hostname,a=null}if(a!==r){var u=t.domainWhiteList.some(function(e){var t=r.length-e.length;return e===r||t>1&&"."===r[t-1]&&r.lastIndexOf(e)===t});if(!u)throw"URL is not whitelisted: "+n}}return n}function i(e,t){var n,r=t||function(e){throw e};try{n=i.sanitizeUrl(e)}catch(a){return void r(a)}return n?i.useXHR?s(n,t):l(n,d)?o(n.slice(d.length),t):n.indexOf("://")<0?o(n,t):u(n,t):void r("Invalid URL: "+e.url)}function a(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function s(e,t){function n(){var e=i.status;!e&&a(i)||e>=200&&300>e||304===e?t(null,i.responseText):t(i,null)}var r=!!t,i=new XMLHttpRequest;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(e)||(i=new XDomainRequest),r&&("onload"in i?i.onload=i.onerror=n:i.onreadystatechange=function(){i.readyState>3&&n()}),i.open("GET",e,r),i.send(),!r&&a(i)?i.responseText:void 0}function o(t,n){var r=e("fs");return n?void r.readFile(t,n):r.readFileSync(t,"utf8")}function u(t,n){if(!n)return e("sync-request")("GET",t).getBody();var r={url:t,encoding:null,gzip:!0};e("request")(r,function(e,t,r){e||200!==t.statusCode?(e=e||"Load failed with response code "+t.statusCode+".",n(e,null)):n(null,r)})}function l(e,t){return null==e?!1:0===e.lastIndexOf(t,0)}var c=/^([A-Za-z]+:)?\/\//,d="file://";i.sanitizeUrl=r,i.useXHR="undefined"!=typeof XMLHttpRequest,t.exports=i},{fs:2,request:2,"sync-request":2,url:2}],21:[function(e,t,n){function r(e,t){var n=t&&t.type||"json";return e=o[n](e,t),t&&t.parse&&i(e,t.parse),e}function i(e,t){var n,r,i,o,u,l,c=e.length;for(t="auto"===t?s.inferAll(e):a.duplicate(t),n=a.keys(t),r=n.map(function(e){return s.parsers[t[e]]}),o=0,l=n.length;c>o;++o)for(i=e[o],u=0;l>u;++u)i[n[u]]=r[u](i[n[u]]);s.annotation(e,t)}var a=e("../util"),s=e("./type"),o=e("./formats");r.formats=o,t.exports=r},{"../util":29,"./formats":16,"./type":23}],22:[function(e,t,n){var r=e("../util"),i=e("./load"),a=e("./read");t.exports=r.keys(a.formats).reduce(function(e,t){return e[t]=function(e,n,s){r.isString(e)&&(e={url:e}),2===arguments.length&&r.isFunction(n)&&(s=n,n=void 0),n=r.extend({parse:"auto"},n),n.type=t;var o=i(e,s?function(e,t){if(e)return void s(e,null);try{t=a(t,n),s(null,t)}catch(r){s(r,null)}}:void 0);return s?void 0:a(o,n)},e},{})},{"../util":29,"./load":20,"./read":21}],23:[function(e,t,n){function r(e,t){return t?void(e[l]=t):e&&e[l]||null}function i(e,t){t=u.$(t);var n,r,i;if(e[l]&&(n=t(e[l]),u.isString(n)))return n;for(r=0,i=e.length;!u.isValid(n)&&i>r;++r)n=t?t(e[r]):e[r];return u.isDate(n)?"date":u.isNumber(n)?"number":u.isBoolean(n)?"boolean":u.isString(n)?"string":null}function a(e,t){return e.length?(t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=i(e,n),t},{})):void 0}function s(e,t){t=u.$(t);var n,r,i,a=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(i=t?t(e[n]):e[n],r=0;r<a.length;++r)u.isValid(i)&&!d[a[r]](i)&&(a.splice(r,1),r-=1);if(0===a.length)return"string"}return a[0]}function o(e,t){return t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=s(e,n),t},{})}var u=e("../util"),l="__types__",c={"boolean":u["boolean"],integer:u.number,number:u.number,date:u.date,string:function(e){return""===e?null:e}},d={"boolean":function(e){return"true"===e||"false"===e||u.isBoolean(e)},integer:function(e){return d.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!u.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};i.annotation=r,i.all=a,i.infer=s,i.inferAll=o,i.parsers=c,t.exports=i},{"../util":29}],24:[function(e,t,n){var r=e("./util"),i={version:"1.4.6",load:e("./import/load"),read:e("./import/read"),type:e("./import/type"),Aggregator:e("./aggregate/aggregator"),groupby:e("./aggregate/groupby"),bins:e("./bins/bins"),$bin:e("./bins/histogram").$bin,histogram:e("./bins/histogram").histogram,format:e("./format"),print:e("./print"),template:e("./template"),time:e("./time")};r.extend(i,r),r.extend(i,e("./generate")),r.extend(i,e("./stats")),r.extend(i,e("./import/readers")),t.exports=i},{"./aggregate/aggregator":7,"./aggregate/groupby":9,"./bins/bins":11,"./bins/histogram":12,"./format":13,"./generate":14,"./import/load":20,"./import/read":21,"./import/readers":22,"./import/type":23,"./print":25,"./stats":26,"./template":27,"./time":28,"./util":29}],25:[function(e,t,n){function r(e){return["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"min:      "+e.min,"max:      "+e.max,"median:   "+e.median,"mean:     "+e.mean,"stdev:    "+e.stdev,"modeskew: "+e.modeskew].join("\n")}function i(e){var t=["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"top values: "],n=e.unique,r=a.keys(n).sort(function(e,t){return n[t]-n[e]}).slice(0,6).map(function(e){return" '"+e+"' ("+n[e]+")"});return t.concat(r).join("\n")}var a=e("./util"),s=e("./import/type"),o=e("./stats"),u=e("./template"),l={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},c={number:"left",integer:"left"};t.exports.table=function(e,t){t=a.extend({separator:" ",minwidth:8,maxwidth:15},t);var n=t.fields||a.keys(e[0]),r=s.all(e);if(t.start||t.limit){var i=t.start||0,d=t.limit?i+t.limit:e.length;e=e.slice(i,d)}var f=n.map(function(n){var i=l[r[n]]||"",a=u("{{"+n+i+"}}"),s=o.max(e,function(e){return a(e).length});return s=Math.max(Math.min(n.length,t.minwidth),s),t.maxwidth>0?Math.min(s,t.maxwidth):s}),h=n.map(function(e,t){return a.truncate(a.pad(e,f[t],"center"),f[t])}).join(t.separator),p=u(n.map(function(e,t){return"{{"+e+(l[r[e]]||"")+("|pad:"+f[t]+","+(c[r[e]]||"right"))+("|truncate:"+f[t])+"}}"}).join(t.separator));return h+"\n"+e.map(p).join("\n")},t.exports.summary=function(e){e=e?e.__summary__?e:o.summary(e):this;var t,n,a=[];for(t=0,n=e.length;n>t;++t)a.push("-- "+e[t].field+" --"),"string"===e[t].type||e[t].distinct<10?a.push(i(e[t])):a.push(r(e[t])),a.push("");return a.join("\n")}},{"./import/type":23,"./stats":26,"./template":27,"./util":29}],26:[function(e,t,n){var r=e("./util"),i=e("./import/type"),a=e("./generate"),s={};s.unique=function(e,t,n){t=r.$(t),n=n||[];var i,a,s,o={};for(a=0,s=e.length;s>a;++a)i=t?t(e[a]):e[a],i in o||(o[i]=1,n.push(i));return n},s.count=function(e){return e&&e.length||0},s.count.valid=function(e,t){t=r.$(t);var n,i,a,s=0;for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],r.isValid(n)&&(s+=1);return s},s.count.missing=function(e,t){t=r.$(t);var n,i,a,s=0;for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],null==n&&(s+=1);return s},s.count.distinct=function(e,t){t=r.$(t);var n,i,a,s={},o=0;for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],n in s||(s[n]=1,o+=1);return o},s.count.map=function(e,t){t=r.$(t);var n,i,a,s={};for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],s[n]=n in s?s[n]+1:1;return s},s.median=function(e,t){return t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp),s.quantile(e,.5)},s.quartile=function(e,t){t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp);var n=s.quantile;return[n(e,.25),n(e,.5),n(e,.75)]},s.quantile=function(e,t,n){void 0===n&&(n=t,t=r.identity),t=r.$(t);var i=(e.length-1)*n+1,a=Math.floor(i),s=+t(e[a-1]),o=i-a;return o?s+o*(t(e[a])-s):s},s.sum=function(e,t){t=r.$(t);for(var n,i=0,a=0,s=e.length;s>a;++a)n=t?t(e[a]):e[a],r.isValid(n)&&(i+=n);return i},s.mean=function(e,t){t=r.$(t);var n,i,a,s,o,u=0;for(i=0,s=0,a=e.length;a>i;++i)o=t?t(e[i]):e[i],r.isValid(o)&&(n=o-u,u+=n/++s);return u},s.variance=function(e,t){if(t=r.$(t),!r.isArray(e)||e.length<2)return 0;var n,i,a,s,o=0,u=0;for(i=0,a=0;i<e.length;++i)s=t?t(e[i]):e[i],r.isValid(s)&&(n=s-o,o+=n/++a,u+=n*(s-o));return u/=a-1},s.stdev=function(e,t){return Math.sqrt(s.variance(e,t))},s.modeskew=function(e,t){var n=s.mean(e,t),r=s.median(e,t),i=s.stdev(e,t);return 0===i?0:(n-r)/i},s.min=function(e,t){return s.extent(e,t)[0]},s.max=function(e,t){return s.extent(e,t)[1]},s.extent=function(e,t){t=r.$(t);var n,i,a,s,o=e.length;for(s=0;o>s;++s)if(a=t?t(e[s]):e[s],r.isValid(a)){n=i=a;break}for(;o>s;++s)a=t?t(e[s]):e[s],r.isValid(a)&&(n>a&&(n=a),a>i&&(i=a));return[n,i]},s.extent.index=function(e,t){t=r.$(t);var n,i,a,s,o=-1,u=-1,l=e.length;for(s=0;l>s;++s)if(a=t?t(e[s]):e[s],r.isValid(a)){n=i=a,o=u=s;break}for(;l>s;++s)a=t?t(e[s]):e[s],r.isValid(a)&&(n>a&&(n=a,o=s),a>i&&(i=a,u=s));return[o,u]},s.dot=function(e,t,n){var i,a,s=0;if(n)for(t=r.$(t),n=r.$(n),i=0;i<e.length;++i)a=t(e[i])*n(e[i]),a===a&&(s+=a);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(i=0;i<e.length;++i)a=e[i]*t[i],a===a&&(s+=a)}return s},s.rank=function(e,t){t=r.$(t)||r.identity;var n,i,a,s=e.map(function(e,n){return{idx:n,val:t(e)}}).sort(r.comparator("val")),o=e.length,u=Array(o),l=-1,c={};for(n=0;o>n;++n){if(i=s[n].val,0>l&&c===i)l=n-1;else if(l>-1&&c!==i){for(a=1+(n-1+l)/2;n>l;++l)u[s[l].idx]=a;l=-1}u[s[n].idx]=n+1,c=i}if(l>-1)for(a=1+(o-1+l)/2;o>l;++l)u[s[l].idx]=a;return u},s.cor=function(e,t,n){var i=n;n=i?e.map(r.$(n)):t,t=i?e.map(r.$(t)):e;var a=s.dot(t,n),o=s.mean(t),u=s.mean(n),l=s.stdev(t),c=s.stdev(n),d=e.length;return(a-d*o*u)/((d-1)*l*c)},s.cor.rank=function(e,t,n){var i,a,o,u=n?s.rank(e,r.$(t)):s.rank(e),l=n?s.rank(e,r.$(n)):s.rank(t),c=e.length;for(i=0,a=0;c>i;++i)o=u[i]-l[i],a+=o*o;return 1-6*a/(c*(c*c-1))},s.cor.dist=function(e,t,n){var i,a,o,u,l=n?e.map(r.$(t)):e,c=n?e.map(r.$(n)):t,d=s.dist.mat(l),f=s.dist.mat(c),h=d.length;for(i=0,a=0,o=0,u=0;h>i;++i)a+=d[i]*d[i],o+=f[i]*f[i],u+=d[i]*f[i];return Math.sqrt(u/Math.sqrt(a*o))},s.dist=function(e,t,n,i){var a,s,o=r.isFunction(n)||r.isString(n),u=e,l=o?e:t,c=o?i:n,d=2===c||null==c,f=e.length,h=0;for(o&&(t=r.$(t),n=r.$(n)),s=0;f>s;++s)a=o?t(u[s])-n(l[s]):u[s]-l[s],h+=d?a*a:Math.pow(Math.abs(a),c);return d?Math.sqrt(h):Math.pow(h,1/c)},s.dist.mat=function(e){var t,n,r,i=e.length,s=i*i,o=Array(s),u=a.zeros(i),l=0;for(n=0;i>n;++n)for(o[n*i+n]=0,r=n+1;i>r;++r)o[n*i+r]=t=Math.abs(e[n]-e[r]),o[r*i+n]=t,u[n]+=t,u[r]+=t;for(n=0;i>n;++n)l+=u[n],u[n]/=i;for(l/=s,n=0;i>n;++n)for(r=n;i>r;++r)o[n*i+r]+=l-u[n]-u[r],o[r*i+n]=o[n*i+r];return o},s.entropy=function(e,t){t=r.$(t);var n,i,a=0,s=0,o=e.length;for(n=0;o>n;++n)a+=t?t(e[n]):e[n];if(0===a)return 0;for(n=0;o>n;++n)i=(t?t(e[n]):e[n])/a,i&&(s+=i*Math.log(i));return-s/Math.LN2},s.mutual=function(e,t,n,i){var a,s,o,u=i?e.map(r.$(t)):e,l=i?e.map(r.$(n)):t,c=i?e.map(r.$(i)):n,d={},f={},h=c.length,p=0,g=0,m=0;for(o=0;h>o;++o)d[u[o]]=0,f[l[o]]=0;for(o=0;h>o;++o)d[u[o]]+=c[o],f[l[o]]+=c[o],p+=c[o];for(s=1/(p*Math.LN2),o=0;h>o;++o)0!==c[o]&&(a=p*c[o]/(d[u[o]]*f[l[o]]),g+=c[o]*s*Math.log(a),m+=c[o]*s*Math.log(c[o]/p));return[g,1+g/m]},s.mutual.info=function(e,t,n,r){return s.mutual(e,t,n,r)[0]},s.mutual.dist=function(e,t,n,r){return s.mutual(e,t,n,r)[1]},s.profile=function(e,t){var n,a,o,u,l,c=0,d=0,f=0,h=0,p=null,g=null,m=0,v=[],y={};for(o=0;o<e.length;++o)u=t?t(e[o]):e[o],y[u]=u in y?y[u]+1:(h+=1,1),null==u?++f:r.isValid(u)&&(l="string"==typeof u?u.length:u,(null===p||p>l)&&(p=l),(null===g||l>g)&&(g=l),n=l-c,c+=n/++d,m+=n*(l-c),v.push(l));return m/=d-1,a=Math.sqrt(m),v.sort(r.cmp),{type:i(e,t),unique:y,count:e.length,valid:d,missing:f,distinct:h,min:p,max:g,mean:c,stdev:a,median:u=s.quantile(v,.5),q1:s.quantile(v,.25),q3:s.quantile(v,.75),modeskew:0===a?0:(c-u)/a}},s.summary=function(e,t){t=t||r.keys(e[0]);var n=t.map(function(t){var n=s.profile(e,r.$(t));return n.field=t,n});return n.__summary__=!0,n},t.exports=s},{"./generate":14,"./import/type":23,"./util":29}],27:[function(e,t,n){function r(e){var t=i(e,"d");return t="var __t; return "+t+";",new Function("d",t).bind(c)}function i(e,t,n){t=t||"obj";var r=0,i="'",o=d;return e.replace(o,function(o,u,l){return i+=e.slice(r,l).replace(g,s),r=l+o.length,u&&(i+="'\n+((__t=("+a(u,t,n)+"))==null?'':__t)+\n'"),o}),i+"'"}function a(e,t,n){function i(e){return e=e||"",g?(g=!1,m="String("+m+")"+e):m+=e,m}function a(){return"(typeof "+m+'==="number"?new Date('+m+"):"+m+")"}function s(e,t){_=o(w[0],t,e),g=!1,m="this.formats["+_+"]("+m+")"}function c(e,t){_=o(w[0],t,e),g=!1,m="this.formats["+_+"]("+a()+")"}var d=e.match(f),p=d.shift().trim(),g=!0;n&&(n[p]=1);for(var m=r.property(t,p),v=0;v<d.length;++v){var y,_,b,x=d[v],w=null;switch((y=x.indexOf(":"))>0&&(x=x.slice(0,y),w=d[v].slice(y+1).match(h).map(function(e){return e.trim()})),x=x.trim()){case"length":i(".length");break;case"lower":i(".toLowerCase()");break;case"upper":i(".toUpperCase()");break;case"lower-locale":i(".toLocaleLowerCase()");break;case"upper-locale":i(".toLocaleUpperCase()");break;case"trim":i(".trim()");break;case"left":_=u.number(w[0]),i(".slice(0,"+_+")");break;case"right":_=u.number(w[0]),i(".slice(-"+_+")");break;case"mid":_=u.number(w[0]),b=_+u.number(w[1]),i(".slice(+"+_+","+b+")");break;case"slice":_=u.number(w[0]),i(".slice("+_+(w.length>1?","+u.number(w[1]):"")+")");break;case"truncate":_=u.number(w[0]),b=w[1],b="left"!==b&&"middle"!==b&&"center"!==b?"right":b,m="this.truncate("+i()+","+_+",'"+b+"')";break;case"pad":_=u.number(w[0]),b=w[1],b="left"!==b&&"middle"!==b&&"center"!==b?"right":b,m="this.pad("+i()+","+_+",'"+b+"')";break;case"number":s(l.number,"number");break;case"time":c(l.time,"time");break;case"time-utc":c(l.utc,"time-utc");break;default:throw Error("Unrecognized template filter: "+x)}}return m}function s(e){return"\\"+p[e]}function o(e,t,n){if(!("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]))throw Error("Format pattern must be quoted: "+e);if(e=e.slice(1,-1),t=t+":"+e,!c.format_map[t]){var r=n(e),i=c.formats.length;c.formats.push(r),c.format_map[t]=i}return c.format_map[t]}var u=e("./util"),l=e("./format"),c={formats:[],format_map:{},truncate:u.truncate,pad:u.pad};r.source=i,r.context=c,t.exports=r,r.clearFormatCache=function(){c.formats=[],c.format_map={}},r.property=function(e,t){var n=u.field(t).map(u.str).join("][");return e+"["+n+"]"};var d=/\{\{(.+?)\}\}|$/g,f=/(?:"[^"]*"|\'[^\']*\'|[^\|"]+|[^\|\']+)+/g,h=/(?:"[^"]*"|\'[^\']*\'|[^,"]+|[^,\']+)+/g,p={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},g=/\\|'|\r|\n|\u2028|\u2029/g},{"./format":13,"./util":29}],28:[function(e,t,n){function r(e){return l.setTime(+e),l}function i(e,t,n,r,i,a){var s={type:e,date:t,unit:n};return r?s.step=r:s.minstep=1,null!=i&&(s.min=i),null!=a&&(s.max=a),s}function a(e,t,n,r,a,s){return i(e,function(e){return t.offset(n,e)},function(e){return t.count(n,e)},r,a,s)}function s(e,t,n,r){var i,a,s,o=p[0];for(i=1,a=p.length;a>i;++i)if(o=p[i],t>o[0]){if(s=t/o[0],s>r)return e[p[i-1][1]];if(s>=n)return e[o[1]]}return e[p[a-1][1]]}function o(e){var t,n,r={};for(t=0,n=e.length;n>t;++t)r[e[t].type]=e[t];return r.find=function(t,n,r){return s(e,t,n,r)},r}var u=e("d3-time"),l=new Date,c=new Date(0,0,1).setFullYear(0),d=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),f=[a("second",u.second,c),a("minute",u.minute,c),a("hour",u.hour,c),a("day",u.day,c,[1,7]),a("month",u.month,c,[1,3,6]),a("year",u.year,c),i("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return r(e).getSeconds()},null,0,59),i("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return r(e).getMinutes()},null,0,59),i("hours",function(e){return new Date(1970,0,1,e)},function(e){return r(e).getHours()},null,0,23),i("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return r(e).getDay()},[1],0,6),i("dates",function(e){return new Date(1970,0,e)},function(e){return r(e).getDate()},[1],1,31),i("months",function(e){return new Date(1970,e%12,1)},function(e){return r(e).getMonth()},[1],0,11)],h=[a("second",u.utcSecond,d),a("minute",u.utcMinute,d),a("hour",u.utcHour,d),a("day",u.utcDay,d,[1,7]),a("month",u.utcMonth,d,[1,3,6]),a("year",u.utcYear,d),i("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return r(e).getUTCSeconds()},null,0,59),i("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return r(e).getUTCMinutes()},null,0,59),i("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return r(e).getUTCHours()},null,0,23),i("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return r(e).getUTCDay()},[1],0,6),i("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return r(e).getUTCDate()},[1],1,31),i("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return r(e).getUTCMonth()},[1],0,11)],p=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];t.exports=o(f),t.exports.utc=o(h)},{"d3-time":6}],29:[function(e,t,n){function r(e){return e.replace(f,"$1\\'")}function i(e,t){var n,r="";for(n=0;e>n;++n)r+=t;return r}function a(e,t,n){var r=0,i=e.split(p);return e=n?(i=i.reverse()).filter(function(e){return r+=e.length,t>=r}).reverse():i.filter(function(e){return r+=e.length,t>=r}),e.length?e.join("").trim():i[0].slice(0,t)}var s=e("buffer"),o=e("./time"),u=o.utc,l=t.exports={},c="__name__";l.namedfunc=function(e,t){return t[c]=e,t},l.name=function(e){return null==e?null:e[c]},l.identity=function(e){return e},l["true"]=l.namedfunc("true",function(){return!0}),l["false"]=l.namedfunc("false",function(){return!1}),l.duplicate=function(e){return JSON.parse(JSON.stringify(e))},l.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t);
},l.extend=function(e){for(var t,n,r=1,i=arguments.length;i>r;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},l.length=function(e){return null!=e&&null!=e.length?e.length:null},l.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},l.vals=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},l.toMap=function(e,t){return(t=l.$(t))?e.reduce(function(e,n){return e[t(n)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},l.keystr=function(e){var t=e.length;if(!t)return"";for(var n=String(e[0]),r=1;t>r;++r)n+="|"+String(e[r]);return n};var d=Object.prototype.toString;l.isObject=function(e){return e===Object(e)},l.isFunction=function(e){return"[object Function]"===d.call(e)},l.isString=function(e){return"string"==typeof value||"[object String]"===d.call(e)},l.isArray=Array.isArray||function(e){return"[object Array]"===d.call(e)},l.isNumber=function(e){return"number"==typeof e||"[object Number]"===d.call(e)},l.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},l.isDate=function(e){return"[object Date]"===d.call(e)},l.isValid=function(e){return null!=e&&e===e},l.isBuffer=s.Buffer&&s.Buffer.isBuffer||l["false"],l.number=function(e){return null==e||""===e?null:+e},l["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},l.date=function(e){return null==e||""===e?null:Date.parse(e)},l.array=function(e){return null!=e?l.isArray(e)?e:[e]:[]},l.str=function(e){return l.isArray(e)?"["+e.map(l.str)+"]":l.isObject(e)?JSON.stringify(e):l.isString(e)?"'"+r(e)+"'":e};var f=/(^|[^\\])'/g,h=/\[(.*?)\]|[^.\[]+/g;l.field=function(e){return String(e).match(h).map(function(e){return"["!==e[0]?e:"'"!==e[1]&&'"'!==e[1]?e.slice(1,-1):e.slice(2,-2).replace(/\\(["'])/g,"$1")})},l.accessor=function(e){var t;return null==e||l.isFunction(e)?e:l.namedfunc(e,(t=l.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]})},l.$=l.accessor,l.mutator=function(e){var t;return l.isString(e)&&(t=l.field(e)).length>1?function(e,n){for(var r=0;r<t.length-1;++r)e=e[t[r]];e[t[r]]=n}:function(t,n){t[e]=n}},l.$func=function(e,t){return function(n){n=l.$(n)||l.identity;var r=e+(l.name(n)?"_"+l.name(n):"");return l.namedfunc(r,function(e){return t(n(e))})}},l.$valid=l.$func("valid",l.isValid),l.$length=l.$func("length",l.length),l.$in=function(e,t){e=l.$(e);var n=l.isArray(t)?l.toMap(t):t;return function(t){return!!n[e(t)]}},l.$year=l.$func("year",o.year.unit),l.$month=l.$func("month",o.months.unit),l.$date=l.$func("date",o.dates.unit),l.$day=l.$func("day",o.weekdays.unit),l.$hour=l.$func("hour",o.hours.unit),l.$minute=l.$func("minute",o.minutes.unit),l.$second=l.$func("second",o.seconds.unit),l.$utcYear=l.$func("utcYear",u.year.unit),l.$utcMonth=l.$func("utcMonth",u.months.unit),l.$utcDate=l.$func("utcDate",u.dates.unit),l.$utcDay=l.$func("utcDay",u.weekdays.unit),l.$utcHour=l.$func("utcHour",u.hours.unit),l.$utcMinute=l.$func("utcMinute",u.minutes.unit),l.$utcSecond=l.$func("utcSecond",u.seconds.unit),l.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=l.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),l.accessor(e)}),function(n,r){var i,a,s,o,u;for(i=0,a=e.length;a>i;++i){if(s=e[i],o=s(n),u=s(r),u>o)return-1*t[i];if(o>u)return t[i]}return 0}},l.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e?-1:null===t?1:NaN},l.numcmp=function(e,t){return e-t},l.stablesort=function(e,t,n){var r=e.reduce(function(e,t,r){return e[n(t)]=r,e},{});return e.sort(function(e,i){var a=t(e),s=t(i);return s>a?-1:a>s?1:r[n(e)]-r[n(i)]}),e},l.pad=function(e,t,n,r){r=r||" ";var a=t-e.length;if(0>=a)return e;switch(n){case"left":return i(a,r)+e;case"middle":case"center":return i(Math.floor(a/2),r)+e+i(Math.ceil(a/2),r);default:return e+i(a,r)}},l.truncate=function(e,t,n,r,i){var s=e.length;if(t>=s)return e;i=void 0!==i?String(i):"…";var o=Math.max(0,t-i.length);switch(n){case"left":return i+(r?a(e,o,1):e.slice(s-o));case"middle":case"center":var u=Math.ceil(o/2),l=Math.floor(o/2);return(r?a(e,u):e.slice(0,u))+i+(r?a(e,l,1):e.slice(s-l));default:return(r?a(e,o):e.slice(0,o))+i}};var p=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/},{"./time":28,buffer:2}],30:[function(e,t,n){function r(e,t){var n={};return i(e,n),n.add=[],n.mod=[],n.rem=[],n.reflow=t,n}function i(e,t){t.stamp=e?e.stamp:0,t.sort=e?e.sort:null,t.facet=e?e.facet:null,t.trans=e?e.trans:null,t.dirty=e?e.dirty:[],t.request=e?e.request:null;for(var n,r=0,i=a.length;i>r;++r)t[n=a[r]]=e?e[n]:{}}var a=e("./Dependencies").ALL;t.exports={create:r,copy:i}},{"./Dependencies":33}],31:[function(e,t,n){function r(e){s.init.call(this,e),this._data=[],this.router(!0).collector(!0)}var i=e("vega-logging"),a=e("./Tuple"),s=e("./Node").prototype,o=r.prototype=Object.create(s);o.constructor=r,o.data=function(){return this._data},o.evaluate=function(e){return i.debug(e,["collecting"]),e.rem.length&&(this._data=a.idFilter(this._data,e.rem)),e.add.length&&(this._data=this._data.length?this._data.concat(e.add):e.add),e.sort&&this._data.sort(e.sort),e.reflow&&(e.mod=e.mod.concat(a.idFilter(this._data,e.add,e.mod,e.rem)),e.reflow=!1),e},t.exports=r},{"./Node":36,"./Tuple":38,"vega-logging":45}],32:[function(e,t,n){function r(e,t,n){this._graph=e,this._name=t,this._data=[],this._source=null,this._facet=n,this._input=u.create(),this._output=null,this._inputNode=null,this._outputNode=null,this._pipeline=null,this._collector=null,this._mutates=!1}function i(e){var t=new d(e._graph).router(!0).collector(!0);return t.data=function(){return e._data},t.evaluate=function(t){o.debug(t,["input",e._name]);var n,r=e._input,i=u.create(t);for(n in r.fields)i.fields[n]=1;return r.rem.length&&(e._data=c.idFilter(e._data,r.rem)),r.add.length&&(e._data=e._data.concat(r.add)),t.reflow&&(r.mod=r.mod.concat(c.idFilter(e._data,r.add,r.mod,r.rem))),e._input=u.create(),i.add=r.add,i.mod=r.mod,i.rem=r.rem,i.facet=e._facet,i},t}function a(e){var t=new d(e._graph).router(!0).reflows(!0).collector(!0);return t.data=function(){return e._collector?e._collector.data():e._data},t.evaluate=function(t){o.debug(t,["output",e._name]);var n=u.create(t,!0);return e._facet&&(e._facet.values=e.values(),t.facet=null),e._output=t,n.data[e._name]=1,n},t}function s(e){var t=new d(e._graph).router(!0);return t.evaluate=function(t){if(e.mutates()){var n=e._srcMap||(e._srcMap={}),r=u.create(t);return r.add=t.add.map(function(e){return n[e._id]=c.derive(e)}),r.mod=t.mod.map(function(e){return c.rederive(e,n[e._id])}),r.rem=t.rem.map(function(e){var t=n[e._id];return n[e._id]=null,t}),e._input=r}return e._input=t},t}var o=e("vega-logging"),u=e("./ChangeSet"),l=e("./Collector"),c=e("./Tuple"),d=e("./Node"),f=r.prototype;f.name=function(e){return arguments.length?(this._name=e,this):this._name},f.source=function(e){return arguments.length?this._source=this._graph.data(e):this._source},f.insert=function(e){return this._input.add=this._input.add.concat(e.map(c.ingest)),this},f.remove=function(e){var t=this._data.filter(e);return this._input.rem=this._input.rem.concat(t),this},f.update=function(e,t,n){var r=this._input.mod,i=c.idMap(r);return this._input.fields[t]=1,this._data.filter(e).forEach(function(e){var a=e[t],s=n(e);a!==s&&(c.set(e,t,s),1!==i[e._id]&&(r.push(e),i[e._id]=1))}),this},f.values=function(e){return arguments.length?(this._input.rem=this._data.slice(),e&&this.insert(e),this):this._collector.data()},f.mutates=function(e){return arguments.length?(this._mutates=this._mutates||e,this):this._mutates},f.last=function(){return this._output},f.fire=function(e){return e&&(this._input=e),this._graph.propagate(this._input,this._pipeline[0]),this},f.pipeline=function(e){if(!arguments.length)return this._pipeline;var t,n=this._graph;return e.unshift(this._inputNode=i(this)),t=n.preprocess(e),t.router&&e.push(t.collector=new l(n)),e.push(this._outputNode=a(this)),this._collector=t.collector,this._mutates=!!t.mutates,n.connect(this._pipeline=e),this},f.synchronize=function(){return this._graph.synchronize(this._pipeline),this},f.listener=function(){return s(this).addListener(this._inputNode)},f.addListener=function(e){return e instanceof r?this._collector.addListener(e.listener()):this._outputNode.addListener(e),this},f.removeListener=function(e){this._outputNode.removeListener(e)},f.listeners=function(e){return(e?this._collector:this._outputNode).listeners()},t.exports=r},{"./ChangeSet":30,"./Collector":31,"./Node":36,"./Tuple":38,"vega-logging":45}],33:[function(e,t,n){var r=t.exports={ALL:["data","fields","scales","signals"]};r.ALL.forEach(function(e){r[e.toUpperCase()]=e})},{}],34:[function(e,t,n){function r(){}var i=e("datalib"),a=e("./Heap"),s=e("./ChangeSet"),o=e("./DataSource"),u=e("./Collector"),l=e("./Tuple"),c=e("./Signal"),d=e("./Dependencies"),f=r.prototype;f.init=function(){this._stamp=0,this._rank=0,this._data={},this._signals={},this.doNotPropagate={}},f.rank=function(){return++this._rank},f.values=function(e,t,n){var r,a,s=e===d.SIGNALS?this._signals:this._data,o=void 0!==t?t:i.keys(s);if(Array.isArray(o)){for(r=n||{},a=0;a<o.length;++a)r[o[a]]=s[o[a]].values();return r}return s[o].values()},f.dataValues=function(e){return this.values(d.DATA,e)},f.signalValues=function(e){return this.values(d.SIGNALS,e)},f.data=function(e,t,n){var r=this._data;if(arguments.length)return 1===arguments.length?r[e]:r[e]=new o(this,e,n).pipeline(t);var i,a=[];for(i in r)a.push(r[i]);return a},f.signal=function(e,t){if(1===arguments.length){var n=this;return Array.isArray(e)?e.map(function(e){return n._signals[e]}):this._signals[e]}return this._signals[e]=new c(this,e,t)},f.signalRef=function(e){Array.isArray(e)||(e=i.field(e));var t=this.signal(e[0]).value();if(e.length>1)for(var n=1,r=e.length;r>n;++n)t=t[e[n]];return t},f.propagate=function(e,t,n){var r,i,o,u,l,c,d,f={},h=new a(function(e,t){return e._qrank-t._qrank});if(e.stamp)throw Error("Pulse already has a non-zero stamp.");for(e.stamp=n||++this._stamp,f[t._id]=e,h.push(t.qrank(!0));h.size()>0;)if(t=h.peek(),e=f[t._id],t.rank()!==t.qrank())h.replace(t.qrank(!0));else if(h.pop(),f[t._id]=null,r=t._listeners,e=this.evaluate(e,t),e!==this.doNotPropagate)for(!e.reflow&&t.reflows()&&(e=s.create(e,!0)),c=0,d=r.length;d>c;++c)if(i=r[c],void 0!==(o=f[i._id])){if(null===o)throw Error("Already propagated to node.");if(u=e.add.length||e.mod.length||e.rem.length,l=o.add.length||o.mod.length||o.rem.length,u&&l)throw Error("Multiple changeset pulses to same node");f[i._id]=u?e:o,f[i._id].reflow=e.reflow||o.reflow}else h.push(i.qrank(!0)),f[i._id]=e},f.preprocess=function(e){for(var t,n,r,i,a=this,s=0,o=0;o<e.length;++o)t=e[o],t.batch()&&!t._collector&&(n||!r?(t=new u(a),e.splice(o,0,t),n=!1):t._collector=r),(i=t.collector())&&(r=t),n=n||t.router()&&!i,s=s||t.mutates(),t.produces()&&(e.splice(o+1,0,new u(a)),n=!1);return{router:n,collector:r,mutates:s}},f.connect=function(e){var t,n,r,i,a,s,o,u;for(a=0,s=e.length;s>a;++a){for(n=e[a],n.collector()&&(t=n),r=n.dependency(d.DATA),o=0,u=r.length;u>o;++o)this.data(r[o]).addListener(t);for(i=n.dependency(d.SIGNALS),o=0,u=i.length;u>o;++o)this.signal(i[o]).addListener(t);a>0&&e[a-1].addListener(n)}return e},f.disconnect=function(e){var t,n,r,i,a,s,o,u;for(a=0,s=e.length;s>a;++a){for(n=e[a],n.collector()&&(t=n),r=n.dependency(d.DATA),o=0,u=r.length;u>o;++o)this.data(r[o]).removeListener(t);for(i=n.dependency(d.SIGNALS),o=0,u=i.length;u>o;++o)this.signal(i[o]).removeListener(t);n.disconnect()}return e},f.synchronize=function(e){var t,n,r,i,a,s,o,u,c={};for(r=0,i=e.length;i>r;++r)if(t=e[r],t.collector())for(a=0,n=t.data(),s=n.length;s>a;++a)u=(o=n[a])._id,c[u]||(l.prev_update(o),c[u]=1);return this},f.reevaluate=function(e,t){var n=e.reflow&&t.last()>=e.stamp,r=t.router()||e.add.length||e.rem.length;return r||!n||t.reevaluate(e)},f.evaluate=function(e,t){return this.reevaluate(e,t)?(e=t.evaluate(e),t.last(e.stamp),e):e},t.exports=r},{"./ChangeSet":30,"./Collector":31,"./DataSource":32,"./Dependencies":33,"./Heap":35,"./Signal":37,"./Tuple":38,datalib:24}],35:[function(e,t,n){function r(e){this.cmp=e,this.nodes=[]}function i(e,t,n,r){var i,a,s;for(i=e[n];n>t&&(s=n-1>>1,a=e[s],r(i,a)<0);)e[n]=a,n=s;return e[n]=i}function a(e,t,n){for(var r,a=t,s=e.length,o=e[t],u=2*t+1;s>u;)r=u+1,s>r&&n(e[u],e[r])>=0&&(u=r),e[t]=e[u],t=u,u=2*t+1;return e[t]=o,i(e,a,t,n)}var s=r.prototype;s.size=function(){return this.nodes.length},s.clear=function(){return this.nodes=[],this},s.peek=function(){return this.nodes[0]},s.push=function(e){var t=this.nodes;return t.push(e),i(t,0,t.length-1,this.cmp)},s.pop=function(){var e,t=this.nodes,n=t.pop();return t.length?(e=t[0],t[0]=n,a(t,0,this.cmp)):e=n,e},s.replace=function(e){var t=this.nodes,n=t[0];return t[0]=e,a(t,0,this.cmp),n},s.pushpop=function(e){var t=this.nodes,n=t[0];return t.length&&this.cmp(n,e)<0&&(t[0]=e,e=n,a(t,0,this.cmp)),e},t.exports=r},{}],36:[function(e,t,n){function r(e){e&&this.init(e)}var i=e("./Dependencies").ALL,a=0,s=r.Flags={Router:1,Collector:2,Produces:4,Mutates:8,Reflows:16,Batch:32},o=r.prototype;o.init=function(e){this._id=++a,this._graph=e,this._rank=e.rank(),this._qrank=null,this._stamp=0,this._listeners=[],this._listeners._ids={},this._deps={};for(var t=0,n=i.length;n>t;++t)this._deps[i[t]]=[];return this._flags=0,this},o.rank=function(){return this._rank},o.qrank=function(){return arguments.length?(this._qrank=this._rank,this):this._qrank},o.last=function(e){return arguments.length?(this._stamp=e,this):this._stamp},o._setf=function(e,t){return t?this._flags|=e:this._flags&=~e,this},o.router=function(e){return arguments.length?this._setf(s.Router,e):this._flags&s.Router},o.collector=function(e){return arguments.length?this._setf(s.Collector,e):this._flags&s.Collector},o.produces=function(e){return arguments.length?this._setf(s.Produces,e):this._flags&s.Produces},o.mutates=function(e){return arguments.length?this._setf(s.Mutates,e):this._flags&s.Mutates},o.reflows=function(e){return arguments.length?this._setf(s.Reflows,e):this._flags&s.Reflows},o.batch=function(e){return arguments.length?this._setf(s.Batch,e):this._flags&s.Batch},o.dependency=function(e,t){var n=this._deps[e],r=n._names||(n._names={});if(1===arguments.length)return n;if(null===t)n.splice(0,n.length),n._names={};else if(Array.isArray(t))for(var i,a=0,s=t.length;s>a;++a)i=t[a],r[i]||(n.push(i),r[i]=1);else{if(r[t])return this;n.push(t),r[t]=1}return this},o.listeners=function(){return this._listeners},o.addListener=function(e){if(!(e instanceof r))throw Error("Listener is not a Node");if(this._listeners._ids[e._id])return this;if(this._listeners.push(e),this._listeners._ids[e._id]=1,this._rank>e._rank)for(var t,n=[e],i=this._graph;n.length;)t=n.shift(),t._rank=i.rank(),n.push.apply(n,t.listeners());return this},o.removeListener=function(e){if(!this._listeners._ids[e._id])return!1;var t=this._listeners.indexOf(e),n=t>=0;return n&&(this._listeners.splice(t,1),this._listeners._ids[e._id]=null),n},o.disconnect=function(){this._listeners=[],this._listeners._ids={}},o.evaluate=function(e){return e},o.reevaluate=function(e){var t,n,r,a,s,o;for(r=0,a=i.length;a>r;++r)for(t=i[r],n=this._deps[t],s=0,o=n.length;o>s;++s)if(e[t][n[s]])return!0;return!1},r.reset=function(){a=0},t.exports=r},{"./Dependencies":33}],37:[function(e,t,n){function r(e,t,n){return s.init.call(this,e),this._name=t,this._value=n,this._verbose=!1,this._handlers=[],this}var i=e("./ChangeSet"),a=e("./Node"),s=a.prototype,o=r.prototype=Object.create(s);o.constructor=r,o.name=function(){return this._name},o.value=function(e){return arguments.length?(this._value=e,this):this._value},o.values=o.value,o.verbose=function(e){return arguments.length?(this._verbose=!!e,this):this._verbose},o.evaluate=function(e){return e.signals[this._name]?e:this._graph.doNotPropagate},o.fire=function(e){e||(e=i.create(null,!0)),e.signals[this._name]=1,this._graph.propagate(e,this)},o.on=function(e){var t=this,n=new a(this._graph);return n.evaluate=function(n){return e(t.name(),t.value()),n},this._handlers.push({handler:e,node:n}),this.addListener(n)},o.off=function(e){var t,n,r=this._handlers;for(t=r.length;--t>=0;)e&&r[t].handler!==e||(n=r.splice(t,1)[0],this.removeListener(n.node));return this},t.exports=r},{"./ChangeSet":30,"./Node":36}],38:[function(e,t,n){function r(e){return e=e===Object(e)?e:{data:e},e._id=++s,e._prev&&(e._prev=null),e}function i(e,t){t=t||{};for(var n=0,r=e.length;r>n;++n)t[e[n]._id]=1;return t}function a(e,t){t=t||{};for(var n in e)"_prev"!==n&&"_id"!==n&&(t[n]=e[n]);return t}var s=0;t.exports={ingest:r,idMap:i,derive:function(e){return r(a(e))},rederive:function(e,t){return a(e,t)},set:function(e,t,n){return e[t]===n?0:(e[t]=n,1)},prev:function(e){return e._prev||e},prev_init:function(e){e._prev||(e._prev={_id:e._id})},prev_update:function(e){var t,n,r=e._prev;if(r)for(t in e)"_prev"!==t&&"_id"!==t&&(r[t]=(n=e[t])instanceof Object&&n._prev?n._prev:n)},reset:function(){s=0},idFilter:function(e){for(var t={},n=arguments.length;--n>0;)i(arguments[n],t);return e.filter(function(e){return!t[e._id]})}}},{}],39:[function(e,t,n){t.exports={ChangeSet:e("./ChangeSet"),Collector:e("./Collector"),DataSource:e("./DataSource"),Dependencies:e("./Dependencies"),Graph:e("./Graph"),Node:e("./Node"),Signal:e("./Signal"),Tuple:e("./Tuple"),debug:e("vega-logging").debug}},{"./ChangeSet":30,"./Collector":31,"./DataSource":32,"./Dependencies":33,"./Graph":34,"./Node":36,"./Signal":37,"./Tuple":38,"vega-logging":45}],40:[function(e,t,n){function r(e){var t,n,r={};for(t=0,n=e.length;n>t;++t)r[e[t]]=1;return r}function i(e){var t,n=[];for(t in e)n.push(t);return n}t.exports=function(t){function n(e){var t={code:s(e),globals:i(p),fields:i(g)};return p={},g={},t}function a(e){return h+'["'+e+'"]'}function s(e){if("string"==typeof e)return e;var t=m[e.type];if(null==t)throw new Error("Unsupported type: "+e.type);return t(e)}t=t||{};var o=t.constants||e("./constants"),u=(t.functions||e("./functions"))(s),l=t.idWhiteList?r(t.idWhiteList):null,c=t.idBlackList?r(t.idBlackList):null,d=0,f=t.fieldVar||"datum",h=t.globalVar||"signals",p={},g={},m={Literal:function(e){return e.raw},Identifier:function(e){var t=e.name;if(d>0)return t;if(o.hasOwnProperty(t))return o[t];if(l)return l.hasOwnProperty(t)?t:(p[t]=1,a(t));if(c&&c.hasOwnProperty(t))throw new Error("Illegal identifier: "+t);return t},Program:function(e){return e.body.map(s).join("\n")},MemberExpression:function(e){var t=!e.computed,n=s(e.object);t&&(d+=1);var r=s(e.property);return n===f&&(g[r]=1),t&&(d-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){if("Identifier"!==e.callee.type)throw new Error("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=u.hasOwnProperty(t)&&u[t];if(!r)throw new Error("Unrecognized function: "+t);return r instanceof Function?r(n):r+"("+n.map(s).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(s).join(",")+"]"},BinaryExpression:function(e){return"("+s(e.left)+e.operator+s(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+s(e.argument)+")"},ConditionalExpression:function(e){return"("+s(e.test)+"?"+s(e.consequent)+":"+s(e.alternate)+")"},LogicalExpression:function(e){return"("+s(e.left)+e.operator+s(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(s).join(",")+"}"},Property:function(e){d+=1;var t=s(e.key);return d-=1,t+":"+s(e.value)},ExpressionStatement:function(e){return s(e.expression)}};return n.functions=u,n.constants=o,n}},{"./constants":41,"./functions":42}],41:[function(e,t,n){t.exports={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"}},{}],42:[function(e,t,n){t.exports=function(e){function t(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(0>i?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}function n(e,n,r){return function(i){return t(e,i,n,r)}}var r="new Date",i="String",a="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){if(t.length<3)throw new Error("Missing arguments to clamp function.");if(t.length>3)throw new Error("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),slice:n("slice",i),substring:n("substring",i),regexp:a,test:n("test",a),"if":function(t){if(t.length<3)throw new Error("Missing arguments to if function.");if(t.length>3)throw new Error("Too many arguments to if function.");var n=t.map(e);return n[0]+"?"+n[1]+":"+n[2]}}}},{}],43:[function(e,t,n){var r=e("./parser"),i=e("./codegen"),a=t.exports={parse:function(e,t){return r.parse("("+e+")",t)},code:function(e){return i(e)},compiler:function(e,t){e=e.slice();var n=i(t),r=e.length,s=function(t){var i=n(a.parse(t));return e[r]='"use strict"; return ('+i.code+");",i.fn=Function.apply(null,e),i};return s.codegen=n,s},functions:e("./functions"),constants:e("./constants")}},{"./codegen":40,"./constants":41,"./functions":42,"./parser":44}],44:[function(e,t,n){t.exports=function(){"use strict";function e(e,t){if(!e)throw new Error("ASSERT: "+t)}function t(e){return e>=48&&57>=e}function n(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function r(e){return"01234567".indexOf(e)>=0}function i(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function a(e){return 10===e||13===e||8232===e||8233===e}function s(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&Se.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function o(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&Se.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function u(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function l(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function c(e){if(Te&&l(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function d(){var e,t;for(t=0===Ae;Ce>Ae;)if(e=Me.charCodeAt(Ae),i(e))++Ae;else{if(!a(e))break;++Ae,13===e&&10===Me.charCodeAt(Ae)&&++Ae,++Ee,Le=Ae,t=!0}}function f(e){var t,r,i,a=0;for(r="u"===e?4:2,t=0;r>t;++t){if(!(Ce>Ae&&n(Me[Ae])))return"";i=Me[Ae++],a=16*a+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(a)}function h(){var e,t,r,i;for(e=Me[Ae],t=0,"}"===e&&F({},ke.UnexpectedToken,"ILLEGAL");Ce>Ae&&(e=Me[Ae++],n(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&F({},ke.UnexpectedToken,"ILLEGAL"),65535>=t?String.fromCharCode(t):(r=(t-65536>>10)+55296,i=(t-65536&1023)+56320,String.fromCharCode(r,i))}function p(){var e,t;for(e=Me.charCodeAt(Ae++),t=String.fromCharCode(e),92===e&&(117!==Me.charCodeAt(Ae)&&F({},ke.UnexpectedToken,"ILLEGAL"),++Ae,e=f("u"),e&&"\\"!==e&&s(e.charCodeAt(0))||F({},ke.UnexpectedToken,"ILLEGAL"),t=e);Ce>Ae&&(e=Me.charCodeAt(Ae),o(e));)++Ae,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Me.charCodeAt(Ae)&&F({},ke.UnexpectedToken,"ILLEGAL"),++Ae,e=f("u"),e&&"\\"!==e&&o(e.charCodeAt(0))||F({},ke.UnexpectedToken,"ILLEGAL"),t+=e);return t}function g(){var e,t;for(e=Ae++;Ce>Ae;){if(t=Me.charCodeAt(Ae),92===t)return Ae=e,p();if(!o(t))break;++Ae}return Me.slice(e,Ae)}function m(){var e,t,n;return e=Ae,t=92===Me.charCodeAt(Ae)?p():g(),n=1===t.length?_e.Identifier:c(t)?_e.Keyword:"null"===t?_e.NullLiteral:"true"===t||"false"===t?_e.BooleanLiteral:_e.Identifier,{type:n,value:t,lineNumber:Ee,lineStart:Le,start:e,end:Ae}}function v(){var e,t,n,r,i=Ae,a=Me.charCodeAt(Ae),s=Me[Ae];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ae,Pe.tokenize&&(40===a?Pe.openParenToken=Pe.tokens.length:123===a&&(Pe.openCurlyToken=Pe.tokens.length)),{type:_e.Punctuator,value:String.fromCharCode(a),lineNumber:Ee,lineStart:Le,start:i,end:Ae};default:if(e=Me.charCodeAt(Ae+1),61===e)switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ae+=2,{type:_e.Punctuator,value:String.fromCharCode(a)+String.fromCharCode(e),lineNumber:Ee,lineStart:Le,start:i,end:Ae};case 33:case 61:return Ae+=2,61===Me.charCodeAt(Ae)&&++Ae,{type:_e.Punctuator,value:Me.slice(i,Ae),lineNumber:Ee,lineStart:Le,start:i,end:Ae}}}return r=Me.substr(Ae,4),">>>="===r?(Ae+=4,{type:_e.Punctuator,value:r,lineNumber:Ee,lineStart:Le,start:i,end:Ae}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(Ae+=3,{type:_e.Punctuator,value:n,lineNumber:Ee,lineStart:Le,start:i,end:Ae}):(t=n.substr(0,2),s===t[1]&&"+-<>&|".indexOf(s)>=0||"=>"===t?(Ae+=2,{type:_e.Punctuator,value:t,lineNumber:Ee,lineStart:Le,start:i,end:Ae}):"<>=!+-*%&|^/".indexOf(s)>=0?(++Ae,{type:_e.Punctuator,value:s,lineNumber:Ee,lineStart:Le,start:i,end:Ae}):void F({},ke.UnexpectedToken,"ILLEGAL")))}function y(e){for(var t="";Ce>Ae&&n(Me[Ae]);)t+=Me[Ae++];return 0===t.length&&F({},ke.UnexpectedToken,"ILLEGAL"),s(Me.charCodeAt(Ae))&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:_e.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:Ee,lineStart:Le,start:e,end:Ae}}function _(e){for(var n="0"+Me[Ae++];Ce>Ae&&r(Me[Ae]);)n+=Me[Ae++];return(s(Me.charCodeAt(Ae))||t(Me.charCodeAt(Ae)))&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:_e.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:Ee,lineStart:Le,start:e,end:Ae}}function b(){var n,i,a;if(a=Me[Ae],e(t(a.charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point"),i=Ae,n="","."!==a){if(n=Me[Ae++],a=Me[Ae],"0"===n){if("x"===a||"X"===a)return++Ae,y(i);if(r(a))return _(i);a&&t(a.charCodeAt(0))&&F({},ke.UnexpectedToken,"ILLEGAL")}for(;t(Me.charCodeAt(Ae));)n+=Me[Ae++];a=Me[Ae]}if("."===a){for(n+=Me[Ae++];t(Me.charCodeAt(Ae));)n+=Me[Ae++];a=Me[Ae]}if("e"===a||"E"===a)if(n+=Me[Ae++],a=Me[Ae],("+"===a||"-"===a)&&(n+=Me[Ae++]),t(Me.charCodeAt(Ae)))for(;t(Me.charCodeAt(Ae));)n+=Me[Ae++];else F({},ke.UnexpectedToken,"ILLEGAL");return s(Me.charCodeAt(Ae))&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:_e.NumericLiteral,value:parseFloat(n),lineNumber:Ee,lineStart:Le,start:i,end:Ae}}function x(){var t,n,i,s,o,u,l,c,d="",p=!1;for(l=Ee,c=Le,t=Me[Ae],e("'"===t||'"'===t,"String literal must starts with a quote"),n=Ae,++Ae;Ce>Ae;){if(i=Me[Ae++],i===t){t="";break}if("\\"===i)if(i=Me[Ae++],i&&a(i.charCodeAt(0)))++Ee,"\r"===i&&"\n"===Me[Ae]&&++Ae,Le=Ae;else switch(i){case"u":case"x":"{"===Me[Ae]?(++Ae,d+=h()):(u=Ae,o=f(i),o?d+=o:(Ae=u,d+=i));break;case"n":d+="\n";break;case"r":d+="\r";break;case"t":d+="	";break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="";break;default:r(i)?(s="01234567".indexOf(i),0!==s&&(p=!0),Ce>Ae&&r(Me[Ae])&&(p=!0,s=8*s+"01234567".indexOf(Me[Ae++]),"0123".indexOf(i)>=0&&Ce>Ae&&r(Me[Ae])&&(s=8*s+"01234567".indexOf(Me[Ae++]))),d+=String.fromCharCode(s)):d+=i}else{if(a(i.charCodeAt(0)))break;d+=i}}return""!==t&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:_e.StringLiteral,value:d,octal:p,startLineNumber:l,startLineStart:c,lineNumber:Ee,lineStart:Le,start:n,end:Ae}}function w(e,t){var n,r=e;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){return parseInt(t,16)<=1114111?"x":void F({},ke.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{n=new RegExp(r)}catch(i){F({},ke.InvalidRegExp)}try{return new RegExp(e,t)}catch(a){return null}}function k(){var t,n,r,i,s;for(t=Me[Ae],e("/"===t,"Regular expression literal must start with a slash"),n=Me[Ae++],r=!1,i=!1;Ce>Ae;)if(t=Me[Ae++],n+=t,"\\"===t)t=Me[Ae++],a(t.charCodeAt(0))&&F({},ke.UnterminatedRegExp),n+=t;else if(a(t.charCodeAt(0)))F({},ke.UnterminatedRegExp);else if(r)"]"===t&&(r=!1);else{if("/"===t){i=!0;break}"["===t&&(r=!0)}return i||F({},ke.UnterminatedRegExp),s=n.substr(1,n.length-2),{value:s,literal:n}}function S(){var e,t,n,r;for(t="",n="";Ce>Ae&&(e=Me[Ae],o(e.charCodeAt(0)));)if(++Ae,"\\"===e&&Ce>Ae)if(e=Me[Ae],"u"===e){if(++Ae,r=Ae,e=f("u"))for(n+=e,t+="\\u";Ae>r;++r)t+=Me[r];else Ae=r,n+="u",t+="\\u";R({},ke.UnexpectedToken,"ILLEGAL")}else t+="\\",R({},ke.UnexpectedToken,"ILLEGAL");else n+=e,t+=e;return{value:n,literal:t}}function M(){var e,t,n,r;return De=null,d(),e=Ae,t=k(),n=S(),r=w(t.value,n.value),Pe.tokenize?{type:_e.RegularExpression,value:r,regex:{pattern:t.value,flags:n.value},lineNumber:Ee,lineStart:Le,start:e,end:Ae}:{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ae}}function T(){var e,t,n,r;return d(),e=Ae,t={start:{line:Ee,column:Ae-Le}},n=M(),t.end={line:Ee,column:Ae-Le},Pe.tokenize||(Pe.tokens.length>0&&(r=Pe.tokens[Pe.tokens.length-1],r.range[0]===e&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&Pe.tokens.pop()),Pe.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[e,Ae],loc:t})),n}function A(e){return e.type===_e.Identifier||e.type===_e.Keyword||e.type===_e.BooleanLiteral||e.type===_e.NullLiteral}function E(){var e,t;if(e=Pe.tokens[Pe.tokens.length-1],!e)return T();if("Punctuator"===e.type){if("]"===e.value)return v();if(")"===e.value)return t=Pe.tokens[Pe.openParenToken-1],!t||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?v():T();if("}"===e.value){if(Pe.tokens[Pe.openCurlyToken-3]&&"Keyword"===Pe.tokens[Pe.openCurlyToken-3].type){if(t=Pe.tokens[Pe.openCurlyToken-4],!t)return v()}else{if(!Pe.tokens[Pe.openCurlyToken-4]||"Keyword"!==Pe.tokens[Pe.openCurlyToken-4].type)return v();if(t=Pe.tokens[Pe.openCurlyToken-5],!t)return T()}return v()}return T()}return"Keyword"===e.type&&"this"!==e.value?T():v()}function L(){var e;return d(),Ae>=Ce?{type:_e.EOF,lineNumber:Ee,lineStart:Le,start:Ae,end:Ae}:(e=Me.charCodeAt(Ae),s(e)?m():40===e||41===e||59===e?v():39===e||34===e?x():46===e?t(Me.charCodeAt(Ae+1))?b():v():t(e)?b():Pe.tokenize&&47===e?E():v())}function C(){var e,t,n,r;return d(),e={start:{line:Ee,column:Ae-Le}},t=L(),e.end={line:Ee,column:Ae-Le},t.type!==_e.EOF&&(n=Me.slice(t.start,t.end),r={type:be[t.type],value:n,range:[t.start,t.end],loc:e},t.regex&&(r.regex={pattern:t.regex.pattern,flags:t.regex.flags}),Pe.tokens.push(r)),t}function D(){var e;return e=De,Ae=e.end,Ee=e.lineNumber,Le=e.lineStart,De="undefined"!=typeof Pe.tokens?C():L(),
Ae=e.end,Ee=e.lineNumber,Le=e.lineStart,e}function N(){var e,t,n;e=Ae,t=Ee,n=Le,De="undefined"!=typeof Pe.tokens?C():L(),Ae=e,Ee=t,Le=n}function P(){this.line=Ee,this.column=Ae-Le}function I(){this.start=new P,this.end=null}function O(e){e.type===_e.StringLiteral?this.start={line:e.startLineNumber,column:e.start-e.startLineStart}:this.start={line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function U(){Ae=De.start,De.type===_e.StringLiteral?(Ee=De.startLineNumber,Le=De.startLineStart):(Ee=De.lineNumber,Le=De.lineStart),Pe.range&&(this.range=[Ae,0]),Pe.loc&&(this.loc=new I)}function z(e){Pe.range&&(this.range=[e.start,0]),Pe.loc&&(this.loc=new O(e))}function j(){var e,t,n,r;return e=Ae,t=Ee,n=Le,d(),r=Ee!==t,Ae=e,Ee=t,Le=n,r}function F(t,n){var r,i=Array.prototype.slice.call(arguments,2),a=n.replace(/%(\d)/g,function(t,n){return e(n<i.length,"Message reference must be in range"),i[n]});throw"number"==typeof t.lineNumber?(r=new Error("Line "+t.lineNumber+": "+a),r.index=t.start,r.lineNumber=t.lineNumber,r.column=t.start-Le+1):(r=new Error("Line "+Ee+": "+a),r.index=Ae,r.lineNumber=Ee,r.column=Ae-Le+1),r.description=a,r}function R(){try{F.apply(null,arguments)}catch(e){if(!Pe.errors)throw e;Pe.errors.push(e)}}function q(e){if(e.type===_e.EOF&&F(e,ke.UnexpectedEOS),e.type===_e.NumericLiteral&&F(e,ke.UnexpectedNumber),e.type===_e.StringLiteral&&F(e,ke.UnexpectedString),e.type===_e.Identifier&&F(e,ke.UnexpectedIdentifier),e.type===_e.Keyword){if(u(e.value))F(e,ke.UnexpectedReserved);else if(Te&&l(e.value))return void R(e,ke.StrictReservedWord);F(e,ke.UnexpectedToken,e.value)}F(e,ke.UnexpectedToken,e.value)}function G(e){var t=D();(t.type!==_e.Punctuator||t.value!==e)&&q(t)}function B(e){if(Pe.errors){var t=De;t.type!==_e.Punctuator&&t.value!==e?R(t,ke.UnexpectedToken,t.value):D()}else G(e)}function $(e){return De.type===_e.Punctuator&&De.value===e}function Y(e){return De.type===_e.Keyword&&De.value===e}function H(){var e;return 59===Me.charCodeAt(Ae)||$(";")?void D():(e=Ee,d(),void(Ee===e&&(De.type===_e.EOF||$("}")||q(De))))}function W(){var e=[],t=new U;for(G("[");!$("]");)$(",")?(D(),e.push(null)):(e.push(le()),$("]")||G(","));return D(),t.finishArrayExpression(e)}function V(){var e,t=new U;return e=D(),e.type===_e.StringLiteral||e.type===_e.NumericLiteral?(Te&&e.octal&&R(e,ke.StrictOctalLiteral),t.finishLiteral(e)):t.finishIdentifier(e.value)}function X(){var e,t,n,r,i=new U;return e=De,e.type===_e.Identifier?(n=V(),G(":"),r=le(),i.finishProperty("init",n,r)):e.type!==_e.EOF&&e.type!==_e.Punctuator?(t=V(),G(":"),r=le(),i.finishProperty("init",t,r)):void q(e)}function J(){var e,t,n,r,i=[],a={},s=String,o=new U;for(G("{");!$("}");)e=X(),t=e.key.type===xe.Identifier?e.key.name:s(e.key.value),r="init"===e.kind?we.Data:"get"===e.kind?we.Get:we.Set,n="$"+t,Object.prototype.hasOwnProperty.call(a,n)?(a[n]===we.Data?Te&&r===we.Data?R({},ke.StrictDuplicateProperty):r!==we.Data&&R({},ke.AccessorDataProperty):r===we.Data?R({},ke.AccessorDataProperty):a[n]&r&&R({},ke.AccessorGetSet),a[n]|=r):a[n]=r,i.push(e),$("}")||B(",");return G("}"),o.finishObjectExpression(i)}function K(){var e;return G("("),++Ne.parenthesisCount,e=ce(),G(")"),e}function Z(){var e,t,n,r;if($("("))return K();if($("["))return W();if($("{"))return J();if(e=De.type,r=new U,e===_e.Identifier||Ie[De.value])n=r.finishIdentifier(D().value);else if(e===_e.StringLiteral||e===_e.NumericLiteral)Te&&De.octal&&R(De,ke.StrictOctalLiteral),n=r.finishLiteral(D());else{if(e===_e.Keyword)throw new Error("Disabled.");e===_e.BooleanLiteral?(t=D(),t.value="true"===t.value,n=r.finishLiteral(t)):e===_e.NullLiteral?(t=D(),t.value=null,n=r.finishLiteral(t)):$("/")||$("/=")?(n="undefined"!=typeof Pe.tokens?r.finishLiteral(T()):r.finishLiteral(M()),N()):q(D())}return n}function Q(){var e=[];if(G("("),!$(")"))for(;Ce>Ae&&(e.push(le()),!$(")"));)B(",");return G(")"),e}function ee(){var e,t=new U;return e=D(),A(e)||q(e),t.finishIdentifier(e.value)}function te(){return G("."),ee()}function ne(){var e;return G("["),e=ce(),G("]"),e}function re(){var e,t,n,r,i=Ne.allowIn;for(r=De,Ne.allowIn=!0,e=Z();;)if($("."))n=te(),e=new z(r).finishMemberExpression(".",e,n);else if($("("))t=Q(),e=new z(r).finishCallExpression(e,t);else{if(!$("["))break;n=ne(),e=new z(r).finishMemberExpression("[",e,n)}return Ne.allowIn=i,e}function ie(){var e=re();if(De.type===_e.Punctuator&&($("++")||$("--"))&&!j())throw new Error("Disabled.");return e}function ae(){var e,t,n;if(De.type!==_e.Punctuator&&De.type!==_e.Keyword)t=ie();else{if($("++")||$("--"))throw new Error("Disabled.");if($("+")||$("-")||$("~")||$("!"))n=De,e=D(),t=ae(),t=new z(n).finishUnaryExpression(e.value,t);else{if(Y("delete")||Y("void")||Y("typeof"))throw new Error("Disabled.");t=ie()}}return t}function se(e,t){var n=0;if(e.type!==_e.Punctuator&&e.type!==_e.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=t?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function oe(){var e,t,n,r,i,a,s,o,u,l;if(e=De,u=ae(),r=De,i=se(r,Ne.allowIn),0===i)return u;for(r.prec=i,D(),t=[e,De],s=ae(),a=[u,r,s];(i=se(De,Ne.allowIn))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)s=a.pop(),o=a.pop().value,u=a.pop(),t.pop(),n=new z(t[t.length-1]).finishBinaryExpression(o,u,s),a.push(n);r=D(),r.prec=i,a.push(r),t.push(De),n=ae(),a.push(n)}for(l=a.length-1,n=a[l],t.pop();l>1;)n=new z(t.pop()).finishBinaryExpression(a[l-1].value,a[l-2],n),l-=2;return n}function ue(){var e,t,n,r,i;return i=De,e=oe(),$("?")&&(D(),t=Ne.allowIn,Ne.allowIn=!0,n=le(),Ne.allowIn=t,G(":"),r=le(),e=new z(i).finishConditionalExpression(e,n,r)),e}function le(){var e,t,n,r;return e=Ne.parenthesisCount,r=De,t=De,n=ue()}function ce(){var e=le();if($(","))throw new Error("Disabled.");return e}function de(e){var t=ce();return H(),e.finishExpressionStatement(t)}function fe(){var e,t,n=De.type;if(n===_e.EOF&&q(De),n===_e.Punctuator&&"{"===De.value)throw new Error("Disabled.");if(t=new U,n===_e.Punctuator)switch(De.value){case";":throw new Error("Disabled.");case"(":return de(t)}else if(n===_e.Keyword)throw new Error("Disabled.");return e=ce(),H(),t.finishExpressionStatement(e)}function he(){if(De.type===_e.Keyword)switch(De.value){case"const":case"let":throw new Error("Disabled.");case"function":throw new Error("Disabled.");default:return fe()}return De.type!==_e.EOF?fe():void 0}function pe(){for(var e,t,n,r,i=[];Ce>Ae&&(t=De,t.type===_e.StringLiteral)&&(e=he(),i.push(e),e.expression.type===xe.Literal);)n=Me.slice(t.start+1,t.end-1),"use strict"===n?(Te=!0,r&&R(r,ke.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(;Ce>Ae&&(e=he(),"undefined"!=typeof e);)i.push(e);return i}function ge(){var e,t;return d(),N(),t=new U,Te=!0,e=pe(),t.finishProgram(e)}function me(){var e,t,n,r=[];for(e=0;e<Pe.tokens.length;++e)t=Pe.tokens[e],n={type:t.type,value:t.value},t.regex&&(n.regex={pattern:t.regex.pattern,flags:t.regex.flags}),Pe.range&&(n.range=t.range),Pe.loc&&(n.loc=t.loc),r.push(n);Pe.tokens=r}function ve(e,t){var n,r;n=String,"string"==typeof e||e instanceof String||(e=n(e)),Me=e,Ae=0,Ee=Me.length>0?1:0,Le=0,Ce=Me.length,De=null,Ne={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Pe={},t=t||{},t.tokens=!0,Pe.tokens=[],Pe.tokenize=!0,Pe.openParenToken=-1,Pe.openCurlyToken=-1,Pe.range="boolean"==typeof t.range&&t.range,Pe.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.tolerant&&t.tolerant&&(Pe.errors=[]);try{if(N(),De.type===_e.EOF)return Pe.tokens;for(D();De.type!==_e.EOF;)try{D()}catch(i){if(Pe.errors){Pe.errors.push(i);break}throw i}me(),r=Pe.tokens,"undefined"!=typeof Pe.errors&&(r.errors=Pe.errors)}catch(a){throw a}finally{Pe={}}return r}function ye(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),Me=e,Ae=0,Ee=Me.length>0?1:0,Le=0,Ce=Me.length,De=null,Ne={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Pe={},"undefined"!=typeof t&&(Pe.range="boolean"==typeof t.range&&t.range,Pe.loc="boolean"==typeof t.loc&&t.loc,Pe.loc&&null!==t.source&&void 0!==t.source&&(Pe.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(Pe.tokens=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(Pe.errors=[]));try{n=ge(),"undefined"!=typeof Pe.tokens&&(me(),n.tokens=Pe.tokens),"undefined"!=typeof Pe.errors&&(n.errors=Pe.errors)}catch(i){throw i}finally{Pe={}}return n}var _e,be,xe,we,ke,Se,Me,Te,Ae,Ee,Le,Ce,De,Ne,Pe;_e={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},be={},be[_e.BooleanLiteral]="Boolean",be[_e.EOF]="<end>",be[_e.Identifier]="Identifier",be[_e.Keyword]="Keyword",be[_e.NullLiteral]="Null",be[_e.NumericLiteral]="Numeric",be[_e.Punctuator]="Punctuator",be[_e.StringLiteral]="String",be[_e.RegularExpression]="RegularExpression",xe={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",UnaryExpression:"UnaryExpression"},we={Data:1,Get:2,Set:4},ke={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},Se={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},z.prototype=U.prototype={finish:function(){Pe.range&&(this.range[1]=Ae),Pe.loc&&(this.loc.end=new P,Pe.source&&(this.loc.source=Pe.source))},finishArrayExpression:function(e){return this.type=xe.ArrayExpression,this.elements=e,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=xe.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBinaryExpression:function(e,t,n){return this.type="||"===e||"&&"===e?xe.LogicalExpression:xe.BinaryExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishCallExpression:function(e,t){return this.type=xe.CallExpression,this.callee=e,this.arguments=t,this.finish(),this},finishConditionalExpression:function(e,t,n){return this.type=xe.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishExpressionStatement:function(e){return this.type=xe.ExpressionStatement,this.expression=e,this.finish(),this},finishIdentifier:function(e){return this.type=xe.Identifier,this.name=e,this.finish(),this},finishLiteral:function(e){return this.type=xe.Literal,this.value=e.value,this.raw=Me.slice(e.start,e.end),e.regex&&("//"==this.raw&&(this.raw="/(?:)/"),this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=xe.MemberExpression,this.computed="["===e,this.object=t,this.property=n,this.finish(),this},finishObjectExpression:function(e){return this.type=xe.ObjectExpression,this.properties=e,this.finish(),this},finishProgram:function(e){return this.type=xe.Program,this.body=e,this.finish(),this},finishProperty:function(e,t,n){return this.type=xe.Property,this.key=t,this.value=n,this.kind=e,this.finish(),this},finishUnaryExpression:function(e,t){return this.type=xe.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this}};var Ie={"if":1,"this":1};return{tokenize:ve,parse:ye}}()},{}],45:[function(e,t,n){function r(e){e="[Vega Log] "+e,console.log(e)}function i(e){e="[Vega Err] "+e,console.error(e)}function a(e,t){if(a.enable){var n=Function.prototype.bind.call(console.log,console),r={prevTime:Date.now()-s,stamp:e.stamp};e.add&&(r.add=e.add.length,r.mod=e.mod.length,r.rem=e.rem.length,r.reflow=!!e.reflow),n.apply(console,(t.push(JSON.stringify(r)),t)),s=Date.now()}}var s=Date.now();t.exports={log:r,error:i,debug:(a.enable=!1,a)}},{}],46:[function(e,t,n){t.exports={path:e("./path"),render:e("./render"),Item:e("./util/Item"),bound:e("./util/bound"),Bounds:e("./util/Bounds"),Gradient:e("./util/Gradient"),toJSON:e("./util/scene").toJSON,fromJSON:e("./util/scene").fromJSON}},{"./path":48,"./render":68,"./util/Bounds":74,"./util/Gradient":76,"./util/Item":78,"./util/bound":79,"./util/scene":83}],47:[function(e,t,n){function r(e,t,n,r,i,s,u,l,c){var d=o.call(arguments);if(a[d])return a[d];var f=u*(Math.PI/180),h=Math.sin(f),p=Math.cos(f);n=Math.abs(n),r=Math.abs(r);var g=p*(l-e)*.5+h*(c-t)*.5,m=p*(c-t)*.5-h*(l-e)*.5,v=g*g/(n*n)+m*m/(r*r);v>1&&(v=Math.sqrt(v),n*=v,r*=v);var y=p/n,_=h/n,b=-h/r,x=p/r,w=y*l+_*c,k=b*l+x*c,S=y*e+_*t,M=b*e+x*t,T=(S-w)*(S-w)+(M-k)*(M-k),A=1/T-.25;0>A&&(A=0);var E=Math.sqrt(A);s==i&&(E=-E);var L=.5*(w+S)-E*(M-k),C=.5*(k+M)+E*(S-w),D=Math.atan2(k-C,w-L),N=Math.atan2(M-C,S-L),P=N-D;0>P&&1===s?P+=2*Math.PI:P>0&&0===s&&(P-=2*Math.PI);for(var I=Math.ceil(Math.abs(P/(.5*Math.PI+.001))),O=[],U=0;I>U;++U){var z=D+U*P/I,j=D+(U+1)*P/I;O[U]=[L,C,z,j,n,r,h,p]}return a[d]=O}function i(e){var t=o.call(e);if(s[t])return s[t];var n=e[0],r=e[1],i=e[2],a=e[3],u=e[4],l=e[5],c=e[6],d=e[7],f=d*u,h=-c*l,p=c*u,g=d*l,m=Math.cos(i),v=Math.sin(i),y=Math.cos(a),_=Math.sin(a),b=.5*(a-i),x=Math.sin(.5*b),w=8/3*x*x/Math.sin(b),k=n+m-w*v,S=r+v+w*m,M=n+y,T=r+_,A=M+w*_,E=T-w*y;return s[t]=[f*k+h*S,p*k+g*S,f*A+h*E,p*A+g*E,f*M+h*T,p*M+g*T]}var a={},s={},o=[].join;t.exports={segments:r,bezier:i,cache:{segments:a,bezier:s}}},{}],48:[function(e,t,n){t.exports={parse:e("./parse"),render:e("./render")}},{"./parse":49,"./render":50}],49:[function(e,t,n){var r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},i=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];t.exports=function(e){var t,n,a,s,o,u,l,c,d,f,h,p=[];for(t=e.slice().replace(i[0],"###$1").split(i[1]).slice(1),c=0,f=t.length;f>c;++c){for(n=t[c],a=n.slice(1).trim().replace(i[2],"$1###$2").split(i[3]),u=n.charAt(0),s=[u],d=0,h=a.length;h>d;++d)(o=+a[d])===o&&s.push(o);if(l=r[u.toLowerCase()],s.length-1>l)for(d=1,h=s.length;h>d;d+=l)p.push([u].concat(s.slice(d,d+l)));else p.push(s)}return p}},{}],50:[function(e,t,n){function r(e,t,n,r){for(var a=i.segments(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),s=0;s<a.length;++s){var o=i.bezier(a[s]);e.bezierCurveTo.apply(e,o)}}var i=e("./arc");t.exports=function(e,t,n,i){var a,s,o,u,l,c=null,d=0,f=0,h=0,p=0;null==n&&(n=0),null==i&&(i=0),e.beginPath();for(var g=0,m=t.length;m>g;++g){switch(a=t[g],a[0]){case"l":d+=a[1],f+=a[2],e.lineTo(d+n,f+i);break;case"L":d=a[1],f=a[2],e.lineTo(d+n,f+i);break;case"h":d+=a[1],e.lineTo(d+n,f+i);break;case"H":d=a[1],e.lineTo(d+n,f+i);break;case"v":f+=a[1],e.lineTo(d+n,f+i);break;case"V":f=a[1],e.lineTo(d+n,f+i);break;case"m":d+=a[1],f+=a[2],e.moveTo(d+n,f+i);break;case"M":d=a[1],f=a[2],e.moveTo(d+n,f+i);break;case"c":s=d+a[5],o=f+a[6],h=d+a[3],p=f+a[4],e.bezierCurveTo(d+a[1]+n,f+a[2]+i,h+n,p+i,s+n,o+i),d=s,f=o;break;case"C":d=a[5],f=a[6],h=a[3],p=a[4],e.bezierCurveTo(a[1]+n,a[2]+i,h+n,p+i,d+n,f+i);break;case"s":s=d+a[3],o=f+a[4],h=2*d-h,p=2*f-p,e.bezierCurveTo(h+n,p+i,d+a[1]+n,f+a[2]+i,s+n,o+i),h=d+a[1],p=f+a[2],d=s,f=o;break;case"S":s=a[3],o=a[4],h=2*d-h,p=2*f-p,e.bezierCurveTo(h+n,p+i,a[1]+n,a[2]+i,s+n,o+i),d=s,f=o,h=a[1],p=a[2];break;case"q":s=d+a[3],o=f+a[4],h=d+a[1],p=f+a[2],e.quadraticCurveTo(h+n,p+i,s+n,o+i),d=s,f=o;break;case"Q":s=a[3],o=a[4],e.quadraticCurveTo(a[1]+n,a[2]+i,s+n,o+i),d=s,f=o,h=a[1],p=a[2];break;case"t":s=d+a[1],o=f+a[2],null===c[0].match(/[QqTt]/)?(h=d,p=f):"t"===c[0]?(h=2*d-u,p=2*f-l):"q"===c[0]&&(h=2*d-h,p=2*f-p),u=h,l=p,e.quadraticCurveTo(h+n,p+i,s+n,o+i),d=s,f=o,h=d+a[1],p=f+a[2];break;case"T":s=a[1],o=a[2],h=2*d-h,p=2*f-p,e.quadraticCurveTo(h+n,p+i,s+n,o+i),d=s,f=o;break;case"a":r(e,d+n,f+i,[a[1],a[2],a[3],a[4],a[5],a[6]+d+n,a[7]+f+i]),d+=a[6],f+=a[7];break;case"A":r(e,d+n,f+i,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+i]),d=a[6],f=a[7];break;case"z":case"Z":e.closePath()}c=a}}},{"./arc":47}],51:[function(e,t,n){function r(){this._active=null,this._handlers={}}var i=r.prototype;i.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.padding(t)},i.element=function(){return this._el},i.padding=function(e){return this._padding=e||{top:0,left:0,bottom:0,right:0},this},i.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},i.on=function(){},i.off=function(){},i.handlers=function(){var e,t=this._handlers,n=[];for(e in t)n.push.apply(n,t[e]);return n},i.eventName=function(e){var t=e.indexOf(".");return 0>t?e:e.slice(0,t)},t.exports=r},{}],52:[function(e,t,n){function r(){this._el=null,this._bgcolor=null}var i=r.prototype;i.initialize=function(e,t,n,r){return this._el=e,this.resize(t,n,r)},i.element=function(){return this._el},i.scene=function(){return this._el&&this._el.firstChild},i.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},i.resize=function(e,t,n){return this._width=e,this._height=t,this._padding=n||{top:0,left:0,bottom:0,right:0},this},i.render=function(){return this},t.exports=r},{}],53:[function(e,t,n){function r(){a.call(this),this._down=null,this._touch=null,this._first=!0}var i=e("../../util/dom"),a=e("../Handler"),s=e("./marks"),o=a.prototype,u=r.prototype=Object.create(o);u.constructor=r,u.initialize=function(e,t,n){var r=this._canvas=i.find(e,"canvas"),a=this;return this.events.forEach(function(e){r.addEventListener(e,function(t){u[e]?u[e].call(a,t):a.fire(e,t)})}),o.initialize.call(this,e,t,n)},u.canvas=function(){return this._canvas},u.context=function(){return this._canvas.getContext("2d")},u.events=["keydown","keypress","keyup","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],u.DOMMouseScroll=function(e){this.fire("mousewheel",e)},u.mousemove=function(e){var t=this._active,n=this.pickEvent(e);n===t?this.fire("mousemove",e):(this.fire("mouseout",e),this._active=n,this.fire("mouseover",e),this.fire("mousemove",e))},u.mouseout=function(e){this.fire("mouseout",e),this._active=null},u.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},u.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},u.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},u.touchmove=function(e){this.fire("touchmove",e,!0)},u.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},u.fire=function(e,t,n){var r,i,a=n?this._touch:this._active,s=this._handlers[e];if(s)for(t.vegaType=e,r=0,i=s.length;i>r;++r)s[r].handler.call(this._obj,t,a)},u.on=function(e,t){var n=this.eventName(e),r=this._handlers;return(r[n]||(r[n]=[])).push({type:e,handler:t}),this},u.off=function(e,t){var n,r=this.eventName(e),i=this._handlers[r];if(i){for(n=i.length;--n>=0;)i[n].type===e&&(t&&i[n].handler!==t||i.splice(n,1));return this}},u.pickEvent=function(e){var t,n,r=this._canvas.getBoundingClientRect(),i=this._padding;return this.pick(this._scene,t=e.clientX-r.left,n=e.clientY-r.top,t-i.left,n-i.top)},u.pick=function(e,t,n,r,i){var a=this.context(),o=s[e.marktype];return o.pick.call(this,a,e,t,n,r,i)},t.exports=r},{"../../util/dom":81,"../Handler":51,"./marks":60}],54:[function(e,t,n){function r(e){c.call(this),this._loader=new u(e)}function i(e,t){if(!t)return null;var n,r,i,s,u,l=new o;for(n=0,r=t.length;r>n;++n)i=t[n],s=i.mark,u=s.group,i=d[s.marktype].nested?s:i,l.union(a(i.bounds,u)),i["bounds:prev"]&&l.union(a(i["bounds:prev"],u));return l.round(),e.beginPath(),e.rect(l.x1,l.y1,l.width(),l.height()),e.clip(),l}function a(e,t){if(null==t)return e;for(var n=e.clone();null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}var s=e("../../util/dom"),o=e("../../util/Bounds"),u=e("../../util/ImageLoader"),l=e("../../util/canvas"),c=e("../Renderer"),d=e("./marks");r.RETINA=!0;var f=c.prototype,h=r.prototype=Object.create(f);h.constructor=r,h.initialize=function(e,t,n,r){return this._canvas=l.instance(t,n),e&&(s.clear(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),f.initialize.call(this,e,t,n,r)},h.resize=function(e,t,n){return f.resize.call(this,e,t,n),l.resize(this._canvas,this._width,this._height,this._padding,r.RETINA),this},h.canvas=function(){return this._canvas},h.context=function(){return this._canvas?this._canvas.getContext("2d"):null},h.pendingImages=function(){return this._loader.pending()},h.render=function(e,t){var n,r=this.context(),a=this._padding,s=this._width+a.left+a.right,o=this._height+a.top+a.bottom;return this._scene=e,r.save(),n=i(r,t),this.clear(-a.left,-a.top,s,o),this.draw(r,e,n),r.restore(),this._scene=null,this},h.draw=function(e,t,n){var r=d[t.marktype];r.draw.call(this,e,t,n)},h.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))},h.loadImage=function(e){var t=this,n=this._scene;return this._loader.loadImage(e,function(){t.renderAsync(n)})},h.renderAsync=function(e){var t=this;t._async_id&&clearTimeout(t._async_id),t._async_id=setTimeout(function(){t.render(e),delete t._async_id},10)},t.exports=r},{"../../util/Bounds":74,"../../util/ImageLoader":77,"../../util/canvas":80,"../../util/dom":81,"../Renderer":52,"./marks":60}],55:[function(e,t,n){t.exports={Handler:e("./CanvasHandler"),Renderer:e("./CanvasRenderer")}},{"./CanvasHandler":53,"./CanvasRenderer":54}],56:[function(e,t,n){function r(e,t){var n=t.x||0,r=t.y||0,i=t.innerRadius||0,s=t.outerRadius||0,o=(t.startAngle||0)-a,u=(t.endAngle||0)-a;e.beginPath(),0===i?e.moveTo(n,r):e.arc(n,r,i,o,u,0),e.arc(n,r,s,u,o,1),e.closePath()}var i=e("./util"),a=Math.PI/2;t.exports={draw:i.drawAll(r),pick:i.pickPath(r)}},{"./util":67}],57:[function(e,t,n){function r(e,t){var n=t[0],r=n.pathCache||(n.pathCache=s(u(t)));o(e,r)}function i(e,t,n,r,i,a){var s=t.items,o=t.bounds;return!s||!s.length||o&&!o.contains(i,a)?null:(null!=e.pixelratio&&1!==e.pixelratio&&(n*=e.pixelratio,r*=e.pixelratio),l(e,s,n,r)?s[0]:null)}var a=e("./util"),s=e("../../../path/parse"),o=e("../../../path/render"),u=e("../../../util/svg").path.area,l=a.testPath(r);t.exports={draw:a.drawOne(r),pick:i,nested:!0}},{"../../../path/parse":49,"../../../path/render":50,"../../../util/svg":84,"./util":67}],58:[function(e,t,n){function r(e,t,n){if(t.items&&t.items.length){var r,i,a,s,u,l,c,d,f,h,p=t.items,g=this;for(o.draw.call(g,e,t,n),c=0,d=p.length;d>c;++c){for(r=p[c],a=r.axisItems||[],i=r.items||[],s=r.legendItems||[],u=r.x||0,l=r.y||0,e.save(),e.translate(u,l),r.clip&&(e.beginPath(),e.rect(0,0,r.width||0,r.height||0),e.clip()),n&&n.translate(-u,-l),f=0,h=a.length;h>f;++f)"back"===a[f].layer&&g.draw(e,a[f],n);for(f=0,h=i.length;h>f;++f)g.draw(e,i[f],n);for(f=0,h=a.length;h>f;++f)"back"!==a[f].layer&&g.draw(e,a[f],n);for(f=0,h=s.length;h>f;++f)g.draw(e,s[f],n);n&&n.translate(u,l),e.restore()}}}function i(e,t){return t.fill||t.stroke}function a(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a))return null;var s,o,l,c,d,f,h,p=t.items||[];for(f=p.length;--f>=0;){for(o=p[f],c=o.x||0,d=o.y||0,e.save(),e.translate(c,d),h=o.items.length;--h>=0;)if(s=o.items[h],s.interactive!==!1&&(l=this.pick(s,n,r,i-c,a-d)))return e.restore(),l;e.restore()}return t.interactive!==!1?u(e,t,n,r,i,a):null}var s=e("./util"),o=e("./rect"),u=s.pick(i);t.exports={draw:r,pick:a}},{"./rect":63,"./util":67}],59:[function(e,t,n){function r(e,t,n){if(t.items&&t.items.length)for(var r,i=this,a=t.items,s=0,o=a.length;o>s;++s)if(r=a[s],!n||n.intersects(r.bounds)){r.image&&r.image.url===r.url||(r.image=i.loadImage(r.url),r.image.url=r.url);var u,l=r.x||0,c=r.y||0,d=r.width||r.image&&r.image.width||0,f=r.height||r.image&&r.image.height||0;l-="center"===r.align?d/2:"right"===r.align?d:0,c-="middle"===r.baseline?f/2:"bottom"===r.baseline?f:0,r.image.loaded&&(e.globalAlpha=null!=(u=r.opacity)?u:1,e.drawImage(r.image,l,c,d,f))}}var i=e("./util");t.exports={draw:r,pick:i.pick()}},{"./util":67}],60:[function(e,t,n){t.exports={arc:e("./arc"),area:e("./area"),group:e("./group"),image:e("./image"),line:e("./line"),path:e("./path"),rect:e("./rect"),rule:e("./rule"),symbol:e("./symbol"),text:e("./text")}},{"./arc":56,"./area":57,"./group":58,"./image":59,"./line":61,"./path":62,"./rect":63,"./rule":64,"./symbol":65,"./text":66}],61:[function(e,t,n){function r(e,t){var n=t[0],r=n.pathCache||(n.pathCache=s(u(t)));o(e,r)}function i(e,t,n,r,i,a){var s=t.items,o=t.bounds;return!s||!s.length||o&&!o.contains(i,a)?null:(null!=e.pixelratio&&1!==e.pixelratio&&(n*=e.pixelratio,r*=e.pixelratio),l(e,s,n,r)?s[0]:null)}var a=e("./util"),s=e("../../../path/parse"),o=e("../../../path/render"),u=e("../../../util/svg").path.line,l=a.testPath(r,!1);t.exports={draw:a.drawOne(r),pick:i,nested:!0}},{"../../../path/parse":49,"../../../path/render":50,"../../../util/svg":84,"./util":67}],62:[function(e,t,n){function r(e,t){if(null==t.path)return!0;var n=t.pathCache||(t.pathCache=a(t.path));s(e,n,t.x,t.y)}var i=e("./util"),a=e("../../../path/parse"),s=e("../../../path/render");t.exports={draw:i.drawAll(r),pick:i.pickPath(r)}},{"../../../path/parse":49,"../../../path/render":50,"./util":67}],63:[function(e,t,n){function r(e,t,n){if(t.items&&t.items.length)for(var r,a,s,o,u,l,c=t.items,d=0,f=c.length;f>d;++d)r=c[d],(!n||n.intersects(r.bounds))&&(a=null==r.opacity?1:r.opacity,0!==a&&(s=r.x||0,o=r.y||0,u=r.width||0,l=r.height||0,r.fill&&i.fill(e,r,a)&&e.fillRect(s,o,u,l),r.stroke&&i.stroke(e,r,a)&&e.strokeRect(s,o,u,l)))}var i=e("./util");t.exports={draw:r,pick:i.pick()}},{"./util":67}],64:[function(e,t,n){function r(e,t,n){if(t.items&&t.items.length)for(var r,i,a,o,u,l,c=t.items,d=0,f=c.length;f>d;++d)r=c[d],(!n||n.intersects(r.bounds))&&(i=null==r.opacity?1:r.opacity,0!==i&&(a=r.x||0,o=r.y||0,u=null!=r.x2?r.x2:a,l=null!=r.y2?r.y2:o,r.stroke&&s.stroke(e,r,i)&&(e.beginPath(),e.moveTo(a,o),e.lineTo(u,l),e.stroke())))}function i(e,t){var n=t.x||0,r=t.y||0,i=null!=t.x2?t.x2:n,a=null!=t.y2?t.y2:r,s=t.strokeWidth,o=t.strokeCap;e.lineWidth=null!=s?s:1,e.lineCap=null!=o?o:"butt",e.beginPath(),e.moveTo(n,r),e.lineTo(i,a)}function a(e,t,n,r){return e.isPointInStroke?(i(e,t),e.isPointInStroke(n,r)):!1}var s=e("./util");t.exports={draw:r,pick:s.pick(a)}},{"./util":67}],65:[function(e,t,n){function r(e,t){var n,r,i,o,u=null!=t.size?t.size:100,l=t.x,c=t.y;if(e.beginPath(),null==t.shape||"circle"===t.shape)return n=Math.sqrt(u/Math.PI),e.arc(l,c,n,0,2*Math.PI,0),void e.closePath();switch(t.shape){case"cross":n=Math.sqrt(u/5)/2,r=3*n,e.moveTo(l-r,c-n),e.lineTo(l-n,c-n),e.lineTo(l-n,c-r),e.lineTo(l+n,c-r),e.lineTo(l+n,c-n),e.lineTo(l+r,c-n),e.lineTo(l+r,c+n),e.lineTo(l+n,c+n),e.lineTo(l+n,c+r),e.lineTo(l-n,c+r),e.lineTo(l-n,c+n),e.lineTo(l-r,c+n);break;case"diamond":o=Math.sqrt(u/(2*s)),i=o*s,e.moveTo(l,c-o),e.lineTo(l+i,c),e.lineTo(l,c+o),e.lineTo(l-i,c);break;case"square":r=Math.sqrt(u),n=r/2,e.rect(l-n,c-n,r,r);break;case"triangle-down":i=Math.sqrt(u/a),o=i*a/2,e.moveTo(l,c+o),e.lineTo(l+i,c-o),e.lineTo(l-i,c-o);break;case"triangle-up":i=Math.sqrt(u/a),o=i*a/2,e.moveTo(l,c-o),e.lineTo(l+i,c+o),e.lineTo(l-i,c+o)}e.closePath()}var i=e("./util"),a=Math.sqrt(3),s=Math.tan(30*Math.PI/180);t.exports={draw:i.drawAll(r),pick:i.pickPath(r)}},{"./util":67}],66:[function(e,t,n){function r(e,t,n){if(t.items&&t.items.length)for(var r,i,a,s,l,c,d=t.items,f=0,h=d.length;h>f;++f)r=d[f],(!n||n.intersects(r.bounds))&&(i=null==r.opacity?1:r.opacity,0!==i&&(e.font=o.string(r),e.textAlign=r.align||"left",a=r.x||0,s=r.y||0,(l=r.radius)&&(c=(r.theta||0)-Math.PI/2,a+=l*Math.cos(c),s+=l*Math.sin(c)),r.angle&&(e.save(),e.translate(a,s),e.rotate(r.angle*Math.PI/180),a=s=0),a+=r.dx||0,s+=(r.dy||0)+o.offset(r),r.fill&&u.fill(e,r,i)&&e.fillText(r.text,a,s),r.stroke&&u.stroke(e,r,i)&&e.strokeText(r.text,a,s),r.angle&&e.restore()))}function i(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=s(t,l,!0),u=-t.angle*Math.PI/180,c=Math.cos(u),d=Math.sin(u),f=t.x,h=t.y,p=c*i-d*a+(f-f*c+h*d),g=d*i+c*a+(h-f*d-h*c);
return o.contains(p,g)}var a=e("../../../util/Bounds"),s=e("../../../util/bound").text,o=e("../../../util/font"),u=e("./util"),l=new a;t.exports={draw:r,pick:u.pick(i)}},{"../../../util/Bounds":74,"../../../util/bound":79,"../../../util/font":82,"./util":67}],67:[function(e,t,n){function r(e,t,n,r){if(!e(t,r)){var i=null==n.opacity?1:n.opacity;0!==i&&(n.fill&&c(t,n,i)&&t.fill(),n.stroke&&d(t,n,i)&&t.stroke())}}function i(e,t,n,i){var a,s,o;for(a=0,s=n.items.length;s>a;++a)o=n.items[a],(!i||i.intersects(o.bounds))&&r(e,t,o,o)}function a(e){return function(t,n,r){i(e,t,n,r)}}function s(e){return function(t,n,i){n.items.length&&(!i||i.intersects(n.bounds))&&r(e,t,n.items[0],n.items)}}function o(e){return e||(e=p),function(t,n,r,i,a,s){if(!n.items.length)return null;var o,u,l;for(null!=t.pixelratio&&1!==t.pixelratio&&(r*=t.pixelratio,i*=t.pixelratio),l=n.items.length;--l>=0;)if(o=n.items[l],u=o.bounds,(!u||u.contains(a,s))&&u&&e(t,o,r,i,a,s))return o;return null}}function u(e,t){return function(n,r,i,a){var s,o,u=Array.isArray(r)?r[0]:r,l=null==t?u.fill:t,c=u.stroke&&n.isPointInStroke;return c&&(s=u.strokeWidth,o=u.strokeCap,n.lineWidth=null!=s?s:1,n.lineCap=null!=o?o:"butt"),e(n,r)?!1:l&&n.isPointInPath(i,a)||c&&n.isPointInStroke(i,a)}}function l(e){return o(u(e))}function c(e,t,n){return n*=null==t.fillOpacity?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=f(e,t,t.fill),!0):!1}function d(e,t,n){var r,i=null!=(i=t.strokeWidth)?i:1;return 0>=i?!1:(n*=null==t.strokeOpacity?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=f(e,t,t.stroke),e.lineWidth=i,e.lineCap=null!=(r=t.strokeCap)?r:"butt",e.vgLineDash(t.strokeDash||null),e.vgLineDashOffset(t.strokeDashOffset||0),!0):!1)}function f(e,t,n){return n.id?h(e,n,t.bounds):n}function h(e,t,n){var r,i,a=n.width(),s=n.height(),o=n.x1+t.x1*a,u=n.y1+t.y1*s,l=n.x1+t.x2*a,c=n.y1+t.y2*s,d=e.createLinearGradient(o,u,l,c),f=t.stops;for(r=0,i=f.length;i>r;++r)d.addColorStop(f[r].offset,f[r].color);return d}var p=function(){return!0};t.exports={drawOne:s,drawAll:a,pick:o,pickPath:l,testPath:u,stroke:d,fill:c,color:f,gradient:h}},{}],68:[function(e,t,n){t.exports={canvas:e("./canvas"),svg:e("./svg")}},{"./canvas":55,"./svg":72}],69:[function(e,t,n){function r(){a.call(this)}var i=e("../../util/dom"),a=e("../Handler"),s=a.prototype,o=r.prototype=Object.create(s);o.constructor=r,o.initialize=function(e,t,n){return this._svg=i.find(e,"svg"),s.initialize.call(this,e,t,n)},o.svg=function(){return this._svg},o.listener=function(e){var t=this;return function(n){var r=n.target,i=r.__data__;n.vegaType=n.type,i=Array.isArray(i)?i[0]:i,e.call(t._obj,n,i)}},o.on=function(e,t){var n=this.eventName(e),r=this._svg,i=this._handlers,a={type:e,handler:t,listener:this.listener(t)};return(i[n]||(i[n]=[])).push(a),r.addEventListener(n,a.listener),this},o.off=function(e,t){var n,r=this.eventName(e),i=this._svg,a=this._handlers[r];if(a){for(n=a.length;--n>=0;)(a[n].type===e&&!t||a[n].handler===t)&&(i.removeEventListener(r,a[n].listener),a.splice(n,1));return this}},t.exports=r},{"../../util/dom":81,"../Handler":51}],70:[function(e,t,n){function r(e){c.call(this),this._loader=new l(e),this._dirtyID=0}function i(e,t,n){var r,i,a;for(e=f.child(e,n,"linearGradient",p),e.setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2),r=0,i=t.stops.length;i>r;++r)a=f.child(e,r,"stop",p),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);f.clear(e,r)}function a(e,t,n){var r;e=f.child(e,n,"clipPath",p),e.setAttribute("id",t.id),r=f.child(e,0,"rect",p),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)}function s(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function o(e,t,n,r,i){var a=f.child(e,r,t.tag,p,null,i);if(a.__data__=n,a.__values__={fill:"default"},"g"===t.tag){var s=f.child(a,0,"rect",p,"background");s.__data__=n}return n._svg=a}function u(e,t,n){t!==b[e]&&(null!=t?n?_.setAttributeNS(n,e,t):_.setAttribute(e,t):n?_.removeAttributeNS(n,e):_.removeAttribute(e),b[e]=t)}var l=e("../../util/ImageLoader"),c=e("../Renderer"),d=e("../../util/font"),f=e("../../util/dom"),h=e("../../util/svg"),p=h.metadata.xmlns,g=e("./marks"),m=c.prototype,v=r.prototype=Object.create(m);v.constructor=r,v.initialize=function(e,t,n,r){return e&&(this._svg=f.child(e,0,"svg",p,"marks"),f.clear(e,1),this._root=f.child(this._svg,0,"g",p),f.clear(this._svg,1)),this._defs={clip_id:1,gradient:{},clipping:{}},this.background(this._bgcolor),m.initialize.call(this,e,t,n,r)},v.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),m.background.apply(this,arguments)},v.resize=function(e,t,n){if(m.resize.call(this,e,t,n),this._svg){var r=this._width,i=this._height,a=this._padding;this._svg.setAttribute("width",r+a.left+a.right),this._svg.setAttribute("height",i+a.top+a.bottom),this._root.setAttribute("transform","translate("+a.left+","+a.top+")")}return this},v.svg=function(){if(!this._svg)return null;var e={"class":"marks",width:this._width+this._padding.left+this._padding.right,height:this._height+this._padding.top+this._padding.bottom};for(var t in h.metadata)e[t]=h.metadata[t];return f.openTag("svg",e)+this._svg.innerHTML+f.closeTag("svg")},v.imageURL=function(e){return this._loader.imageURL(e)},v.render=function(e,t){return this._dirtyCheck(t)&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e,-1),f.clear(this._root,1)),this.updateDefs(),this},v.draw=function(e,t,n){this.drawMark(e,t,n,g[t.marktype])},v.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,s=0;for(e in n.gradient)r||(r=n.el=f.child(t,0,"defs",p)),i(r,n.gradient[e],s++);for(e in n.clipping)r||(r=n.el=f.child(t,0,"defs",p)),a(r,n.clipping[e],s++);r&&(0===s?(t.removeChild(r),n.el=null):f.clear(r,s))},v._resetDefs=function(){var e=this._defs;e.clip_id=1,e.gradient={},e.clipping={}},v.isDirty=function(e){return this._dirtyAll||e.dirty===this._dirtyID},v._dirtyCheck=function(e){if(this._dirtyAll=!0,!e)return!0;var t,n,r,i,a,o,u,l=++this._dirtyID;for(a=0,o=e.length;o>a;++a)t=e[a],n=t.mark,n.marktype!==r&&(r=n.marktype,i=g[r]),"exit"!==t.status?(t=i.nest?n.items[0]:t,t._update!==l&&(t._svg?this._update(i,t._svg,t):(this._dirtyAll=!1,s(t,l)),t._update=l)):t._svg&&(i.nest&&t.mark.items.length?(this._update(i,t._svg,t.mark.items[0]),u=t.mark.items[0],u._svg=t._svg,u._update=l):f.remove(t._svg),t._svg=null);return!this._dirtyAll},v.drawMark=function(e,t,n,r){if(this.isDirty(t)){var i,a,s,u,l,c,d=r.nest?t.items&&t.items.length?[t.items[0]]:[]:t.items||[],h=t.interactive===!1?"none":null,g="g"===r.tag,m=f.cssClass(t);for(i=f.child(e,n+1,"g",p,m),i.setAttribute("class",m),t._svg=i,!g&&h&&i.style.setProperty("pointer-events",h),a=0,s=d.length;s>a;++a)this.isDirty(l=d[a])&&(c=!(this._dirtyAll||l._svg),u=c?o(i,r,l,a,!0):i.childNodes[a]||o(i,r,l,a),this._update(r,u,l),g&&(c&&(this._dirtyAll=!0),this._recurse(u,l),c&&(this._dirtyAll=!1)));return f.clear(i,a),i}},v._recurse=function(e,t){var n,r,i=t.items||[],a=t.legendItems||[],s=t.axisItems||[],o=0;for(n=0,r=s.length;r>n;++n)"back"===s[n].layer&&this.drawMark(e,s[n],o++,g.group);for(n=0,r=i.length;r>n;++n)this.draw(e,i[n],o++);for(n=0,r=s.length;r>n;++n)"back"!==s[n].layer&&this.drawMark(e,s[n],o++,g.group);for(n=0,r=a.length;r>n;++n)this.drawMark(e,a[n],o++,g.group);f.clear(e,1+o)};var y="undefined"!=typeof window?window.location.href:"",_=null,b=null,x={group:function(e,t,n){_=t.childNodes[0],b=t.__values__,e.background(u,n,this);var r=n.mark.interactive===!1?"none":null;r!==b.events&&(_.style.setProperty("pointer-events",r),b.events=r)},text:function(e,t,n){n.text!==b.text&&(t.textContent=n.text||"",b.text=n.text);var r=d.string(n);r!==b.font&&(t.style.setProperty("font",r),b.font=r)}};v._update=function(e,t,n){_=t,b=t.__values__,e.attr(u,n,this);var r=x[e.type];r&&r(e,t,n),this.style(_,n)},v.style=function(e,t){if(null!=t){var n,r,i,a,s;for(n=0,r=h.styleProperties.length;r>n;++n)i=h.styleProperties[n],s=t[i],s!==b[i]&&(a=h.styles[i],null==s?"fill"===a?e.style.setProperty(a,"none"):e.style.removeProperty(a):(s.id&&(this._defs.gradient[s.id]=s,s="url("+y+"#"+s.id+")"),e.style.setProperty(a,s+"")),b[i]=s)}},t.exports=r},{"../../util/ImageLoader":77,"../../util/dom":81,"../../util/font":82,"../../util/svg":84,"../Renderer":52,"./marks":73}],71:[function(e,t,n){function r(e){o.call(this),this._loader=new u(e),this._text={head:"",root:"",foot:"",defs:"",body:""},this._defs={clip_id:1,gradient:{},clipping:{}}}function i(e,t,n,r){v[r||e]=t}function a(e,t,n,r){if(null==e)return"";var i,a,s,o,u,d="";for("bgrect"===n&&t.interactive===!1&&(d+="pointer-events: none;"),"text"===n&&(d+="font: "+c.string(e)+";"),i=0,a=l.styleProperties.length;a>i;++i)s=l.styleProperties[i],o=l.styles[s],u=e[s],null==u?"fill"===o&&(d+=(d.length?" ":"")+"fill: none;"):(u.id&&(r.gradient[u.id]=u,u="url(#"+u.id+")"),d+=(d.length?" ":"")+o+": "+u+";");return d?'style="'+d+'"':null}function s(e){return e=null==e?"":String(e),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var o=e("../Renderer"),u=e("../../util/ImageLoader"),l=e("../../util/svg"),c=e("../../util/font"),d=e("../../util/dom"),f=d.openTag,h=d.closeTag,p=e("./marks"),g=o.prototype,m=r.prototype=Object.create(g);m.constructor=r,m.resize=function(e,t,n){g.resize.call(this,e,t,n);var r=this._padding,i=this._text,a={"class":"marks",width:this._width+r.left+r.right,height:this._height+r.top+r.bottom};for(var s in l.metadata)a[s]=l.metadata[s];return i.head=f("svg",a),i.root=f("g",{transform:"translate("+r.left+","+r.top+")"}),i.foot=h("g")+h("svg"),this},m.svg=function(){var e=this._text;return e.head+e.defs+e.root+e.body+e.foot},m.render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},m.reset=function(){return this._defs.clip_id=0,this},m.buildDefs=function(){var e,t,n,r,i=this._defs,a="";for(t in i.gradient){for(n=i.gradient[t],r=n.stops,a+=f("linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<r.length;++e)a+=f("stop",{offset:r[e].offset,"stop-color":r[e].color})+h("stop");a+=h("linearGradient")}for(t in i.clipping)n=i.clipping[t],a+=f("clipPath",{id:t}),a+=f("rect",{x:0,y:0,width:n.width,height:n.height})+h("rect"),a+=h("clipPath");return a.length>0?f("defs")+a+h("defs"):""},m.imageURL=function(e){return this._loader.imageURL(e)};var v;m.attributes=function(e,t){return v={},e(i,t,this),v},m.mark=function(e){var t,n,r,i=p[e.marktype],o=i.tag,u=i.attr,l=i.nest||!1,c=l?e.items&&e.items.length?[e.items[0]]:[]:e.items||[],g=this._defs,m="";for("g"!==o&&e.interactive===!1&&(t='style="pointer-events: none;"'),m+=f("g",{"class":d.cssClass(e)},t),n=0;n<c.length;++n)r=c[n],t="g"!==o?a(r,e,o,g):null,m+=f(o,this.attributes(u,r),t),"text"===o?m+=s(r.text):"g"===o&&(m+=f("rect",this.attributes(i.background,r),a(r,e,"bgrect",g))+h("rect"),m+=this.markGroup(r)),m+=h(o);return m+h("g")},m.markGroup=function(e){var t,n,r="",i=e.axisItems||[],a=e.items||[],s=e.legendItems||[];for(t=0,n=i.length;n>t;++t)"back"===i[t].layer&&(r+=this.mark(i[t]));for(t=0,n=a.length;n>t;++t)r+=this.mark(a[t]);for(t=0,n=i.length;n>t;++t)"back"!==i[t].layer&&(r+=this.mark(i[t]));for(t=0,n=s.length;n>t;++t)r+=this.mark(s[t]);return r},t.exports=r},{"../../util/ImageLoader":77,"../../util/dom":81,"../../util/font":82,"../../util/svg":84,"../Renderer":52,"./marks":73}],72:[function(e,t,n){t.exports={Handler:e("./SVGHandler"),Renderer:e("./SVGRenderer"),string:{Renderer:e("./SVGStringRenderer")}}},{"./SVGHandler":69,"./SVGRenderer":70,"./SVGStringRenderer":71}],73:[function(e,t,n){function r(e){return i(e.x||0,e.y||0)}function i(e,t){return"translate("+e+","+t+")"}var a=e("../../util/font"),s=e("../../util/svg"),o=s.textAlign,u=s.path;t.exports={arc:{tag:"path",type:"arc",attr:function(e,t){e("transform",r(t)),e("d",u.arc(t))}},area:{tag:"path",type:"area",nest:!0,attr:function(e,t){var n=t.mark.items;n.length&&e("d",u.area(n))}},group:{tag:"g",type:"group",attr:function(e,t,n){var i,a,s=null;e("transform",r(t)),t.clip&&(i=n._defs,s=t.clip_id||(t.clip_id="clip"+i.clip_id++),a=i.clipping[s]||(i.clipping[s]={id:s}),a.width=t.width||0,a.height=t.height||0),e("clip-path",s?"url(#"+s+")":null)},background:function(e,t){e("class","background"),e("width",t.width||0),e("height",t.height||0)}},image:{tag:"image",type:"image",attr:function(e,t,n){var r=t.x||0,a=t.y||0,s=t.width||0,o=t.height||0,u=n.imageURL(t.url);r-="center"===t.align?s/2:"right"===t.align?s:0,a-="middle"===t.baseline?o/2:"bottom"===t.baseline?o:0,e("href",u,"http://www.w3.org/1999/xlink","xlink:href"),e("transform",i(r,a)),e("width",s),e("height",o)}},line:{tag:"path",type:"line",nest:!0,attr:function(e,t){var n=t.mark.items;n.length&&e("d",u.line(n))}},path:{tag:"path",type:"path",attr:function(e,t){e("transform",r(t)),e("d",t.path)}},rect:{tag:"rect",type:"rect",nest:!1,attr:function(e,t){e("transform",r(t)),e("width",t.width||0),e("height",t.height||0)}},rule:{tag:"line",type:"rule",attr:function(e,t){e("transform",r(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)}},symbol:{tag:"path",type:"symbol",attr:function(e,t){e("transform",r(t)),e("d",u.symbol(t))}},text:{tag:"text",type:"text",nest:!1,attr:function(e,t){var n,r=t.dx||0,s=(t.dy||0)+a.offset(t),u=t.x||0,l=t.y||0,c=t.angle||0,d=t.radius||0;d&&(n=(t.theta||0)-Math.PI/2,u+=d*Math.cos(n),l+=d*Math.sin(n)),e("text-anchor",o[t.align]||"start"),c?(n=i(u,l)+" rotate("+c+")",(r||s)&&(n+=" "+i(r,s))):n=i(u+r,l+s),e("transform",n)}}}},{"../../util/font":82,"../../util/svg":84}],74:[function(e,t,n){function r(e){this.clear(),e&&this.union(e)}var i=r.prototype;i.clone=function(){return new r(this)},i.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},i.set=function(e,t,n,r){return this.x1=e,this.y1=t,this.x2=n,this.y2=r,this},i.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},i.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},i.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},i.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},i.rotate=function(e,t,n){var r=Math.cos(e),i=Math.sin(e),a=t-t*r+n*i,s=n-t*i-n*r,o=this.x1,u=this.x2,l=this.y1,c=this.y2;return this.clear().add(r*o-i*l+a,i*o+r*l+s).add(r*o-i*c+a,i*o+r*c+s).add(r*u-i*l+a,i*u+r*l+s).add(r*u-i*c+a,i*u+r*c+s)},i.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},i.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},i.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},i.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},i.width=function(){return this.x2-this.x1},i.height=function(){return this.y2-this.y1},t.exports=r},{}],75:[function(e,t,n){t.exports=function(e){function t(){}function n(t,n){e.add(t,n)}return{bounds:function(t){return arguments.length?(e=t,this):e},beginPath:t,closePath:t,moveTo:n,lineTo:n,quadraticCurveTo:function(t,n,r,i){e.add(t,n),e.add(r,i)},bezierCurveTo:function(t,n,r,i,a,s){e.add(t,n),e.add(r,i),e.add(a,s)}}}},{}],76:[function(e,t,n){function r(e){this.id="gradient_"+i++,this.type=e||"linear",this.stops=[],this.x1=0,this.x2=1,this.y1=0,this.y2=0}var i=0,a=r.prototype;a.stop=function(e,t){return this.stops.push({offset:e,color:t}),this},t.exports=r},{}],77:[function(e,t,n){(function(n){function r(e){this._pending=0,this._config=e||r.Config}function i(e,t){var n=s.sanitizeUrl(this.params(e));if(!n)return t&&t(e,null),null;var r=this,i=new Image;return r._pending+=1,i.onload=function(){r._pending-=1,i.loaded=!0,t&&t(null,i)},i.src=n,i}function a(e,t){var r=this,i=new("undefined"!=typeof window?window.canvas:"undefined"!=typeof n?n.canvas:null).Image;return r._pending+=1,s(this.params(e),function(e,n){return r._pending-=1,e?(t&&t(e,null),null):(i.src=n,i.loaded=!0,void(t&&t(null,i)))}),i}var s=e("datalib/src/import/load");r.Config=null;var o=r.prototype;o.pending=function(){return this._pending},o.params=function(e){var t,n={url:e};for(t in this._config)n[t]=this._config[t];return n},o.imageURL=function(e){return s.sanitizeUrl(this.params(e))},o.loadImage=function(e,t){return s.useXHR?i.call(this,e,t):a.call(this,e,t)},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"datalib/src/import/load":20}],78:[function(e,t,n){function r(e){this.mark=e}var i=r.prototype;i.hasPropertySet=function(e){var t=this.mark.def.properties;return t&&null!=t[e]},i.cousin=function(e,t){if(0===e)return this;e=e||-1;var n=this.mark,r=n.group,i=null==t?n.items.indexOf(this):t,a=r.items.indexOf(n)+e;return r.items[a].items[i]},i.sibling=function(e){if(0===e)return this;e=e||-1;var t=this.mark,n=t.items.indexOf(this)+e;return t.items[n]},i.remove=function(){var e=this,t=e.mark.items,n=t.indexOf(e);return n>=0&&(n===t.length-1?t.pop():t.splice(n,1)),e},i.touch=function(){this.pathCache&&(this.pathCache=null)},t.exports=r},{}],79:[function(e,t,n){function r(){return D||(D=b.instance(1,1).getContext("2d"))}function i(e,t){return e.stroke&&0!==e.opacity&&0!==e.stokeOpacity&&t.expand(null!=e.strokeWidth?e.strokeWidth:1),t}function a(e,t,n,r,a){return null==t?n.set(0,0,0,0):(M(N.bounds(n),t,r,a),i(e,n)),n}function s(e,t){var n=e.path?e.pathCache||(e.pathCache=S(e.path)):null;return a(e,n,t,e.x,e.y)}function o(e,t){if(0===e.items.length)return t;var n=e.items,r=n[0],i=r.pathCache||(r.pathCache=S(T(n)));return a(r,i,t)}function u(e,t){if(0===e.items.length)return t;var n=e.items,r=n[0],i=r.pathCache||(r.pathCache=S(A(n)));return a(r,i,t)}function l(e,t){var n,r;return i(e,t.set(n=e.x||0,r=e.y||0,n+e.width||0,r+e.height||0))}function c(e,t){var n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return n-="center"===e.align?i/2:"right"===e.align?i:0,r-="middle"===e.baseline?a/2:"bottom"===e.baseline?a:0,t.set(n,r,n+i,r+a)}function d(e,t){var n,r;return i(e,t.set(n=e.x||0,r=e.y||0,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r))}function f(e,t){var n,r,a,s,o,u,l,c,d,f=e.x||0,h=e.y||0,p=e.innerRadius||0,g=e.outerRadius||0,m=(e.startAngle||0)-E,v=(e.endAngle||0)-E,y=1/0,_=-(1/0),b=1/0,x=-(1/0),w=[m,v],k=m-m%E;for(r=0;4>r&&v>k;++r,k+=E)w.push(k);for(r=0,a=w.length;a>r;++r)n=w[r],s=Math.cos(n),u=p*s,c=g*s,o=Math.sin(n),l=p*o,d=g*o,y=Math.min(y,u,c),_=Math.max(_,u,c),b=Math.min(b,l,d),x=Math.max(x,l,d);return i(e,t.set(f+y,h+b,f+_,h+x))}function h(e,t){var n,r,a,s,o=null!=e.size?e.size:100,u=e.x||0,l=e.y||0;switch(e.shape){case"cross":r=3*Math.sqrt(o/5)/2,t.set(u-r,l-r,u+r,l+r);break;case"diamond":s=Math.sqrt(o/(2*C)),a=s*C,t.set(u-a,l-s,u+a,l+s);break;case"square":r=Math.sqrt(o),n=r/2,t.set(u-n,l-n,u+n,l+n);break;case"triangle-down":a=Math.sqrt(o/L),s=a*L/2,t.set(u-a,l-s,u+a,l+s);break;case"triangle-up":a=Math.sqrt(o/L),s=a*L/2,t.set(u-a,l-s,u+a,l+s);break;default:n=Math.sqrt(o/Math.PI),t.set(u-n,l-n,u+n,l+n)}return i(e,t)}function p(e,t,n){var i,a,s=r(),o=w.size(e),u=e.align,l=e.radius||0,c=e.x||0,d=e.y||0,f=e.dx||0,h=(e.dy||0)+w.offset(e)-Math.round(.8*o);return l&&(a=(e.theta||0)-Math.PI/2,c+=l*Math.cos(a),d+=l*Math.sin(a)),s.font=w.string(e),i=s.measureText(null!=e.text?e.text:"").width,"center"===u?f-=i/2:"right"===u&&(f-=i),t.set(f+=c,h+=d,f+i,h+o),e.angle&&!n&&t.rotate(e.angle*Math.PI/180,c,d),t.expand(n?0:1)}function g(e,t,n){var r,a,s=e.axisItems||[],o=e.items||[],u=e.legendItems||[];for(r=0,a=s.length;a>r;++r)t.union(s[r].bounds);for(r=0,a=o.length;a>r;++r)t.union(o[r].bounds);if(n)for(r=0,a=u.length;a>r;++r)t.union(u[r].bounds);return(e.width||e.height)&&i(e,t.add(0,0).add(e.width||0,e.height||0)),t.translate(e.x||0,e.y||0)}function m(e,t,n){var r=e.mark.marktype;t=t||P[r],t.nest&&(e=e.mark);var i=e.bounds,a=e["bounds:prev"]||(e["bounds:prev"]=new _);return i?(a.clear().union(i),i.clear()):e.bounds=new _,t(e,e.bounds,n),i||a.clear().union(e.bounds),e.bounds}function v(e,t,n){var r,i,a,s,o=e.marktype,u=P[o],l=e.items,c=l&&l.length;if(u.nest)return a=c?l[0]:(I.mark=e,I),s=m(a,u,n),t=t&&t.union(s)||s;if(t=t||e.bounds&&e.bounds.clear()||new _,c)for(r=0,i=l.length;i>r;++r)t.union(m(l[r],u,n));return e.bounds=t}var y=e("./BoundsContext"),_=e("./Bounds"),b=e("./canvas"),x=e("./svg"),w=e("./font"),k=e("../path"),S=k.parse,M=k.render,T=x.path.area,A=x.path.line,E=Math.PI/2,L=Math.sqrt(3),C=Math.tan(30*Math.PI/180),D=null,N=y(),P={group:g,symbol:h,image:c,rect:l,rule:d,arc:f,text:p,path:s,area:o,line:u};P.area.nest=!0,P.line.nest=!0;var I={mark:null};t.exports={mark:v,item:m,text:p,group:g}},{"../path":48,"./Bounds":74,"./BoundsContext":75,"./canvas":80,"./font":82,"./svg":84}],80:[function(e,t,n){(function(e){function n(t,n){t=t||1,n=n||1;var r;if("undefined"!=typeof document&&document.createElement)r=document.createElement("canvas"),r.width=t,r.height=n;else{var i="undefined"!=typeof window?window.canvas:"undefined"!=typeof e?e.canvas:null;if(!i.prototype)return null;r=new i(t,n)}return a(r)}function r(e,t,n,r,a){var s=this._ctx=e.getContext("2d"),o=1;return e.width=t+r.left+r.right,e.height=n+r.top+r.bottom,a&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&(s.pixelratio=o=i(e)||1),s.setTransform(o,0,0,o,o*r.left,o*r.top),e}function i(e){var t=e.getContext("2d"),n=window&&window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,i=n/r;if(n!==r){var a=e.width,s=e.height;e.width=a*i,e.height=s*i,e.style.width=a+"px",e.style.height=s+"px"}return i}function a(e){var t=e.getContext("2d");if(!t.vgLineDash){var n=function(){},r=[];return t.setLineDash?(t.vgLineDash=function(e){this.setLineDash(e||r)},t.vgLineDashOffset=function(e){this.lineDashOffset=e}):void 0!==t.webkitLineDash?(t.vgLineDash=function(e){this.webkitLineDash=e||r},t.vgLineDashOffset=function(e){this.webkitLineDashOffset=e}):void 0!==t.mozDash?(t.vgLineDash=function(e){this.mozDash=e},t.vgLineDashOffset=n):(t.vgLineDash=n,t.vgLineDashOffset=n),e}}t.exports={instance:n,resize:r,lineDash:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],81:[function(e,t,n){function r(e,t,n){return n?e.createElementNS(n,t):e.createElement(t)}function i(e){if(e){var t=e.parentNode;t&&(t.removeChild(e),t.childNodes&&t.childNodes.length||i(t))}}t.exports={find:function(e,t){t=t.toLowerCase();for(var n=0,r=e.childNodes.length;r>n;++n)if(e.childNodes[n].tagName.toLowerCase()===t)return e.childNodes[n]},child:function(e,t,n,i,a,s){var o,u;return o=u=e.childNodes[t],(!o||s||o.tagName.toLowerCase()!==n.toLowerCase()||a&&o.getAttribute("class")!=a)&&(o=r(e.ownerDocument,n,i),e.insertBefore(o,u),a&&o.setAttribute("class",a)),o},clear:function(e,t){for(var n=e.childNodes.length;n>t;)e.removeChild(e.childNodes[--n]);return e},remove:i,cssClass:function(e){return"mark-"+e.marktype+(e.name?" "+e.name:"")},openTag:function(e,t,n){var r,i,a="<"+e;if(t)for(r in t)i=t[r],null!=i&&(a+=" "+r+'="'+i+'"');return n&&(a+=" "+n),a+">"},closeTag:function(e){return"</"+e+">"}}},{}],82:[function(e,t,n){function r(e){return null!=e.fontSize?e.fontSize:11}t.exports={size:r,string:function(e,t){var n=e.font;return t&&n&&(n=String(n).replace(/\"/g,"'")),""+(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+r(e)+"px "+(n||"sans-serif")},offset:function(e){var t=e.baseline,n=r(e);return Math.round("top"===t?.93*n:"middle"===t?.3*n:"bottom"===t?-.21*n:0)}}},{}],83:[function(e,t,n){function r(e,t){return JSON.stringify(e,u,t)}function i(e){var t="string"==typeof e?JSON.parse(e):e;return a(t)}function a(e){var t,n,r,i,u,l=e.marktype;for(r=0,i=o.length;i>r;++r)if(u=e[o[r]])for(t=0,n=u.length;n>t;++t)u[t][l?"mark":"group"]=e,l&&"group"!==l||a(u[t]);return l&&s.mark(e),e}var s=e("../util/bound"),o=["items","axisItems","legendItems"],u=["marktype","name","interactive","clip","items","axisItems","legendItems","layer","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","interpolate","tension","orient","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];t.exports={toJSON:r,fromJSON:i}},{"../util/bound":79}],84:[function(e,t,n){(function(e){function n(e){return e.x||0}function r(e){return e.y||0}function i(e){return(e.x||0)+(e.width||0)}function a(e){return(e.y||0)+(e.height||0)}function s(e){return null==e.size?100:e.size}function o(e){return e.shape||"circle"}var u=("undefined"!=typeof window?window.d3:"undefined"!=typeof e?e.d3:null).svg,l=u.area().x(n).y1(r).y0(a),c=u.area().y(r).x1(n).x0(i),d=u.line().x(n).y(r);t.exports={metadata:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},path:{arc:u.arc(),symbol:u.symbol().type(o).size(s),area:function(e){var t=e[0];return("horizontal"===t.orient?c:l).interpolate(t.interpolate||"linear").tension(t.tension||.7)(e)},line:function(e){var t=e[0];return d.interpolate(t.interpolate||"linear").tension(t.tension||.7)(e)}},textAlign:{left:"start",center:"middle",right:"end"},textBaseline:{top:"before-edge",bottom:"after-edge",middle:"central"},styles:{fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"},styleProperties:["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","strokeCap","strokeDash","strokeDashOffset","opacity"]}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],85:[function(e,t,n){function r(e,t,n){o.call(null,e,t,n),this._type="canvas",this._renderers={canvas:a,svg:s}}var i=e("vega-scenegraph").render,a=i.canvas,s=i.svg.string,o=e("./View"),u=r.prototype=new o;u.renderer=function(e){return e&&(this._type=e),o.prototype.renderer.apply(this,arguments)},u.canvas=function(){return"canvas"===this._type?this._renderer.canvas():null},u.canvasAsync=function(e){function t(){0===n.pendingImages()?(r.render(),e(r.canvas())):setTimeout(t,10)}var n=this._renderer,r=this;return"canvas"!==this._type?null:void(n.pendingImages()>0?t():e(this.canvas()))},u.svg=function(){return"svg"===this._type?this._renderer.svg():null},u.initialize=function(){var e=this._width,t=this._height,n=this._bgcolor,r=this._padding,i=this.model().config();return this._viewport&&(e=this._viewport[0]-(r?r.left+r.right:0),t=this._viewport[1]-(r?r.top+r.bottom:0)),this._renderer=(this._renderer||new this._io.Renderer(i.load)).initialize(null,e,t,r).background(n),this},t.exports=r},{"./View":87,"vega-scenegraph":46}],86:[function(e,t,n){function r(e){this._defs={},this._predicates={},this._scene=null,this._node=null,this._builder=null,this._reset={axes:!1,legends:!1},this.config(e),u.init.call(this)}function i(e){var t=this,n={};return a.isArray(e)?(e.forEach(function(e){n[e]=t._predicates[e]}),n):this._predicates[e]}var a=e("datalib"),s=e("vega-dataflow"),o=s.ChangeSet,u=s.Graph.prototype,l=s.Node,c=e("../scene/GroupBuilder"),d=e("../scene/visit"),f=e("./config"),h=r.prototype=Object.create(u);h.constructor=r,h.defs=function(e){return arguments.length?(this._defs=e,this):this._defs},h.config=function(e){if(!arguments.length)return this._config;this._config=Object.create(f);for(var t in e){var n=e[t],r=this._config[t];a.isObject(n)&&a.isObject(r)?a.extend(r,n):this._config[t]=n}return this},h.width=function(e){return this._defs&&(this._defs.width=e),this._defs&&this._defs.marks&&(this._defs.marks.width=e),this._scene&&(this._scene.items[0].width=e,this._scene.items[0]._dirty=!0),this._reset.axes=!0,this},h.height=function(e){return this._defs&&(this._defs.height=e),this._defs&&this._defs.marks&&(this._defs.marks.height=e),this._scene&&(this._scene.items[0].height=e,this._scene.items[0]._dirty=!0),this._reset.axes=!0,this},h.node=function(){return this._node||(this._node=new l(this))},h.data=function(){var e=u.data.apply(this,arguments);return arguments.length>1&&this.node().addListener(e.pipeline()[0]),e},h.predicate=function(e,t){return 1===arguments.length?i.call(this,e):this._predicates[e]=t},h.predicates=function(){return this._predicates},h.scene=function(e){if(!arguments.length)return this._scene;this._builder&&this.node().removeListener(this._builder.disconnect()),this._builder=new c(this,this._defs.marks,this._scene={}),this.node().addListener(this._builder.connect());var t=this._builder.pipeline();return t[t.length-1].addListener(e),this},h.reset=function(){return this._scene&&this._reset.axes&&(d(this._scene,function(e){e.axes&&e.axes.forEach(function(e){e.reset()})}),this._reset.axes=!1),this._scene&&this._reset.legends&&(d(this._scene,function(e){e.legends&&e.legends.forEach(function(e){e.reset()})}),this._reset.legends=!1),this},h.addListener=function(e){this.node().addListener(e)},h.removeListener=function(e){this.node().removeListener(e)},h.fire=function(e){e||(e=o.create()),this.propagate(e,this.node())},t.exports=r},{"../scene/GroupBuilder":110,"../scene/visit":115,"./config":88,datalib:24,"vega-dataflow":39}],87:[function(e,t,n){(function(n){function r(e,t,n){this._el=null,this._model=null,this._width=this.__width=t||500,this._height=this.__height=n||300,this._bgcolor=null,this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._viewport=null,this._renderer=null,this._handler=null,this._streamer=null,this._changeset=null,this._repaint=!0,this._renderers=l,this._io=null,this._api={}}function i(e){var t=this,n=this._model.data(e),r=n.name(),i=n.pipeline()[0],a=this._streamer,s={};return this._api[e]?this._api[e]:(s.insert=function(e){return n.insert(o.duplicate(e)),a.addListener(i),t._changeset.data[r]=1,s},s.update=function(){return a.addListener(i),t._changeset.data[r]=1,n.update.apply(n,arguments),s},s.remove=function(){return a.addListener(i),t._changeset.data[r]=1,n.remove.apply(n,arguments),s},s.values=function(){return n.values()},this._api[e]=s)}function a(){var e=this;return e._renderNode=new u.Node(e._model).router(!0),e._renderNode.evaluate=function(t){c.debug(t,["rendering"]);var n=e._model.scene(),r=e._handler;r&&r.scene&&r.scene(n),t.trans?t.trans.start(function(t){e._renderer.render(n,t)}):e._repaint?(e._renderer.render(n),e._repaint=!1):t.dirty.length&&e._renderer.render(n,t.dirty),t.dirty.length&&(t.dirty.forEach(function(e){e._dirty=!1}),n.items[0]._dirty=!1);for(var i in t.data)e._model.data(i).synchronize();return t},e._model.scene(e._renderNode),!0}var s="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=e("datalib"),u=e("vega-dataflow"),l=e("vega-scenegraph").render,c=e("vega-logging"),d=u.Dependencies,f=e("../parse/streams"),h=e("../scene/Encoder"),p=e("../scene/Transition"),g=r.prototype;g.model=function(e){return arguments.length?(this._model!==e&&(this._model=e,this._streamer=new u.Node(e),this._streamer._rank=-1,this._changeset=u.ChangeSet.create(),this._handler&&this._handler.model(e)),this):this._model},g.data=function(e){var t=this;return arguments.length?o.isString(e)?i.call(t,e):(o.isObject(e)&&o.keys(e).forEach(function(n){var r=i.call(t,n);e[n](r)}),this):t._model.values()},g.signal=function(e,t){var n=this._model,r=this._changeset,i=this._streamer,a=e;return arguments.length?1==arguments.length&&o.isString(e)?n.values(d.SIGNALS,e):(2==arguments.length&&(a={},a[e]=t),o.keys(a).forEach(function(e){
i.addListener(n.signal(e).value(a[e])),r.signals[e]=1,r.reflow=!0}),this):n.values(d.SIGNALS)},g.width=function(e){return arguments.length?(this.__width!==e&&(this._width=this.__width=e,this.model().width(e),this.initialize(),this._strict&&(this._autopad=1)),this):this.__width},g.height=function(e){return arguments.length?(this.__height!==e&&(this._height=this.__height=e,this.model().height(e),this.initialize(),this._strict&&(this._autopad=1)),this):this.__height},g.background=function(e){return arguments.length?(this._bgcolor!==e&&(this._bgcolor=e,this.initialize()),this):this._bgcolor},g.padding=function(e){return arguments.length?(this._padding!==e&&(o.isString(e)?(this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._strict="strict"===e):(this._autopad=0,this._padding=e,this._strict=!1),this._renderer&&this._renderer.resize(this._width,this._height,e),this._handler&&this._handler.padding(e)),this._repaint=!0,this):this._padding},g.autopad=function(e){if(this._autopad<1)return this;this._autopad=0;var t=this.model().scene().bounds,n=this._padding,r=this.model().config(),i=r.autopadInset,a=t.x1<0?Math.ceil(-t.x1)+i:0,s=t.y1<0?Math.ceil(-t.y1)+i:0,o=t.x2>this._width?Math.ceil(+t.x2-this._width)+i:0;return t=t.y2>this._height?Math.ceil(+t.y2-this._height)+i:0,n={left:a,top:s,right:o,bottom:t},this._strict?(this._autopad=0,this._padding=n,this._width=Math.max(0,this.__width-(a+o)),this._height=Math.max(0,this.__height-(s+t)),this._model.width(this._width).height(this._height).reset(),this.initialize().update({props:"enter"}).update({props:"update"})):this.padding(n).update(e),this},g.viewport=function(e){return arguments.length?(this._viewport!==e&&(this._viewport=e,this.initialize()),this):this._viewport},g.renderer=function(e){if(!arguments.length)return this._renderer;if(this._renderers[e])e=this._renderers[e];else{if(o.isString(e))throw new Error("Unknown renderer: "+e);if(!e)throw new Error("No renderer specified")}return this._io!==e&&(this._io=e,this._renderer=null,this.initialize(),this._build&&this.render()),this},g.initialize=function(e){var t,n=this,r=n._width,i=n._height,a=n._padding,o=n._bgcolor,u=this.model().config();return arguments.length&&null!==e||(e=this._el?this._el.parentNode:null)?(s.select(e).select("div.vega").remove(),this._el=e=s.select(e).append("div").attr("class","vega").style("position","relative").node(),n._viewport&&s.select(e).style("width",(n._viewport[0]||r)+"px").style("height",(n._viewport[1]||i)+"px").style("overflow","auto"),l.canvas.Renderer.RETINA=u.render.retina,n._renderer=(n._renderer||new this._io.Renderer(u.load)).initialize(e,r,i,a).background(o),t=n._handler,n._handler=(new this._io.Handler).initialize(e,a,n),t?t.handlers().forEach(function(e){n._handler.on(e.type,e.handler)}):n._detach=f(this),this._repaint=!0,this):this},g.destroy=function(){this._detach&&this._detach()},g.update=function(e){e=e||{};var t=this,n=e.duration?new p(e.duration,e.ease):null,r=t._changeset;if(n&&(r.trans=n),void 0!==e.props){if(o.keys(r.data).length>0)throw Error("New data values are not reflected in the visualization. Please call view.update() before updating a specified property set.");r.reflow=!0,r.request=e.props}var i=t._build;return t._build=t._build||a.call(this),e.items&&i?(h.update(this._model,e.trans,e.props,e.items,r.dirty),t._renderNode.evaluate(r)):t._streamer.listeners().length&&i?(t._model.propagate(r,t._streamer),t._streamer.disconnect()):t._model.fire(r),t._changeset=u.ChangeSet.create(),t.autopad(e)},g.toImageURL=function(e){var t,n=this;switch(e||"png"){case"canvas":case"png":t=l.canvas.Renderer;break;case"svg":t=l.svg.string.Renderer;break;default:throw Error("Unrecognized renderer type: "+e)}var r=l.canvas.Renderer.RETINA;l.canvas.Renderer.RETINA=!1;var i=new t(n._model.config.load).initialize(null,n._width,n._height,n._padding).render(n._model.scene());if(l.canvas.Renderer.RETINA=r,"svg"===e){var a=new Blob([i.svg()],{type:"image/svg+xml"});return window.URL.createObjectURL(a)}return i.canvas().toDataURL("image/png")},g.render=function(e){return this._renderer.render(this._model.scene(),e),this},g.on=function(){return this._handler.on.apply(this._handler,arguments),this},g.onSignal=function(e,t){return this._model.signal(e).on(t),this},g.off=function(){return this._handler.off.apply(this._handler,arguments),this},g.offSignal=function(e,t){return this._model.signal(e).off(t),this},r.factory=function(t){var n=e("./HeadlessView");return function(e){e=e||{};var i=t.defs(),a=(e.el?new r:new n).model(t).renderer(e.renderer||"canvas").width(i.width).height(i.height).background(i.background).padding(i.padding).viewport(i.viewport).initialize(e.el);return e.data&&a.data(e.data),e.hover!==!1&&e.el&&a.on("mouseover",function(e,t){t&&t.hasPropertySet("hover")&&this.update({props:"hover",items:t})}).on("mouseout",function(e,t){t&&t.hasPropertySet("hover")&&this.update({props:"update",items:t})}),a}},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../parse/streams":105,"../scene/Encoder":109,"../scene/Transition":112,"./HeadlessView":85,datalib:24,"vega-dataflow":39,"vega-logging":45,"vega-scenegraph":46}],88:[function(e,t,n){(function(e){var n="undefined"!=typeof window?window.d3:"undefined"!=typeof e?e.d3:null,r={};r.load={baseURL:"",domainWhiteList:!1},r.autopadInset=5,r.scale={time:n.time.scale,utc:n.time.scale.utc},r.render={retina:!0},r.axis={orient:"bottom",ticks:10,padding:3,axisColor:"#000",gridColor:"#000",gridOpacity:.15,tickColor:"#000",tickLabelColor:"#000",axisWidth:1,tickWidth:1,tickSize:6,tickLabelFontSize:11,tickLabelFont:"sans-serif",titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold",titleOffset:35},r.legend={orient:"right",offset:20,padding:3,gradientStrokeColor:"#888",gradientStrokeWidth:1,gradientHeight:16,gradientWidth:100,labelColor:"#000",labelFontSize:10,labelFont:"sans-serif",labelAlign:"left",labelBaseline:"middle",labelOffset:8,symbolShape:"circle",symbolSize:50,symbolColor:"#888",symbolStrokeWidth:1,titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold"},r.color={rgb:[128,128,128],lab:[50,0,0],hcl:[0,0,50],hsl:[0,0,.5]},r.range={category10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],category20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],shapes:["circle","cross","diamond","square","triangle-down","triangle-up"]},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],89:[function(e,t,n){function r(e,t,n){var r=e.schema;r&&(r.refs&&i.extend(n.refs,r.refs),r.defs&&i.extend(n.defs,r.defs))}var i=e("datalib"),a=e("../parse"),s=e("../scene/Scale"),o=e("./config");t.exports=function(e){var t=null;return e=e||{},e.url?t=i.json(i.extend({url:e.url},o.load)):(t={$schema:"http://json-schema.org/draft-04/schema#",title:"Vega Visualization Specification Language",defs:{},refs:{},$ref:"#/defs/spec"},i.keys(a).forEach(function(n){r(a[n],e,t)}),r(s,e,t)),e.properties&&i.keys(e.properties).forEach(function(n){t.defs.propset.properties[n]={$ref:"#/refs/"+e.properties[n]+"Value"}}),e.propertySets&&i.keys(e.propertySets).forEach(function(e){t.defs.mark.properties.properties.properties[e]={$ref:"#/defs/propset"}}),t}},{"../parse":95,"../scene/Scale":111,"./config":88,datalib:24}],90:[function(e,t,n){function r(e,t,n,r){var a=e.config();(t||[]).forEach(function(t,o){n[o]=n[o]||s(e),i(a,t,o,n[o],r)})}function i(e,t,n,r,i){void 0!==t.scale&&r.scale(i.scale(t.scale)),r.orient(t.orient||o[t.type]),r.offset(t.offset||0),r.layer(t.layer||"front"),r.grid(t.grid||!1),r.title(t.title||null),r.titleOffset(null!=t.titleOffset?t.titleOffset:e.axis.titleOffset),r.tickValues(t.values||null),r.tickFormat(t.format||null),r.tickFormatType(t.formatType||null),r.tickSubdivide(t.subdivide||0),r.tickPadding(t.tickPadding||e.axis.padding);var s=[];if(void 0!==t.tickSize)for(var u=0;3>u;++u)s.push(t.tickSize);else{var l=e.axis.tickSize;s=[l,l,l]}null!=t.tickSizeMajor&&(s[0]=t.tickSizeMajor),null!=t.tickSizeMinor&&(s[1]=t.tickSizeMinor),null!=t.tickSizeEnd&&(s[2]=t.tickSizeEnd),s.length&&r.tickSize.apply(r,s),r.tickCount(t.ticks||e.axis.ticks);var c=t.properties;c&&c.ticks?(r.majorTickProperties(c.majorTicks?a.extend({},c.ticks,c.majorTicks):c.ticks),r.minorTickProperties(c.minorTicks?a.extend({},c.ticks,c.minorTicks):c.ticks)):(r.majorTickProperties(c&&c.majorTicks||{}),r.minorTickProperties(c&&c.minorTicks||{})),r.tickLabelProperties(c&&c.labels||{}),r.titleProperties(c&&c.title||{}),r.gridLineProperties(c&&c.grid||{}),r.domainProperties(c&&c.axis||{})}var a=e("datalib"),s=e("../scene/axis"),o={x:"bottom",y:"left",top:"top",bottom:"bottom",left:"left",right:"right"};t.exports=r},{"../scene/axis":113,datalib:24}],91:[function(e,t,n){(function(e){function n(e){return null==e?null:r.rgb(e)+""}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof e?e.d3:null;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],92:[function(e,t,n){function r(e,t,n){function s(t){return function(r,s){r?a.error("LOADING FAILED: "+t.url+" "+r):e.data(t.name).values(i.read(s,t.format)),0===--u&&n()}}var o=e.config(),u=0;return(t||[]).forEach(function(t){t.url&&(u+=1,i.load(i.extend({url:t.url},o.load),s(t))),r.datasource(e,t)}),0===u&&setTimeout(n,1),t}var i=e("datalib"),a=e("vega-logging"),s=e("./transforms"),o=e("./modify");r.datasource=function(e,t){var n=(t.transform||[]).map(function(t){return s(e,t)}),r=(t.modify||[]).map(function(n){return o(e,n,t)}),a=e.data(t.name,r.concat(n));return t.values?a.values(i.read(t.values,t.format)):t.source&&(a.source(t.source).addListener(a),e.removeListener(a.pipeline()[0])),a},t.exports=r},{"./modify":99,"./transforms":106,datalib:24,"vega-logging":45}],93:[function(e,t,n){t.exports=function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,i,a){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=a,this.name="SyntaxError"}function n(e){function n(t){function n(t,n,r){var i,a;for(i=n;r>i;i++)a=e.charAt(i),"\n"===a?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return ut!==t&&(ut>t&&(ut=0,lt={line:1,column:1,seenCR:!1}),n(lt,ut,t),ut=t),lt}function r(e){ct>st||(st>ct&&(ct=st,dt=[]),dt.push(e))}function i(r,i,a){function s(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function o(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,i,a,s=new Array(e.length);for(a=0;a<e.length;a++)s[a]=e[a].description;return r=e.length>1?s.slice(0,-1).join(", ")+" or "+s[e.length-1]:s[0],i=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+i+" found."}var u=n(a),l=a<e.length?e.charAt(a):null;return null!==i&&s(i),new t(null!==r?r:o(i,l),i,l,a,u.line,u.column)}function a(){var e;return e=s()}function s(){var t,n,i,a,u,l;return t=st,n=o(),n!==_?(i=m(),i!==_?(44===e.charCodeAt(st)?(a=k,st++):(a=_,0===ft&&r(S)),a!==_?(u=m(),u!==_?(l=s(),l!==_?(ot=t,n=M(n,l),t=n):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w),t===_&&(t=st,n=o(),n!==_&&(ot=t,n=T(n)),t=n),t}function o(){var t,n,i,a,s,l,c,d,f,h,p,g,v,y;return t=st,91===e.charCodeAt(st)?(n=A,st++):(n=_,0===ft&&r(E)),n!==_?(i=m(),i!==_?(a=u(),a!==_?(s=m(),s!==_?(44===e.charCodeAt(st)?(l=k,st++):(l=_,0===ft&&r(S)),l!==_?(c=m(),c!==_?(d=u(),d!==_?(f=m(),f!==_?(93===e.charCodeAt(st)?(h=L,st++):(h=_,0===ft&&r(C)),h!==_?(p=m(),p!==_?(62===e.charCodeAt(st)?(g=D,st++):(g=_,0===ft&&r(N)),g!==_?(v=m(),v!==_?(y=o(),y!==_?(ot=t,n=P(a,d,y),t=n):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w),t===_&&(t=u()),t}function u(){var e,t,n,r;if(e=st,t=l(),t!==_){if(n=[],r=f(),r!==_)for(;r!==_;)n.push(r),r=f();else n=w;n!==_?(ot=e,t=I(t,n),e=t):(st=e,e=w)}else st=e,e=w;return e===_&&(e=st,t=l(),t!==_&&(ot=e,t=O(t)),e=t),e}function l(){var t,n,i,a,o;return t=st,40===e.charCodeAt(st)?(n=U,st++):(n=_,0===ft&&r(z)),n!==_?(i=s(),i!==_?(41===e.charCodeAt(st)?(a=j,st++):(a=_,0===ft&&r(F)),a!==_?(ot=t,n=R(i),t=n):(st=t,t=w)):(st=t,t=w)):(st=t,t=w),t===_&&(t=st,64===e.charCodeAt(st)?(n=q,st++):(n=_,0===ft&&r(G)),n!==_?(i=h(),i!==_?(58===e.charCodeAt(st)?(a=B,st++):(a=_,0===ft&&r($)),a!==_?(o=d(),o!==_?(ot=t,n=Y(i,o),t=n):(st=t,t=w)):(st=t,t=w)):(st=t,t=w)):(st=t,t=w),t===_&&(t=st,n=c(),n!==_?(58===e.charCodeAt(st)?(i=B,st++):(i=_,0===ft&&r($)),i!==_?(a=d(),a!==_?(ot=t,n=H(n,a),t=n):(st=t,t=w)):(st=t,t=w)):(st=t,t=w),t===_&&(t=st,n=p(),n!==_?(58===e.charCodeAt(st)?(i=B,st++):(i=_,0===ft&&r($)),i!==_?(a=d(),a!==_?(ot=t,n=W(n,a),t=n):(st=t,t=w)):(st=t,t=w)):(st=t,t=w),t===_&&(t=st,n=d(),n!==_&&(ot=t,n=V(n)),t=n,t===_&&(t=st,n=h(),n!==_&&(ot=t,n=X(n)),t=n))))),t}function c(){var t;return e.substr(st,4)===J?(t=J,st+=4):(t=_,0===ft&&r(K)),t===_&&(e.substr(st,6)===Z?(t=Z,st+=6):(t=_,0===ft&&r(Q)),t===_&&(e.substr(st,4)===ee?(t=ee,st+=4):(t=_,0===ft&&r(te)),t===_&&(e.substr(st,3)===ne?(t=ne,st+=3):(t=_,0===ft&&r(re)),t===_&&(e.substr(st,4)===ie?(t=ie,st+=4):(t=_,0===ft&&r(ae)),t===_&&(e.substr(st,4)===se?(t=se,st+=4):(t=_,0===ft&&r(oe)),t===_&&(e.substr(st,4)===ue?(t=ue,st+=4):(t=_,0===ft&&r(le)),t===_&&(e.substr(st,5)===ce?(t=ce,st+=5):(t=_,0===ft&&r(de)),t===_&&(e.substr(st,4)===fe?(t=fe,st+=4):(t=_,0===ft&&r(he)),t===_&&(e.substr(st,5)===pe?(t=pe,st+=5):(t=_,0===ft&&r(ge))))))))))),t}function d(){var t;return e.substr(st,9)===me?(t=me,st+=9):(t=_,0===ft&&r(ve)),t===_&&(e.substr(st,7)===ye?(t=ye,st+=7):(t=_,0===ft&&r(_e)),t===_&&(e.substr(st,5)===be?(t=be,st+=5):(t=_,0===ft&&r(xe)),t===_&&(e.substr(st,8)===we?(t=we,st+=8):(t=_,0===ft&&r(ke)),t===_&&(e.substr(st,5)===Se?(t=Se,st+=5):(t=_,0===ft&&r(Me)),t===_&&(e.substr(st,7)===Te?(t=Te,st+=7):(t=_,0===ft&&r(Ae)),t===_&&(e.substr(st,8)===Ee?(t=Ee,st+=8):(t=_,0===ft&&r(Le)),t===_&&(e.substr(st,5)===Ce?(t=Ce,st+=5):(t=_,0===ft&&r(De)),t===_&&(e.substr(st,10)===Ne?(t=Ne,st+=10):(t=_,0===ft&&r(Pe)),t===_&&(e.substr(st,9)===Ie?(t=Ie,st+=9):(t=_,0===ft&&r(Oe)),t===_&&(e.substr(st,8)===Ue?(t=Ue,st+=8):(t=_,0===ft&&r(ze)),t===_&&(e.substr(st,9)===je?(t=je,st+=9):(t=_,0===ft&&r(Fe)),t===_&&(e.substr(st,10)===Re?(t=Re,st+=10):(t=_,0===ft&&r(qe)),t===_&&(e.substr(st,10)===Ge?(t=Ge,st+=10):(t=_,0===ft&&r(Be)),t===_&&(e.substr(st,9)===$e?(t=$e,st+=9):(t=_,0===ft&&r(Ye)),t===_&&(e.substr(st,8)===He?(t=He,st+=8):(t=_,0===ft&&r(We))))))))))))))))),t}function f(){var t,n,i,a;return t=st,91===e.charCodeAt(st)?(n=A,st++):(n=_,0===ft&&r(E)),n!==_?(i=g(),i!==_?(93===e.charCodeAt(st)?(a=L,st++):(a=_,0===ft&&r(C)),a!==_?(ot=t,n=Ve(i),t=n):(st=t,t=w)):(st=t,t=w)):(st=t,t=w),t}function h(){var t,n,i;if(t=st,n=[],Xe.test(e.charAt(st))?(i=e.charAt(st),st++):(i=_,0===ft&&r(Je)),i!==_)for(;i!==_;)n.push(i),Xe.test(e.charAt(st))?(i=e.charAt(st),st++):(i=_,0===ft&&r(Je));else n=w;return n!==_&&(ot=t,n=Ke(n)),t=n}function p(){var t,n,i;if(t=st,n=[],Ze.test(e.charAt(st))?(i=e.charAt(st),st++):(i=_,0===ft&&r(Qe)),i!==_)for(;i!==_;)n.push(i),Ze.test(e.charAt(st))?(i=e.charAt(st),st++):(i=_,0===ft&&r(Qe));else n=w;return n!==_&&(ot=t,n=et(n)),t=n}function g(){var t,n,i;if(t=st,n=[],tt.test(e.charAt(st))?(i=e.charAt(st),st++):(i=_,0===ft&&r(nt)),i!==_)for(;i!==_;)n.push(i),tt.test(e.charAt(st))?(i=e.charAt(st),st++):(i=_,0===ft&&r(nt));else n=w;return n!==_&&(ot=t,n=rt(n)),t=n}function m(){var t,n;for(t=[],it.test(e.charAt(st))?(n=e.charAt(st),st++):(n=_,0===ft&&r(at));n!==_;)t.push(n),it.test(e.charAt(st))?(n=e.charAt(st),st++):(n=_,0===ft&&r(at));return t}var v,y=arguments.length>1?arguments[1]:{},_={},b={start:a},x=a,w=_,k=",",S={type:"literal",value:",",description:'","'},M=function(e,t){return[e].concat(t)},T=function(e){return[e]},A="[",E={type:"literal",value:"[",description:'"["'},L="]",C={type:"literal",value:"]",description:'"]"'},D=">",N={type:"literal",value:">",description:'">"'},P=function(e,t,n){return{start:e,end:t,middle:n}},I=function(e,t){return e.filters=t,e},O=function(e){return e},U="(",z={type:"literal",value:"(",description:'"("'},j=")",F={type:"literal",value:")",description:'")"'},R=function(e){return{stream:e}},q="@",G={type:"literal",value:"@",description:'"@"'},B=":",$={type:"literal",value:":",description:'":"'},Y=function(e,t){return{event:t,name:e}},H=function(e,t){return{event:t,mark:e}},W=function(e,t){return{event:t,target:e}},V=function(e){return{event:e}},X=function(e){return{signal:e}},J="rect",K={type:"literal",value:"rect",description:'"rect"'},Z="symbol",Q={type:"literal",value:"symbol",description:'"symbol"'},ee="path",te={type:"literal",value:"path",description:'"path"'},ne="arc",re={type:"literal",value:"arc",description:'"arc"'},ie="area",ae={type:"literal",value:"area",description:'"area"'},se="line",oe={type:"literal",value:"line",description:'"line"'},ue="rule",le={type:"literal",value:"rule",description:'"rule"'},ce="image",de={type:"literal",value:"image",description:'"image"'},fe="text",he={type:"literal",value:"text",description:'"text"'},pe="group",ge={type:"literal",value:"group",description:'"group"'},me="mousedown",ve={type:"literal",value:"mousedown",description:'"mousedown"'},ye="mouseup",_e={type:"literal",value:"mouseup",description:'"mouseup"'},be="click",xe={type:"literal",value:"click",description:'"click"'},we="dblclick",ke={type:"literal",value:"dblclick",description:'"dblclick"'},Se="wheel",Me={type:"literal",value:"wheel",description:'"wheel"'},Te="keydown",Ae={type:"literal",value:"keydown",description:'"keydown"'},Ee="keypress",Le={type:"literal",value:"keypress",description:'"keypress"'},Ce="keyup",De={type:"literal",value:"keyup",description:'"keyup"'},Ne="mousewheel",Pe={type:"literal",value:"mousewheel",description:'"mousewheel"'},Ie="mousemove",Oe={type:"literal",value:"mousemove",description:'"mousemove"'},Ue="mouseout",ze={type:"literal",value:"mouseout",description:'"mouseout"'},je="mouseover",Fe={type:"literal",value:"mouseover",description:'"mouseover"'},Re="mouseenter",qe={type:"literal",value:"mouseenter",description:'"mouseenter"'},Ge="touchstart",Be={type:"literal",value:"touchstart",description:'"touchstart"'},$e="touchmove",Ye={type:"literal",value:"touchmove",description:'"touchmove"'},He="touchend",We={type:"literal",value:"touchend",description:'"touchend"'},Ve=function(e){return e},Xe=/^[a-zA-Z0-9_\-]/,Je={type:"class",value:"[a-zA-Z0-9_\\-]",description:"[a-zA-Z0-9_\\-]"},Ke=function(e){return e.join("")},Ze=/^[a-zA-Z0-9\-_  #.>+~[\]=|\^$*]/,Qe={type:"class",value:"[a-zA-Z0-9\\-_  #.>+~[\\]=|\\^$*]",description:"[a-zA-Z0-9\\-_  #.>+~[\\]=|\\^$*]"},et=function(e){return e.join("")},tt=/^['"a-zA-Z0-9_().><=! \t-&|~]/,nt={type:"class",value:"['\"a-zA-Z0-9_().><=! \\t-&|~]",description:"['\"a-zA-Z0-9_().><=! \\t-&|~]"},rt=function(e){return e.join("")},it=/^[ \t\r\n]/,at={type:"class",value:"[ \\t\\r\\n]",description:"[ \\t\\r\\n]"},st=0,ot=0,ut=0,lt={line:1,column:1,seenCR:!1},ct=0,dt=[],ft=0;if("startRule"in y){if(!(y.startRule in b))throw new Error("Can't start parsing from rule \""+y.startRule+'".');x=b[y.startRule]}if(v=x(),v!==_&&st===e.length)return v;throw v!==_&&st<e.length&&r({type:"end",description:"end of input"}),i(null,dt,ct)}return e(t,Error),{SyntaxError:t,parse:n}}()},{}],94:[function(e,t,n){var r=e("vega-expression"),i=["datum","event","signals"];t.exports=r.compiler(i,{idWhiteList:i,fieldVar:i[0],globalVar:i[2],functions:function(e){var t=r.functions(e);return t.eventItem=function(){return"event.vg.item"},t.eventGroup="event.vg.getGroup",t.eventX="event.vg.getX",t.eventY="event.vg.getY",t.open="window.open",t}})},{"vega-expression":43}],95:[function(e,t,n){t.exports={axes:e("./axes"),background:e("./background"),data:e("./data"),events:e("./events"),expr:e("./expr"),legends:e("./legends"),mark:e("./mark"),marks:e("./marks"),modify:e("./modify"),padding:e("./padding"),predicates:e("./predicates"),properties:e("./properties"),signals:e("./signals"),spec:e("./spec"),streams:e("./streams"),transforms:e("./transforms")}},{"./axes":90,"./background":91,"./data":92,"./events":93,"./expr":94,"./legends":96,"./mark":97,"./marks":98,"./modify":99,"./padding":100,"./predicates":101,"./properties":102,"./signals":103,"./spec":104,"./streams":105,"./transforms":106}],96:[function(e,t,n){function r(e,t,n,r){(t||[]).forEach(function(t,s){n[s]=n[s]||a(e),i(t,s,n[s],r)})}function i(e,t,n,r){n.size(e.size?r.scale(e.size):null),n.shape(e.shape?r.scale(e.shape):null),n.fill(e.fill?r.scale(e.fill):null),n.stroke(e.stroke?r.scale(e.stroke):null),e.orient&&n.orient(e.orient),null!=e.offset&&n.offset(e.offset),n.title(e.title||null),n.values(e.values||null),n.format(void 0!==e.format?e.format:null);var i=e.properties;n.titleProperties(i&&i.title||{}),n.labelProperties(i&&i.labels||{}),n.legendProperties(i&&i.legend||{}),n.symbolProperties(i&&i.symbols||{}),n.gradientProperties(i&&i.gradient||{})}var a=e("../scene/legend");t.exports=r},{"../scene/legend":114}],97:[function(e,t,n){function r(e,t){var n=t.properties,s=t.marks;return i.keys(n).forEach(function(r){n[r]=a(e,t.type,n[r])}),t.delay&&(t.delay=a(e,t.type,{delay:t.delay})),s&&(t.marks=s.map(function(t){return r(e,t)})),t}var i=e("datalib"),a=e("./properties");t.exports=r},{"./properties":102,datalib:24}],98:[function(e,t,n){function r(e,t,n,r){return{type:"group",width:n,height:r,scales:t.scales||[],axes:t.axes||[],legends:t.legends||[],marks:(t.marks||[]).map(function(t){return i(e,t)})}}var i=e("./mark");t.exports=r},{"./mark":97}],99:[function(e,t,n){function r(e,t,n){var r=t.signal?i.field(t.signal):null,s=r?r[0]:null,h=t.predicate?e.predicate(t.predicate.name||t.predicate):null,p=null===h,g=new o(e).router(t.type===c.CLEAR);return g.evaluate=function(i){if(null!==h){var s=e.values(l.DATA,h.data||d),o=e.values(l.SIGNALS,h.signals||d);p=h.call(h,{},s,o,e._predicates)}if(a.debug(i,[t.type+"ing",p]),!p)return i;var g={},m=r?e.signalRef(t.signal):null,v=e.data(n.name),y=null;if(g[t.field]=m,t.type===c.INSERT)y=u.ingest(g),i.add.push(y),v._data.push(y);else if(t.type===c.REMOVE)f(t.field,m,i.add,i.rem),f(t.field,m,i.mod,i.rem),v._data=v._data.filter(function(e){return e[t.field]!==m});else if(t.type===c.TOGGLE){var _=[],b=[];f(t.field,m,i.rem,_),f(t.field,m,i.add,b),f(t.field,m,i.mod,b),_.length||b.length||_.push(u.ingest(g)),i.add.push.apply(i.add,_),v._data.push.apply(v._data,_),i.rem.push.apply(i.rem,b),v._data=v._data.filter(function(e){return-1===b.indexOf(e)})}else t.type===c.CLEAR&&(i.rem.push.apply(i.rem,i.add),i.rem.push.apply(i.rem,i.mod),i.add=[],i.mod=[],v._data=[]);return i.fields[t.field]=1,i},s&&g.dependency(l.SIGNALS,s),h&&(g.dependency(l.DATA,h.data),g.dependency(l.SIGNALS,h.signals)),g}var i=e("datalib"),a=e("vega-logging"),s=e("vega-dataflow"),o=s.Node,u=s.Tuple,l=s.Dependencies,c={INSERT:"insert",REMOVE:"remove",TOGGLE:"toggle",CLEAR:"clear"},d=[],f=function(e,t,n,r){for(var i=n.length-1;i>=0;--i)n[i][e]==t&&r.push.apply(r,n.splice(i,1))};t.exports=r},{datalib:24,"vega-dataflow":39,"vega-logging":45}],100:[function(e,t,n){function r(e){if(null==e)return"auto";if(i.isString(e))return"strict"===e?"strict":"auto";if(i.isObject(e))return e;var t=i.isNumber(e)?e:20;return{top:t,left:t,right:t,bottom:t}}var i=e("datalib");t.exports=r},{datalib:24}],101:[function(e,t,n){function r(e,t){return(t||[]).forEach(function(t){var n=d[t.type](e,t),r=Function("args","db","signals","predicates",n.code);r.root=function(){return e.scene().items[0]},r.nullScale=f,r.isFunction=c.isFunction,r.signals=n.signals,r.data=n.data,e.predicate(t.name,r)}),t}function i(e,t){var n=c.field(e),r="signals["+n.map(c.str).join("][")+"]";return t[n[0]]=1,r}function a(e,t){function n(e){o[e]=1}function r(e){u[e]=1}var a=[],s=[],o={},u={};return c.array(t).forEach(function(t,u){var l="o"+u,d="";if(void 0!==t.value)d=c.str(t.value);else if(t.arg)d="args["+c.str(t.arg)+"]";else if(t.signal)d=i(t.signal,o);else if(t.predicate){var f=t.predicate,h=f&&(f.name||f),p=e.predicate(h),g="predicates["+c.str(h)+"]";p.signals.forEach(n),p.data.forEach(r),c.isObject(f)&&c.keys(f).forEach(function(e){if("name"!==e){var t=f[e];d+="args["+c.str(e)+"] = ",t.signal?d+=i(t.signal,o):t.arg&&(d+="args["+c.str(t.arg)+"]"),d+=", "}}),d+=g+".call("+g+", args, db, signals, predicates)"}a.push(l),s.push(l+"=("+d+")")}),{code:"var "+a.join(", ")+";\n"+s.join(";\n")+";\n",signals:c.keys(o),data:c.keys(u)}}function s(e,t){var n=a(e,t.operands);return"="===t.type&&(t.type="=="),n.code+="o0 = o0 instanceof Date ? o0.getTime() : o0;\no1 = o1 instanceof Date ? o1.getTime() : o1;\n",{code:n.code+"return "+["o0","o1"].join(t.type)+";",signals:n.signals,data:n.data}}function o(e,t){for(var n=a(e,t.operands),r=[],i=0,s=t.operands.length;r.push("o"+i++)<s;);return"and"===t.type?t.type="&&":"or"===t.type&&(t.type="||"),{code:n.code+"return "+r.join(t.type)+";",signals:n.signals,data:n.data}}function u(e,t){var n=[t.item],r="";t.range&&n.push.apply(n,t.range),t.scale&&(r=l(t.scale,n));var i=a(e,n);if(r=i.code+r+"\n  var ordSet = null;\n",t.data){var s=c.field(t.field).map(c.str);r+="var where = function(d) { return d["+s.join("][")+"] == o0 };\n",r+="return db["+c.str(t.data)+"].filter(where).length > 0;"}else t.range&&(t.scale&&(r+="if (scale.length == 2) {\n  ordSet = scale(o1, o2);\n} else {\n  o1 = scale(o1);\no2 = scale(o2);\n}"),r+="return ordSet !== null ? ordSet.indexOf(o0) !== -1 :\n  o1 < o2 ? o1 <= o0 && o0 <= o2 : o2 <= o0 && o0 <= o1;");return{code:r,signals:i.signals,data:i.data.concat(t.data?[t.data]:[])}}function l(e,t){var n="var scale = ",r=t.length;return c.isString(e)?(t.push({value:e}),n+="this.root().scale(o"+r+")"):e.arg?(t.push(e),n+="o"+r):e.name&&(t.push(c.isString(e.name)?{value:e.name}:e.name),n+="(this.isFunction(o"+r+") ? o"+r+" : ",e.scope?(t.push(e.scope),n+="((o"+(r+1)+".scale || this.root().scale)(o"+r+") || this.nullScale)"):n+="this.root().scale(o"+r+")",n+=")"),e.invert===!0&&(n+=".invert"),n+";\n"}var c=e("datalib"),d={"=":s,"==":s,"!=":s,">":s,">=":s,"<":s,"<=":s,and:o,"&&":o,or:o,"||":o,"in":u},f=function(){return 0};f.invert=f,t.exports=r},{datalib:24}],102:[function(e,t,n){(function(n){function r(e,t,n){function r(e){if(null!=m[e]){var t,n,r=f.array(m[e]);for(t=0,n=r.length;n>t;++t)x[e][r[t]]=1}}function i(e){var t=(e.parent?"parent_":"group_")+e.level;x._nRefs[t]=e}var u,l,c,m,v=e.config(),y="",_=f.keys(n),b={},x={signals:{},scales:{},data:{},fields:{},nested:[],_nRefs:{},reflow:!1};for(y+="var o = trans ? {} : item, d=0, set=this.tpl.set, tmpl=signals||{}, t;\ntmpl.datum  = item.datum;\ntmpl.group  = group;\ntmpl.parent = group.datum;\n",u=0,l=_.length;l>u;++u)m=n[c=_[u]],y+=u>0?"\n  ":"  ",m.rule?(m=s(e,c,m.rule),y+="\n  "+m.code):(m=o(v,c,m),y+="d += set(o, "+f.str(c)+", "+m.val+");"),b[c]=!0,g.forEach(r),x.reflow=x.reflow||m.reflow,m.nested.length&&m.nested.forEach(i);f.keys(x._nRefs).forEach(function(e){x.nested.push(x._nRefs[e])}),x.nested.sort(function(e,t){return e=e.level,t=t.level,t>e?-1:e>t?1:e>=t?0:NaN}),b.x2&&(b.x?(y+="\n  if (o.x > o.x2) { \n    t = o.x;\n    d += set(o, 'x', o.x2);\n    d += set(o, 'x2', t); \n  };",y+="\n  d += set(o, 'width', (o.x2 - o.x));"):y+=b.width?"\n  d += set(o, 'x', (o.x2 - o.width));":"\n  d += set(o, 'x', o.x2);"),b.xc&&(y+=b.width?"\n  d += set(o, 'x', (o.xc - o.width/2));":"\n  d += set(o, 'x', o.xc);"),b.y2&&(b.y?(y+="\n  if (o.y > o.y2) { \n    t = o.y;\n    d += set(o, 'y', o.y2);\n    d += set(o, 'y2', t);\n  };",y+="\n  d += set(o, 'height', (o.y2 - o.y));"):y+=b.height?"\n  d += set(o, 'y', (o.y2 - o.height));":"\n  d += set(o, 'y', o.y2);"),b.yc&&(y+=b.height?"\n  d += set(o, 'y', (o.yc - o.height/2));":"\n  d += set(o, 'y', o.yc);"),a(t,b)&&(y+="\n  d += (item.touch(), 1);"),y+="\n  if (trans) trans.interpolate(item, o);",y+="\n  return d > 0;";try{var w=Function("item","group","trans","db","signals","predicates",y);return w.tpl=p,w.util=f,w.d3=d,f.extend(w,f.template.context),{encode:w,signals:f.keys(x.signals),scales:f.keys(x.scales),data:f.keys(x.data),fields:f.keys(x.fields),nested:x.nested,reflow:x.reflow}}catch(k){h.error(k),h.log(y)}}function i(e,t){return f.isObject(e)||(e={reflow:!1,nested:[]},g.forEach(function(t){e[t]=[]})),f.isObject(t)&&(e.reflow=e.reflow||t.reflow,e.nested.push.apply(e.nested,t.nested),g.forEach(function(n){e[n].push.apply(e[n],t[n])})),e}function a(e,t){return t.path||("area"===e||"line"===e)&&(t.x||t.x2||t.width||t.y||t.y2||t.height||t.tension||t.interpolate)}function s(e,t,n){var r=e.config(),a=i(),s=[],u="";return(n||[]).forEach(function(l,c){var d,h=l.predicate,p=h&&(h.name||h),g=e.predicate(p),m="predicates["+f.str(p)+"]",v=[],y=t+"_arg"+c;f.isObject(h)&&f.keys(h).forEach(function(e){if("name"!==e){var t=o(r,c,h[e]);v.push(f.str(e)+": "+t.val),i(a,t)}}),d=o(r,t,l),i(a,d),p?(a.signals.push.apply(a.signals,g.signals),a.data.push.apply(a.data,g.data),s.push(y+" = {\n    "+v.join(",\n    ")+"\n  }"),u+="if ("+m+".call("+m+","+y+", db, signals, predicates)) {\n    d += set(o, "+f.str(t)+", "+d.val+");",u+=n[c+1]?"\n  } else ":"  }"):u+="{\n    d += set(o, "+f.str(t)+", "+d.val+");\n  }\n"}),u="var "+s.join(",\n      ")+";\n  "+u,a.code=u,a}function o(e,t,n){if(null==n)return null;if("fill"===t||"stroke"===t){if(n.c)return u(e,"hcl",n.h,n.c,n.l);if(n.h||n.s)return u(e,"hsl",n.h,n.s,n.l);if(n.l||n.a)return u(e,"lab",n.l,n.a,n.b);if(n.r||n.g||n.b)return u(e,"rgb",n.r,n.g,n.b)}var r=null,a=null,s=i(),o=null,d=null,h=null,p={};return void 0!==n.template&&(r=f.template.source(n.template,"tmpl",p),f.keys(p).forEach(function(e){var t=f.field(e),n=t.shift();"parent"===n||"group"===n?s.nested.push({parent:"parent"===n,group:"group"===n,level:1}):"datum"===n?s.fields.push(t[0]):s.signals.push(n)})),void 0!==n.value&&(r=f.str(n.value)),void 0!==n.signal&&(o=f.field(n.signal),r="signals["+o.map(f.str).join("][")+"]",s.signals.push(o.shift())),void 0!==n.field&&(n.field=f.isString(n.field)?{datum:n.field}:n.field,d=l(n.field),r=d.val,i(s,d)),void 0!==n.scale&&(h=c(n.scale),a=h.val,i(s,h),s.scales.push(n.scale.name||n.scale),r=null!==r||n.band||n.mult||n.offset?a+(n.band?".rangeBand()":"("+(null!==r?r:"item.datum.data")+")"):a),r="("+(n.mult?f.number(n.mult)+" * ":"")+r+")"+(n.offset?" + "+f.number(n.offset):""),s.val=r,s}function u(e,t,n,r,a){var s=n?o(e,"",n):e.color[t][0],u=r?o(e,"",r):e.color[t][1],l=a?o(e,"",a):e.color[t][2],c=i();[s,u,l].forEach(function(e){f.isArray||i(c,e)});var d="(this.d3."+t+"("+[s.val,u.val,l.val].join(",")+') + "")';return c.val=d,c}function l(e){if(f.isString(e))return{val:f.field(e).map(f.str).join("][")};var t=e.level||1,n=(e.group||e.parent)&&t,r=n?Array(t).join("group.mark."):"",a=l(e.datum||e.group||e.parent||e.signal),s=a.val,o=i(null,a);return e.datum?(s="item.datum["+s+"]",o.fields.push(e.datum)):e.group?(s=r+"group["+s+"]",o.nested.push({level:t,group:!0})):e.parent?(s=r+"group.datum["+s+"]",o.nested.push({level:t,parent:!0})):e.signal&&(s="signals["+s+"]",o.signals.push(f.field(e.signal)[0]),o.reflow=!0),o.val=s,o}function c(e){var t=null,n=null,r=i();return t=f.isString(e)?f.str(e):e.name?f.isString(e.name)?f.str(e.name):(n=l(e.name)).val:(n=l(e)).val,t="(item.mark._scaleRefs["+t+"] = 1, group.scale("+t+"))",
e.invert&&(t+=".invert"),n&&n.nested.forEach(function(e){e.scale=!0}),n?(n.val=t,n):(r.val=t,r)}var d="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,f=e("datalib"),h=e("vega-logging"),p=e("vega-dataflow").Tuple,g=["signals","scales","data","fields"];t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{datalib:24,"vega-dataflow":39,"vega-logging":45}],103:[function(e,t,n){function r(e,t){return(t||[]).forEach(function(t){if(-1!==u.indexOf(t.name))throw Error('Signal name "'+t.name+'" is a reserved keyword ('+u.join(", ")+").");var n=e.signal(t.name,t.init).verbose(t.verbose);t.init&&t.init.expr&&(t.init.expr=o(t.init.expr),n.value(i(e,t.init))),t.expr&&(t.expr=o(t.expr),n.evaluate=function(r){var a=i(e,t);return a!==n.value()||n.verbose()?(n.value(a),r.signals[t.name]=1,r):e.doNotPropagate},n.dependency(s,t.expr.globals),t.expr.globals.forEach(function(t){e.signal(t).addListener(n)}))}),t}function i(e,t){var n=t.expr,i=n.fn(null,null,e.values(s,n.globals));return t.scale?r.scale(e,t,i):i}var a=e("datalib"),s=e("vega-dataflow").Dependencies.SIGNALS,o=e("./expr"),u=["datum","event","signals"].concat(a.keys(o.codegen.functions));r.scale=function(e,t,n,r,i){var u,l=t.scale,c=l.name||l.signal||l,d=l.scope;d&&(d.signal?d=e.signalRef(d.signal):a.isString(d)&&(u=l._expr=l._expr||o(d),d=u.fn(r,i,e.values(s,u.globals)))),d&&d.scale||(d=d&&d.mark?d.mark.group:e.scene().items[0]);var f=d.scale(c);return f?l.invert?f.invert(n):f(n):n},t.exports=r},{"./expr":94,datalib:24,"vega-dataflow":39}],104:[function(e,t,n){function r(t,n){function r(t){t=i.duplicate(t);var r=e("./"),a=t.width||500,s=t.height||500,o=t.viewport||null;d.defs({width:a,height:s,viewport:o,background:r.background(t.background),padding:r.padding(t.padding),signals:r.signals(d,t.signals),predicates:r.predicates(d,t.predicates),marks:r.marks(d,t,a,s),data:r.data(d,t.data,function(){n(l(d))})})}var u=arguments[arguments.length-1],l=arguments.length>2&&i.isFunction(u)?u:o.factory,c=arguments[2]!==l?arguments[2]:{},d=new s(c);if(i.isObject(t))r(t);else if(i.isString(t)){var f=i.extend({url:t},d.config().load);i.load(f,function(e,t){if(e)a.error("LOADING SPECIFICATION FAILED: "+e.statusText);else try{r(JSON.parse(t))}catch(n){a.error("INVALID SPECIFICATION: Must be a valid JSON object. "+n)}})}else a.error("INVALID SPECIFICATION: Must be a valid JSON object or URL.")}var i=e("datalib"),a=e("vega-logging"),s=e("../core/Model"),o=e("../core/View");t.exports=r},{"../core/Model":86,"../core/View":87,"./":95,datalib:24,"vega-logging":45}],105:[function(e,t,n){(function(n){function r(e){function t(t,n){var r,a,s,o=i.mouse((i.event=t,e.renderer().scene())),u=e.padding(),l={};if(n)for(r=n.mark,a="group"===r.marktype?n:r.group,s=n;null!=s;s=s.mark.group)s.mark.def.name&&(l[s.mark.def.name]=s);l.root=e.model().scene().items[0],t.vg=Object.create(f),t.vg.group=a,t.vg.item=n||{},t.vg.name=l,t.vg.x=o[0]-u.left,t.vg.y=o[1]-u.top}function n(e,t,n,r){function i(e){return!e.fn(n,r,m.values(o,e.globals))}var a,l,c,d,f=e.handlers[t],h=e.nodes[t],p=s.ChangeSet.create(null,!0),g=!1;for(l=0,c=f.length;c>l;++l)d=f[l],g=d.filters.some(i),g||(a=d.exp.fn(n,r,m.values(o,d.exp.globals)),d.spec.scale&&(a=u.scale(m,d.spec,a,n,r)),(a!==d.signal.value()||d.signal.verbose())&&(d.signal.value(a),p.signals[d.signal.name()]=1));m.propagate(p,h)}function r(e,t,n,i){t.forEach(function(t){t.event?h(e,t,n,i):t.signal?p(e,t,n,i):t.start?g(e,t,n,i):t.stream&&r(e,t.stream,n,i)})}function h(e,t,n,r){var i=t.event,o=t.name,u=t.mark,l=t.target,d=t.filters||[],f=l?b:_,h=l?l+":"+i:i,p=f.nodes[h]||(f.nodes[h]=new s.Node(m)),g=f.handlers[h]||(f.handlers[h]=[]);o?d.push('!!event.vg.name["'+o+'"]'):u&&d.push("event.vg.item.mark && event.vg.item.mark.marktype==="+a.str(u)),g.push({signal:e,exp:n,spec:r,filters:d.map(function(e){return c(e)})}),p.addListener(e)}function p(e,t,n,r){var i=new s.Node(m);i.evaluate=function(i){if(!i.signals[t.signal])return m.doNotPropagate;var a=n.fn(null,null,m.values(o,n.globals));return r.scale&&(a=u.scale(m,r,a)),(a!==e.value()||e.verbose())&&(e.value(a),i.signals[e.name()]=1,i.reflow=!0),i},i.dependency(s.Dependencies.SIGNALS,t.signal),i.addListener(e),m.signal(t.signal).addListener(i)}function g(e,t,n,i){var a=e.name(),s=a+d,o=c("true"),u=c("false"),l=t.middle,f=l.filters||(l.filters=[]),h=m.signal(s)||m.signal(s,!1);r(h,[t.start],o,{}),r(h,[t.end],u,{}),f.push(h.name()),r(e,[t.middle],n,i)}var m=e.model(),v=m.defs().signals,y={handlers:{},nodes:{}},_=a.duplicate(y),b=a.duplicate(y);return(v||[]).forEach(function(e){var t=m.signal(e.name);e.expr||(e.streams||[]).forEach(function(e){var n=l.parse(e.type),i=c(e.expr);r(t,n,i,e)})}),a.keys(_.handlers).forEach(function(r){e.on(r,function(e,i){e.preventDefault(),t(e,i),n(_,r,i&&i.datum||{},e)})}),a.keys(b.handlers).forEach(function(e){function r(r){t(r),n(b,e,i.select(this).datum(),r)}if("undefined"!=typeof window){for(var a=b.handlers[e],s=e.split(":"),o="window"===s[0]?[window]:window.document.querySelectorAll(s[0]),u=0;u<o.length;++u)o[u].addEventListener(s[1],r);a.elements=o,a.listener=r}}),b.detach=function(){a.keys(b.handlers).forEach(function(e){for(var t=b.handlers[e],n=e.split(":"),r=t.elements||[],i=0;i<r.length;++i)r[i].removeEventListener(n[1],t.listener)})},b.detach}var i="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,a=e("datalib"),s=e("vega-dataflow"),o=s.Dependencies.SIGNALS,u=e("./signals"),l=e("./events"),c=e("./expr"),d="_vgGATEKEEPER",f={getGroup:function(e){return e?this.name[e]:this.group},getXY:function(e){var t={x:this.x,y:this.y};for("string"==typeof e&&(e=this.name[e]);e;e=e.mark&&e.mark.group)t.x-=e.x||0,t.y-=e.y||0;return t},getX:function(e){return this.getXY(e).x},getY:function(e){return this.getXY(e).y}};t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./events":93,"./expr":94,"./signals":103,datalib:24,"vega-dataflow":39}],106:[function(e,t,n){function r(e,t){var n=new a[t.type](e);return t.output&&n.output(t.output),i.keys(t).forEach(function(e){"type"!==e&&"output"!==e&&n.param(e,t[e])}),n}var i=e("datalib"),a=e("../transforms/index");t.exports=r},{"../transforms/index":139,datalib:24}],107:[function(e,t,n){function r(e,t){return this._mark=t,s.prototype.init.call(this,e).router(!0).reflows(!0).mutates(!0)}var i=e("datalib"),a=e("vega-dataflow"),s=a.Node,o=e("vega-logging"),u=e("vega-scenegraph").bound,l=e("./Encoder"),c=r.prototype=new s;c.evaluate=function(e){o.debug(e,["bounds",this._mark.marktype]);var t,n,r,s,c,d,f=this._mark.marktype,h="group"===f,p=this._mark.items,g=i.array(this._mark.def.legends).length>0;if(e.add.length||e.rem.length||!p.length||e.mod.length===p.length||"area"===f||"line"===f?u.mark(this._mark,null,h&&!g):e.mod.forEach(function(e){u.item(e)}),h&&g){for(t=0,n=p.length;n>t;++t)for(c=p[t],c._legendPositions=null,r=0,s=c.legendItems.length;s>r;++r)d=c.legendItems[r],l.update(this._graph,e.trans,"vg_legendPosition",d.items,e.dirty),u.mark(d,null,!1);u.mark(this._mark,null,!0)}return a.ChangeSet.create(e,!0)},t.exports=r},{"./Encoder":109,datalib:24,"vega-dataflow":39,"vega-logging":45,"vega-scenegraph":46}],108:[function(e,t,n){function r(){return arguments.length?this.init.apply(this,arguments):this}function i(){var e,t,n,r,i,a,s=this._def.from,o=s.mark;o?(t=["vg",this._parent_id,o].join("_"),n={name:t,transform:s.transform,modify:s.modify}):(e=this._graph.data(this._from),t=["vg",this._from,this._def.type,e.listeners(!0).length].join("_"),n={name:t,source:this._from,transform:s.transform,modify:s.modify}),this._from=t,this._ds=_.datasource(this._graph,n);var u;o?(r=this.sibling(o),u=new f(this._graph).addListener(this._ds.listener()),u.evaluate=function(){return r._output},r._isSuper?r.addListener(u):r._bounder.addListener(u)):(i=this._ds.source().last(),a=g.create(i),a.add=i.add,a.mod=i.mod,a.rem=i.rem,a.stamp=null,this._graph.propagate(a,this._ds.listener(),i.stamp))}function a(){var e=p.ingest(new c(this._mark));return this._def.width&&p.set(e,"width",this._def.width),this._def.height&&p.set(e,"height",this._def.height),e}function s(e,t,n,r){var i,s,u,l,c,d,f=g.create(e),h=o(this._def.key||(n?"_id":null)),m=this._mark.items||[],v=n?e.rem:m,y=p.idMap(!n||r?t:e.mod),_=[];for(i=0,u=v.length;u>i;++i)l=v[i]===m[i]?m[i]:h?this._map[h(v[i])]:v[i],l.status=b.EXIT;for(i=0,u=t.length;u>i;++i)c=t[i],l=h?this._map[s=h(t[i])]:m[i],d=l?!1:(l=a.call(this),!0),l.status=d?b.ENTER:b.UPDATE,l.datum=c,h&&(p.set(l,"key",s),this._map[s]=l),d?f.add.push(l):y[c._id]&&f.mod.push(l),_.push(l);for(i=0,u=v.length;u>i;++i)l=v[i]===m[i]?m[i]:h?this._map[s=h(v[i])]:v[i],l.status===b.EXIT&&(l._dirty=!0,e.dirty.push(l),_.push(l),f.rem.push(l),h&&(this._map[s]=null));return this._mark.items=_,f}function o(e){if(null==e)return null;var t=u.array(e).map(u.accessor);return function(e){for(var n="",r=0,i=t.length;i>r;++r)r>0&&(n+="|"),n+=String(t[r](e));return n}}var u=e("datalib"),l=e("vega-logging"),c=e("vega-scenegraph").Item,d=e("vega-dataflow"),f=d.Node,h=d.Dependencies,p=d.Tuple,g=d.ChangeSet,m={},v=e("./Encoder"),y=e("./Bounder"),_=e("../parse/data"),b=r.STATUS={ENTER:"enter",UPDATE:"update",EXIT:"exit"},x=1,w=2,k=r.prototype=new f;k.init=function(e,t,n,r,a,s){return f.prototype.init.call(this,e).router(!0).collector(!0),this._def=t,this._mark=n,this._from=(t.from?t.from.data:null)||s,this._ds=u.isString(this._from)?e.data(this._from):null,this._map={},this._status=null,n.def=t,n.marktype=t.type,n.interactive=t.interactive!==!1,n.items=[],u.isValid(t.name)&&(n.name=t.name),this._parent=r,this._parent_id=a,t.from&&(t.from.mark||t.from.transform||t.from.modify)&&i.call(this),this._isSuper="group"!==this._def.type,this._encoder=new v(this._graph,this._mark,this),this._bounder=new y(this._graph,this._mark),this._output=null,this._ds&&this._encoder.dependency(h.DATA,this._from),this.dependency(h.DATA,this._encoder.dependency(h.DATA)),this.dependency(h.SCALES,this._encoder.dependency(h.SCALES)),this.dependency(h.SIGNALS,this._encoder.dependency(h.SIGNALS)),this},k.ds=function(){return this._ds},k.parent=function(){return this._parent},k.encoder=function(){return this._encoder},k.pipeline=function(){return[this]},k.connect=function(){var e=this;return this._graph.connect(this.pipeline()),this._encoder._scales.forEach(function(t){(t=e._parent.scale(t))&&t.addListener(e)}),this._parent&&(this._isSuper?this.addListener(this._parent._collector):this._bounder.addListener(this._parent._collector)),this._status=x,this},k.disconnect=function(){function e(e){for(var n,r=0,i=e.length;i>r;++r)(n=t._parent.scale(e[r]))&&n.removeListener(t)}var t=this;return this._listeners.length?(f.prototype.disconnect.call(this),this._graph.disconnect(this.pipeline()),e(this._encoder._scales),e(u.keys(this._mark._scaleRefs)),this._status=w,this):this},k.sibling=function(e){return this._parent.child(e,this._parent_id)},k.evaluate=function(e){l.debug(e,["building",this._from||this._def.from,this._def.type]);var t,n,r,i,a,o=this,c=this._mark.def,d=c.properties||{},f=d.update||{};if(this._ds){if(t=g.create(e),i=t.data[a=this._ds.name()],delete t.data[a],n=this._encoder.reevaluate(t),t.data[a]=i,n&&(t.mod=this._mark.items.slice()),r=this._ds.last(),!r)throw Error("Builder evaluated before backing DataSource.");r.stamp>this._stamp&&(t=s.call(this,r,this._ds.values(),!0,n))}else i=u.isFunction(this._def.from)?this._def.from():[m],t=s.call(this,e,i);return this._output=t=this._graph.evaluate(t,this._encoder),f.nested&&f.nested.length&&this._status===x&&u.keys(this._mark._scaleRefs).forEach(function(e){var t=o._parent.scale(e);t&&(t.addListener(o),o.dependency(h.SCALES,e),o._encoder.dependency(h.SCALES,e))}),this._isSuper&&(t.mod=t.mod.filter(function(e){return e._dirty}),t=this._graph.evaluate(t,this._bounder)),t},t.exports=r},{"../parse/data":92,"./Bounder":107,"./Encoder":109,datalib:24,"vega-dataflow":39,"vega-logging":45,"vega-scenegraph":46}],109:[function(e,t,n){function r(e,t,n){var r=t.def.properties||{},i=r.enter,a=r.update,s=r.exit;c.prototype.init.call(this,e),this._mark=t,this._builder=n;var o=this._scales=[];return i&&o.push.apply(o,i.scales),a&&(this.dependency(d.DATA,a.data),this.dependency(d.SIGNALS,a.signals),this.dependency(d.FIELDS,a.fields),this.dependency(d.SCALES,a.scales),o.push.apply(o,a.scales)),s&&o.push.apply(o,s.scales),this.mutates(!0)}function i(e,t,n,r){var i,a,s,o=n.add.length;return(i=r.enter)&&(a=i[e]).length&&o&&(s=t.values(e,a,s=s||{})),(i=r.exit)&&(a=i[e]).length&&n.rem.length&&(s=t.values(e,a,s=s||{})),(i=r.update)&&(a=i[e]).length&&(o||n.mod.length)&&(s=t.values(e,a,s=s||{})),s||h}function a(e,t,n,r,i,a,s){var o=e.encode,u=t._dirty,l=o.call(o,t,t.mark.group||t,n,r,i,a);t._dirty=l||u,l&&!u&&s.push(t)}function s(){for(var e,t,n,r=this._mark.def.properties.update.nested,i=this._builder,a=0,s=0,o=r.length;o>s;++s)if(e=r[s],!e.scale){for(;a<e.level;++a)i=i.parent(),t=i.ds();if(n=(e.group?i.encoder():t.last())._stamp,n>this._stamp)return!0}return!1}var o=e("datalib"),u=e("vega-logging"),l=e("vega-dataflow"),c=l.Node,d=l.Dependencies,f=e("vega-scenegraph").bound,h={},p=r.prototype=new c;p.evaluate=function(t){u.debug(t,["encoding",this._mark.def.type]);var n,r,s,o,l=this._graph,c=this._mark.def.properties||{},f=this._mark.items,p=c.enter,g=c.update,m=c.exit,v=t.dirty,y=l.predicates(),_=t.request,b=this._mark.group,x=b&&(b.mark.axis||b.mark.legend),w=h,k=h;if(_&&!x){if((o=c[_])&&t.mod.length)for(w=o.data?l.values(d.DATA,o.data):null,k=o.signals?l.values(d.SIGNALS,o.signals):null,n=0,r=t.mod.length;r>n;++n)s=t.mod[n],a.call(this,o,s,t.trans,w,k,y,v);return t}for(w=i(d.DATA,l,t,c),k=i(d.SIGNALS,l,t,c),n=0,r=t.rem.length;r>n;++n)s=t.rem[n],m&&a.call(this,m,s,t.trans,w,k,y,v),t.trans&&!m?t.trans.interpolate(s,h):t.trans||f.pop();var S=e("./Builder").STATUS.UPDATE;for(n=0,r=t.add.length;r>n;++n)s=t.add[n],p&&a.call(this,p,s,t.trans,w,k,y,v),g&&a.call(this,g,s,t.trans,w,k,y,v),s.status=S;if(g)for(n=0,r=t.mod.length;r>n;++n)s=t.mod[n],a.call(this,g,s,t.trans,w,k,y,v);return t},p.reevaluate=function(e){var t=this._mark.def,n=t.properties||{},r=o.isFunction(t.from)||t.orient||e.request||c.prototype.reevaluate.call(this,e);return r||(n.update?s.call(this):!1)},r.update=function(e,t,n,r,i){r=o.array(r);var s,u,l,c,h,p=e.predicates(),g=e.values(d.DATA),m=e.values(d.SIGNALS);for(s=0,u=r.length;u>s;++s)l=r[s],c=l.mark.def.properties,h=c&&c[n],h&&(a.call(null,h,l,t,g,m,p,i),f.item(l))},t.exports=r},{"./Builder":108,datalib:24,"vega-dataflow":39,"vega-logging":45,"vega-scenegraph":46}],110:[function(e,t,n){function r(){return this._children={},this._scaler=null,this._recursor=null,this._scales={},this.scale=a.bind(this),arguments.length?this.init.apply(this,arguments):this}function i(e){function t(e){e.type!=b.MARK||e.inline||void 0===m._graph.data(e.from)||m._recursor.removeListener(e.builder)}function n(t){var n=t.scale();e.scales[n.scaleName]&&t.reset().def()}function r(t){var n=t.size()||t.shape()||t.fill()||t.stroke();e.scales[n.scaleName]&&t.reset().def()}function i(e){m._recursor.removeListener(e.builder),e.builder.disconnect()}var a,s,d,f,h,p,g,m=this,v=c.array(this._def.marks).length>0,y=c.array(this._def.axes).length>0,_=c.array(this._def.legends).length>0,x=!1;for(a=0,f=e.add.length;f>a;++a)h=e.add[a],v&&o.call(this,e,h),y&&u.call(this,e,h),_&&l.call(this,e,h);for(a=e.add.length-1;a>=0;--a)for(h=e.add[a],s=this._children[h._id].length-1;s>=0;--s)d=this._children[h._id][s],d.builder.connect(),p=d.builder.pipeline(),g=d.builder._def,x=g.type!==b.GROUP,x=x&&void 0!==this._graph.data(d.from),x=x&&1===p[p.length-1].listeners().length,x=x&&g.from&&!g.from.mark,d.inline=x,x?this._graph.evaluate(e,d.builder):this._recursor.addListener(d.builder);for(a=0,f=e.mod.length;f>a;++a)h=e.mod[a],v&&m._children[h._id].forEach(t),y&&h.axes.forEach(n),_&&h.legends.forEach(r);for(a=0,f=e.rem.length;f>a;++a)h=e.rem[a],m._children[h._id].forEach(i),delete m._children[h._id];return e}function a(e,t){var n=this,r=null;if(2===arguments.length)return n._scales[e]=t,t;for(;null==r&&(r=n._scales[e],n=n.mark?n.mark.group:n._parent););return r}function s(e,t){g.debug(e,["building group",t._id]),t._scales=t._scales||{},t.scale=a.bind(t),t.items=t.items||[],this._children[t._id]=this._children[t._id]||[],t.axes=t.axes||[],t.axisItems=t.axisItems||[],t.legends=t.legends||[],t.legendItems=t.legendItems||[]}function o(e,t){g.debug(e,["building children marks #"+t._id]);var n,i,a,s,o,u,l=this._def.marks;for(s=0,o=l.length;o>s;++s)n=l[s],i=n.from||{},a=t.datum._facetID,t.items[s]={group:t,_scaleRefs:{}},u=n.type===b.GROUP?new r:new m,u.init(this._graph,n,t.items[s],this,t._id,a),this._children[t._id].push({builder:u,from:i.data||(i.mark?"vg_"+t._id+"_"+i.mark:a),type:b.MARK})}function u(e,t){var n=t.axes,i=t.axisItems,a=this;y(this._graph,this._def.axes,n,t),n.forEach(function(e,n){var s=a._def.axes[n].scale,o=e.def(),u=null;i[n]={group:t,axis:!0,layer:o.layer},u=o.type===b.GROUP?new r:new m,u.init(a._graph,o,i[n],a).dependency(h.SCALES,s),a._children[t._id].push({builder:u,type:b.AXIS,scale:s})})}function l(e,t){var n=t.legends,i=t.legendItems,a=this;_(this._graph,this._def.legends,n,t),n.forEach(function(e,n){var s=e.size()||e.shape()||e.fill()||e.stroke(),o=e.def(),u=null;i[n]={group:t,legend:!0},u=o.type===b.GROUP?new r:new m,u.init(a._graph,o,i[n],a).dependency(h.SCALES,s),a._children[t._id].push({builder:u,type:b.LEGEND,scale:s})})}var c=e("datalib"),d=e("vega-dataflow"),f=d.Node,h=d.Dependencies,p=d.Collector,g=e("vega-logging"),m=e("./Builder"),v=e("./Scale"),y=e("../parse/axes"),_=e("../parse/legends"),b=r.TYPES={GROUP:"group",MARK:"mark",AXIS:"axis",LEGEND:"legend"},x=r.prototype=new m;x.init=function(e,t){var n,r=this;this._scaler=new f(e),(t.scales||[]).forEach(function(t){t=r.scale(n=t.name,new v(e,t,r)),r.scale(n+":prev",t),r._scaler.addListener(t)}),this._recursor=new f(e),this._recursor.evaluate=i.bind(this);var a=(t.axes||[]).reduce(function(e,t){return e[t.scale]=1,e},{});return a=(t.legends||[]).reduce(function(e,t){return e[t.size||t.shape||t.fill||t.stroke],e},a),this._recursor.dependency(h.SCALES,c.keys(a)),this._collector=new p(e),m.prototype.init.apply(this,arguments)},x.evaluate=function(){var e=m.prototype.evaluate.apply(this,arguments),t=this;return e.add.forEach(function(n){s.call(t,e,n)}),e},x.pipeline=function(){return[this,this._scaler,this._recursor,this._collector,this._bounder]},x.disconnect=function(){var e=this;return c.keys(e._children).forEach(function(t){e._children[t].forEach(function(t){e._recursor.removeListener(t.builder),t.builder.disconnect()})}),e._children={},m.prototype.disconnect.call(this)},x.child=function(e,t){for(var n,r=this._children[t],i=0,a=r.length;a>i&&(n=r[i],n.type!=b.MARK||n.builder._def.name!=e);++i);return n.builder},t.exports=r},{"../parse/axes":90,"../parse/legends":96,"./Builder":108,"./Scale":111,datalib:24,"vega-dataflow":39,"vega-logging":45}],111:[function(e,t,n){(function(n){function r(e,t,n){return this._def=t,this._parent=n,this._updated=!1,w.prototype.init.call(this,e).reflows(!0)}function i(e){var t=this._def.name,n=t+":prev",r=a.call(this,e.scale(t)),i=r.type===T.ORDINAL?s:o,u=v.call(this,e);return i.call(this,r,u,e),e.scale(t,r),e.scale(n,e.scale(n)||r),r}function a(e){var t=this._graph.config(),n=this._def.type||T.LINEAR;if(!e||n!==e.type){var r=t.scale[n]||y.scale[n];if(!r)throw Error("Unrecognized scale type: "+n);(e=r()).type=e.type||n,e.scaleName=this._def.name,e._prev={}}return e}function s(e,t,n){var r,i,a=this._def,s=e._prev,o=!1,u=g.call(this,a.padding)||0,l=null==a.outerPadding?u:g.call(this,a.outerPadding),c=a.points&&g.call(this,a.points),d=g.call(this,a.round)||null==a.round;if(_.isObject(a.range)&&!_.isArray(a.range)&&(o=!0,t=p.call(this,A.RANGE,a.range,e,n)),r=p.call(this,A.DOMAIN,a.domain,e,n),r&&!_.equal(s.domain,r)&&(e.domain(r),s.domain=r,this._updated=!0),!_.equal(s.range,t)){if(a.bandWidth){var f,h=g.call(this,a.bandWidth),m=r.length,v=a.points?u*h:u*h*(m-1)+2*l;t[0]>t[1]?(f=t[1]||0,t=[f+(h*m+v),f]):(f=t[0]||0,t=[f,f+(h*m+v)])}i="string"==typeof t[0],i||t.length>2||1===t.length||o?e.range(t):c&&d?e.rangeRoundPoints(t,u):c?e.rangePoints(t,u):d?e.rangeRoundBands(t,u,l):e.rangeBands(t,u,l),e.invert||(e.invert=function(t,n){if(1===arguments.length)return e.domain()[y.bisect(e.range(),t)-1];if(2===arguments.length){if(!_.isNumber(t)||!_.isNumber(n))throw Error("Extents to ordinal invert are not numbers ("+t+", "+n+").");for(var r,i=[],a=e.range(),s=0,o=a.length;o>s;++s)r=a[s],(n>t?r>=t&&n>=r:r>=n&&t>=r)&&i.push(r);return i.map(function(t){return e.invert(t)})}}),s.range=t,this._updated=!0}}function o(e,t,n){var r,i,a=this._def,s=e._prev,o=g.call(this,a.round),u=g.call(this,a.exponent),l=g.call(this,a.clamp),c=g.call(this,a.nice);r=a.type===T.QUANTILE?p.call(this,A.DOMAIN,a.domain,e,n):m.call(this,e,n),r&&!_.equal(s.domain,r)&&(e.domain(r),s.domain=r,this._updated=!0),"height"===g.call(this,a.range)&&(t=t.reverse()),_.equal(s.range,t)||(e[o&&e.rangeRound?"rangeRound":"range"](t),s.range=t,this._updated=!0,this._stamp>0||(u&&a.type===T.POWER&&e.exponent(u),l&&e.clamp(!0),c&&(a.type===T.TIME?(i=y.time[c],i||x.error("Unrecognized interval: "+i),e.nice(i)):e.nice())))}function u(e){return e.type===T.ORDINAL||e.type===T.QUANTILE}function l(e){return e.fields||_.array(e)}function c(e){return e.some(function(e){return e.data?e.data&&_.array(e.field).some(function(e){return e.parent}):!0})}function d(e,t){return _.array(e.field).map(function(e){return e.parent?_.accessor(e.parent)(t.datum):e})}function f(e,t){var n=l(e);return 1==n.length&&1==_.array(n[0].field).length?S.TYPES.TUPLE:u(t)&&e.sort?S.TYPES.MULTI:S.TYPES.VALUE}function h(e,t,n,r){var i=l(t),a=c(i),s=f(t,n),o=u(n),h=t.sort,p="_"+e,g=d(i[0],r);if(n[p]||this[p])return n[p]||this[p];var m,v,y=new S(this._graph).type(s);return a?n[p]=y:this[p]=y,o?s===S.TYPES.VALUE?(m=[{name:A.GROUPBY,get:_.identity}],v={"*":A.COUNT}):s===S.TYPES.TUPLE?(m=[{name:A.GROUPBY,get:_.$(g[0])}],v=h?[{field:A.VALUE,get:_.$(h.field),ops:[h.op]}]:{"*":A.COUNT}):(m=A.GROUPBY,v=[{field:A.VALUE,ops:[h.op]}]):(m=[],v=[{field:A.VALUE,get:s==S.TYPES.TUPLE?_.$(g[0]):_.identity,ops:[A.MIN,A.MAX],as:[A.MIN,A.MAX]}]),y.param("groupby",m).param("summarize",v),y._lastUpdate=-1,y}function p(e,t,n,r){function i(e){M.dependency(k.SIGNALS,e)}if(null==t)return[];if(_.isArray(t))return t.map(g.bind(this));var a,s,o,p,m,v,y,b,x,w,M=this,T=this._graph,E=l(t),L=c(E),C=f(t,n),D=h.apply(this,arguments),N=t.sort,P=u(n);if(L||!L&&D._lastUpdate<this._stamp){for(a=0,s=E.length;s>a;++a)if(m=E[a],x=m.data||r.datum._facetID,b=T.data(x).last(),!(b.stamp<=this._stamp)){for(v=d(m,r),o=0,p=v.length;p>o;++o)y=v[o],C===S.TYPES.VALUE?D.accessors(null,y):C===S.TYPES.MULTI&&D.accessors(y,m.sort||N.field),D.evaluate(b);this.dependency(k.DATA,x),D.dependency(k.SIGNALS).forEach(i)}D._lastUpdate=this._stamp,b=D.aggr().result(),P?(N&&(w=N.order.signal?T.signalRef(N.order.signal):N.order,w=(w==A.DESC?"-":"+")+N.op+"_"+A.VALUE,w=_.comparator(w),b=b.sort(w)),D._values=b.map(function(e){return e[A.GROUPBY]})):(b=b[0],D._values=_.isValid(b)?[b[A.MIN],b[A.MAX]]:[])}return D._values}function g(e){if(!e||!e.signal)return e;var t,n=e.signal;return this.dependency(k.SIGNALS,(t=_.field(n))[0]),this._graph.signalRef(t)}function m(e,t){var n,r=this._def,i=[null,null];return void 0!==r.domain&&(i=_.isObject(r.domain)?p.call(this,A.DOMAIN,r.domain,e,t):i),n=i.length-1,void 0!==r.domainMin&&(_.isObject(r.domainMin)?r.domainMin.signal?i[0]=g.call(this,r.domainMin):i[0]=p.call(this,A.DOMAIN+A.MIN,r.domainMin,e,t)[0]:i[0]=r.domainMin),void 0!==r.domainMax&&(_.isObject(r.domainMax)?r.domainMax.signal?i[n]=g.call(this,r.domainMax):i[n]=p.call(this,A.DOMAIN+A.MAX,r.domainMax,e,t)[1]:i[n]=r.domainMax),r.type===T.LOG||r.type===T.TIME||!r.zero&&void 0!==r.zero||(i[0]=Math.min(0,i[0]),i[n]=Math.max(0,i[n])),i}function v(e){var t=this._def,n=this._graph.config(),r=g.call(this,t.range),i=[null,null];if(void 0!==r)if("string"==typeof r)if(M[r])i=[0,e[r]];else{if(!n.range[r])return x.error("Unrecogized range: "+r),i;i=n.range[r]}else if(_.isArray(r))i=_.duplicate(r).map(g.bind(this));else{if(_.isObject(r))return null;i=[0,r]}if(void 0!==t.rangeMin&&(i[0]=t.rangeMin.signal?g.call(this,t.rangeMin):t.rangeMin),void 0!==t.rangeMax&&(i[i.length-1]=t.rangeMax.signal?g.call(this,t.rangeMax):t.rangeMax),void 0!==t.reverse){var a=g.call(this,t.reverse);_.isObject(a)&&(a=_.accessor(a.field)(e.datum)),a&&(i=i.reverse())}return i}var y="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,_=e("datalib"),b=e("vega-dataflow"),x=e("vega-logging"),w=b.Node,k=b.Dependencies,S=e("../transforms/Aggregate"),M={width:1,height:1},T={LINEAR:"linear",ORDINAL:"ordinal",LOG:"log",POWER:"pow",SQRT:"sqrt",TIME:"time",TIME_UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold"},A={DOMAIN:"domain",RANGE:"range",COUNT:"count",GROUPBY:"groupby",MIN:"min",MAX:"max",VALUE:"value",ASC:"asc",DESC:"desc"},E=r.prototype=new w;E.evaluate=function(e){var t=this,n=function(e){i.call(t,e)};return this._updated=!1,e.add.forEach(n),e.mod.forEach(n),this._updated&&(e.scales[this._def.name]=1,x.debug(e,["scale",this._def.name])),b.ChangeSet.create(e,!0)},E.dependency=function(e,t){if(2==arguments.length){var n=e===k.DATA?"data":"signal";t=_.array(t);for(var r=0,i=t.length;i>r;++r)this._graph[n](t[r]).addListener(this._parent)}return w.prototype.dependency.call(this,e,t)},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transforms/Aggregate":116,datalib:24,"vega-dataflow":39,"vega-logging":45}],112:[function(e,t,n){(function(n){function r(e,t){this.duration=e||500,this.ease=t&&a.ease(t)||a.ease("cubic-in-out"),this.updates={next:null}}function i(e){for(var t,n,r,i,a,o,l=this.updates,c=l,d=c.next,f=this.duration,h=!0;null!=d;c=d,d=c.next)if(t=d.item,n=t.delay||0,r=(e-n)/f,0>r)h=!1;else{for(r>1&&(r=1),i=d.ease(r),a=0,o=d.length;o>a;++a)t[d[a].property]=d[a](i);t.touch(),s.item(t),1===r?(d.remove&&(t.status=u.EXIT,t.remove()),c.next=d.next,d=c):h=!1}return this.callback(),h}var a="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,s=e("vega-scenegraph").bound,o=e("vega-dataflow").Tuple,u=e("./Builder").STATUS,l=r.prototype,c={text:1,url:1};l.interpolate=function(e,t){var n,r,i,s,l=null;for(n in t)r=e[n],i=t[n],r!==i&&(c[n]||void 0===r?o.set(e,n,i):"number"!=typeof r||isFinite(r)?(s=a.interpolate(r,i),s.property=n,(l||(l=[])).push(s)):o.set(e,n,i));return null===l&&e.status===u.EXIT&&(l=[]),null!=l&&(l.item=e,l.ease=e.mark.ease||this.ease,l.next=this.updates.next,this.updates.next=l),this},l.start=function(e){for(var t=this,n=t.updates,r=n.next;null!=r;n=r,r=n.next)r.item.status===u.EXIT&&(r.item.status=u.UPDATE,r.remove=!0);t.callback=e,a.timer(function(e){return i.call(t,e)})},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Builder":108,"vega-dataflow":39,"vega-scenegraph":46}],113:[function(e,t,n){function r(e){function t(){P.type=null}function n(e){return{data:e}}function r(){var e=B||a();return M(e,G)}function a(){switch(E.type){case _:return _;case b:return b;case w:return x;default:return k}}function v(e,t,n){function r(t){return(e[0]<0?-Math.log(t>0?0:-t):Math.log(0>t?0:t))/Math.log(s)}function i(t){return e[0]<0?-Math.pow(s,-t):Math.pow(s,t)}if(null==t)return n;var a,s=E.base(),o=Math.min(s,E.ticks().length/t),u=e[0]>0?(a=1e-12,Math.ceil):(a=-1e-12,Math.floor);return function(e){return i(u(r(e)+a))/e>=o?n(e):""}}function M(e,t){var n,r,i=m.format,a="log"===E.type;switch(e){case k:return n=E.domain(),r=i.auto.number(n,Y,t||(a?".1r":null)),a?v(n,Y,r):r;case _:return(t?i:i.auto).time(t);case b:return(t?i:i.auto).utc(t);default:return String}}function T(e){var t=q||(E.ticks?E.ticks(Y):E.domain()),r=i(E,t,$).map(n);return t=t.map(function(t){return t=n(t),t.label=e(t.data),t}),[t,r]}function A(t){var n,r,i;t.type===w?(n={scale:t.scaleName,offset:.5+t.rangeBand()/2},r=n):(n={scale:t.scaleName,offset:.5},r={scale:t.scaleName+":prev",offset:.5}),i=s(t),m.extend(Z.gridLines,f(L)),m.extend(Z.majorTicks,f(L)),m.extend(Z.minorTicks,f(L)),m.extend(Z.tickLabels,h(L)),m.extend(Z.domain,g(L)),m.extend(Z.title,p(L)),Z.gridLines.properties.enter.stroke={value:L.axis.gridColor},Z.gridLines.properties.enter.strokeOpacity={value:L.axis.gridOpacity},u(C,Z.gridLines,r,n,1/0),u(C,Z.majorTicks,r,n,z),u(C,Z.minorTicks,r,n,j),o(C,Z.tickLabels,r,n,z,R),c(C,Z.domain,i,F),l(C,Z.title,i,N),m.extend(Z.gridLines.properties.update,H),m.extend(Z.majorTicks.properties.update,V),m.extend(Z.minorTicks.properties.update,X),m.extend(Z.tickLabels.properties.update,W),m.extend(Z.domain.properties.update,K),m.extend(Z.title.properties.update,J);var a=[Z.gridLines,Z.majorTicks,Z.minorTicks,Z.tickLabels,Z.domain,Z.title];m.extend(P,{type:"group",interactive:!1,properties:{enter:{encode:d,scales:[t.scaleName],signals:[],data:[]},update:{encode:d,scales:[t.scaleName],signals:[],data:[]}}}),P.marks=a.map(function(t){return y(e,t)})}var E,L=e.config(),C=L.axis.orient,D=0,N=L.axis.titleOffset,P={},I="front",O=!1,U=null,z=L.axis.tickSize,j=L.axis.tickSize,F=L.axis.tickSize,R=L.axis.padding,q=null,G=null,B=null,$=0,Y=L.axis.ticks,H={},W={},V={},X={},J={},K={},Z={gridLines:{},majorTicks:{},minorTicks:{},tickLabels:{},domain:{},title:{}},Q={};return Q.def=function(){P.type||A(E);var e=T(r()),t=U?[U].map(n):[];return P.marks[0].from=function(){return O?e[0]:[]},P.marks[1].from=function(){return e[0]},P.marks[2].from=function(){return e[1]},P.marks[3].from=P.marks[1].from,P.marks[4].from=function(){return[1]},P.marks[5].from=function(){return t},P.offset=D,P.orient=C,P.layer=I,P},Q.scale=function(e){return arguments.length?(E!==e&&(E=e,t()),Q):E},Q.orient=function(e){return arguments.length?(C!==e&&(C=e in S?e+"":L.axis.orient,t()),Q):C},Q.title=function(e){return arguments.length?(U!==e&&(U=e,t()),Q):U},Q.tickCount=function(e){return arguments.length?(Y=e,Q):Y},Q.tickValues=function(e){return arguments.length?(q=e,Q):q},Q.tickFormat=function(e){return arguments.length?(G!==e&&(G=e,t()),Q):G},Q.tickFormatType=function(e){return arguments.length?(B!==e&&(B=e,t()),Q):B},Q.tickSize=function(e,n){if(!arguments.length)return z;var r=arguments.length-1,i=+e,a=r>1?+n:z,s=r>0?+arguments[r]:z;return(z!==i||j!==a||F!==s)&&t(),z=i,j=a,F=s,Q},Q.tickSubdivide=function(e){return arguments.length?($=+e,Q):$},Q.offset=function(e){return arguments.length?(D=m.isObject(e)?e:+e,Q):D},Q.tickPadding=function(e){return arguments.length?(R!==+e&&(R=+e,t()),Q):R},Q.titleOffset=function(e){return arguments.length?(N!==+e&&(N=+e,t()),Q):N},Q.layer=function(e){return arguments.length?(I!==e&&(I=e,t()),Q):I},Q.grid=function(e){return arguments.length?(O!==e&&(O=e,t()),Q):O},Q.gridLineProperties=function(e){return arguments.length?(H!==e&&(H=e),Q):H},Q.majorTickProperties=function(e){return arguments.length?(V!==e&&(V=e),Q):V},Q.minorTickProperties=function(e){return arguments.length?(X!==e&&(X=e),Q):X},Q.tickLabelProperties=function(e){return arguments.length?(W!==e&&(W=e),Q):W},Q.titleProperties=function(e){return arguments.length?(J!==e&&(J=e),Q):J},Q.domainProperties=function(e){return arguments.length?(K!==e&&(K=e),Q):K},Q.reset=function(){return t(),Q},Q}function i(e,t,n){var r=[];if(n&&t.length>1){for(var i,s,o=a(e.domain()),u=-1,l=t.length,c=(t[1]-t[0])/++n;++u<l;)for(i=n;--i>0;)(s=+t[u]-i*c)>=o[0]&&r.push(s);for(--u,i=0;++i<n&&(s=+t[u]+i*c)<o[1];)r.push(s)}return r}function a(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function s(e){return e.rangeExtent?e.rangeExtent():a(e.range())}function o(e,t,n,r,i,a){i=Math.max(i,0)+a,("left"===e||"top"===e)&&(i*=-1),"top"===e||"bottom"===e?(m.extend(t.properties.enter,{x:n,y:{value:i}}),m.extend(t.properties.update,{x:r,y:{value:i},align:{value:"center"
},baseline:{value:T[e]}})):(m.extend(t.properties.enter,{x:{value:i},y:n}),m.extend(t.properties.update,{x:{value:i},y:r,align:{value:M[e]},baseline:{value:"middle"}}))}function u(e,t,n,r,i){var a="left"===e||"top"===e?-1:1;i=i===1/0?"top"===e||"bottom"===e?{field:{group:"height",level:2},mult:-a}:{field:{group:"width",level:2},mult:-a}:{value:a*i},"top"===e||"bottom"===e?(m.extend(t.properties.enter,{x:n,y:{value:0},y2:i}),m.extend(t.properties.update,{x:r,y:{value:0},y2:i}),m.extend(t.properties.exit,{x:r})):(m.extend(t.properties.enter,{x:{value:0},x2:i,y:n}),m.extend(t.properties.update,{x:{value:0},x2:i,y:r}),m.extend(t.properties.exit,{y:r}))}function l(e,t,n,r){var i=~~((n[0]+n[1])/2),a="top"===e||"left"===e?-1:1;"bottom"===e||"top"===e?m.extend(t.properties.update,{x:{value:i},y:{value:a*r},angle:{value:0}}):m.extend(t.properties.update,{x:{value:a*r},y:{value:i},angle:{value:"left"===e?-90:90}})}function c(e,t,n,r){var i;("top"===e||"left"===e)&&(r=-1*r),i="bottom"===e||"top"===e?"M"+n[0]+","+r+"V0H"+n[1]+"V"+r:"M"+r+","+n[0]+"H0V"+n[1]+"H"+r,t.properties.update.path={value:i}}function d(e,t,n){var r=n?{}:e,i=e.mark.def.offset,a=e.mark.def.orient,s=t.width,o=t.height;if(m.isArray(i)){var u=i[0],l=i[1];switch(a){case"left":v.set(r,"x",-u),v.set(r,"y",l);break;case"right":v.set(r,"x",s+u),v.set(r,"y",l);break;case"bottom":v.set(r,"x",u),v.set(r,"y",o+l);break;case"top":v.set(r,"x",u),v.set(r,"y",-l);break;default:v.set(r,"x",u),v.set(r,"y",l)}}else switch(m.isObject(i)&&(i=-t.scale(i.scale)(i.value)),a){case"left":v.set(r,"x",-i),v.set(r,"y",0);break;case"right":v.set(r,"x",s+i),v.set(r,"y",0);break;case"bottom":v.set(r,"x",0),v.set(r,"y",o+i);break;case"top":v.set(r,"x",0),v.set(r,"y",-i);break;default:v.set(r,"x",0),v.set(r,"y",0)}return n&&n.interpolate(e,r),!0}function f(e){return{type:"rule",interactive:!1,key:"data",properties:{enter:{stroke:{value:e.axis.tickColor},strokeWidth:{value:e.axis.tickWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function h(e){return{type:"text",interactive:!0,key:"data",properties:{enter:{fill:{value:e.axis.tickLabelColor},font:{value:e.axis.tickLabelFont},fontSize:{value:e.axis.tickLabelFontSize},opacity:{value:1e-6},text:{field:"label"}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function p(e){return{type:"text",interactive:!0,properties:{enter:{font:{value:e.axis.titleFont},fontSize:{value:e.axis.titleFontSize},fontWeight:{value:e.axis.titleFontWeight},fill:{value:e.axis.titleColor},align:{value:"center"},baseline:{value:"middle"},text:{field:"data"}},update:{}}}}function g(e){return{type:"path",interactive:!1,properties:{enter:{x:{value:.5},y:{value:.5},stroke:{value:e.axis.axisColor},strokeWidth:{value:e.axis.axisWidth}},update:{}}}}var m=e("datalib"),v=e("vega-dataflow").Tuple,y=e("../parse/mark"),_="time",b="utc",x="string",w="ordinal",k="number",S={top:1,right:1,bottom:1,left:1},M={bottom:"center",top:"center",left:"right",right:"left"},T={bottom:"top",top:"bottom",left:"middle",right:"middle"};t.exports=r},{"../parse/mark":97,datalib:24,"vega-dataflow":39}],114:[function(e,t,n){(function(n){function r(e){function t(){G.type=null}function n(e,t){return{data:e,index:t}}function r(e){return"ordinal"===e||"quantize"===e||"quantile"===e||"threshold"===e}function v(e){var t,r,i,a=y(w,k,S,M),s=(null==A?e.ticks?e.ticks.apply(e,I):e.domain():A).map(n),o=null==E?e.tickFormat?e.tickFormat.apply(e,I):String:E,u=5,l=d.range(s.length);w?(r=s.map(function(e){return Math.sqrt(w(e.data))}),i=d.max(r),r=r.reduce(function(e,t,n,r){return n>0&&(e[n]=e[n-1]+r[n-1]/2+u),e[n]+=t/2,e},[0]).map(Math.round)):(i=Math.round(Math.sqrt(C.legend.symbolSize)),r=T||(t=F.fontSize)&&t.value+u||C.legend.labelFontSize+u,r=l.map(function(e,t){return Math.round(i/2+t*r)}));var c,f=P;x&&(c=j.fontSize,f+=5+(c&&c.value||C.legend.titleFontSize));for(var h=0,p=r.length;p>h;++h)r[h]+=f;var g={name:"legend",type:"ordinal",points:!0,domain:l,range:r},m=(x?[x]:[]).map(n);return s.forEach(function(e){e.label=o(e.data),e.offset=i}),a.scales=[g],a.marks[0].from=function(){return m},a.marks[1].from=function(){return s},a.marks[2].from=a.marks[1].from,a}function y(t,n,r,l){var c=f.extend(R.titles,s(C)),d=f.extend(R.symbols,o(C)),h=f.extend(R.labels,u(C));return a(d,t,n,r,l),f.extend(c.properties.update,j),f.extend(d.properties.update,U),f.extend(h.properties.update,F),c.properties.enter.x.value+=P,c.properties.enter.y.value+=P,h.properties.enter.x.offset+=P+1,d.properties.enter.x.offset=P+1,h.properties.update.x.offset+=P+1,d.properties.update.x.offset=P+1,f.extend(G,{type:"group",interactive:!1,properties:{enter:p(e,"group",O),vg_legendPosition:{encode:i,signals:[],scales:[],data:[],fields:[]}}}),G.marks=[c,d,h].map(function(t){return g(e,t)}),G}function _(e){var t=b(e),r=e.domain(),i=(null==A?e.ticks?e.ticks.apply(e,I):e.domain():A).map(n),a=z.width&&z.width.value||C.legend.gradientWidth,s=null==E?e.tickFormat?e.tickFormat.apply(e,I):String:E,o={name:"legend",type:e.type,round:!0,zero:!1,domain:[r[0],r[r.length-1]],range:[P,a+P]};"pow"===e.type&&(o.exponent=e.exponent());var u=(x?[x]:[]).map(n);return i.forEach(function(e,t){e.label=s(e.data),e.align=t==i.length-1?"right":0===t?"left":"center"}),t.scales=[o],t.marks[0].from=function(){return u},t.marks[1].from=function(){return[1]},t.marks[2].from=function(){return i},t}function b(t){var n=f.extend(R.titles,s(C)),r=f.extend(R.gradient,l(C)),a=f.extend(R.labels,c(C)),o=new h,u=t.domain(),d=u[0],m=u[u.length-1],v=t.copy().domain([d,m]).range([0,1]),y="linear"!==t.type&&t.ticks?t.ticks.call(t,15):u;d!==y[0]&&y.unshift(d),m!==y[y.length-1]&&y.push(m);for(var _=0,b=y.length;b>_;++_)o.stop(v(y[_]),t(y[_]));r.properties.enter.fill={value:o},f.extend(n.properties.update,j),f.extend(r.properties.update,z),f.extend(a.properties.update,F);var w=r.properties,k=z.height,S=k&&k.value||w.enter.height.value;if(a.properties.enter.y.value=S,a.properties.update.y.value=S,x){var M=n.properties,T=j.fontSize,A=4+(T&&T.value||M.enter.fontSize.value);r.properties.enter.y.value+=A,a.properties.enter.y.value+=A,r.properties.update.y.value+=A,a.properties.update.y.value+=A}return n.properties.enter.x.value+=P,n.properties.enter.y.value+=P,r.properties.enter.x.value+=P,r.properties.enter.y.value+=P,a.properties.enter.y.value+=P,r.properties.update.x.value+=P,r.properties.update.y.value+=P,a.properties.update.y.value+=P,f.extend(G,{type:"group",interactive:!1,properties:{enter:p(e,"group",O),vg_legendPosition:{encode:i,signals:[],scales:[],data:[],fields:[]}}}),G.marks=[n,r,a].map(function(t){return g(e,t)}),G}var x,w=null,k=null,S=null,M=null,T=null,A=null,E=null,L=null,C=e.config(),D="right",N=C.legend.offset,P=C.legend.padding,I=[5],O={},U={},z={},j={},F={},R={titles:{},symbols:{},labels:{},gradient:{}},q={},G={};return q.def=function(){var e=w||k||S||M;return E=L?"time"===e.type?f.format.time(L):f.format.number(L):null,G.type||(G=e!==S&&e!==M||r(e.type)?v(e):_(e)),G.orient=D,G.offset=N,G.padding=P,G},q.size=function(e){return arguments.length?(w!==e&&(w=e,t()),q):w},q.shape=function(e){return arguments.length?(k!==e&&(k=e,t()),q):k},q.fill=function(e){return arguments.length?(S!==e&&(S=e,t()),q):S},q.stroke=function(e){return arguments.length?(M!==e&&(M=e,t()),q):M},q.title=function(e){return arguments.length?(x!==e&&(x=e,t()),q):x},q.format=function(e){return arguments.length?(L!==e&&(L=e,t()),q):L},q.spacing=function(e){return arguments.length?(T!==+e&&(T=+e,t()),q):T},q.orient=function(e){return arguments.length?(D=e in m?e+"":C.legend.orient,q):D},q.offset=function(e){return arguments.length?(N=+e,q):N},q.values=function(e){return arguments.length?(A=e,q):A},q.legendProperties=function(e){return arguments.length?(O=e,q):O},q.symbolProperties=function(e){return arguments.length?(U=e,q):U},q.gradientProperties=function(e){return arguments.length?(z=e,q):z},q.labelProperties=function(e){return arguments.length?(F=e,q):F},q.titleProperties=function(e){return arguments.length?(j=e,q):j},q.reset=function(){return t(),q},q}function i(e,t,n,r,i,a){var s,o=n?{}:e,u=e.mark.def.offset,l=e.mark.def.orient,c=2*e.mark.def.padding,d=~~e.bounds.width()+(e.width?0:c),f=~~e.bounds.height()+(e.height?0:c),h=t._legendPositions||(t._legendPositions={right:.5,left:.5});switch(o.x=.5,o.width=d,o.y=h[l],h[l]+=o.height=f,!n&&t.bounds&&(t.bounds.delta=t.bounds.x2-t.width),l){case"left":s=t.bounds?t.bounds.x1:0,o.x+=s-u-d;break;case"right":s=t.width+(t.bounds&&n?t.bounds.delta:0),o.x+=s+u}n&&n.interpolate(e,o);var p=e.mark.def.properties.enter.encode;return p.call(p,e,t,n,r,i,a),!0}function a(e,t,n,r,i){var a=e.properties.enter,s=e.properties.update;t&&(a.size=s.size={scale:t.scaleName,field:"data"}),n&&(a.shape=s.shape={scale:n.scaleName,field:"data"}),r&&(a.fill=s.fill={scale:r.scaleName,field:"data"}),i&&(a.stroke=s.stroke={scale:i.scaleName,field:"data"})}function s(e){var t=e.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{value:0},y:{value:0},fill:{value:t.titleColor},font:{value:t.titleFont},fontSize:{value:t.titleFontSize},fontWeight:{value:t.titleFontWeight},baseline:{value:"top"},text:{field:"data"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function o(e){var t=e.legend;return{type:"symbol",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},shape:{value:t.symbolShape},size:{value:t.symbolSize},stroke:{value:t.symbolColor},strokeWidth:{value:t.symbolStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},opacity:{value:1}}}}}function u(e){var t=e.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",offset:5},y:{scale:"legend",field:"index"},fill:{value:t.labelColor},font:{value:t.labelFont},fontSize:{value:t.labelFontSize},align:{value:t.labelAlign},baseline:{value:t.labelBaseline},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1},x:{field:"offset",offset:5},y:{scale:"legend",field:"index"}}}}}function l(e){var t=e.legend;return{type:"rect",interactive:!1,properties:{enter:{x:{value:0},y:{value:0},width:{value:t.gradientWidth},height:{value:t.gradientHeight},stroke:{value:t.gradientStrokeColor},strokeWidth:{value:t.gradientStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{value:0},y:{value:0},opacity:{value:1}}}}}function c(e){var t=e.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{scale:"legend",field:"data"},y:{value:20},dy:{value:2},fill:{value:t.labelColor},font:{value:t.labelFont},fontSize:{value:t.labelFontSize},align:{field:"align"},baseline:{value:"top"},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{scale:"legend",field:"data"},y:{value:20},opacity:{value:1}}}}}var d="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,f=e("datalib"),h=e("vega-scenegraph").Gradient,p=e("../parse/properties"),g=e("../parse/mark"),m={right:1,left:1};t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../parse/mark":97,"../parse/properties":102,datalib:24,"vega-scenegraph":46}],115:[function(e,t,n){t.exports=function r(e,t){var n,i,a,s,o;if(t(e))return!0;var u=["items","axisItems","legendItems"];for(a=0,s=u.length;s>a;++a)if(o=e[u[a]])for(n=0,i=o.length;i>n;++n)if(r(o[n],t))return!0}},{}],116:[function(e,t,n){function r(e){return d.prototype.init.call(this,e),d.addParameters(this,{groupby:{type:"array<field>"},summarize:{type:"custom",set:function(e){function t(e){e.signal&&(l[e.signal]=1)}var n,r,i,s,o,u,l={},d=this._transform;if(!a.isArray(s=e)){s=[];for(o in e)u=a.array(e[o]),s.push({field:o,ops:u})}for(n=0,r=s.length;r>n;++n)i=s[n],i.field.signal&&(l[i.field.signal]=1),a.array(i.ops).forEach(t),a.array(i.as).forEach(t);return d._fields=s,d._aggr=null,d.dependency(c.SIGNALS,a.keys(l)),d}}}),this._aggr=null,this._input=null,this._args=null,this._fields=[],this._out=[],this._type=p.TUPLE,this._acc={groupby:a["true"],value:a["true"]},this.router(!0).produces(!0)}function i(e){var t,n,r,i,a,s,o,u=[];for(a=e._dims,t=0,n=a.length;n>t;++t)u.push(a[t].name);for(s=e._aggr,t=0,n=s.length;n>t;++t)for(o=s[t].measures.fields,r=0,i=o.length;i>r;++r)u.push(o[r]);return u}var a=e("datalib"),s=e("vega-dataflow"),o=e("vega-logging"),u=s.ChangeSet,l=s.Tuple,c=s.Dependencies,d=e("./Transform"),f=e("./Facetor"),h=r.prototype=Object.create(d.prototype);h.constructor=r;var p=r.TYPES={VALUE:1,TUPLE:2,MULTI:3};r.VALID_OPS=["values","count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","median","q1","q3","modeskew","min","max","argmin","argmax"],h.type=function(e){return this._type=e,this},h.accessors=function(e,t){var n=this._acc;n.groupby=a.$(e)||a["true"],n.value=a.$(t)||a["true"]},h.aggr=function(){if(this._aggr)return this._aggr;var e=this._graph,t=!1,n=[],r=this.param("groupby").field,s=function(t){return t.signal?e.signalRef(t.signal):t},o=this._fields.map(function(e){var r={name:s(e.field),as:a.array(e.as),ops:a.array(s(e.ops)).map(s),get:e.get};return t=t||null!=r.get,n.push(r.name),r});r.forEach(function(e){e.get&&(t=!0),n.push(e.name||e)}),this._args=t||!o.length?null:n,o.length||(o={"*":"values"});var u=this._aggr=(new f).groupby(r).stream(!0).summarize(o);return this._out=i(u),this._type!==p.VALUE&&u.key("_id"),u},h.transform=function(e,t){o.debug(e,["aggregate"]),this._input=e;var n,r,i,a,s=u.create(e),c=this.aggr(),d=this._out,f=this._args,h=!0,g=l.prev;if(t&&(s.rem.push.apply(s.rem,c.result()),c.clear(),this._aggr=null,c=this.aggr()),this._type===p.TUPLE)n=function(e){c._add(e),l.prev_init(e)},r=function(e){c._rem(g(e))},i=function(e){c._mod(e,g(e))};else{var m=this._acc.groupby,v=this._acc.value,y=this._type===p.VALUE?v:function(e){return{_id:e._id,groupby:m(e),value:v(e)}};n=function(e){c._add(y(e)),l.prev_init(e)},r=function(e){c._rem(y(g(e)))},i=function(e){c._mod(y(e),y(g(e)))}}if(e.add.forEach(n),t)e.mod.forEach(n);else{if(e.rem.forEach(r),f)for(a=0,h=!1;a<f.length;++a)if(e.fields[f[a]]){h=!0;break}h&&e.mod.forEach(i)}for(a=0;a<d.length;++a)s.fields[d[a]]=1;return c.changes(s)},t.exports=r},{"./Facetor":122,"./Transform":135,datalib:24,"vega-dataflow":39,"vega-logging":45}],117:[function(e,t,n){function r(){this._collector=null}var i=e("./Transform").prototype,a=r.prototype=Object.create(i);a.constructor=r,a.init=function(e){return i.init.call(this,e),this.batch(!0)},a.transform=function(e){return this.batchTransform(e,this._collector.data())},a.batchTransform=function(){},t.exports=r},{"./Transform":135}],118:[function(e,t,n){function r(e){return o.prototype.init.call(this,e),o.addParameters(this,{field:{type:"field"},min:{type:"value"},max:{type:"value"},base:{type:"value","default":10},maxbins:{type:"value","default":20},step:{type:"value"},steps:{type:"value"},minstep:{type:"value"},div:{type:"array<value>","default":[5,2]}}),this._output={bin:"bin"},this.mutates(!0)}var i=e("datalib").bins,a=e("vega-dataflow").Tuple,s=e("vega-logging"),o=e("./Transform"),u=r.prototype=Object.create(o.prototype);u.constructor=r,u.transform=function(e){function t(e){var t=l(e);t=null==t?null:d.start+d.step*~~((t-d.start)/d.step),a.set(e,n,t)}s.debug(e,["binning"]);var n=this._output.bin,r=this.param("step"),o=this.param("steps"),u=this.param("minstep"),l=this.param("field").accessor,c={min:this.param("min"),max:this.param("max"),base:this.param("base"),maxbins:this.param("maxbins"),div:this.param("div")};r&&(c.step=r),o&&(c.steps=o),u&&(c.minstep=u);var d=i(c);return e.add.forEach(t),e.mod.forEach(t),e.rem.forEach(t),e},t.exports=r},{"./Transform":135,datalib:24,"vega-dataflow":39,"vega-logging":45}],119:[function(e,t,n){function r(e){return o.prototype.init.call(this,e),o.addParameters(this,{field:{type:"field","default":"data"},pattern:{type:"value","default":"[\\w']+"},"case":{type:"value","default":"lower"},stopwords:{type:"value","default":""}}),this._output={text:"text",count:"count"},this.router(!0).produces(!0)}var i=e("vega-dataflow"),a=i.Tuple,s=e("vega-logging"),o=e("./Transform"),u=r.prototype=Object.create(o.prototype);u.constructor=r,u.transform=function(e,t){function n(e){return a.prev_init(e),i(e)}function r(e){return i(a.prev(e))}s.debug(e,["countpattern"]);var i=this.param("field").accessor,o=this.param("pattern"),u=this.param("stopwords"),l=!1;return this._stop!==u&&(this._stop=u,this._stop_re=new RegExp("^"+u+"$","i"),t=!0),this._pattern!==o&&(this._pattern=o,this._match=new RegExp(this._pattern,"g"),t=!0),t&&(this._counts={}),this._add(e.add,n),t||this._rem(e.rem,r),(t||(l=e.fields[i.field]))&&(l&&this._rem(e.mod,r),this._add(e.mod,n)),this._changeset(e)},u._changeset=function(e){var t,n,r,s=this._counts,o=this._tuples||(this._tuples={}),u=i.ChangeSet.create(e),l=this._output;for(t in s)n=o[t],r=s[t]||0,!n&&r?(o[t]=n=a.ingest({}),n[l.text]=t,n[l.count]=r,u.add.push(n)):0===r?(n&&u.rem.push(n),delete s[t],delete o[t]):n[l.count]!==r&&(a.set(n,l.count,r),u.mod.push(n));return u},u._tokenize=function(e){switch(this.param("case")){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(this._match)},u._add=function(e,t){var n,r,i,a,s=this._counts,o=this._stop_re;for(i=0;i<e.length;++i)for(n=this._tokenize(t(e[i])),r=0;r<n.length;++r)o.test(a=n[r])||(s[a]=1+(s[a]||0))},u._rem=function(e,t){var n,r,i,a,s=this._counts,o=this._stop_re;for(i=0;i<e.length;++i)for(n=this._tokenize(t(e[i])),r=0;r<n.length;++r)o.test(a=n[r])||(s[a]-=1)},t.exports=r},{"./Transform":135,"vega-dataflow":39,"vega-logging":45}],120:[function(e,t,n){function r(e){return p.prototype.init.call(this,e),h.addParameters(this,{"with":{type:"data"},diagonal:{type:"value","default":"true"}}),this._output={left:"a",right:"b"},this._lastRem=null,this._lastWith=null,this._ids={},this._cache={},this.router(!0).produces(!0)}function i(e,t){var n=this._cache[e._id]=this._cache[e._id]||{c:[],s:this._stamp};n.c.push(t)}function a(e,t,n,r,a){for(var s,o,u,l=0,c=n.length;c>l;++l)o=n[l],u=t?a._id+"_"+o._id:o._id+"_"+a._id,this._ids[u]||(a._id!=o._id||r)&&(s=d.ingest({}),s[this._output.left]=t?a:o,s[this._output.right]=t?o:a,e.add.push(s),i.call(this,a,s),i.call(this,o,s),this._ids[u]=1)}function s(e,t,n){var r=this,i=this._cache[n._id];this._lastRem>i.s&&(i.c=i.c.filter(function(e){var n=e[r._output[t?"right":"left"]];return null!==r._cache[n._id]}),i.s=this._lastRem),e.mod.push.apply(e.mod,i.c)}function o(e,t){e.rem.push.apply(e.rem,this._cache[t._id].c),this._cache[t._id]=null,this._lastRem=this._stamp}function u(e,t){(e.add.length||e.rem.length)&&(t.fields[this._output.left]=1,t.fields[this._output.right]=1)}var l=e("vega-dataflow"),c=l.ChangeSet,d=l.Tuple,f=e("vega-logging"),h=e("./Transform"),p=e("./BatchTransform"),g=r.prototype=Object.create(p.prototype);g.constructor=r,g.batchTransform=function(e,t){f.debug(e,["crossing"]);var n=this.param("with"),r=this.param("diagonal"),i=!n.name,l=i?e:n.source.last(),d=i?t:n.source.values(),h=c.create(e),p=o.bind(this,h);return e.rem.forEach(p),e.add.forEach(a.bind(this,h,!0,d,r)),!i&&l.stamp>this._lastWith&&(l.rem.forEach(p),l.add.forEach(a.bind(this,h,!1,t,r)),l.mod.forEach(s.bind(this,h,!1)),u.call(this,l,h),this._lastWith=l.stamp),e.mod.forEach(s.bind(this,h,!0)),u.call(this,e,h),h},t.exports=r},{"./BatchTransform":117,"./Transform":135,"vega-dataflow":39,"vega-logging":45}],121:[function(e,t,n){function r(t){return i.addParameters(this,{transform:{type:"custom",set:function(e){return this._transform._pipeline=e,this._transform},get:function(){var t=e("../parse/transforms"),n=this._transform;return n._pipeline.map(function(e){return t(n._graph,e)})}}}),this._pipeline=[],a.call(this,t)}var i=e("./Transform"),a=e("./Aggregate"),s=r.prototype=Object.create(a.prototype);s.constructor=r,s.aggr=function(){return a.prototype.aggr.call(this).facet(this)},t.exports=r},{"../parse/transforms":106,"./Aggregate":116,"./Transform":135}],122:[function(e,t,n){function r(){s.call(this),this._facet=null,this._facetID=++d}function i(e){c.debug({},["disconnecting cell",this.tuple._id]);var t=this.ds.pipeline();e.removeListener(t[0]),e._graph.removeListener(t[0]),e._graph.disconnect(t)}var a=e("datalib"),s=a.Aggregator,o=s.prototype,u=e("vega-dataflow"),l=u.Tuple,c=e("vega-logging"),d=0,f=r.prototype=Object.create(o);f.constructor=r,f.facet=function(e){return arguments.length?(this._facet=e,this):this._facet},f._ingest=function(e){return l.ingest(e,null)},f._assign=l.set,f._newcell=function(e,t){var n=o._newcell.call(this,e,t),r=this._facet;if(r){var a=r._graph,s=n.tuple,u=r.param("transform");n.ds=a.data(s._facetID,u,s),n.disconnect=i,r.addListener(u[0])}return n},f._newtuple=function(e,t){var n=o._newtuple.call(this,e);return this._facet&&(l.set(n,"key",t),l.set(n,"_facetID",this._facetID+"_"+t)),n},f.clear=function(){if(this._facet)for(var e in this._cells)this._cells[e].disconnect(this._facet);return o.clear.call(this)},f._on_add=function(e,t){this._facet&&t.ds._input.add.push(e)},f._on_rem=function(e,t){this._facet&&t.ds._input.rem.push(e)},f._on_mod=function(e,t,n,r){this._facet&&(n===r?n.ds._input.mod.push(e):(n.ds._input.rem.push(e),r.ds._input.add.push(e)))},f._on_drop=function(e){this._facet&&e.disconnect(this._facet)},f._on_keep=function(e){this._facet&&u.ChangeSet.copy(this._input,e.ds._input)},t.exports=r},{datalib:24,"vega-dataflow":39,"vega-logging":45}],123:[function(e,t,n){function r(e){return o.prototype.init.call(this,e),o.addParameters(this,{test:{type:"expr"}}),this._skip={},this.router(!0)}var i=e("vega-dataflow"),a=i.Dependencies.SIGNALS,s=e("vega-logging"),o=e("./Transform"),u=r.prototype=Object.create(o.prototype);u.constructor=r,u.transform=function(e){s.debug(e,["filtering"]);var t=i.ChangeSet.create(e),n=this._graph,r=this._skip,o=this.param("test"),u=n.values(a,this.dependency(a));return e.rem.forEach(function(e){1!==r[e._id]?t.rem.push(e):r[e._id]=0}),e.add.forEach(function(e){o(e,null,u)?t.add.push(e):r[e._id]=1}),e.mod.forEach(function(e){var n=o(e,null,u),i=1===r[e._id];n&&i?(r[e._id]=0,t.add.push(e)):n&&!i?t.mod.push(e):!n&&i||(t.rem.push(e),r[e._id]=1)}),t},t.exports=r},{"./Transform":135,"vega-dataflow":39,"vega-logging":45}],124:[function(e,t,n){function r(e){return o.prototype.init.call(this,e),o.addParameters(this,{fields:{type:"array<field>"}}),this._output={key:"key",value:"value"},this._cache={},this.router(!0).produces(!0)}var i=e("vega-dataflow"),a=i.Tuple,s=e("vega-logging"),o=e("./Transform"),u=r.prototype=Object.create(o.prototype);u.constructor=r,u._reset=function(e,t){for(var n in this._cache)t.rem.push.apply(t.rem,this._cache[n]);this._cache={}},u._tuple=function(e,t,n){var r=this._cache[e._id]||(this._cache[e._id]=Array(n));return r[t]?a.rederive(e,r[t]):r[t]=a.derive(e)},u._fn=function(e,t,n){var r,i,s,o,u,l;for(r=0,s=e.length;s>r;++r)for(u=e[r],i=0,o=t.field.length;o>i;++i)l=this._tuple(u,i,o),a.set(l,this._output.key,t.field[i]),a.set(l,this._output.value,t.accessor[i](u)),n.push(l)},u.transform=function(e,t){s.debug(e,["folding"]);var n=this,r=this.param("fields"),a=i.ChangeSet.create(e);return t&&this._reset(e,a),this._fn(e.add,r,a.add),this._fn(e.mod,r,t?a.add:a.mod),e.rem.forEach(function(e){a.rem.push.apply(a.rem,n._cache[e._id]),n._cache[e._id]=null}),(e.add.length||e.rem.length||r.field.some(function(t){return!!e.fields[t]}))&&(a.fields[this._output.key]=1,a.fields[this._output.value]=1),a},t.exports=r},{"./Transform":135,"vega-dataflow":39,"vega-logging":45}],125:[function(e,t,n){(function(n){function r(e){return l.prototype.init.call(this,e),this._prev=null,this._interactive=!1,this._setup=!0,this._nodes=[],this._links=[],this._layout=i.layout.force(),l.addParameters(this,{size:{type:"array<value>","default":[500,500]},bound:{type:"value","default":!0},links:{type:"data"},linkStrength:{type:"value","default":1},linkDistance:{type:"value","default":20},charge:{type:"value","default":-30},chargeDistance:{type:"value","default":1/0},friction:{type:"value","default":.9},theta:{type:"value","default":.8},gravity:{type:"value","default":.1},alpha:{type:"value","default":.1},iterations:{type:"value","default":500},interactive:{type:"value","default":this._interactive},active:{type:"value","default":this._prev},fixed:{type:"data"}}),this._output={x:"layout_x",y:"layout_y"},this.mutates(!0)}var i="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,a=e("vega-dataflow"),s=a.Tuple,o=a.ChangeSet,u=e("vega-logging"),l=e("./Transform"),c=r.prototype=Object.create(l.prototype);c.constructor=r,c.transform=function(e,t){u.debug(e,["force"]),t-=e.signals.active?1:0;var n=this.param("interactive"),r=this.param("links").source,i=r.last(),a=this.param("active"),o=this._output,l=this._layout,c=this._nodes,d=this._links;if(i.stamp<e.stamp&&(i=null),this.configure(e,i,n,t),!n){for(var f=this.param("iterations"),h=0;f>h;++h)l.tick();l.stop()}return this.update(a),(t||a!==this._prev&&a&&a.update)&&l.alpha(this.param("alpha")),a!==this._prev&&(this._prev=a),e.rem.length&&l.nodes(this._nodes=s.idFilter(c,e.rem)),i&&i.rem.length&&l.links(this._links=s.idFilter(d,i.rem)),e.fields[o.x]=1,e.fields[o.y]=1,e},c.configure=function(e,t,n,r){var i=this._layout,a=this._setup||e.add.length||t&&t.add.length||n!==this._interactive||this.param("charge")!==i.charge()||this.param("linkStrength")!==i.linkStrength()||this.param("linkDistance")!==i.linkDistance();if((a||r)&&i.size(this.param("size")).chargeDistance(this.param("chargeDistance")).theta(this.param("theta")).gravity(this.param("gravity")).friction(this.param("friction")),a){this._setup=!1,this._interactive=n;var s,u,l=this,c=this._graph,d=this._nodes,f=this._links;for(s=e.add,u=0;u<s.length;++u)d.push({tuple:s[u]});if(t)for(s=t.add,u=0;u<s.length;++u)f.push({tuple:s[u],source:d[s[u].source],target:d[s[u].target]});var h=n?function(){c.propagate(o.create(null,!0),l)}:null;i.linkStrength(this.param("linkStrength")).linkDistance(this.param("linkDistance")).charge(this.param("charge")).nodes(d).links(f).on("tick",h).start().alpha(this.param("alpha"))}},c.update=function(e){var t,n,r,i,a,o,u=this._output,l=this.param("bound"),c=this.param("fixed"),d=this.param("size"),f=this._nodes,h={};if(c&&c.source)for(c=c.source.values(),n=0,r=c.length;r>n;++n)h[c[n].id]=1;for(n=0;n<f.length;++n)r=f[n],i=r.tuple,t=i._id,e&&e.id===t?(r.fixed=1,e.update&&(r.x=r.px=e.x,r.y=r.py=e.y)):r.fixed=h[t]||0,a=l?Math.max(0,Math.min(r.x,d[0])):r.x,o=l?Math.max(0,Math.min(r.y,d[1])):r.y,s.set(i,u.x,a),s.set(i,u.y,o)},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Transform":135,"vega-dataflow":39,"vega-logging":45}],126:[function(e,t,n){function r(e){return u.prototype.init.call(this,e),u.addParameters(this,{field:{type:"value"},expr:{type:"expr"}}),this.mutates(!0)}var i=e("vega-dataflow"),a=i.Tuple,s=i.Dependencies.SIGNALS,o=e("vega-logging"),u=e("./Transform"),l=r.prototype=Object.create(u.prototype);l.constructor=r,l.transform=function(e){function t(e){a.set(e,r,i(e,null,u))}o.debug(e,["formulating"]);var n=this._graph,r=this.param("field"),i=this.param("expr"),u=n.values(s,this.dependency(s));return e.add.forEach(t),this.reevaluate(e)&&e.mod.forEach(t),e.fields[r]=1,e},t.exports=r},{"./Transform":135,"vega-dataflow":39,"vega-logging":45}],127:[function(e,t,n){(function(n){function r(e){return u.prototype.init.call(this,e),u.addParameters(this,r.Parameters),u.addParameters(this,{lon:{type:"field"},lat:{type:"field"}}),this._output={x:"layout_x",y:"layout_y"},this.mutates(!0)}var i="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,a=e("datalib"),s=e("vega-dataflow").Tuple,o=e("vega-logging"),u=e("./Transform");r.Parameters={projection:{type:"value","default":"mercator"},center:{type:"array<value>"},translate:{type:"array<value>"},rotate:{type:"array<value>"},scale:{type:"value"},precision:{type:"value"},clipAngle:{type:"value"},clipExtent:{type:"value"}},r.d3Projection=function(){var e,t,n,s=this.param("projection"),o=r.Parameters;s!==this._mode&&(this._mode=s,this._projection=i.geo[s]()),e=this._projection;for(t in o)"projection"!==t&&e[t]&&(n=this.param(t),void 0===n||a.isArray(n)&&0===n.length||n!==e[t]()&&e[t](n));return e};var l=r.prototype=Object.create(u.prototype);l.constructor=r,l.transform=function(e){function t(e){var t=[i(e),a(e)],r=u(t)||[null,null];s.set(e,n.x,r[0]),s.set(e,n.y,r[1])}o.debug(e,["geo"]);var n=this._output,i=this.param("lon").accessor,a=this.param("lat").accessor,u=r.d3Projection.call(this);return e.add.forEach(t),this.reevaluate(e)&&(e.mod.forEach(t),e.rem.forEach(t)),e.fields[n.x]=1,e.fields[n.y]=1,e},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Transform":135,datalib:24,"vega-dataflow":39,"vega-logging":45}],128:[function(e,t,n){(function(n){function r(e){return l.prototype.init.call(this,e),l.addParameters(this,u.Parameters),l.addParameters(this,{field:{type:"field","default":null}}),this._output={path:"layout_path"},this.mutates(!0)}var i="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,a=e("datalib"),s=e("vega-dataflow").Tuple,o=e("vega-logging"),u=e("./Geo"),l=e("./Transform"),c=r.prototype=Object.create(l.prototype);c.constructor=r,c.transform=function(e){function t(e){s.set(e,n.path,c(r(e)))}o.debug(e,["geopath"]);var n=this._output,r=this.param("field").accessor||a.identity,l=u.d3Projection.call(this),c=i.geo.path().projection(l);return e.add.forEach(t),this.reevaluate(e)&&(e.mod.forEach(t),e.rem.forEach(t)),e.fields[n.path]=1,e},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Geo":127,"./Transform":135,datalib:24,"vega-dataflow":39,"vega-logging":45}],129:[function(e,t,n){function r(e){return c.prototype.init.call(this,e),c.addParameters(this,{sourceX:{type:"field","default":"_source.layout_x"},sourceY:{type:"field","default":"_source.layout_y"},targetX:{type:"field","default":"_target.layout_x"},targetY:{type:"field","default":"_target.layout_y"},tension:{type:"value","default":.2},shape:{type:"value","default":"line"}}),this._output={path:"layout_path"},this.mutates(!0)}function i(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function a(e,t,n,r,i){var a=n-e,s=r-t,o=i*(a+s),u=i*(s-a);return"M"+e+","+t+"C"+(e+o)+","+(t+u)+" "+(n+u)+","+(r-o)+" "+n+","+r}function s(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r}function o(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r}var u=e("vega-dataflow").Tuple,l=e("vega-logging"),c=e("./Transform"),d=r.prototype=Object.create(c.prototype);d.constructor=r;var f={line:i,curve:a,diagonal:s,diagonalX:s,diagonalY:o};d.transform=function(e){function t(e){var t=r(i(e),a(e),s(e),o(e),c);u.set(e,n.path,t)}l.debug(e,["linkpath"]);var n=this._output,r=f[this.param("shape")]||f.line,i=this.param("sourceX").accessor,a=this.param("sourceY").accessor,s=this.param("targetX").accessor,o=this.param("targetY").accessor,c=this.param("tension");return e.add.forEach(t),this.reevaluate(e)&&(e.mod.forEach(t),e.rem.forEach(t)),e.fields[n.path]=1,e},t.exports=r},{"./Transform":135,"vega-dataflow":39,"vega-logging":45}],130:[function(e,t,n){function r(e){return s.prototype.init.call(this,e),s.addParameters(this,{on:{type:"data"},onKey:{type:"field","default":null},as:{type:"array<value>"},keys:{type:"array<field>","default":["data"]},"default":{type:"value"}}),this.mutates(!0)}var i=e("vega-dataflow").Tuple,a=e("vega-logging"),s=e("./Transform"),o=r.prototype=Object.create(s.prototype);o.constructor=r,o.transform=function(e,t){function n(e){for(var t=0;t<h.length;++t){var n=m[h[t](e)]||g;i.set(e,p[t],n)}}a.debug(e,["lookup"]);var r,s,o=this.param("on"),u=o.source.last(),l=o.source.values(),c=this.param("onKey"),d=c.field,f=this.param("keys"),h=f.accessor,p=this.param("as"),g=this.param("default"),m=this._lut;
if(null==m||this._on!==d||d&&u.fields[d]||u.add.length||u.rem.length){if(d)for(c=c.accessor,m={},r=0;r<l.length;++r)m[c(s=l[r])]=s;else m=l;this._lut=m,this._on=d,t=!0}e.add.forEach(n);var v=f.field.some(function(t){return e.fields[t]});return(v||t)&&(e.mod.forEach(n),e.rem.forEach(n)),p.forEach(function(t){e.fields[t]=1}),e},t.exports=r},{"./Transform":135,"vega-dataflow":39,"vega-logging":45}],131:[function(e,t,n){function r(e,t,n){this._name=e,this._type=t,this._transform=n,this._value=[],this._accessors=[],this._resolution=!1,this._signals={}}function i(){var e=u.test(this._type),t=l.test(this._type),n=c.test(this._type),r=e?this._value:this._value[0],i=e?this._accessors:this._accessors[0];return!a.isValid(i)&&f.test(this._type)?r:t?{name:r,source:i}:n?{field:r,accessor:i}:r}var a=e("datalib"),s=e("vega-dataflow").Dependencies,o=e("../parse/expr"),u=/array/i,l=/data/i,c=/field/i,d=/expr/i,f=/value/i,h=r.prototype;h.get=function(){var e,t,n,r=this._transform._graph,s=l.test(this._type),o=c.test(this._type);if(!this._resolution)return i.call(this);if(s)return this._accessors=this._value.map(function(e){return r.data(e)}),i.call(this);for(e in this._signals)t=this._signals[e],n=r.signalRef(e),o&&(this._accessors[t]=this._value[t]!=n?a.accessor(n):this._accessors[t]),this._value[t]=n;return i.call(this)},h.set=function(e){var t=this,n=d.test(this._type),r=l.test(this._type),i=c.test(this._type);return this._value=a.array(e).map(function(e,u){if(a.isString(e)){if(n){var l=o(e);return t._transform.dependency(s.FIELDS,l.fields),t._transform.dependency(s.SIGNALS,l.globals),l.fn}return i?(t._accessors[u]=a.accessor(e),t._transform.dependency(s.FIELDS,a.field(e))):r&&(t._resolution=!0,t._transform.dependency(s.DATA,e)),e}return void 0!==e.value?e.value:void 0!==e.field?(t._accessors[u]=a.accessor(e.field),t._transform.dependency(s.FIELDS,a.field(e.field)),e.field):void 0!==e.signal?(t._resolution=!0,t._signals[e.signal]=u,t._transform.dependency(s.SIGNALS,e.signal),e.signal):e}),t._transform},t.exports=r},{"../parse/expr":94,datalib:24,"vega-dataflow":39}],132:[function(e,t,n){function r(e){return l.prototype.init.call(this,e),u.addParameters(this,{field:{type:"field","default":null},startAngle:{type:"value","default":0},endAngle:{type:"value","default":2*Math.PI},sort:{type:"value","default":!1}}),this._output={start:"layout_start",end:"layout_end",mid:"layout_mid"},this.mutates(!0)}function i(){return 1}var a=e("datalib"),s=e("vega-dataflow").Tuple,o=e("vega-logging"),u=e("./Transform"),l=e("./BatchTransform"),c=r.prototype=Object.create(l.prototype);c.constructor=r,c.batchTransform=function(e,t){o.debug(e,["pie"]);var n,r,u,l=this._output,c=this.param("field").accessor||i,d=this.param("startAngle"),f=this.param("endAngle"),h=this.param("sort"),p=t.map(c),g=d,m=(f-d)/a.sum(p),v=a.range(t.length);for(h&&v.sort(function(e,t){return p[e]-p[t]}),n=0;n<v.length;++n)r=t[v[n]],u=p[v[n]],s.set(r,l.start,g),s.set(r,l.mid,g+.5*u*m),s.set(r,l.end,g+=u*m);return e.fields[l.start]=1,e.fields[l.end]=1,e.fields[l.mid]=1,e},t.exports=r},{"./BatchTransform":117,"./Transform":135,datalib:24,"vega-dataflow":39,"vega-logging":45}],133:[function(e,t,n){function r(e){s.prototype.init.call(this,e),s.addParameters(this,{by:{type:"array<field>"}}),this.router(!0)}var i=e("datalib"),a=e("vega-logging"),s=e("./Transform"),o=r.prototype=Object.create(s.prototype);o.constructor=r,o.transform=function(e){return a.debug(e,["sorting"]),(e.add.length||e.mod.length||e.rem.length)&&(e.sort=i.comparator(this.param("by").field)),e},t.exports=r},{"./Transform":135,datalib:24,"vega-logging":45}],134:[function(e,t,n){function r(e){return l.prototype.init.call(this,e),u.addParameters(this,{groupby:{type:"array<field>"},sortby:{type:"array<field>"},field:{type:"field"},offset:{type:"value","default":"zero"}}),this._output={start:"layout_start",end:"layout_end",mid:"layout_mid"},this.mutates(!0)}function i(e,t,n,r){var i,a,s,o,u,l,c,d=[],f=function(e){return e(s)};if(null==t)d.push(e.slice());else for(i={},a=0;a<e.length;++a)s=e[a],o=t.map(f),u=i[o]||(d.push(i[o]=[]),i[o]),u.push(s);for(o=0,c=0;o<d.length;++o){for(u=d[o],a=0,l=0;a<u.length;++a)l+=r(u[a]);u.sum=l,l>c&&(c=l),null!=n&&u.sort(n)}return d.max=c,d}var a=e("datalib"),s=e("vega-dataflow").Tuple,o=e("vega-logging"),u=e("./Transform"),l=e("./BatchTransform"),c=r.prototype=Object.create(l.prototype);c.constructor=r,c.batchTransform=function(e,t){o.debug(e,["stacking"]);for(var n=this.param("groupby").accessor,r=a.comparator(this.param("sortby").field),u=this.param("field").accessor,l=this.param("offset"),c=this._output,d=i(t,n,r,u),f=0,h=d.max;f<d.length;++f){var p,g,m,v=d[f],y=v.sum,_="center"===l?(h-y)/2:0,b="normalize"===l?1/y:1,x=_,w=0;for(p=0;p<v.length;++p)g=v[p],m=x,w+=u(g),x=b*w+_,s.set(g,c.start,m),s.set(g,c.end,x),s.set(g,c.mid,.5*(m+x))}return e.fields[c.start]=1,e.fields[c.end]=1,e.fields[c.mid]=1,e},t.exports=r},{"./BatchTransform":117,"./Transform":135,datalib:24,"vega-dataflow":39,"vega-logging":45}],135:[function(e,t,n){function r(e){e&&a.init.call(this,e)}var i=e("vega-dataflow"),a=i.Node.prototype,s=i.Dependencies,o=e("./Parameter");r.addParameters=function(e,t){e._parameters=e._parameters||{};for(var n in t){var r=t[n],i=new o(n,r.type,e);e._parameters[n]=i,"custom"===r.type&&(r.set&&(i.set=r.set.bind(i)),r.get&&(i.get=r.get.bind(i))),r.hasOwnProperty("default")&&i.set(r["default"])}};var u=r.prototype=Object.create(a);u.constructor=r,u.param=function(e,t){var n=this._parameters[e];return void 0===n?this:1===arguments.length?n.get():n.set(t)},u.transform=function(e){return e},u.evaluate=function(e){var t=this._stamp<e.stamp&&this.dependency(s.SIGNALS).reduce(function(t,n){return t+=e.signals[n]?1:0},0);return this.transform(e,t)},u.output=function(e){for(var t in this._output)void 0!==e[t]&&(this._output[t]=e[t]);return this},t.exports=r},{"./Parameter":131,"vega-dataflow":39}],136:[function(e,t,n){(function(n){function r(e){return l.prototype.init.call(this,e),u.addParameters(this,{sort:{type:"array<field>","default":["-value"]},children:{type:"field","default":"children"},field:{type:"field","default":"value"},size:{type:"array<value>","default":[500,500]},round:{type:"value","default":!0},sticky:{type:"value","default":!1},ratio:{type:"value","default":c},padding:{type:"value","default":null},mode:{type:"value","default":"squarify"}}),this._layout=i.layout.treemap(),this._output={x:"layout_x",y:"layout_y",width:"layout_width",height:"layout_height",depth:"layout_depth"},this.mutates(!0)}var i="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,a=e("datalib"),s=e("vega-dataflow").Tuple,o=e("vega-logging"),u=e("./Transform"),l=e("./BatchTransform"),c=.5*(1+Math.sqrt(5)),d=r.prototype=Object.create(l.prototype);d.constructor=r,d.batchTransform=function(e,t){o.debug(e,["treemap"]);var n=this._layout,r=this._output;return n.sort(a.comparator(this.param("sort").field)).children(this.param("children").accessor).value(this.param("field").accessor).size(this.param("size")).round(this.param("round")).sticky(this.param("sticky")).ratio(this.param("ratio")).padding(this.param("padding")).mode(this.param("mode")).nodes(t[0]),t.forEach(function(e){s.set(e,r.x,e.x),s.set(e,r.y,e.y),s.set(e,r.width,e.dx),s.set(e,r.height,e.dy),s.set(e,r.depth,e.depth)}),e.fields[r.x]=1,e.fields[r.y]=1,e.fields[r.width]=1,e.fields[r.height]=1,e},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":117,"./Transform":135,datalib:24,"vega-dataflow":39,"vega-logging":45}],137:[function(e,t,n){(function(n){function r(e){return u.prototype.init.call(this,e),o.addParameters(this,{clipExtent:{type:"array<value>","default":[[-1e5,-1e5],[1e5,1e5]]},x:{type:"field","default":"layout_x"},y:{type:"field","default":"layout_y"}}),this._layout=i.geom.voronoi(),this._output={path:"layout_path"},this.mutates(!0)}var i="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,a=e("vega-dataflow/src/Tuple"),s=e("vega-logging"),o=e("./Transform"),u=e("./BatchTransform"),l=r.prototype=Object.create(u.prototype);l.constructor=r,l.batchTransform=function(e,t){s.debug(e,["voronoi"]);for(var n=this._output.path,r=this._layout.clipExtent(this.param("clipExtent")).x(this.param("x").accessor).y(this.param("y").accessor)(t),i=0;i<t.length;++i)a.set(t[i],n,"M"+r[i].join("L")+"Z");return e.fields[n]=1,e},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":117,"./Transform":135,"vega-dataflow/src/Tuple":38,"vega-logging":45}],138:[function(e,t,n){(function(n){function r(e){return f.prototype.init.call(this,e),d.addParameters(this,{size:{type:"array<value>","default":[900,500]},text:{type:"field","default":"data"},rotate:{type:"field|value","default":0},font:{type:"field|value","default":{value:"sans-serif"}},fontSize:{type:"field|value","default":14},fontStyle:{type:"field|value","default":{value:"normal"}},fontWeight:{type:"field|value","default":{value:"normal"}},fontScale:{type:"array<value>","default":[10,50]},padding:{type:"value","default":1},spiral:{type:"value","default":"archimedean"}}),this._layout=u(),this._output={x:"layout_x",y:"layout_y",font:"layout_font",fontSize:"layout_fontSize",fontStyle:"layout_fontStyle",fontWeight:"layout_fontWeight",rotate:"layout_rotate"},this.mutates(!0)}function i(e){return e&&e.accessor||e}function a(e){var t=Object.create(e);return t._tuple=e,t}var s=e("datalib"),o="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,u="undefined"!=typeof window?window.d3.layout.cloud:"undefined"!=typeof n?n.d3.layout.cloud:null,l=e("vega-dataflow/src/Tuple"),c=e("vega-logging"),d=e("./Transform"),f=e("./BatchTransform"),h=r.prototype=Object.create(f.prototype);h.constructor=r,h.batchTransform=function(e,t){c.debug(e,["wordcloud"]);var n,r,u=this._layout,d=this._output,f=this.param("fontSize"),h=f.accessor&&this.param("fontScale");f=f.accessor||o.functor(f),h.length&&(r=o.scale.sqrt().domain(s.extent(t,n=f)).range(h),f=function(e){return r(n(e))}),u.size(this.param("size")).text(i(this.param("text"))).padding(this.param("padding")).spiral(this.param("spiral")).rotate(i(this.param("rotate"))).font(i(this.param("font"))).fontStyle(i(this.param("fontStyle"))).fontWeight(i(this.param("fontWeight"))).fontSize(f).words(t.map(a)).on("end",function(e){var t,n,r,i,a=u.size(),s=a[0]>>1,o=a[1]>>1;for(r=0,i=e.length;i>r;++r)t=e[r],n=t._tuple,l.set(n,d.x,t.x+s),l.set(n,d.y,t.y+o),l.set(n,d.font,t.font),l.set(n,d.fontSize,t.size),l.set(n,d.fontStyle,t.style),l.set(n,d.fontWeight,t.weight),l.set(n,d.rotate,t.rotate)}).start();for(var p in d)e.fields[d[p]]=1;return e},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":117,"./Transform":135,datalib:24,"vega-dataflow/src/Tuple":38,"vega-logging":45}],139:[function(e,t,n){t.exports={aggregate:e("./Aggregate"),bin:e("./Bin"),cross:e("./Cross"),countpattern:e("./CountPattern"),linkpath:e("./LinkPath"),facet:e("./Facet"),filter:e("./Filter"),fold:e("./Fold"),force:e("./Force"),formula:e("./Formula"),geo:e("./Geo"),geopath:e("./GeoPath"),lookup:e("./Lookup"),pie:e("./Pie"),sort:e("./Sort"),stack:e("./Stack"),treemap:e("./Treemap"),voronoi:e("./Voronoi"),wordcloud:e("./Wordcloud")}},{"./Aggregate":116,"./Bin":118,"./CountPattern":119,"./Cross":120,"./Facet":121,"./Filter":123,"./Fold":124,"./Force":125,"./Formula":126,"./Geo":127,"./GeoPath":128,"./LinkPath":129,"./Lookup":130,"./Pie":132,"./Sort":133,"./Stack":134,"./Treemap":136,"./Voronoi":137,"./Wordcloud":138}]},{},[1])(1)});

!function(e){"undefined"!=typeof exports?e(exports):(window.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return window.hljs}))}(function(e){function n(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function t(e){return e.nodeName.toLowerCase()}function r(e,n){var t=e&&e.exec(n);return t&&0==t.index}function a(e){var n=(e.className+" "+(e.parentNode?e.parentNode.className:"")).split(/\s+/);return n=n.map(function(e){return e.replace(/^lang(uage)?-/,"")}),n.filter(function(e){return N(e)||/no(-?)highlight/.test(e)})[0]}function o(e,n){var t={};for(var r in e)t[r]=e[r];if(n)for(var r in n)t[r]=n[r];return t}function i(e){var n=[];return function r(e,a){for(var o=e.firstChild;o;o=o.nextSibling)3==o.nodeType?a+=o.nodeValue.length:1==o.nodeType&&(n.push({event:"start",offset:a,node:o}),a=r(o,a),t(o).match(/br|hr|img|input/)||n.push({event:"stop",offset:a,node:o}));return a}(e,0),n}function c(e,r,a){function o(){return e.length&&r.length?e[0].offset!=r[0].offset?e[0].offset<r[0].offset?e:r:"start"==r[0].event?e:r:e.length?e:r}function i(e){function r(e){return" "+e.nodeName+'="'+n(e.value)+'"'}l+="<"+t(e)+Array.prototype.map.call(e.attributes,r).join("")+">"}function c(e){l+="</"+t(e)+">"}function u(e){("start"==e.event?i:c)(e.node)}for(var s=0,l="",f=[];e.length||r.length;){var g=o();if(l+=n(a.substr(s,g[0].offset-s)),s=g[0].offset,g==e){f.reverse().forEach(c);do u(g.splice(0,1)[0]),g=o();while(g==e&&g.length&&g[0].offset==s);f.reverse().forEach(i)}else"start"==g[0].event?f.push(g[0].node):f.pop(),u(g.splice(0,1)[0])}return l+n(a.substr(s))}function u(e){function n(e){return e&&e.source||e}function t(t,r){return RegExp(n(t),"m"+(e.cI?"i":"")+(r?"g":""))}function r(a,i){if(!a.compiled){if(a.compiled=!0,a.k=a.k||a.bK,a.k){var c={},u=function(n,t){e.cI&&(t=t.toLowerCase()),t.split(" ").forEach(function(e){var t=e.split("|");c[t[0]]=[n,t[1]?Number(t[1]):1]})};"string"==typeof a.k?u("keyword",a.k):Object.keys(a.k).forEach(function(e){u(e,a.k[e])}),a.k=c}a.lR=t(a.l||/\b[A-Za-z0-9_]+\b/,!0),i&&(a.bK&&(a.b="\\b("+a.bK.split(" ").join("|")+")\\b"),a.b||(a.b=/\B|\b/),a.bR=t(a.b),a.e||a.eW||(a.e=/\B|\b/),a.e&&(a.eR=t(a.e)),a.tE=n(a.e)||"",a.eW&&i.tE&&(a.tE+=(a.e?"|":"")+i.tE)),a.i&&(a.iR=t(a.i)),void 0===a.r&&(a.r=1),a.c||(a.c=[]);var s=[];a.c.forEach(function(e){e.v?e.v.forEach(function(n){s.push(o(e,n))}):s.push("self"==e?a:e)}),a.c=s,a.c.forEach(function(e){r(e,a)}),a.starts&&r(a.starts,i);var l=a.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([a.tE,a.i]).map(n).filter(Boolean);a.t=l.length?t(l.join("|"),!0):{exec:function(){return null}}}}r(e)}function s(e,t,a,o){function i(e,n){for(var t=0;t<n.c.length;t++)if(r(n.c[t].bR,e))return n.c[t]}function c(e,n){return r(e.eR,n)?e:e.eW?c(e.parent,n):void 0}function f(e,n){return!a&&r(n.iR,e)}function g(e,n){var t=x.cI?n[0].toLowerCase():n[0];return e.k.hasOwnProperty(t)&&e.k[t]}function p(e,n,t,r){var a=r?"":E.classPrefix,o='<span class="'+a,i=t?"":"</span>";return o+=e+'">',o+n+i}function d(){if(!w.k)return n(y);var e="",t=0;w.lR.lastIndex=0;for(var r=w.lR.exec(y);r;){e+=n(y.substr(t,r.index-t));var a=g(w,r);a?(B+=a[1],e+=p(a[0],n(r[0]))):e+=n(r[0]),t=w.lR.lastIndex,r=w.lR.exec(y)}return e+n(y.substr(t))}function h(){if(w.sL&&!R[w.sL])return n(y);var e=w.sL?s(w.sL,y,!0,L[w.sL]):l(y);return w.r>0&&(B+=e.r),"continuous"==w.subLanguageMode&&(L[w.sL]=e.top),p(e.language,e.value,!1,!0)}function v(){return void 0!==w.sL?h():d()}function b(e,t){var r=e.cN?p(e.cN,"",!0):"";e.rB?(M+=r,y=""):e.eB?(M+=n(t)+r,y=""):(M+=r,y=t),w=Object.create(e,{parent:{value:w}})}function m(e,t){if(y+=e,void 0===t)return M+=v(),0;var r=i(t,w);if(r)return M+=v(),b(r,t),r.rB?0:t.length;var a=c(w,t);if(a){var o=w;o.rE||o.eE||(y+=t),M+=v();do w.cN&&(M+="</span>"),B+=w.r,w=w.parent;while(w!=a.parent);return o.eE&&(M+=n(t)),y="",a.starts&&b(a.starts,""),o.rE?0:t.length}if(f(t,w))throw new Error('Illegal lexeme "'+t+'" for mode "'+(w.cN||"<unnamed>")+'"');return y+=t,t.length||1}var x=N(e);if(!x)throw new Error('Unknown language: "'+e+'"');u(x);for(var w=o||x,L={},M="",k=w;k!=x;k=k.parent)k.cN&&(M=p(k.cN,"",!0)+M);var y="",B=0;try{for(var C,j,I=0;;){if(w.t.lastIndex=I,C=w.t.exec(t),!C)break;j=m(t.substr(I,C.index-I),C[0]),I=C.index+j}m(t.substr(I));for(var k=w;k.parent;k=k.parent)k.cN&&(M+="</span>");return{r:B,value:M,language:e,top:w}}catch(A){if(-1!=A.message.indexOf("Illegal"))return{r:0,value:n(t)};throw A}}function l(e,t){t=t||E.languages||Object.keys(R);var r={r:0,value:n(e)},a=r;return t.forEach(function(n){if(N(n)){var t=s(n,e,!1);t.language=n,t.r>a.r&&(a=t),t.r>r.r&&(a=r,r=t)}}),a.language&&(r.second_best=a),r}function f(e){return E.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,n){return n.replace(/\t/g,E.tabReplace)})),E.useBR&&(e=e.replace(/\n/g,"<br>")),e}function g(e,n,t){var r=n?x[n]:t,a=[e.trim()];return e.match(/(\s|^)hljs(\s|$)/)||a.push("hljs"),r&&a.push(r),a.join(" ").trim()}function p(e){var n=a(e);if(!/no(-?)highlight/.test(n)){var t;E.useBR?(t=document.createElementNS("http://www.w3.org/1999/xhtml","div"),t.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):t=e;var r=t.textContent,o=n?s(n,r,!0):l(r),u=i(t);if(u.length){var p=document.createElementNS("http://www.w3.org/1999/xhtml","div");p.innerHTML=o.value,o.value=c(u,i(p),r)}o.value=f(o.value),e.innerHTML=o.value,e.className=g(e.className,n,o.language),e.result={language:o.language,re:o.r},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.r})}}function d(e){E=o(E,e)}function h(){if(!h.called){h.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,p)}}function v(){addEventListener("DOMContentLoaded",h,!1),addEventListener("load",h,!1)}function b(n,t){var r=R[n]=t(e);r.aliases&&r.aliases.forEach(function(e){x[e]=n})}function m(){return Object.keys(R)}function N(e){return R[e]||R[x[e]]}var E={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},R={},x={};return e.highlight=s,e.highlightAuto=l,e.fixMarkup=f,e.highlightBlock=p,e.configure=d,e.initHighlighting=h,e.initHighlightingOnLoad=v,e.registerLanguage=b,e.listLanguages=m,e.getLanguage=N,e.inherit=o,e.IR="[a-zA-Z][a-zA-Z0-9_]*",e.UIR="[a-zA-Z_][a-zA-Z0-9_]*",e.NR="\\b\\d+(\\.\\d+)?",e.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BNR="\\b(0b[01]+)",e.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BE={b:"\\\\[\\s\\S]",r:0},e.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[e.BE]},e.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[e.BE]},e.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/},e.CLCM={cN:"comment",b:"//",e:"$",c:[e.PWM]},e.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[e.PWM]},e.HCM={cN:"comment",b:"#",e:"$",c:[e.PWM]},e.NM={cN:"number",b:e.NR,r:0},e.CNM={cN:"number",b:e.CNR,r:0},e.BNM={cN:"number",b:e.BNR,r:0},e.CSSNM={cN:"number",b:e.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},e.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[e.BE,{b:/\[/,e:/\]/,r:0,c:[e.BE]}]},e.TM={cN:"title",b:e.IR,r:0},e.UTM={cN:"title",b:e.UIR,r:0},e});
hljs.registerLanguage("clojure",function(e){var t={built_in:"def cond apply if-not if-let if not not= = < > <= >= == + / * - rem quot neg? pos? delay? symbol? keyword? true? false? integer? empty? coll? list? set? ifn? fn? associative? sequential? sorted? counted? reversible? number? decimal? class? distinct? isa? float? rational? reduced? ratio? odd? even? char? seq? vector? string? map? nil? contains? zero? instance? not-every? not-any? libspec? -> ->> .. . inc compare do dotimes mapcat take remove take-while drop letfn drop-last take-last drop-while while intern condp case reduced cycle split-at split-with repeat replicate iterate range merge zipmap declare line-seq sort comparator sort-by dorun doall nthnext nthrest partition eval doseq await await-for let agent atom send send-off release-pending-sends add-watch mapv filterv remove-watch agent-error restart-agent set-error-handler error-handler set-error-mode! error-mode shutdown-agents quote var fn loop recur throw try monitor-enter monitor-exit defmacro defn defn- macroexpand macroexpand-1 for dosync and or when when-not when-let comp juxt partial sequence memoize constantly complement identity assert peek pop doto proxy defstruct first rest cons defprotocol cast coll deftype defrecord last butlast sigs reify second ffirst fnext nfirst nnext defmulti defmethod meta with-meta ns in-ns create-ns import refer keys select-keys vals key val rseq name namespace promise into transient persistent! conj! assoc! dissoc! pop! disj! use class type num float double short byte boolean bigint biginteger bigdec print-method print-dup throw-if printf format load compile get-in update-in pr pr-on newline flush read slurp read-line subvec with-open memfn time re-find re-groups rand-int rand mod locking assert-valid-fdecl alias resolve ref deref refset swap! reset! set-validator! compare-and-set! alter-meta! reset-meta! commute get-validator alter ref-set ref-history-count ref-min-history ref-max-history ensure sync io! new next conj set! to-array future future-call into-array aset gen-class reduce map filter find empty hash-map hash-set sorted-map sorted-map-by sorted-set sorted-set-by vec vector seq flatten reverse assoc dissoc list disj get union difference intersection extend extend-type extend-protocol int nth delay count concat chunk chunk-buffer chunk-append chunk-first chunk-rest max min dec unchecked-inc-int unchecked-inc unchecked-dec-inc unchecked-dec unchecked-negate unchecked-add-int unchecked-add unchecked-subtract-int unchecked-subtract chunk-next chunk-cons chunked-seq? prn vary-meta lazy-seq spread list* str find-keyword keyword symbol gensym force rationalize"},r="a-zA-Z_\\-!.?+*=<>&#'",n="["+r+"]["+r+"0-9/;:]*",a="[-+]?\\d+(\\.\\d+)?",o={b:n,r:0},s={cN:"number",b:a,r:0},c=e.inherit(e.QSM,{i:null}),i={cN:"comment",b:";",e:"$",r:0},d={cN:"literal",b:/\b(true|false|nil)\b/},l={cN:"collection",b:"[\\[\\{]",e:"[\\]\\}]"},m={cN:"comment",b:"\\^"+n},p={cN:"comment",b:"\\^\\{",e:"\\}"},u={cN:"attribute",b:"[:]"+n},f={cN:"list",b:"\\(",e:"\\)"},h={eW:!0,r:0},y={k:t,l:n,cN:"keyword",b:n,starts:h},b=[f,c,m,p,i,u,l,s,d,o];return f.c=[{cN:"comment",b:"comment"},y,h],h.c=b,l.c=b,{aliases:["clj"],i:/\S/,c:[f,c,m,p,i,u,l,s,d]}});
/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/(function(e,t){var n,r,i=typeof t,o=e.document,a=e.location,s=e.jQuery,u=e.$,l={},c=[],p="1.9.1",f=c.concat,d=c.push,h=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,E=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,j=/^-ms-/,D=/-([\da-z])/gi,L=function(e,t){return t.toUpperCase()},H=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(q(),b.ready())},q=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(o.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))};b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),C.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(a=o.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r));return s},b.extend({noConflict:function(t){return e.$===b&&(e.$=u),t&&e.jQuery===b&&(e.jQuery=s),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!o.body)return setTimeout(b.ready);b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&k.test(n.replace(S,"@").replace(A,"]").replace(E,"")))?Function("return "+n)():(b.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(D,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:v&&!v.call("\ufeff\u00a0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g)return g.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return f.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=h.call(arguments,2),i=function(){return e.apply(n||this,r.concat(h.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r)){o=!0;for(u in r)b.access(e,n,u,r[u],!0,a,s)}else if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n))for(;l>u;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n)if(n=b.Deferred(),"complete"===o.readyState)setTimeout(b.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{o.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function a(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(a,50)}q(),b.ready()}}()}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=b(o);var _={};function F(e){var t=_[e]={};return b.each(e.match(w)||[],function(e,n){t[n]=!0}),t}b.Callbacks=function(e){e="string"==typeof e?_[e]||F(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&o>a;a++)if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,u,r))>-1)u.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=r=t,this},disabled:function(){return!u},lock:function(){return l=t,r||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!l||(n?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=h.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,o=1===i?e:b.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?h.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}}),b.support=function(){var t,n,r,a,s,u,l,c,p,f,d=o.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length)return{};s=o.createElement("select"),l=s.appendChild(o.createElement("option")),a=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}a=o.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),u=o.createDocumentFragment(),u.appendChild(a),t.appendChecked=a.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(function(){var n,r,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=p&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(o.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=a=r=null)}),n=s=u=l=r=a=null,t}();var O=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u="string"==typeof n,l=e.nodeType,p=l?b.cache:e,f=l?e[s]:e[s]&&s;if(f&&p[f]&&(i||p[f].data)||!u||r!==t)return f||(l?e[s]=f=c.pop()||b.guid++:f=s),p[f]||(p[f]={},l||(p[f].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?p[f]=b.extend(p[f],n):p[f].data=b.extend(p[f].data,n)),o=p[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[b.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[b.camelCase(n)])):a=o,a}}function R(e,t,n){if(b.acceptData(e)){var r,i,o,a=e.nodeType,s=a?b.cache:e,u=a?e[b.expando]:b.expando;if(s[u]){if(t&&(o=n?s[u]:s[u].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in o?t=[t]:(t=b.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete o[t[r]];if(!(n?$:b.isEmptyObject)(o))return}(n||(delete s[u].data,$(s[u])))&&(a?b.cleanData([e],!0):b.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}b.extend({cache:{},expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=this[0],a=0,s=null;if(e===t){if(this.length&&(s=b.data(o),1===o.nodeType&&!b._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++)i=r[a].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),W(o,i,s[i]));b._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?o?W(o,e,b.data(o,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:O.test(r)?b.parseJSON(r):r}catch(o){}b.data(e,n,r)}else r=t}return r}function $(e){var t;for(t in e)if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t),a=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=b._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var I,z,X=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Q=b.support.getSetAttribute,K=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=b.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=b(this),u=t,l=e.match(w)||[];while(o=l[a++])u=r?u:!s.hasClass(o),s[u?"addClass":"removeClass"](o)}else(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=b.isFunction(e),this.each(function(n){var o,a=b(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;for(;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return typeof e.getAttribute===i?b.prop(e,n,r):(a=1!==u||!b.isXMLDoc(e),a&&(n=n.toLowerCase(),o=b.attrHooks[n]||(J.test(n)?z:I)),r===t?o&&a&&"get"in o&&null!==(s=o.get(e,n))?s:(typeof e.getAttribute!==i&&(s=e.getAttribute(n)),null==s?t:s):null!==r?o&&a&&"set"in o&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=b.propFix[n]||n,J.test(n)?!Q&&G.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!b.isXMLDoc(e),a&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?K&&Q?null!=i:G.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},K&&Q||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):I&&I.set(e,n,r)}}),Q||(I=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:I.get,set:function(e,t,n){I.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,p,f,d,h,g,m,y,v=b._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--)s=rt.exec(n[l])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),p=b.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||(h=u[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,p,f,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=b.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));u&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||b.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)b.event.remove(e,d+t[l],n,r,!0);b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,a){var s,u,l,c,p,f,d,h=[i||o],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=0>g.indexOf(":")&&"on"+g,n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),p=b.event.special[g]||{},a||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!a&&!p.noBubble&&!b.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(l=l.parentNode);l;l=l.parentNode)h.push(l),f=l;f===(i.ownerDocument||o)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((l=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"),s&&s.apply(l,r),s=u&&l[u],s&&b.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault();if(n.type=g,!(a||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&b.nodeName(i,"a")||!b.acceptData(i)||!u||!i[g]||b.isWindow(i))){f=i[u],f&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(v){}b.event.triggered=t,f&&(i[u]=f)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=h.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=b.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return n.length>u&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,a=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(a),t=r.length;while(t--)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==o.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===o.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;
return(!i||i!==r&&!b.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return b().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){var n,r,i,o,a,s,u,l,c,p,f,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T={},N=0,C=0,k=it(),E=it(),S=it(),A=typeof t,j=1<<31,D=[],L=D.pop,H=D.push,q=D.slice,M=D.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},_="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=F.replace("w","w#"),B="([*^$|!~]?=)",P="\\["+_+"*("+F+")"+_+"*(?:"+B+_+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+_+"*\\]",R=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+P.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),$=RegExp("^"+_+"*,"+_+"*"),I=RegExp("^"+_+"*([\\x20\\t\\r\\n\\f>+~])"+_+"*"),z=RegExp(R),X=RegExp("^"+O+"$"),U={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+R),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),needsContext:RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{q.call(w.documentElement.childNodes,0)[0].nodeType}catch(nt){q=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}function rt(e){return Y.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function ot(e){return e[x]=!0,e}function at(e){var t=p.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function st(e,t,n,r){var i,o,a,s,u,l,f,g,m,v;if((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!d&&!r){if(i=J.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&y(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return H.apply(n,q.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&T.getByClassName&&t.getElementsByClassName)return H.apply(n,q.call(t.getElementsByClassName(a),0)),n}if(T.qsa&&!h.test(e)){if(f=!0,g=x,m=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){l=ft(e),(f=t.getAttribute("id"))?g=f.replace(K,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=l.length;while(u--)l[u]=g+dt(l[u]);m=V.test(e)&&t.parentNode||t,v=l.join(",")}if(v)try{return H.apply(n,q.call(m.querySelectorAll(v),0)),n}catch(b){}finally{f||t.removeAttribute("id")}}}return wt(e.replace(W,"$1"),t,n,r)}a=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},c=st.setDocument=function(e){var n=e?e.ownerDocument||e:w;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,f=n.documentElement,d=a(n),T.tagNameNoComments=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),T.getByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),T.getByName=at(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(x).length===2+n.getElementsByName(x+0).length;return T.getIdNotName=!n.getElementById(x),f.removeChild(e),t}),i.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},T.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==A&&!d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==A&&!d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=T.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},i.find.NAME=T.getByName&&function(e,n){return typeof n.getElementsByName!==A?n.getElementsByName(name):t},i.find.CLASS=T.getByClassName&&function(e,n){return typeof n.getElementsByClassName===A||d?t:n.getElementsByClassName(e)},g=[],h=[":focus"],(T.qsa=rt(n.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+_+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+_+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(T.matchesSelector=rt(m=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){T.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",R)}),h=RegExp(h.join("|")),g=RegExp(g.join("|")),y=rt(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},v=f.compareDocumentPosition?function(e,t){var r;return e===t?(u=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||y(w,e)?-1:t===n||y(w,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return u=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:0;if(o===a)return ut(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?ut(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},u=!1,[0,0].sort(v),T.detectDuplicates=u,p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Z,"='$1']"),!(!T.matchesSelector||d||g&&g.test(t)||h.test(t)))try{var n=m.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},st.attr=function(e,t){var n;return(e.ownerDocument||e)!==p&&c(e),d||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):d||T.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},st.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,n=[],r=1,i=0;if(u=!T.detectDuplicates,e.sort(v),u){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e};function ut(e,t){var n=t&&e,r=n&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ot(function(t){return t=+t,ot(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},i=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return U.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&z.test(n)&&(t=ft(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[e+" "];return t||(t=RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[x]||(m[x]={}),l=c[e]||[],d=l[0]===N&&l[1],f=l[0]===N&&l[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[N,d,f];break}}else if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===N)f=l[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[x]||(p[x]={}))[e]=[N,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ot(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ot(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){return X.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=lt(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=ct(n);function ft(e,t){var n,r,o,a,s,u,l,c=E[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=i.preFilter;while(s){(!n||(r=$.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=I.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length));for(a in i.filter)!(r=U[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?st.error(e):E(e,u).slice(0)}function dt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function ht(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var u,l,c,p=N+" "+a;if(s){while(t=t[i])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[x]||(t[x]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r)return u===!0}else if(l=c[i]=[p],l[1]=e(t,n,s)||r,l[1]===!0)return!0}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var o,a=[],s=0,u=e.length,l=null!=t;for(;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function yt(e,t,n,r,i,o){return r&&!r[x]&&(r=yt(r)),i&&!i[x]&&(i=yt(i,o)),ot(function(o,a,s,u){var l,c,p,f=[],d=[],h=a.length,g=o||xt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:mt(g,f,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r){l=mt(y,d),r(l,[],s,u),c=l.length;while(c--)(p=l[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(p=y[c])&&l.push(m[c]=p);i(null,y=[],l,u)}c=y.length;while(c--)(p=y[c])&&(l=i?M.call(o,p):f[c])>-1&&(o[l]=!(a[l]=p))}}else y=mt(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)})}function vt(e){var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=ht(function(e){return e===t},s,!0),p=ht(function(e){return M.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>u;u++)if(n=i.relative[e[u].type])f=[ht(gt(f),n)];else{if(n=i.filter[e[u].type].apply(null,e[u].matches),n[x]){for(r=++u;o>r;r++)if(i.relative[e[r].type])break;return yt(u>1&&gt(f),u>1&&dt(e.slice(0,u-1)).replace(W,"$1"),n,r>u&&vt(e.slice(u,r)),o>r&&vt(e=e.slice(r)),o>r&&dt(e))}f.push(n)}return gt(f)}function bt(e,t){var n=0,o=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,T=l,C=s||a&&i.find.TAG("*",d&&u.parentNode||u),k=N+=null==T?1:Math.random()||.1;for(w&&(l=u!==p&&u,r=n);null!=(h=C[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,u,c)){f.push(h);break}w&&(N=k,r=++n)}o&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,o&&b!==v){g=0;while(m=t[g++])m(x,y,u,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=L.call(f));y=mt(y)}H.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(f)}return w&&(N=k,l=T),x};return o?ot(s):s}s=st.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=ft(e)),n=t.length;while(n--)o=vt(t[n]),o[x]?r.push(o):i.push(o);o=S(e,bt(i,r))}return o};function xt(e,t,n){var r=0,i=t.length;for(;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r){var o,a,u,l,c,p=ft(e);if(!r&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!d&&i.relative[a[1].type]){if(t=i.find.ID(u.matches[0].replace(et,tt),t)[0],!t)return n;e=e.slice(a.shift().value.length)}o=U.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],i.relative[l=u.type])break;if((c=i.find[l])&&(r=c(u.matches[0].replace(et,tt),V.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&dt(a),!e)return H.apply(n,q.call(r,0)),n;break}}}return s(e,p)(r,t,d,n,V.test(e)),n}i.pseudos.nth=i.pseudos.eq;function Tt(){}i.filters=Tt.prototype=i.pseudos,i.setFilters=new Tt,c(),st.attr=b.attr,b.find=st,b.expr=st.selectors,b.expr[":"]=b.expr.pseudos,b.unique=st.uniqueSort,b.text=st.getText,b.isXMLDoc=st.isXML,b.contains=st.contains}(e);var at=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ut=/^.[^:#\[\.,]*$/,lt=b.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++)if(b.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1))},filter:function(e){return this.pushStack(ft(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?lt.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(a?a.index(n)>-1:b.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack;function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return at.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!ct[e]?b.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(t=t||0,b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(ut.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(o),Dt=jt.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++)(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(Ot(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Mt(Ot(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(Ot(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(b.cleanData(Ot(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=f.apply([],e);var i,o,a,s,u,l,c=0,p=this.length,d=this,h=p-1,g=e[0],m=b.isFunction(g);if(m||!(1>=p||"string"!=typeof g||b.support.checkClone)&&Ct.test(g))return this.each(function(i){var o=d.eq(i);m&&(e[0]=g.call(this,i,n?o.html():t)),o.domManip(e,n,r)});if(p&&(l=b.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&b.nodeName(i,"tr"),s=b.map(Ot(l,"script"),Ht),a=s.length;p>c;c++)o=l,c!==h&&(o=b.clone(o,!0,!0),a&&b.merge(s,Ot(o,"script"))),r.call(n&&b.nodeName(this[c],"table")?Lt(this[c],"tbody"):this[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,b.map(s,qt),c=0;a>c;c++)o=s[c],kt.test(o.type||"")&&!b._data(o,"globalEval")&&b.contains(u,o)&&(o.src?b.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((o.text||o.textContent||o.innerHTML||"").replace(St,"")));l=i=null}return this}});function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ht(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Mt(e,t){var n,r=0;for(;null!=(n=e[r]);r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function _t(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)b.event.add(t,n,s[n][r])}a.data&&(a.data=b.extend({},a.data))}}function Ft(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],o=b(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),b(o[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}});function Ot(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||b.nodeName(o,n)?s.push(o):b.merge(s,Ot(o,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Bt(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(r=Ot(o),s=Ot(e),a=0;null!=(i=s[a]);++a)r[a]&&Ft(i,r[a]);if(t)if(n)for(s=s||Ot(e),r=r||Ot(o),a=0;null!=(i=s[a]);a++)_t(i,r[a]);else _t(e,o);return r=Ot(o,"script"),r.length>0&&Mt(r,!u&&Ot(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,u,l,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===b.type(o))b.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),u=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[u]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!b.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!b.support.tbody){o="table"!==u||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)
}b.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),b.support.appendChecked||b.grep(Ot(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Ot(f.appendChild(o),"script"),a&&Mt(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,u=b.expando,l=b.cache,p=b.support.deleteExpando,f=b.event.special;for(;null!=(n=e[s]);s++)if((t||b.acceptData(n))&&(o=n[u],a=o&&l[o])){if(a.events)for(r in a.events)f[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle);l[o]&&(delete l[o],p?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,c.push(o))}}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+x+")(.*)$","i"),Yt=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+x+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=b._data(r,"olddisplay",un(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=b.css(e,n[s],!1,o);return a}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=tn(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=tn(e.style,u)),s=b.cssHooks[n]||b.cssHooks[u],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||b.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Yt.test(u)&&Ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Yt.test(u)&&!zt.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=b.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function un(e){var t=o,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(Pt=(Pt||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),Pt.detach()),Gt[e]=n),n}function ln(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(b.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==b.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,yn,vn=b.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=b.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=a.href}catch(Ln){yn=o.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(b.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(u){var l;return o[u]=!0,b.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||o[c]?a?!(l=c):t:(n.dataTypes.unshift(c),s(c),!1)}),l}return s(n.dataTypes[0])||!o["*"]&&s("*")}function Mn(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}b.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Nn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mn(Mn(e,b.ajaxSettings),t):Mn(b.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,p=b.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?b(f):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=p.statusCode||{},y={},v={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else N.always(e[N.status]);return this},abort:function(e){var t=e||T;return l&&l.abort(t),k(0,t),this}};if(h.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=b.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),qn(An,p,n,N),2===x)return N;u=p.global,u&&0===b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Cn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(b.lastModified[o]&&N.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&N.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)N.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,N,p)===!1||2===x))return N.abort();T="abort";for(i in{success:1,error:1,complete:1})N[i](p[i]);if(l=qn(jn,p,n,N)){N.readyState=1,u&&d.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,l.send(y,k)}catch(C){if(!(2>x))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,C=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",N.readyState=e>0?4:0,r&&(w=_n(p,N,r)),e>=200&&300>e||304===e?(p.ifModified&&(T=N.getResponseHeader("Last-Modified"),T&&(b.lastModified[o]=T),T=N.getResponseHeader("etag"),T&&(b.etag[o]=T)),204===e?(c=!0,C="nocontent"):304===e?(c=!0,C="notmodified"):(c=Fn(p,w),C=c.state,y=c.data,v=c.error,c=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),N.status=e,N.statusText=(n||C)+"",c?h.resolveWith(f,[y,C,N]):h.rejectWith(f,[N,C,v]),N.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[N,p,c?y:v]),g.fireWith(f,[N,C]),u&&(d.trigger("ajaxComplete",[N,p]),--b.active||b.event.trigger("ajaxStop")))}return N},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}});function _n(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c)s in r&&(n[c[s]]=r[s]);while("*"===l[0])l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in r)a=l[0];else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):t}function Fn(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=u[++s];)if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i)for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||b("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var On=[],Bn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||b.expando+"_"+vn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,On.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=b.ajaxSettings.xhr(),b.support.cors=!!Rn&&"withCredentials"in Rn,Rn=b.support.ajax=!!Rn,Rn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,p;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=b.noop,$n&&delete Pn[a]),i)4!==u.readyState&&u.abort();else{p={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(p.text=u.responseText);try{c=u.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,l)},n.async?4===u.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},b(e).unload($n)),Pn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Yn.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&s){s=b.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,b.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Qn[t]||[]).concat(Qn["*"]),i=0,o=r.length;for(;o>i;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,o=0,a=Gn.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;for(;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(tr(c,l.opts.specialEasing);a>o;o++)if(r=Gn[o].call(l,e,c,l.opts))return r;return Zn(l,c),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tr(e,t){var n,r,i,o,a;for(i in e)if(r=b.camelCase(i),o=t[r],n=e[i],b.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=b.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,u,l,c,p,f=this,d=e.style,h={},g=[],m=e.nodeType&&nn(e);n.queue||(c=b._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,b.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==un(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",b.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Vn.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show"))continue;g.push(i)}if(o=g.length){s=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),u&&(s.hidden=!m),m?b(e).show():f.done(function(){b(e).hide()}),f.done(function(){var t;b._removeData(e,"fxshow");for(t in h)b.style(e,t,h[t])});for(i=0;o>i;i++)r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||b.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=er(this,b.extend({},e),o);a.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Un||(Un=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Un),Un=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),o=i.offset(),a=b.css(e,"top"),s=b.css(e,"left"),u=("absolute"===r||"fixed"===r)&&b.inArray("auto",[a,s])>-1,l={},c={},p,f;u?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),b.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(l.top=t.top-o.top+p),null!=t.left&&(l.left=t.left-o.left+f),"using"in t?t.using.call(e,l):i.css(l)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position"))e=e.offsetParent;return e||o.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return b.access(this,function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);
!function(a){function b(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function c(){var a=require("util");return"Markdown.mk_block( "+a.inspect(this.toString())+", "+a.inspect(this.trailing)+", "+a.inspect(this.lineNumber)+" )"}function d(a){for(var b=0,c=-1;-1!==(c=a.indexOf("\n",c+1));)b++;return b}function e(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function f(a){if("string"==typeof a)return e(a);var b=a.shift(),c={},d=[];for(!a.length||"object"!=typeof a[0]||a[0]instanceof Array||(c=a.shift());a.length;)d.push(f(a.shift()));var g="";for(var h in c)g+=" "+h+'="'+e(c[h])+'"';return"img"===b||"br"===b||"hr"===b?"<"+b+g+"/>":"<"+b+g+">"+d.join("")+"</"+b+">"}function g(a,b,c){var d;c=c||{};var e=a.slice(0);"function"==typeof c.preprocessTreeNode&&(e=c.preprocessTreeNode(e,b));var f=o(e);if(f){e[1]={};for(d in f)e[1][d]=f[d];f=e[1]}if("string"==typeof e)return e;switch(e[0]){case"header":e[0]="h"+e[1].level,delete e[1].level;break;case"bulletlist":e[0]="ul";break;case"numberlist":e[0]="ol";break;case"listitem":e[0]="li";break;case"para":e[0]="p";break;case"markdown":e[0]="html",f&&delete f.references;break;case"code_block":e[0]="pre",d=f?2:1;var h=["code"];h.push.apply(h,e.splice(d,e.length-d)),e[d]=h;break;case"inlinecode":e[0]="code";break;case"img":e[1].src=e[1].href,delete e[1].href;break;case"linebreak":e[0]="br";break;case"link":e[0]="a";break;case"link_ref":e[0]="a";var i=b[f.ref];if(!i)return f.original;delete f.ref,f.href=i.href,i.title&&(f.title=i.title),delete f.original;break;case"img_ref":e[0]="img";var i=b[f.ref];if(!i)return f.original;delete f.ref,f.src=i.href,i.title&&(f.title=i.title),delete f.original}if(d=1,f){for(var j in e[1]){d=2;break}1===d&&e.splice(d,1)}for(;d<e.length;++d)e[d]=g(e[d],b,c);return e}function h(a){for(var b=o(a)?2:1;b<a.length;)"string"==typeof a[b]?b+1<a.length&&"string"==typeof a[b+1]?a[b]+=a.splice(b+1,1)[0]:++b:(h(a[b]),++b)}function i(a,b){function c(a){this.len_after=a,this.name="close_"+b}var d=a+"_state",e="strong"===a?"em_state":"strong_state";return function(f){if(this[d][0]===b)return this[d].shift(),[f.length,new c(f.length-b.length)];var g=this[e].slice(),h=this[d].slice();this[d].unshift(b);var i=this.processInline(f.substr(b.length)),j=i[i.length-1];if(this[d].shift(),j instanceof c){i.pop();var k=f.length-j.len_after;return[k,[a].concat(i)]}return this[e]=g,this[d]=h,[b.length,b]}}function j(a){for(var b=a.split(""),c=[""],d=!1;b.length;){var e=b.shift();switch(e){case" ":d?c[c.length-1]+=e:c.push("");break;case"'":case'"':d=!d;break;case"\\":e=b.shift();default:c[c.length-1]+=e}}return c}var k={};k.mk_block=function(a,d,e){1===arguments.length&&(d="\n\n");var f=new String(a);return f.trailing=d,f.inspect=c,f.toSource=b,void 0!==e&&(f.lineNumber=e),f};var l=k.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};k.forEach=Array.prototype.forEach?function(a,b,c){return a.forEach(b,c)}:function(a,b,c){for(var d=0;d<a.length;d++)b.call(c||a,a[d],d,a)},k.isEmpty=function(a){for(var b in a)if(hasOwnProperty.call(a,b))return!1;return!0},k.extract_attr=function(a){return l(a)&&a.length>1&&"object"==typeof a[1]&&!l(a[1])?a[1]:void 0};var m=function(a){switch(typeof a){case"undefined":this.dialect=m.dialects.Gruber;break;case"object":this.dialect=a;break;default:if(!(a in m.dialects))throw new Error("Unknown Markdown dialect '"+String(a)+"'");this.dialect=m.dialects[a]}this.em_state=[],this.strong_state=[],this.debug_indent=""};m.dialects={};var n=m.mk_block=k.mk_block,l=k.isArray;m.parse=function(a,b){var c=new m(b);return c.toTree(a)},m.prototype.split_blocks=function(a){a=a.replace(/(\r\n|\n|\r)/g,"\n");var b,c=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,e=[],f=1;for(null!==(b=/^(\s*\n)/.exec(a))&&(f+=d(b[0]),c.lastIndex=b[0].length);null!==(b=c.exec(a));)"\n#"===b[2]&&(b[2]="\n",c.lastIndex--),e.push(n(b[1],b[2],f)),f+=d(b[0]);return e},m.prototype.processBlock=function(a,b){var c=this.dialect.block,d=c.__order__;if("__call__"in c)return c.__call__.call(this,a,b);for(var e=0;e<d.length;e++){var f=c[d[e]].call(this,a,b);if(f)return(!l(f)||f.length>0&&!l(f[0]))&&this.debug(d[e],"didn't return a proper array"),f}return[]},m.prototype.processInline=function(a){return this.dialect.inline.__call__.call(this,String(a))},m.prototype.toTree=function(a,b){var c=a instanceof Array?a:this.split_blocks(a),d=this.tree;try{for(this.tree=b||this.tree||["markdown"];c.length;){var e=this.processBlock(c.shift(),c);e.length&&this.tree.push.apply(this.tree,e)}return this.tree}finally{b&&(this.tree=d)}},m.prototype.debug=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,a),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,a)},m.prototype.loop_re_over_block=function(a,b,c){for(var d,e=b.valueOf();e.length&&null!==(d=a.exec(e));)e=e.substr(d[0].length),c.call(this,d);return e},m.buildBlockOrder=function(a){var b=[];for(var c in a)"__order__"!==c&&"__call__"!==c&&b.push(c);a.__order__=b},m.buildInlinePatterns=function(a){var b=[];for(var c in a)if(!c.match(/^__.*__$/)){var d=c.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");b.push(1===c.length?d:"(?:"+d+")")}b=b.join("|"),a.__patterns__=b;var e=a.__call__;a.__call__=function(a,c){return void 0!==c?e.call(this,a,c):e.call(this,a,b)}};var o=k.extract_attr;m.renderJsonML=function(a,b){b=b||{},b.root=b.root||!1;var c=[];if(b.root)c.push(f(a));else for(a.shift(),!a.length||"object"!=typeof a[0]||a[0]instanceof Array||a.shift();a.length;)c.push(f(a.shift()));return c.join("\n\n")},m.toHTMLTree=function(a,b,c){"string"==typeof a&&(a=this.parse(a,b));var d=o(a),e={};d&&d.references&&(e=d.references);var f=g(a,e,c);return h(f),f},m.toHTML=function(a,b,c){var d=this.toHTMLTree(a,b,c);return this.renderJsonML(d)};var p={};p.inline_until_char=function(a,b){for(var c=0,d=[];;){if(a.charAt(c)===b)return c++,[c,d];if(c>=a.length)return null;var e=this.dialect.inline.__oneElement__.call(this,a.substr(c));c+=e[0],d.push.apply(d,e.slice(1))}},p.subclassDialect=function(a){function b(){}function c(){}return b.prototype=a.block,c.prototype=a.inline,{block:new b,inline:new c}};var q=k.forEach,o=k.extract_attr,n=k.mk_block,r=k.isEmpty,s=p.inline_until_char,t={block:{atxHeader:function(a,b){var c=a.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!c)return void 0;var d=["header",{level:c[1].length}];return Array.prototype.push.apply(d,this.processInline(c[2])),c[0].length<a.length&&b.unshift(n(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[d]},setextHeader:function(a,b){var c=a.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!c)return void 0;var d="="===c[2]?1:2,e=["header",{level:d},c[1]];return c[0].length<a.length&&b.unshift(n(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[e]},code:function(a,b){var c=[],d=/^(?: {0,3}\t| {4})(.*)\n?/;if(!a.match(d))return void 0;a:for(;;){var e=this.loop_re_over_block(d,a.valueOf(),function(a){c.push(a[1])});if(e.length){b.unshift(n(e,a.trailing));break a}if(!b.length)break a;if(!b[0].match(d))break a;c.push(a.trailing.replace(/[^\n]/g,"").substring(2)),a=b.shift()}return[["code_block",c.join("\n")]]},horizRule:function(a,b){var c=a.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!c)return void 0;var d=[["hr"]];if(c[1]){var e=n(c[1],"",a.lineNumber);d.unshift.apply(d,this.toTree(e,[]))}return c[3]&&b.unshift(n(c[3],a.trailing,a.lineNumber+1)),d},lists:function(){function a(a){return new RegExp("(?:^("+i+"{0,"+a+"} {0,3})("+f+")\\s+)|"+"(^"+i+"{0,"+(a-1)+"}[ ]{0,4})")}function b(a){return a.replace(/ {0,3}\t/g,"    ")}function c(a,b,c,d){if(b)return a.push(["para"].concat(c)),void 0;var e=a[a.length-1]instanceof Array&&"para"===a[a.length-1][0]?a[a.length-1]:a;d&&a.length>1&&c.unshift(d);for(var f=0;f<c.length;f++){var g=c[f],h="string"==typeof g;h&&e.length>1&&"string"==typeof e[e.length-1]?e[e.length-1]+=g:e.push(g)}}function d(a,b){for(var c=new RegExp("^("+i+"{"+a+"}.*?\\n?)*$"),d=new RegExp("^"+i+"{"+a+"}","gm"),e=[];b.length>0&&c.exec(b[0]);){var f=b.shift(),g=f.replace(d,"");e.push(n(g,f.trailing,f.lineNumber))}return e}function e(a,b,c){var d=a.list,e=d[d.length-1];if(!(e[1]instanceof Array&&"para"===e[1][0]))if(b+1===c.length)e.push(["para"].concat(e.splice(1,e.length-1)));else{var f=e.pop();e.push(["para"].concat(e.splice(1,e.length-1)),f)}}var f="[*+-]|\\d+\\.",g=/[*+-]/,h=new RegExp("^( {0,3})("+f+")[ 	]+"),i="(?: {0,3}\\t| {4})";return function(f,i){function j(a){var b=g.exec(a[2])?["bulletlist"]:["numberlist"];return n.push({list:b,indent:a[1]}),b}var k=f.match(h);if(!k)return void 0;for(var l,m,n=[],o=j(k),p=!1,r=[n[0].list];;){for(var s=f.split(/(?=\n)/),t="",u="",v=0;v<s.length;v++){u="";var w=s[v].replace(/^\n/,function(a){return u=a,""}),x=a(n.length);if(k=w.match(x),void 0!==k[1]){t.length&&(c(l,p,this.processInline(t),u),p=!1,t=""),k[1]=b(k[1]);var y=Math.floor(k[1].length/4)+1;if(y>n.length)o=j(k),l.push(o),l=o[1]=["listitem"];else{var z=!1;for(m=0;m<n.length;m++)if(n[m].indent===k[1]){o=n[m].list,n.splice(m+1,n.length-(m+1)),z=!0;break}z||(y++,y<=n.length?(n.splice(y,n.length-y),o=n[y-1].list):(o=j(k),l.push(o))),l=["listitem"],o.push(l)}u=""}w.length>k[0].length&&(t+=u+w.substr(k[0].length))}t.length&&(c(l,p,this.processInline(t),u),p=!1,t="");var A=d(n.length,i);A.length>0&&(q(n,e,this),l.push.apply(l,this.toTree(A,[])));var B=i[0]&&i[0].valueOf()||"";if(!B.match(h)&&!B.match(/^ /))break;f=i.shift();var C=this.dialect.block.horizRule(f,i);if(C){r.push.apply(r,C);break}q(n,e,this),p=!0}return r}}(),blockquote:function(a,b){if(!a.match(/^>/m))return void 0;var c=[];if(">"!==a[0]){for(var d=a.split(/\n/),e=[],f=a.lineNumber;d.length&&">"!==d[0][0];)e.push(d.shift()),f++;var g=n(e.join("\n"),"\n",a.lineNumber);c.push.apply(c,this.processBlock(g,[])),a=n(d.join("\n"),a.trailing,f)}for(;b.length&&">"===b[0][0];){var h=b.shift();a=n(a+a.trailing+h,h.trailing,a.lineNumber)}var i=a.replace(/^> ?/gm,""),j=(this.tree,this.toTree(i,["blockquote"])),k=o(j);return k&&k.references&&(delete k.references,r(k)&&j.splice(1,1)),c.push(j),c},referenceDefn:function(a,b){var c=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!a.match(c))return void 0;o(this.tree)||this.tree.splice(1,0,{});var d=o(this.tree);void 0===d.references&&(d.references={});var e=this.loop_re_over_block(c,a,function(a){a[2]&&"<"===a[2][0]&&">"===a[2][a[2].length-1]&&(a[2]=a[2].substring(1,a[2].length-1));var b=d.references[a[1].toLowerCase()]={href:a[2]};void 0!==a[4]?b.title=a[4]:void 0!==a[5]&&(b.title=a[5])});return e.length&&b.unshift(n(e,a.trailing)),[]},para:function(a){return[["para"].concat(this.processInline(a))]}},inline:{__oneElement__:function(a,b,c){var d,e;b=b||this.dialect.inline.__patterns__;var f=new RegExp("([\\s\\S]*?)("+(b.source||b)+")");if(d=f.exec(a),!d)return[a.length,a];if(d[1])return[d[1].length,d[1]];var e;return d[2]in this.dialect.inline&&(e=this.dialect.inline[d[2]].call(this,a.substr(d.index),d,c||[])),e=e||[d[2].length,d[2]]},__call__:function(a,b){function c(a){"string"==typeof a&&"string"==typeof e[e.length-1]?e[e.length-1]+=a:e.push(a)}for(var d,e=[];a.length>0;)d=this.dialect.inline.__oneElement__.call(this,a,b,e),a=a.substr(d.shift()),q(d,c);return e},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(a){return this.dialect.inline.__escape__.exec(a)?[2,a.charAt(1)]:[1,"\\"]},"![":function(a){var b=a.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(b){b[2]&&"<"===b[2][0]&&">"===b[2][b[2].length-1]&&(b[2]=b[2].substring(1,b[2].length-1)),b[2]=this.dialect.inline.__call__.call(this,b[2],/\\/)[0];var c={alt:b[1],href:b[2]||""};return void 0!==b[4]&&(c.title=b[4]),[b[0].length,["img",c]]}return b=a.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),b?[b[0].length,["img_ref",{alt:b[1],ref:b[2].toLowerCase(),original:b[0]}]]:[2,"!["]},"[":function v(a){var b=String(a),c=s.call(this,a.substr(1),"]");if(!c)return[1,"["];var v,d,e=1+c[0],f=c[1];a=a.substr(e);var g=a.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(g){var h=g[1];if(e+=g[0].length,h&&"<"===h[0]&&">"===h[h.length-1]&&(h=h.substring(1,h.length-1)),!g[3])for(var i=1,j=0;j<h.length;j++)switch(h[j]){case"(":i++;break;case")":0===--i&&(e-=h.length-j,h=h.substring(0,j))}return h=this.dialect.inline.__call__.call(this,h,/\\/)[0],d={href:h||""},void 0!==g[3]&&(d.title=g[3]),v=["link",d].concat(f),[e,v]}return g=a.match(/^\s*\[(.*?)\]/),g?(e+=g[0].length,d={ref:(g[1]||String(f)).toLowerCase(),original:b.substr(0,e)},v=["link_ref",d].concat(f),[e,v]):1===f.length&&"string"==typeof f[0]?(d={ref:f[0].toLowerCase(),original:b.substr(0,e)},v=["link_ref",d,f[0]],[e,v]):[1,"["]},"<":function(a){var b;return null!==(b=a.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?b[3]?[b[0].length,["link",{href:"mailto:"+b[3]},b[3]]]:"mailto"===b[2]?[b[0].length,["link",{href:b[1]},b[1].substr("mailto:".length)]]:[b[0].length,["link",{href:b[1]},b[1]]]:[1,"<"]},"`":function(a){var b=a.match(/(`+)(([\s\S]*?)\1)/);return b&&b[2]?[b[1].length+b[2].length,["inlinecode",b[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}}};t.inline["**"]=i("strong","**"),t.inline.__=i("strong","__"),t.inline["*"]=i("em","*"),t.inline._=i("em","_"),m.dialects.Gruber=t,m.buildBlockOrder(m.dialects.Gruber.block),m.buildInlinePatterns(m.dialects.Gruber.inline);var u=p.subclassDialect(t),o=k.extract_attr,q=k.forEach;u.processMetaHash=function(a){for(var b=j(a),c={},d=0;d<b.length;++d)if(/^#/.test(b[d]))c.id=b[d].substring(1);else if(/^\./.test(b[d]))c["class"]=c["class"]?c["class"]+b[d].replace(/./," "):b[d].substring(1);else if(/\=/.test(b[d])){var e=b[d].split(/\=/);c[e[0]]=e[1]}return c},u.block.document_meta=function(a){if(a.lineNumber>1)return void 0;if(!a.match(/^(?:\w+:.*\n)*\w+:.*$/))return void 0;o(this.tree)||this.tree.splice(1,0,{});var b=a.split(/\n/);for(var c in b){var d=b[c].match(/(\w+):\s*(.*)$/),e=d[1].toLowerCase(),f=d[2];this.tree[1][e]=f}return[]},u.block.block_meta=function(a){var b=a.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!b)return void 0;var c,d=this.dialect.processMetaHash(b[2]);if(""===b[1]){var e=this.tree[this.tree.length-1];if(c=o(e),"string"==typeof e)return void 0;c||(c={},e.splice(1,0,c));for(var f in d)c[f]=d[f];return[]}var g=a.replace(/\n.*$/,""),h=this.processBlock(g,[]);c=o(h[0]),c||(c={},h[0].splice(1,0,c));for(var f in d)c[f]=d[f];return h},u.block.definition_list=function(a,b){var c,d,e=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,f=["dl"];if(!(d=a.match(e)))return void 0;for(var g=[a];b.length&&e.exec(b[0]);)g.push(b.shift());for(var h=0;h<g.length;++h){var d=g[h].match(e),i=d[1].replace(/\n$/,"").split(/\n/),j=d[2].split(/\n:\s+/);for(c=0;c<i.length;++c)f.push(["dt",i[c]]);for(c=0;c<j.length;++c)f.push(["dd"].concat(this.processInline(j[c].replace(/(\n)\s+/,"$1"))))}return[f]},u.block.table=function w(a){var b,c,d=function(a,b){b=b||"\\s",b.match(/^[\\|\[\]{}?*.+^$]$/)&&(b="\\"+b);for(var c,d=[],e=new RegExp("^((?:\\\\.|[^\\\\"+b+"])*)"+b+"(.*)");c=a.match(e);)d.push(c[1]),a=c[2];return d.push(a),d},e=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,f=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(c=a.match(e))c[3]=c[3].replace(/^\s*\|/gm,"");else if(!(c=a.match(f)))return void 0;var w=["table",["thead",["tr"]],["tbody"]];c[2]=c[2].replace(/\|\s*$/,"").split("|");var g=[];for(q(c[2],function(a){a.match(/^\s*-+:\s*$/)?g.push({align:"right"}):a.match(/^\s*:-+\s*$/)?g.push({align:"left"}):a.match(/^\s*:-+:\s*$/)?g.push({align:"center"}):g.push({})}),c[1]=d(c[1].replace(/\|\s*$/,""),"|"),b=0;b<c[1].length;b++)w[1][1].push(["th",g[b]||{}].concat(this.processInline(c[1][b].trim())));return q(c[3].replace(/\|\s*$/gm,"").split("\n"),function(a){var c=["tr"];for(a=d(a,"|"),b=0;b<a.length;b++)c.push(["td",g[b]||{}].concat(this.processInline(a[b].trim())));w[2].push(c)},this),[w]},u.inline["{:"]=function(a,b,c){if(!c.length)return[2,"{:"];var d=c[c.length-1];if("string"==typeof d)return[2,"{:"];var e=a.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!e)return[2,"{:"];var f=this.dialect.processMetaHash(e[1]),g=o(d);g||(g={},d.splice(1,0,g));for(var h in f)g[h]=f[h];return[e[0].length,""]},m.dialects.Maruku=u,m.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,m.buildBlockOrder(m.dialects.Maruku.block),m.buildInlinePatterns(m.dialects.Maruku.inline),a.Markdown=m,a.parse=m.parse,a.toHTML=m.toHTML,a.toHTMLTree=m.toHTMLTree,a.renderJsonML=m.renderJsonML}(function(){return window.markdown={},window.markdown}());
!function e(t,n,i){function o(s,l){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){t.exports={debug:!0}},{}],2:[function(e,t,n){"use strict";function i(e){e._muiDropdown!==!0&&(e._muiDropdown=!0,s.on(e,"click",o))}function o(e){if(0===e.button){var t=this;null===t.getAttribute("disabled")&&(e.preventDefault(),e.stopPropagation(),r(t))}}function r(e){function t(){s.removeClass(o,u),s.off(r,"click",t)}function n(){var n=i.getBoundingClientRect(),l=e.getBoundingClientRect(),a=l.top-n.top+l.height;s.css(o,"top",a+"px"),s.addClass(o,u),s.on(r,"click",t)}var i=e.parentNode,o=e.nextElementSibling,r=i.ownerDocument;return o&&s.hasClass(o,d)?void(s.hasClass(o,u)?t():n()):l.raiseError("Dropdown menu element not found")}var s=e("./lib/jqLite.js"),l=e("./lib/util.js"),a="data-mui-toggle",c='[data-mui-toggle="dropdown"]',u="mui-open",d="mui-dropdown-menu";t.exports={initListeners:function(){for(var e=document,t=e.querySelectorAll(c),n=t.length-1;n>=0;n--)i(t[n]);l.onNodeInserted(function(e){"dropdown"===e.getAttribute(a)&&i(e)})}}},{"./lib/jqLite.js":5,"./lib/util.js":6}],3:[function(e,t,n){"use strict";function i(e){e._muiFormControl!==!0&&(e._muiFormControl=!0,e.value.length?r.addClass(e,c):r.addClass(e,a),r.on(e,"input",o),r.on(e,"focus",function(){r.addClass(this,u)}))}function o(){var e=this;e.value.length?(r.removeClass(e,a),r.addClass(e,c)):(r.removeClass(e,c),r.addClass(e,a)),r.addClass(e,u)}var r=e("../lib/jqLite.js"),s=e("../lib/util.js"),l=".mui-form-control",a="mui-empty",c="mui-not-empty",u="mui-dirty",d="mui-form-control",f="mui-form-floating-label";t.exports={initialize:i,initListeners:function(){for(var e=document,t=e.querySelectorAll(l),n=t.length-1;n>=0;n--)i(t[n]);s.onNodeInserted(function(e){("INPUT"===e.tagName||"TEXTAREA"===e.tagName)&&i(e)}),setTimeout(function(){var e="."+f+"{"+["-webkit-transition","-moz-transition","-o-transition","transition",""].join(":all .15s ease-out;")+"}";s.loadStyle(e)},150),s.supportsPointerEvents()===!1&&r.on(document,"click",function(e){var t=e.target;if("LABEL"===t.tagName&&r.hasClass(t,f)){var n=t.previousElementSibling;r.hasClass(n,d)&&n.focus()}})}}},{"../lib/jqLite.js":5,"../lib/util.js":6}],4:[function(e,t,n){"use strict";function i(e){e._muiSelect!==!0&&(e._muiSelect=!0,"ontouchstart"in h.documentElement||new o(e))}function o(e){this.selectEl=e,this.wrapperEl=e.parentNode,this.useDefault=!1,s.on(e,"mousedown",l.callback(this,"mousedownHandler")),s.on(e,"focus",l.callback(this,"focusHandler")),s.on(e,"click",l.callback(this,"clickHandler")),this.wrapperEl.tabIndex=-1;var t=l.callback(this,"wrapperFocusHandler");s.on(this.wrapperEl,"focus",t)}function r(e){this.origIndex=null,this.currentIndex=null,this.selectEl=e,this.menuEl=this._createMenuEl(e),this.clickCallbackFn=l.callback(this,"clickHandler"),this.keydownCallbackFn=l.callback(this,"keydownHandler"),this.destroyCallbackFn=l.callback(this,"destroy"),e.parentNode.appendChild(this.menuEl),setTimeout(function(){"body"!==h.activeElement.nodeName.toLowerCase()&&h.activeElement.blur()},0),s.on(this.menuEl,"click",this.clickCallbackFn),s.on(h,"keydown",this.keydownCallbackFn),s.on(m,"resize",this.destroyCallbackFn);var t=this.destroyCallbackFn;setTimeout(function(){s.on(h,"click",t)},0)}var s=e("../lib/jqLite.js"),l=e("../lib/util.js"),a="mui-select",c=".mui-select > select",u="mui-select-menu",d=42,f=8,h=document,m=window;o.prototype.mousedownHandler=function(e){0===e.button&&this.useDefault!==!0&&e.preventDefault()},o.prototype.focusHandler=function(e){if(this.useDefault!==!0){var t=this.selectEl,n=this.wrapperEl,i=t.tabIndex,o=l.callback(this,"keydownHandler");s.on(h,"keydown",o),t.tabIndex=-1,s.one(n,"blur",function(){t.tabIndex=i,s.off(h,"keydown",o)}),n.focus()}},o.prototype.keydownHandler=function(e){(32===e.keyCode||38===e.keyCode||40===e.keyCode)&&(e.preventDefault(),this.selectEl.disabled!==!0&&this.renderMenu())},o.prototype.wrapperFocusHandler=function(){return this.selectEl.disabled?this.wrapperEl.blur():void 0},o.prototype.clickHandler=function(e){0===e.button&&this.renderMenu()},o.prototype.renderMenu=function(){return this.useDefault===!0?this.useDefault=!1:void new r(this.selectEl)},r.prototype._createMenuEl=function(e){var t,n,i,o,r,l,a=h.createElement("div"),c=e.children,m=c.length,p=0,v=13;for(a.className=u,i=0;m>i;i++)t=c[i],n=h.createElement("div"),n.textContent=t.textContent,n._muiPos=i,t.selected&&(p=i),a.appendChild(n);a.children[p].setAttribute("selected",!0),this.origIndex=p,this.currentIndex=p;var b=h.documentElement.clientHeight,y=m*d+2*f;return y=Math.min(y,b),s.css(a,"height",y+"px"),v+=p*d,v=-1*v,o=-1*e.getBoundingClientRect().top,r=b-y+o,l=Math.max(v,o),l=Math.min(l,r),s.css(a,"top",l+"px"),a},r.prototype.keydownHandler=function(e){var t=e.keyCode;return 9===t?this.destroy():((27===t||40===t||38===t||13===t)&&e.preventDefault(),void(27===t?this.destroy():40===t?this.increment():38===t?this.decrement():13===t&&(this.selectCurrent(),this.destroy())))},r.prototype.clickHandler=function(e){e.stopPropagation();var t=e.target._muiPos;void 0!==t&&(this.currentIndex=t,this.selectCurrent(),this.destroy())},r.prototype.increment=function(){this.currentIndex!==this.menuEl.children.length-1&&(this.menuEl.children[this.currentIndex].removeAttribute("selected"),this.currentIndex+=1,this.menuEl.children[this.currentIndex].setAttribute("selected",!0))},r.prototype.decrement=function(){0!==this.currentIndex&&(this.menuEl.children[this.currentIndex].removeAttribute("selected"),this.currentIndex-=1,this.menuEl.children[this.currentIndex].setAttribute("selected",!0))},r.prototype.selectCurrent=function(){this.currentIndex!==this.origIndex&&(this.selectEl.children[this.origIndex].selected=!1,this.selectEl.children[this.currentIndex].selected=!0,l.dispatchEvent(this.selectEl,"change"))},r.prototype.destroy=function(){this.menuEl.parentNode.removeChild(this.menuEl),this.selectEl.focus(),s.off(this.menuEl,"click",this.clickCallbackFn),s.off(h,"keydown",this.keydownCallbackFn),s.off(h,"click",this.destroyCallbackFn),s.off(m,"resize",this.destroyCallbackFn)},t.exports={initListeners:function(){for(var e=h.querySelectorAll(c),t=e.length-1;t>=0;t--)i(e[t]);l.onNodeInserted(function(e){"SELECT"===e.tagName&&s.hasClass(e.parentNode,a)&&i(e)})}}},{"../lib/jqLite.js":5,"../lib/util.js":6}],5:[function(e,t,n){"use strict";function i(e,t){if(t&&e.setAttribute){for(var n,i=h(e),o=t.split(" "),r=0;r<o.length;r++)n=o[r].trim(),-1===i.indexOf(" "+n+" ")&&(i+=n+" ");e.setAttribute("class",i.trim())}}function o(e,t,n){if(void 0===t)return getComputedStyle(e);var i=s(t);{if("object"!==i){"string"===i&&void 0!==n&&(e.style[m(t)]=n);var o=getComputedStyle(e),r="array"===s(t);if(!r)return p(e,t,o);for(var l,a={},c=0;c<t.length;c++)l=t[c],a[l]=p(e,l,o);return a}for(var l in t)e.style[m(l)]=t[l]}}function r(e,t){return t&&e.getAttribute?h(e).indexOf(" "+t+" ")>-1:!1}function s(e){if(void 0===e)return"undefined";var t=Object.prototype.toString.call(e);if(0===t.indexOf("[object "))return t.slice(8,-1).toLowerCase();throw new Error("MUI: Could not understand type: "+t)}function l(e,t,n,i){i=void 0===i?!1:i,e.addEventListener(t,n,i);var o=e._muiEventCache=e._muiEventCache||{};o[t]=o[t]||[],o[t].push([n,i])}function a(e,t,n,i){i=void 0===i?!1:i;var o,r,s=e._muiEventCache=e._muiEventCache||{},l=s[t]||[];for(r=l.length;r--;)o=l[r],(void 0===n||o[0]===n&&o[1]===i)&&(l.splice(r,1),e.removeEventListener(t,o[0],o[1]))}function c(e,t,n,i){l(e,t,function o(i){n&&n.apply(this,arguments),a(e,t,o)},i)}function u(e){var t,n,i=window,o=document.documentElement,r=e.getBoundingClientRect();return t=(i.pageXOffset||o.scrollLeft)-(o.clientLeft||0),n=(i.pageYOffset||o.scrollTop)-(o.clientTop||0),{top:r.top+n,left:r.left+t,height:r.height,width:r.width}}function d(e){var t=!1,n=!0,i=document,o=i.defaultView,r=i.documentElement,s=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",c=function(n){("readystatechange"!=n.type||"complete"==i.readyState)&&(("load"==n.type?o:i)[l](a+n.type,c,!1),!t&&(t=!0)&&e.call(o,n.type||n))},u=function(){try{r.doScroll("left")}catch(e){return void setTimeout(u,50)}c("poll")};if("complete"==i.readyState)e.call(o,"lazy");else{if(i.createEventObject&&r.doScroll){try{n=!o.frameElement}catch(d){}n&&u()}i[s](a+"DOMContentLoaded",c,!1),i[s](a+"readystatechange",c,!1),o[s](a+"load",c,!1)}}function f(e,t){if(t&&e.setAttribute){for(var n,i=h(e),o=t.split(" "),r=0;r<o.length;r++)for(n=o[r].trim();i.indexOf(" "+n+" ")>=0;)i=i.replace(" "+n+" "," ");e.setAttribute("class",i.trim())}}function h(e){var t=(e.getAttribute("class")||"").replace(/[\n\t]/g,"");return" "+t+" "}function m(e){return e.replace(b,function(e,t,n,i){return i?n.toUpperCase():n}).replace(y,"Moz$1")}function p(e,t,n){var i;return i=n.getPropertyValue(t),""!==i||e.ownerDocument||(i=e.style[m(t)]),i}var v,b=/([\:\-\_]+(.))/g,y=/^moz([A-Z])/;v={multiple:!0,selected:!0,checked:!0,disabled:!0,readonly:!0,required:!0,open:!0},t.exports={addClass:i,css:o,hasClass:r,off:a,offset:u,on:l,one:c,ready:d,removeClass:f,type:s}},{}],6:[function(e,t,n){"use strict";function i(){if(m.debug&&"undefined"!=typeof v.console)try{v.console.log.apply(v.console,arguments)}catch(e){var t=Array.prototype.slice.call(arguments);v.console.log(t.join("\n"))}}function o(e){if(b.createStyleSheet)b.createStyleSheet().cssText=e;else{var t=b.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(b.createTextNode(e)),f.insertBefore(t,f.firstChild)}}function r(e){throw new Error("MUI: "+e)}function s(e){y.push(e),void 0===y._initialized&&(p.on(b,"animationstart",l),p.on(b,"mozAnimationStart",l),p.on(b,"webkitAnimationStart",l),y._initialized=!0)}function l(e){if("mui-node-inserted"===e.animationName)for(var t=e.target,n=y.length-1;n>=0;n--)y[n](t)}function a(e){var t="";for(var n in e)t+=e[n]?n+" ":"";return t.trim()}function c(){if(void 0!==h)return h;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",h="auto"===e.style.pointerEvents}function u(e,t){return function(){e[t].apply(e,arguments)}}function d(e,t,n,i){var o=document.createEvent("HTMLEvents"),n=void 0!==n?n:!0,i=void 0!==i?i:!0;o.initEvent(t,n,i),e.dispatchEvent(o)}var f,h,m=e("../config.js"),p=e("./jqLite.js"),v=window,b=window.document,y=[];f=b.head||b.getElementsByTagName("head")[0]||b.documentElement,t.exports={callback:u,classNames:a,dispatchEvent:d,log:i,loadStyle:o,onNodeInserted:s,raiseError:r,supportsPointerEvents:c}},{"../config.js":1,"./jqLite.js":5}],7:[function(e,t,n){!function(t){"use strict";if(!t._muiLoadedJS){t._muiLoadedJS=!0;var n=e("./lib/jqLite.js"),i=(e("./lib/util.js"),e("./forms/form-control.js")),o=e("./forms/select.js"),r=e("./ripple.js"),s=e("./dropdowns.js"),l=e("./tabs.js"),a=e("./overlay.js");t.mui={overlay:a,tabs:l.api},n.ready(function(){i.initListeners(),o.initListeners(),r.initListeners(),s.initListeners(),l.initListeners()})}}(window)},{"./dropdowns.js":2,"./forms/form-control.js":3,"./forms/select.js":4,"./lib/jqLite.js":5,"./lib/util.js":6,"./overlay.js":8,"./ripple.js":9,"./tabs.js":10}],8:[function(e,t,n){"use strict";function i(e){var t;if("on"===e){for(var n,i,s,l=arguments.length-1;l>0;l--)n=arguments[l],"object"===h.type(n)&&(i=n),n instanceof Element&&1===n.nodeType&&(s=n);i=i||{},void 0===i.keyboard&&(i.keyboard=!0),void 0===i["static"]&&(i["static"]=!1),t=o(i,s)}else"off"===e?t=r():f.raiseError("Expecting 'on' or 'off'");return t}function o(e,t){var n=document.body,i=document.getElementById(p);if(h.addClass(n,m),i){for(;i.firstChild;)i.removeChild(i.firstChild);t&&i.appendChild(t)}else i=document.createElement("div"),i.setAttribute("id",p),t&&i.appendChild(t),n.appendChild(i);return v.test(navigator.userAgent)&&h.css(i,"cursor","pointer"),e.keyboard?s():l(),e["static"]?u(i):c(i),i.muiOptions=e,i}function r(){var e,t=document.getElementById(p);if(t){for(;t.firstChild;)t.removeChild(t.firstChild);t.parentNode.removeChild(t),e=t.muiOptions.onclose}return h.removeClass(document.body,m),l(),u(t),e&&e(),t}function s(){h.on(document,"keyup",a)}function l(){h.off(document,"keyup",a)}function a(e){27===e.keyCode&&r()}function c(e){h.on(e,"click",d)}function u(e){h.off(e,"click",d)}function d(e){e.target.id===p&&r()}var f=e("./lib/util.js"),h=e("./lib/jqLite.js"),m="mui-overlay-on",p="mui-overlay",v=/(iPad|iPhone|iPod)/g;t.exports=i},{"./lib/jqLite.js":5,"./lib/util.js":6}],9:[function(e,t,n){"use strict";function i(e){e._muiRipple!==!0&&(e._muiRipple=!0,"INPUT"!==e.tagName&&(r.on(e,"touchstart",o),r.on(e,"mousedown",o)))}function o(e){if(0===e.button){var t=this;if(t.disabled!==!0&&t.touchFlag!==!0){t.touchFlag=!0,setTimeout(function(){t.touchFlag=!1},100);var n=document.createElement("div");n.className=c;var i,o,s=r.offset(t),l=e.pageX-s.left,u=e.pageY-s.top;i=r.hasClass(t,a)?s.height/2:s.height,o=i/2,r.css(n,{height:i+"px",width:i+"px",top:u-o+"px",left:l-o+"px"}),t.appendChild(n),window.setTimeout(function(){t.removeChild(n)},2e3)}}}var r=e("./lib/jqLite.js"),s=e("./lib/util.js"),l="mui-btn",a="mui-btn-floating",c="mui-ripple-effect";t.exports={initListeners:function(){for(var e=document,t=e.getElementsByClassName(l),n=t.length-1;n>=0;n--)i(t[n]);s.onNodeInserted(function(e){r.hasClass(e,l)&&i(e)})}}},{"./lib/jqLite.js":5,"./lib/util.js":6}],10:[function(e,t,n){"use strict";function i(e){e._muiTabs!==!0&&(e._muiTabs=!0,s.on(e,"click",o))}function o(e){if(0===e.button){var t=this;null===t.getAttribute("disabled")&&setTimeout(function(){e.defaultPrevented||r(t)},0)}}function r(e){var t,n,i,o,r=e.parentNode,a=e.getAttribute(u),c=document.getElementById(a);for(c||l.raiseError('Tab pane "'+a+'" not found'),t=r.parentNode.children,o=t.length-1;o>=0;o--)i=t[o],i!==r&&s.removeClass(i,d);for(n=c.parentNode.children,o=n.length-1;o>=0;o--)i=n[o],i!==c&&s.removeClass(i,d);s.addClass(r,d),s.addClass(c,d)}var s=e("./lib/jqLite.js"),l=e("./lib/util.js"),a="data-mui-toggle",c="["+a+'="tab"]',u="data-mui-controls",d="mui-active";t.exports={initListeners:function(){for(var e=document.querySelectorAll(c),t=e.length-1;t>=0;t--)i(e[t]);l.onNodeInserted(function(e){"tab"===e.getAttribute(a)&&i(e)})},api:{activate:function(e){var t="["+u+"="+e+"]",n=document.querySelectorAll(t);n.length||l.raiseError('Tab control for pane "'+e+'" not found'),r(n[0])}}}},{"./lib/jqLite.js":5,"./lib/util.js":6}]},{},[7]);
var g,aa=this;
function ba(b){var a=typeof b;if("object"==a)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return a;var c=Object.prototype.toString.call(b);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
a&&"undefined"==typeof b.call)return"object";return a}function ca(b){var a=ba(b);return"array"==a||"object"==a&&"number"==typeof b.length}function da(b){return"string"==typeof b}function ea(b){return"function"==ba(b)}var fa="closure_uid_"+(1E9*Math.random()>>>0),ha=0;function ja(b,a){var c=b.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===a?d=d[e]?d[e]:d[e]={}:d[e]=a};function ka(b,a){return-1!=b.indexOf(a)}Math.random();function la(b,a){for(var c in b)a.call(void 0,b[c],c,b)}function ma(b){var a=[],c=0,d;for(d in b)a[c++]=b[d];return a}function na(b){var a=[],c=0,d;for(d in b)a[c++]=d;return a};function oa(b,a){null!=b&&this.append.apply(this,arguments)}g=oa.prototype;g.Sb="";g.set=function(b){this.Sb=""+b};g.append=function(b,a,c){this.Sb+=b;if(null!=a)for(var d=1;d<arguments.length;d++)this.Sb+=arguments[d];return this};g.clear=function(){this.Sb=""};g.toString=function(){return this.Sb};var pa=Array.prototype,qa=pa.forEach?function(b,a,c){pa.forEach.call(b,a,c)}:function(b,a,c){for(var d=b.length,e=da(b)?b.split(""):b,f=0;f<d;f++)f in e&&a.call(c,e[f],f,b)};function ra(b){return pa.concat.apply(pa,arguments)}function ta(b){var a=b.length;if(0<a){for(var c=Array(a),d=0;d<a;d++)c[d]=b[d];return c}return[]}function ua(b,a){b.sort(a||va)}
function wa(b,a){for(var c=0;c<b.length;c++)b[c]={index:c,value:b[c]};var d=a||va;ua(b,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<b.length;c++)b[c]=b[c].value}function va(b,a){return b>a?1:b<a?-1:0};var ya;if("undefined"===typeof za)var za=function(){throw Error("No *print-fn* fn set for evaluation environment");};if("undefined"===typeof Aa)var Aa=function(){throw Error("No *print-err-fn* fn set for evaluation environment");};var Ba=null;if("undefined"===typeof Da)var Da=null;function Ea(){return new l(null,5,[Fa,!0,Ha,!0,Ja,!1,Ka,!1,Ma,null],null)}Na;function p(b){return null!=b&&!1!==b}Oa;q;function Pa(b){return null==b}function Qa(b){return b instanceof Array}
function Ra(b){return null==b?!0:!1===b?!0:!1}function Sa(b,a){return b[ba(null==a?null:a)]?!0:b._?!0:!1}function Ta(b){return null==b?null:b.constructor}function Ua(b,a){var c=Ta(a),c=p(p(c)?c.Md:c)?c.$c:ba(a);return Error(["No protocol method ",b," defined for type ",c,": ",a].join(""))}function Va(b){var a=b.$c;return p(a)?a:""+t(b)}var Wa="undefined"!==typeof Symbol&&"function"===ba(Symbol)?Symbol.iterator:"@@iterator";
function Xa(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return Array(arguments[0]);case 2:return Array(arguments[1]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Ya(b){return Array(b)}function Za(b){for(var a=b.length,c=Array(a),d=0;;)if(d<a)c[d]=b[d],d+=1;else break;return c}ab;v;
var Na=function Na(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Na.c(arguments[0]);case 2:return Na.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Na.c=function(b){return Na.b(null,b)};Na.b=function(b,a){function c(a,b){a.push(b);return a}var d=[];return v.f?v.f(c,d,a):v.call(null,c,d,a)};Na.C=2;function bb(){}function cb(){}
var db=function db(a){if(null!=a&&null!=a.R)return a.R(a);var c=db[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=db._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("ICounted.-count",a);},eb=function eb(a){if(null!=a&&null!=a.ea)return a.ea(a);var c=eb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=eb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IEmptyableCollection.-empty",a);};function gb(){}
var hb=function hb(a,c){if(null!=a&&null!=a.P)return a.P(a,c);var d=hb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=hb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("ICollection.-conj",a);};function ib(){}
var x=function x(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return x.b(arguments[0],arguments[1]);case 3:return x.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
x.b=function(b,a){if(null!=b&&null!=b.X)return b.X(b,a);var c=x[ba(null==b?null:b)];if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);c=x._;if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);throw Ua("IIndexed.-nth",b);};x.f=function(b,a,c){if(null!=b&&null!=b.Ra)return b.Ra(b,a,c);var d=x[ba(null==b?null:b)];if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);d=x._;if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);throw Ua("IIndexed.-nth",b);};x.C=3;function lb(){}
var mb=function mb(a){if(null!=a&&null!=a.ha)return a.ha(a);var c=mb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=mb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("ISeq.-first",a);},nb=function nb(a){if(null!=a&&null!=a.ra)return a.ra(a);var c=nb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=nb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("ISeq.-rest",a);};function ob(){}function pb(){}
var rb=function rb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return rb.b(arguments[0],arguments[1]);case 3:return rb.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
rb.b=function(b,a){if(null!=b&&null!=b.I)return b.I(b,a);var c=rb[ba(null==b?null:b)];if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);c=rb._;if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);throw Ua("ILookup.-lookup",b);};rb.f=function(b,a,c){if(null!=b&&null!=b.G)return b.G(b,a,c);var d=rb[ba(null==b?null:b)];if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);d=rb._;if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);throw Ua("ILookup.-lookup",b);};rb.C=3;
var sb=function sb(a,c){if(null!=a&&null!=a.$b)return a.$b(a,c);var d=sb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=sb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IAssociative.-contains-key?",a);},tb=function tb(a,c,d){if(null!=a&&null!=a.T)return a.T(a,c,d);var e=tb[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=tb._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("IAssociative.-assoc",a);};function ub(){}
var wb=function wb(a,c){if(null!=a&&null!=a.W)return a.W(a,c);var d=wb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=wb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IMap.-dissoc",a);};function xb(){}
var yb=function yb(a){if(null!=a&&null!=a.Dc)return a.Dc(a);var c=yb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=yb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IMapEntry.-key",a);},zb=function zb(a){if(null!=a&&null!=a.Ec)return a.Ec(a);var c=zb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=zb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IMapEntry.-val",a);};function Ab(){}
var Bb=function Bb(a,c){if(null!=a&&null!=a.gd)return a.gd(a,c);var d=Bb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Bb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("ISet.-disjoin",a);},Cb=function Cb(a){if(null!=a&&null!=a.Lb)return a.Lb(a);var c=Cb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Cb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IStack.-peek",a);},Db=function Db(a){if(null!=a&&null!=a.Mb)return a.Mb(a);var c=Db[ba(null==
a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Db._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IStack.-pop",a);};function Eb(){}
var Fb=function Fb(a,c,d){if(null!=a&&null!=a.cc)return a.cc(a,c,d);var e=Fb[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=Fb._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("IVector.-assoc-n",a);},Gb=function Gb(a){if(null!=a&&null!=a.pc)return a.pc(a);var c=Gb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Gb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IDeref.-deref",a);};function Hb(){}
var Ib=function Ib(a){if(null!=a&&null!=a.N)return a.N(a);var c=Ib[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Ib._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IMeta.-meta",a);};function Jb(){}var Kb=function Kb(a,c){if(null!=a&&null!=a.O)return a.O(a,c);var d=Kb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Kb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IWithMeta.-with-meta",a);};function Lb(){}
var Mb=function Mb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Mb.b(arguments[0],arguments[1]);case 3:return Mb.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
Mb.b=function(b,a){if(null!=b&&null!=b.na)return b.na(b,a);var c=Mb[ba(null==b?null:b)];if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);c=Mb._;if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);throw Ua("IReduce.-reduce",b);};Mb.f=function(b,a,c){if(null!=b&&null!=b.oa)return b.oa(b,a,c);var d=Mb[ba(null==b?null:b)];if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);d=Mb._;if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);throw Ua("IReduce.-reduce",b);};Mb.C=3;
var Nb=function Nb(a,c,d){if(null!=a&&null!=a.rc)return a.rc(a,c,d);var e=Nb[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=Nb._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("IKVReduce.-kv-reduce",a);},Ob=function Ob(a,c){if(null!=a&&null!=a.B)return a.B(a,c);var d=Ob[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Ob._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IEquiv.-equiv",a);},Qb=function Qb(a){if(null!=a&&null!=
a.L)return a.L(a);var c=Qb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Qb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IHash.-hash",a);};function Rb(){}var Sb=function Sb(a){if(null!=a&&null!=a.M)return a.M(a);var c=Sb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Sb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("ISeqable.-seq",a);};function Tb(){}function Ub(){}function Vb(){}function Wb(){}
var Xb=function Xb(a){if(null!=a&&null!=a.vb)return a.vb(a);var c=Xb[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Xb._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IReversible.-rseq",a);},Yb=function Yb(a,c){if(null!=a&&null!=a.Ld)return a.Ld(0,c);var d=Yb[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Yb._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IWriter.-write",a);},Zb=function Zb(a,c,d){if(null!=a&&null!=a.J)return a.J(a,c,d);
var e=Zb[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=Zb._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("IPrintWithWriter.-pr-writer",a);},$b=function $b(a,c,d){if(null!=a&&null!=a.jd)return a.jd(a,c,d);var e=$b[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=$b._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("IWatchable.-notify-watches",a);},ac=function ac(a,c,d){if(null!=a&&null!=a.hd)return a.hd(a,c,d);var e=
ac[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=ac._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("IWatchable.-add-watch",a);},cc=function cc(a){if(null!=a&&null!=a.qc)return a.qc(a);var c=cc[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=cc._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IEditableCollection.-as-transient",a);},dc=function dc(a,c){if(null!=a&&null!=a.bc)return a.bc(a,c);var d=dc[ba(null==a?null:a)];if(null!=d)return d.b?
d.b(a,c):d.call(null,a,c);d=dc._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("ITransientCollection.-conj!",a);},ec=function ec(a){if(null!=a&&null!=a.sc)return a.sc(a);var c=ec[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=ec._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("ITransientCollection.-persistent!",a);},fc=function fc(a,c,d){if(null!=a&&null!=a.Hc)return a.Hc(a,c,d);var e=fc[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=
fc._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("ITransientAssociative.-assoc!",a);},gc=function gc(a,c,d){if(null!=a&&null!=a.Jd)return a.Jd(0,c,d);var e=gc[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=gc._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("ITransientVector.-assoc-n!",a);};function hc(){}
var ic=function ic(a,c){if(null!=a&&null!=a.ac)return a.ac(a,c);var d=ic[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=ic._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IComparable.-compare",a);},jc=function jc(a){if(null!=a&&null!=a.Ad)return a.Ad();var c=jc[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=jc._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IChunk.-drop-first",a);},kc=function kc(a){if(null!=a&&null!=a.Xc)return a.Xc(a);
var c=kc[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=kc._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IChunkedSeq.-chunked-first",a);},lc=function lc(a){if(null!=a&&null!=a.Yc)return a.Yc(a);var c=lc[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=lc._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IChunkedSeq.-chunked-rest",a);},mc=function mc(a){if(null!=a&&null!=a.Wc)return a.Wc(a);var c=mc[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):
c.call(null,a);c=mc._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IChunkedNext.-chunked-next",a);},nc=function nc(a){if(null!=a&&null!=a.Fc)return a.Fc(a);var c=nc[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=nc._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("INamed.-name",a);},oc=function oc(a){if(null!=a&&null!=a.Gc)return a.Gc(a);var c=oc[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=oc._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("INamed.-namespace",
a);},pc=function pc(a,c){if(null!=a&&null!=a.Ed)return a.Ed(0,c);var d=pc[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=pc._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IReset.-reset!",a);},qc=function qc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return qc.b(arguments[0],arguments[1]);case 3:return qc.f(arguments[0],arguments[1],arguments[2]);case 4:return qc.A(arguments[0],arguments[1],arguments[2],
arguments[3]);case 5:return qc.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};qc.b=function(b,a){if(null!=b&&null!=b.Fd)return b.Fd(0,a);var c=qc[ba(null==b?null:b)];if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);c=qc._;if(null!=c)return c.b?c.b(b,a):c.call(null,b,a);throw Ua("ISwap.-swap!",b);};
qc.f=function(b,a,c){if(null!=b&&null!=b.Gd)return b.Gd(0,a,c);var d=qc[ba(null==b?null:b)];if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);d=qc._;if(null!=d)return d.f?d.f(b,a,c):d.call(null,b,a,c);throw Ua("ISwap.-swap!",b);};qc.A=function(b,a,c,d){if(null!=b&&null!=b.Hd)return b.Hd(0,a,c,d);var e=qc[ba(null==b?null:b)];if(null!=e)return e.A?e.A(b,a,c,d):e.call(null,b,a,c,d);e=qc._;if(null!=e)return e.A?e.A(b,a,c,d):e.call(null,b,a,c,d);throw Ua("ISwap.-swap!",b);};
qc.S=function(b,a,c,d,e){if(null!=b&&null!=b.Id)return b.Id(0,a,c,d,e);var f=qc[ba(null==b?null:b)];if(null!=f)return f.S?f.S(b,a,c,d,e):f.call(null,b,a,c,d,e);f=qc._;if(null!=f)return f.S?f.S(b,a,c,d,e):f.call(null,b,a,c,d,e);throw Ua("ISwap.-swap!",b);};qc.C=5;
var sc=function sc(a,c){if(null!=a&&null!=a.Kd)return a.Kd(0,c);var d=sc[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=sc._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IVolatile.-vreset!",a);},tc=function tc(a){if(null!=a&&null!=a.U)return a.U(a);var c=tc[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=tc._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IIterable.-iterator",a);};function uc(b){this.ve=b;this.m=1073741824;this.D=0}
uc.prototype.Ld=function(b,a){return this.ve.append(a)};function vc(b){var a=new oa;b.J(null,new uc(a),Ea());return""+t(a)}var wc="undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(b,a){return Math.imul(b,a)}:function(b,a){var c=b&65535,d=a&65535;return c*d+((b>>>16&65535)*d+c*(a>>>16&65535)<<16>>>0)|0};function xc(b){b=wc(b|0,-862048943);return wc(b<<15|b>>>-15,461845907)}function yc(b,a){var c=(b|0)^(a|0);return wc(c<<13|c>>>-13,5)+-430675100|0}
function zc(b,a){var c=(b|0)^a,c=wc(c^c>>>16,-2048144789),c=wc(c^c>>>13,-1028477387);return c^c>>>16}function Ac(b){var a;a:{a=1;for(var c=0;;)if(a<b.length){var d=a+2,c=yc(c,xc(b.charCodeAt(a-1)|b.charCodeAt(a)<<16));a=d}else{a=c;break a}}a=1===(b.length&1)?a^xc(b.charCodeAt(b.length-1)):a;return zc(a,wc(2,b.length))}Bc;y;A;Cc;var Dc={},Ec=0;
function Fc(b){if(null!=b){var a=b.length;if(0<a)for(var c=0,d=0;;)if(c<a)var e=c+1,d=wc(31,d)+b.charCodeAt(c),c=e;else return d;else return 0}else return 0}function Gc(b){255<Ec&&(Dc={},Ec=0);var a=Dc[b];"number"!==typeof a&&(a=Fc(b),Dc[b]=a,Ec+=1);return b=a}
function Hc(b){null!=b&&(b.m&4194304||b.de)?b=b.L(null):"number"===typeof b?b=Math.floor(b)%2147483647:!0===b?b=1:!1===b?b=0:"string"===typeof b?(b=Gc(b),0!==b&&(b=xc(b),b=yc(0,b),b=zc(b,4))):b=b instanceof Date?b.valueOf():null==b?0:Qb(b);return b}function Ic(b,a){return b^a+2654435769+(b<<6)+(b>>2)}function Oa(b,a){return a instanceof b}function Jc(b){return b instanceof y}
function Kc(b,a){if(b.Db===a.Db)return 0;var c=Ra(b.ns);if(p(c?a.ns:c))return-1;if(p(b.ns)){if(Ra(a.ns))return 1;c=va(b.ns,a.ns);return 0===c?va(b.name,a.name):c}return va(b.name,a.name)}B;function y(b,a,c,d,e){this.ns=b;this.name=a;this.Db=c;this.oc=d;this.Ta=e;this.m=2154168321;this.D=4096}g=y.prototype;g.toString=function(){return this.Db};g.equiv=function(b){return this.B(null,b)};g.B=function(b,a){return a instanceof y?this.Db===a.Db:!1};
g.call=function(){function b(a,b,c){return B.f?B.f(b,this,c):B.call(null,b,this,c)}function a(a,b){return B.b?B.b(b,this):B.call(null,b,this)}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return a.call(this,0,e);case 3:return b.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.b=a;c.f=b;return c}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return B.b?B.b(b,this):B.call(null,b,this)};
g.b=function(b,a){return B.f?B.f(b,this,a):B.call(null,b,this,a)};g.N=function(){return this.Ta};g.O=function(b,a){return new y(this.ns,this.name,this.Db,this.oc,a)};g.L=function(){var b=this.oc;return null!=b?b:this.oc=b=Ic(Ac(this.name),Gc(this.ns))};g.Fc=function(){return this.name};g.Gc=function(){return this.ns};g.J=function(b,a){return Yb(a,this.Db)};
var Lc=function Lc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Lc.c(arguments[0]);case 2:return Lc.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Lc.c=function(b){if(b instanceof y)return b;var a=b.indexOf("/");return-1===a?Lc.b(null,b):Lc.b(b.substring(0,a),b.substring(a+1,b.length))};Lc.b=function(b,a){var c=null!=b?[t(b),t("/"),t(a)].join(""):a;return new y(b,a,c,null,null)};
Lc.C=2;D;Mc;Nc;function E(b){if(null==b)return null;if(null!=b&&(b.m&8388608||b.fd))return b.M(null);if(Qa(b)||"string"===typeof b)return 0===b.length?null:new Nc(b,0);if(Sa(Rb,b))return Sb(b);throw Error([t(b),t(" is not ISeqable")].join(""));}function G(b){if(null==b)return null;if(null!=b&&(b.m&64||b.Ua))return b.ha(null);b=E(b);return null==b?null:mb(b)}function Pc(b){return null!=b?null!=b&&(b.m&64||b.Ua)?b.ra(null):(b=E(b))?nb(b):Qc:Qc}
function H(b){return null==b?null:null!=b&&(b.m&128||b.Zc)?b.ya(null):E(Pc(b))}var A=function A(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return A.c(arguments[0]);case 2:return A.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),A.j(arguments[0],arguments[1],c)}};A.c=function(){return!0};A.b=function(b,a){return null==b?null==a:b===a||Ob(b,a)};
A.j=function(b,a,c){for(;;)if(A.b(b,a))if(H(c))b=a,a=G(c),c=H(c);else return A.b(a,G(c));else return!1};A.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return A.j(a,b,c)};A.C=2;function Rc(b){this.Z=b}Rc.prototype.next=function(){if(null!=this.Z){var b=G(this.Z);this.Z=H(this.Z);return{value:b,done:!1}}return{value:null,done:!0}};function Sc(b){return new Rc(E(b))}Tc;function Uc(b,a,c){this.value=b;this.wc=a;this.bd=c;this.m=8388672;this.D=0}Uc.prototype.M=function(){return this};
Uc.prototype.ha=function(){return this.value};Uc.prototype.ra=function(){null==this.bd&&(this.bd=Tc.c?Tc.c(this.wc):Tc.call(null,this.wc));return this.bd};function Tc(b){var a=b.next();return p(a.done)?Qc:new Uc(a.value,b,null)}function Vc(b,a){var c=xc(b),c=yc(0,c);return zc(c,a)}function Wc(b){var a=0,c=1;for(b=E(b);;)if(null!=b)a+=1,c=wc(31,c)+Hc(G(b))|0,b=H(b);else return Vc(c,a)}var Xc=Vc(1,0);function Yc(b){var a=0,c=0;for(b=E(b);;)if(null!=b)a+=1,c=c+Hc(G(b))|0,b=H(b);else return Vc(c,a)}
var Zc=Vc(0,0);$c;Bc;ad;cb["null"]=!0;db["null"]=function(){return 0};Date.prototype.B=function(b,a){return a instanceof Date&&this.valueOf()===a.valueOf()};Date.prototype.Bc=!0;Date.prototype.ac=function(b,a){if(a instanceof Date)return va(this.valueOf(),a.valueOf());throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};Ob.number=function(b,a){return b===a};bd;bb["function"]=!0;Hb["function"]=!0;Ib["function"]=function(){return null};Qb._=function(b){return b[fa]||(b[fa]=++ha)};
function cd(b){return b+1}I;function dd(b){this.val=b;this.m=32768;this.D=0}dd.prototype.pc=function(){return this.val};function ed(b){return b instanceof dd}function I(b){return Gb(b)}function fd(b,a){var c=db(b);if(0===c)return a.H?a.H():a.call(null);for(var d=x.b(b,0),e=1;;)if(e<c){var f=x.b(b,e),d=a.b?a.b(d,f):a.call(null,d,f);if(ed(d))return Gb(d);e+=1}else return d}
function gd(b,a,c){var d=db(b),e=c;for(c=0;;)if(c<d){var f=x.b(b,c),e=a.b?a.b(e,f):a.call(null,e,f);if(ed(e))return Gb(e);c+=1}else return e}function hd(b,a){var c=b.length;if(0===b.length)return a.H?a.H():a.call(null);for(var d=b[0],e=1;;)if(e<c){var f=b[e],d=a.b?a.b(d,f):a.call(null,d,f);if(ed(d))return Gb(d);e+=1}else return d}function id(b,a,c){var d=b.length,e=c;for(c=0;;)if(c<d){var f=b[c],e=a.b?a.b(e,f):a.call(null,e,f);if(ed(e))return Gb(e);c+=1}else return e}
function jd(b,a,c,d){for(var e=b.length;;)if(d<e){var f=b[d];c=a.b?a.b(c,f):a.call(null,c,f);if(ed(c))return Gb(c);d+=1}else return c}kd;ld;md;nd;function od(b){return null!=b?b.m&2||b.Bd?!0:b.m?!1:Sa(cb,b):Sa(cb,b)}function pd(b){return null!=b?b.m&16||b.Cd?!0:b.m?!1:Sa(ib,b):Sa(ib,b)}function qd(b,a){this.l=b;this.F=a}qd.prototype.va=function(){return this.F<this.l.length};qd.prototype.next=function(){var b=this.l[this.F];this.F+=1;return b};
function Nc(b,a){this.l=b;this.F=a;this.m=166199550;this.D=8192}g=Nc.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.X=function(b,a){var c=a+this.F;return c<this.l.length?this.l[c]:null};g.Ra=function(b,a,c){b=a+this.F;return b<this.l.length?this.l[b]:c};g.U=function(){return new qd(this.l,this.F)};g.ya=function(){return this.F+1<this.l.length?new Nc(this.l,this.F+1):null};g.R=function(){var b=this.l.length-this.F;return 0>b?0:b};
g.vb=function(){var b=db(this);return 0<b?new md(this,b-1,null):null};g.L=function(){return Wc(this)};g.B=function(b,a){return ad.b?ad.b(this,a):ad.call(null,this,a)};g.ea=function(){return Qc};g.na=function(b,a){return jd(this.l,a,this.l[this.F],this.F+1)};g.oa=function(b,a,c){return jd(this.l,a,c,this.F)};g.ha=function(){return this.l[this.F]};g.ra=function(){return this.F+1<this.l.length?new Nc(this.l,this.F+1):Qc};g.M=function(){return this.F<this.l.length?this:null};
g.P=function(b,a){return ld.b?ld.b(a,this):ld.call(null,a,this)};Nc.prototype[Wa]=function(){return Sc(this)};var Mc=function Mc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Mc.c(arguments[0]);case 2:return Mc.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Mc.c=function(b){return Mc.b(b,0)};Mc.b=function(b,a){return a<b.length?new Nc(b,a):null};Mc.C=2;
var D=function D(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return D.c(arguments[0]);case 2:return D.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};D.c=function(b){return Mc.b(b,0)};D.b=function(b,a){return Mc.b(b,a)};D.C=2;bd;sd;function md(b,a,c){this.Vc=b;this.F=a;this.w=c;this.m=32374990;this.D=8192}g=md.prototype;g.toString=function(){return vc(this)};
g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.w};g.ya=function(){return 0<this.F?new md(this.Vc,this.F-1,null):null};g.R=function(){return this.F+1};g.L=function(){return Wc(this)};g.B=function(b,a){return ad.b?ad.b(this,a):ad.call(null,this,a)};g.ea=function(){var b=Qc,a=this.w;return bd.b?bd.b(b,a):bd.call(null,b,a)};g.na=function(b,a){return sd.b?sd.b(a,this):sd.call(null,a,this)};g.oa=function(b,a,c){return sd.f?sd.f(a,c,this):sd.call(null,a,c,this)};
g.ha=function(){return x.b(this.Vc,this.F)};g.ra=function(){return 0<this.F?new md(this.Vc,this.F-1,null):Qc};g.M=function(){return this};g.O=function(b,a){return new md(this.Vc,this.F,a)};g.P=function(b,a){return ld.b?ld.b(a,this):ld.call(null,a,this)};md.prototype[Wa]=function(){return Sc(this)};function td(b){return G(H(b))}function ud(b){return G(G(b))}function vd(b){for(;;){var a=H(b);if(null!=a)b=a;else return G(b)}}Ob._=function(b,a){return b===a};
var J=function J(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return J.H();case 1:return J.c(arguments[0]);case 2:return J.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),J.j(arguments[0],arguments[1],c)}};J.H=function(){return wd};J.c=function(b){return b};J.b=function(b,a){return null!=b?hb(b,a):hb(Qc,a)};J.j=function(b,a,c){for(;;)if(p(c))b=J.b(b,a),a=G(c),c=H(c);else return J.b(b,a)};
J.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return J.j(a,b,c)};J.C=2;function L(b){if(null!=b)if(null!=b&&(b.m&2||b.Bd))b=b.R(null);else if(Qa(b))b=b.length;else if("string"===typeof b)b=b.length;else if(null!=b&&(b.m&8388608||b.fd))a:{b=E(b);for(var a=0;;){if(od(b)){b=a+db(b);break a}b=H(b);a+=1}}else b=db(b);else b=0;return b}function xd(b,a){for(var c=null;;){if(null==b)return c;if(0===a)return E(b)?G(b):c;if(pd(b))return x.f(b,a,c);if(E(b)){var d=H(b),e=a-1;b=d;a=e}else return c}}
function yd(b,a){if("number"!==typeof a)throw Error("index argument to nth must be a number");if(null==b)return b;if(null!=b&&(b.m&16||b.Cd))return b.X(null,a);if(Qa(b))return a<b.length?b[a]:null;if("string"===typeof b)return a<b.length?b.charAt(a):null;if(null!=b&&(b.m&64||b.Ua)){var c;a:{c=b;for(var d=a;;){if(null==c)throw Error("Index out of bounds");if(0===d){if(E(c)){c=G(c);break a}throw Error("Index out of bounds");}if(pd(c)){c=x.b(c,d);break a}if(E(c))c=H(c),--d;else throw Error("Index out of bounds");
}}return c}if(Sa(ib,b))return x.b(b,a);throw Error([t("nth not supported on this type "),t(Va(Ta(b)))].join(""));}
function M(b,a){if("number"!==typeof a)throw Error("index argument to nth must be a number.");if(null==b)return null;if(null!=b&&(b.m&16||b.Cd))return b.Ra(null,a,null);if(Qa(b))return a<b.length?b[a]:null;if("string"===typeof b)return a<b.length?b.charAt(a):null;if(null!=b&&(b.m&64||b.Ua))return xd(b,a);if(Sa(ib,b))return x.b(b,a);throw Error([t("nth not supported on this type "),t(Va(Ta(b)))].join(""));}
var B=function B(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return B.b(arguments[0],arguments[1]);case 3:return B.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};B.b=function(b,a){return null==b?null:null!=b&&(b.m&256||b.Dd)?b.I(null,a):Qa(b)?a<b.length?b[a|0]:null:"string"===typeof b?a<b.length?b[a|0]:null:Sa(pb,b)?rb.b(b,a):null};
B.f=function(b,a,c){return null!=b?null!=b&&(b.m&256||b.Dd)?b.G(null,a,c):Qa(b)?a<b.length?b[a]:c:"string"===typeof b?a<b.length?b[a]:c:Sa(pb,b)?rb.f(b,a,c):c:c};B.C=3;zd;var O=function O(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return O.f(arguments[0],arguments[1],arguments[2]);default:return c=new Nc(c.slice(3),0),O.j(arguments[0],arguments[1],arguments[2],c)}};O.f=function(b,a,c){return null!=b?tb(b,a,c):Ad([a],[c])};
O.j=function(b,a,c,d){for(;;)if(b=O.f(b,a,c),p(d))a=G(d),c=td(d),d=H(H(d));else return b};O.K=function(b){var a=G(b),c=H(b);b=G(c);var d=H(c),c=G(d),d=H(d);return O.j(a,b,c,d)};O.C=3;var P=function P(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return P.c(arguments[0]);case 2:return P.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),P.j(arguments[0],arguments[1],c)}};P.c=function(b){return b};
P.b=function(b,a){return null==b?null:wb(b,a)};P.j=function(b,a,c){for(;;){if(null==b)return null;b=P.b(b,a);if(p(c))a=G(c),c=H(c);else return b}};P.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return P.j(a,b,c)};P.C=2;function Bd(b){var a=ea(b);return a?a:null!=b?b.$d?!0:b.wb?!1:Sa(bb,b):Sa(bb,b)}function Cd(b,a){this.o=b;this.w=a;this.m=393217;this.D=0}g=Cd.prototype;g.N=function(){return this.w};g.O=function(b,a){return new Cd(this.o,a)};g.$d=!0;
g.call=function(){function b(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q,N,ga,sa){a=this;return ab.Cc?ab.Cc(a.o,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q,N,ga,sa):ab.call(null,a.o,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q,N,ga,sa)}function a(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q,N,ga){a=this;return a.o.Ja?a.o.Ja(b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q,N,ga):a.o.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q,N,ga)}function c(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q,N){a=this;return a.o.Ia?a.o.Ia(b,c,d,e,f,h,k,m,n,r,u,w,z,C,
F,K,T,Q,N):a.o.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q,N)}function d(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q){a=this;return a.o.Ha?a.o.Ha(b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q):a.o.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T,Q)}function e(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T){a=this;return a.o.Ga?a.o.Ga(b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T):a.o.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,T)}function f(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K){a=this;return a.o.Fa?a.o.Fa(b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K):a.o.call(null,
b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K)}function h(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F){a=this;return a.o.Ea?a.o.Ea(b,c,d,e,f,h,k,m,n,r,u,w,z,C,F):a.o.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F)}function k(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C){a=this;return a.o.pa?a.o.pa(b,c,d,e,f,h,k,m,n,r,u,w,z,C):a.o.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C)}function m(a,b,c,d,e,f,h,k,m,n,r,u,w,z){a=this;return a.o.Da?a.o.Da(b,c,d,e,f,h,k,m,n,r,u,w,z):a.o.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z)}function n(a,b,c,d,e,f,h,k,m,n,r,u,w){a=this;
return a.o.Ca?a.o.Ca(b,c,d,e,f,h,k,m,n,r,u,w):a.o.call(null,b,c,d,e,f,h,k,m,n,r,u,w)}function r(a,b,c,d,e,f,h,k,m,n,r,u){a=this;return a.o.Ba?a.o.Ba(b,c,d,e,f,h,k,m,n,r,u):a.o.call(null,b,c,d,e,f,h,k,m,n,r,u)}function u(a,b,c,d,e,f,h,k,m,n,r){a=this;return a.o.ua?a.o.ua(b,c,d,e,f,h,k,m,n,r):a.o.call(null,b,c,d,e,f,h,k,m,n,r)}function w(a,b,c,d,e,f,h,k,m,n){a=this;return a.o.Ka?a.o.Ka(b,c,d,e,f,h,k,m,n):a.o.call(null,b,c,d,e,f,h,k,m,n)}function z(a,b,c,d,e,f,h,k,m){a=this;return a.o.qa?a.o.qa(b,c,
d,e,f,h,k,m):a.o.call(null,b,c,d,e,f,h,k,m)}function C(a,b,c,d,e,f,h,k){a=this;return a.o.ma?a.o.ma(b,c,d,e,f,h,k):a.o.call(null,b,c,d,e,f,h,k)}function F(a,b,c,d,e,f,h){a=this;return a.o.fa?a.o.fa(b,c,d,e,f,h):a.o.call(null,b,c,d,e,f,h)}function K(a,b,c,d,e,f){a=this;return a.o.S?a.o.S(b,c,d,e,f):a.o.call(null,b,c,d,e,f)}function Q(a,b,c,d,e){a=this;return a.o.A?a.o.A(b,c,d,e):a.o.call(null,b,c,d,e)}function T(a,b,c,d){a=this;return a.o.f?a.o.f(b,c,d):a.o.call(null,b,c,d)}function ga(a,b,c){a=this;
return a.o.b?a.o.b(b,c):a.o.call(null,b,c)}function sa(a,b){a=this;return a.o.c?a.o.c(b):a.o.call(null,b)}function Ga(a){a=this;return a.o.H?a.o.H():a.o.call(null)}var N=null,N=function(vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,N,bc,rc,Oc,rd,ce,Se,ng,Ri,uh){switch(arguments.length){case 1:return Ga.call(this,vb);case 2:return sa.call(this,vb,ia);case 3:return ga.call(this,vb,ia,xa);case 4:return T.call(this,vb,ia,xa,Ca);case 5:return Q.call(this,vb,ia,xa,Ca,Ia);case 6:return K.call(this,vb,ia,xa,Ca,Ia,
La);case 7:return F.call(this,vb,ia,xa,Ca,Ia,La,$a);case 8:return C.call(this,vb,ia,xa,Ca,Ia,La,$a,fb);case 9:return z.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb);case 10:return w.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb);case 11:return u.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb);case 12:return r.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb);case 13:return n.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,N);case 14:return m.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,N,bc);case 15:return k.call(this,
vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,N,bc,rc);case 16:return h.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,N,bc,rc,Oc);case 17:return f.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,N,bc,rc,Oc,rd);case 18:return e.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,N,bc,rc,Oc,rd,ce);case 19:return d.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,N,bc,rc,Oc,rd,ce,Se);case 20:return c.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,N,bc,rc,Oc,rd,ce,Se,ng);case 21:return a.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,
qb,jb,kb,Pb,N,bc,rc,Oc,rd,ce,Se,ng,Ri);case 22:return b.call(this,vb,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,N,bc,rc,Oc,rd,ce,Se,ng,Ri,uh)}throw Error("Invalid arity: "+arguments.length);};N.c=Ga;N.b=sa;N.f=ga;N.A=T;N.S=Q;N.fa=K;N.ma=F;N.qa=C;N.Ka=z;N.ua=w;N.Ba=u;N.Ca=r;N.Da=n;N.pa=m;N.Ea=k;N.Fa=h;N.Ga=f;N.Ha=e;N.Ia=d;N.Ja=c;N.ed=a;N.Cc=b;return N}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.H=function(){return this.o.H?this.o.H():this.o.call(null)};
g.c=function(b){return this.o.c?this.o.c(b):this.o.call(null,b)};g.b=function(b,a){return this.o.b?this.o.b(b,a):this.o.call(null,b,a)};g.f=function(b,a,c){return this.o.f?this.o.f(b,a,c):this.o.call(null,b,a,c)};g.A=function(b,a,c,d){return this.o.A?this.o.A(b,a,c,d):this.o.call(null,b,a,c,d)};g.S=function(b,a,c,d,e){return this.o.S?this.o.S(b,a,c,d,e):this.o.call(null,b,a,c,d,e)};g.fa=function(b,a,c,d,e,f){return this.o.fa?this.o.fa(b,a,c,d,e,f):this.o.call(null,b,a,c,d,e,f)};
g.ma=function(b,a,c,d,e,f,h){return this.o.ma?this.o.ma(b,a,c,d,e,f,h):this.o.call(null,b,a,c,d,e,f,h)};g.qa=function(b,a,c,d,e,f,h,k){return this.o.qa?this.o.qa(b,a,c,d,e,f,h,k):this.o.call(null,b,a,c,d,e,f,h,k)};g.Ka=function(b,a,c,d,e,f,h,k,m){return this.o.Ka?this.o.Ka(b,a,c,d,e,f,h,k,m):this.o.call(null,b,a,c,d,e,f,h,k,m)};g.ua=function(b,a,c,d,e,f,h,k,m,n){return this.o.ua?this.o.ua(b,a,c,d,e,f,h,k,m,n):this.o.call(null,b,a,c,d,e,f,h,k,m,n)};
g.Ba=function(b,a,c,d,e,f,h,k,m,n,r){return this.o.Ba?this.o.Ba(b,a,c,d,e,f,h,k,m,n,r):this.o.call(null,b,a,c,d,e,f,h,k,m,n,r)};g.Ca=function(b,a,c,d,e,f,h,k,m,n,r,u){return this.o.Ca?this.o.Ca(b,a,c,d,e,f,h,k,m,n,r,u):this.o.call(null,b,a,c,d,e,f,h,k,m,n,r,u)};g.Da=function(b,a,c,d,e,f,h,k,m,n,r,u,w){return this.o.Da?this.o.Da(b,a,c,d,e,f,h,k,m,n,r,u,w):this.o.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w)};
g.pa=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z){return this.o.pa?this.o.pa(b,a,c,d,e,f,h,k,m,n,r,u,w,z):this.o.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z)};g.Ea=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C){return this.o.Ea?this.o.Ea(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C):this.o.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C)};g.Fa=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F){return this.o.Fa?this.o.Fa(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F):this.o.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F)};
g.Ga=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K){return this.o.Ga?this.o.Ga(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K):this.o.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K)};g.Ha=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q){return this.o.Ha?this.o.Ha(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q):this.o.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q)};
g.Ia=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T){return this.o.Ia?this.o.Ia(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T):this.o.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T)};g.Ja=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga){return this.o.Ja?this.o.Ja(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga):this.o.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga)};
g.ed=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa){return ab.Cc?ab.Cc(this.o,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa):ab.call(null,this.o,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa)};function bd(b,a){return ea(b)?new Cd(b,a):null==b?null:Kb(b,a)}function Dd(b){var a=null!=b;return(a?null!=b?b.m&131072||b.ge||(b.m?0:Sa(Hb,b)):Sa(Hb,b):a)?Ib(b):null}function Ed(b){return null==b?null:Cb(b)}
var Fd=function Fd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Fd.c(arguments[0]);case 2:return Fd.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),Fd.j(arguments[0],arguments[1],c)}};Fd.c=function(b){return b};Fd.b=function(b,a){return null==b?null:Bb(b,a)};Fd.j=function(b,a,c){for(;;){if(null==b)return null;b=Fd.b(b,a);if(p(c))a=G(c),c=H(c);else return b}};
Fd.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return Fd.j(a,b,c)};Fd.C=2;function Gd(b){return null==b||Ra(E(b))}function Hd(b){return null==b?!1:null!=b?b.m&8||b.ye?!0:b.m?!1:Sa(gb,b):Sa(gb,b)}function Id(b){return null==b?!1:null!=b?b.m&4096||b.Ce?!0:b.m?!1:Sa(Ab,b):Sa(Ab,b)}function Jd(b){return null!=b?b.m&16777216||b.Be?!0:b.m?!1:Sa(Tb,b):Sa(Tb,b)}function Kd(b){return null==b?!1:null!=b?b.m&1024||b.ee?!0:b.m?!1:Sa(ub,b):Sa(ub,b)}
function Ld(b){return null!=b?b.m&67108864||b.Ae?!0:b.m?!1:Sa(Vb,b):Sa(Vb,b)}function Md(b){return null!=b?b.m&16384||b.De?!0:b.m?!1:Sa(Eb,b):Sa(Eb,b)}Nd;Od;function Pd(b){return null!=b?b.D&512||b.xe?!0:!1:!1}function Qd(b){var a=[];la(b,function(a,b){return function(a,c){return b.push(c)}}(b,a));return a}function Rd(b,a,c,d,e){for(;0!==e;)c[d]=b[a],d+=1,--e,a+=1}var Sd={};function Td(b){return null==b?!1:null!=b?b.m&64||b.Ua?!0:b.m?!1:Sa(lb,b):Sa(lb,b)}
function Ud(b){return null!=b?b.m&8388608||b.fd?!0:b.m?!1:Sa(Rb,b):Sa(Rb,b)}function Vd(b){return null==b?!1:!1===b?!1:!0}function Wd(b,a){return B.f(b,a,Sd)===Sd?!1:!0}var Xd=function Xd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Xd.c(arguments[0]);case 2:return Xd.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),Xd.j(arguments[0],arguments[1],c)}};Xd.c=function(){return!0};
Xd.b=function(b,a){return!A.b(b,a)};Xd.j=function(b,a,c){if(A.b(b,a))return!1;a:if(b=[b,a],a=b.length,a<=Yd)for(var d=0,e=cc(R);;)if(d<a)var f=d+1,e=fc(e,b[d],null),d=f;else{b=new Zd(null,ec(e),null);break a}else for(d=0,e=cc($d);;)if(d<a)f=d+1,e=dc(e,b[d]),d=f;else{b=ec(e);break a}for(a=c;;)if(d=G(a),c=H(a),p(a)){if(Wd(b,d))return!1;b=J.b(b,d);a=c}else return!0};Xd.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return Xd.j(a,b,c)};Xd.C=2;
function Cc(b,a){if(b===a)return 0;if(null==b)return-1;if(null==a)return 1;if("number"===typeof b){if("number"===typeof a)return va(b,a);throw Error([t("Cannot compare "),t(b),t(" to "),t(a)].join(""));}if(null!=b?b.D&2048||b.Bc||(b.D?0:Sa(hc,b)):Sa(hc,b))return ic(b,a);if("string"!==typeof b&&!Qa(b)&&!0!==b&&!1!==b||Ta(b)!==Ta(a))throw Error([t("Cannot compare "),t(b),t(" to "),t(a)].join(""));return va(b,a)}
function ae(b,a){var c=L(b),d=L(a);if(c<d)c=-1;else if(c>d)c=1;else if(0===c)c=0;else a:for(d=0;;){var e=Cc(yd(b,d),yd(a,d));if(0===e&&d+1<c)d+=1;else{c=e;break a}}return c}function be(b){return A.b(b,Cc)?Cc:function(a,c){var d=b.b?b.b(a,c):b.call(null,a,c);return"number"===typeof d?d:p(d)?-1:p(b.b?b.b(c,a):b.call(null,c,a))?1:0}}de;function ee(b,a){if(E(a)){var c=de.c?de.c(a):de.call(null,a),d=be(b);wa(c,d);return E(c)}return Qc}
function fe(b,a,c){return ee(function(c,e){return be(a).call(null,b.c?b.c(c):b.call(null,c),b.c?b.c(e):b.call(null,e))},c)}var sd=function sd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return sd.b(arguments[0],arguments[1]);case 3:return sd.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
sd.b=function(b,a){var c=E(a);if(c){var d=G(c),c=H(c);return v.f?v.f(b,d,c):v.call(null,b,d,c)}return b.H?b.H():b.call(null)};sd.f=function(b,a,c){for(c=E(c);;)if(c){var d=G(c);a=b.b?b.b(a,d):b.call(null,a,d);if(ed(a))return Gb(a);c=H(c)}else return a};sd.C=3;ge;
var v=function v(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return v.b(arguments[0],arguments[1]);case 3:return v.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};v.b=function(b,a){return null!=a&&(a.m&524288||a.ie)?a.na(null,b):Qa(a)?hd(a,b):"string"===typeof a?hd(a,b):Sa(Lb,a)?Mb.b(a,b):sd.b(b,a)};
v.f=function(b,a,c){return null!=c&&(c.m&524288||c.ie)?c.oa(null,b,a):Qa(c)?id(c,b,a):"string"===typeof c?id(c,b,a):Sa(Lb,c)?Mb.f(c,b,a):sd.f(b,a,c)};v.C=3;function he(b,a,c){return null!=c?Nb(c,b,a):a}function ie(b){return b}function je(b,a,c,d){b=b.c?b.c(a):b.call(null,a);c=v.f(b,c,d);return b.c?b.c(c):b.call(null,c)}
var ke=function ke(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return ke.H();case 1:return ke.c(arguments[0]);case 2:return ke.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),ke.j(arguments[0],arguments[1],c)}};ke.H=function(){return 0};ke.c=function(b){return b};ke.b=function(b,a){return b+a};ke.j=function(b,a,c){return v.f(ke,b+a,c)};ke.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return ke.j(a,b,c)};ke.C=2;
var le=function le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return le.c(arguments[0]);case 2:return le.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),le.j(arguments[0],arguments[1],c)}};le.c=function(b){return-b};le.b=function(b,a){return b-a};le.j=function(b,a,c){return v.f(le,b-a,c)};le.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return le.j(a,b,c)};le.C=2;
var me=function me(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return me.H();case 1:return me.c(arguments[0]);case 2:return me.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),me.j(arguments[0],arguments[1],c)}};me.H=function(){return 1};me.c=function(b){return b};me.b=function(b,a){return b*a};me.j=function(b,a,c){return v.f(me,b*a,c)};me.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return me.j(a,b,c)};me.C=2;({}).Fe;
var ne=function ne(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return ne.c(arguments[0]);case 2:return ne.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),ne.j(arguments[0],arguments[1],c)}};ne.c=function(b){return 1/b};ne.b=function(b,a){return b/a};ne.j=function(b,a,c){return v.f(ne,b/a,c)};ne.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return ne.j(a,b,c)};ne.C=2;
var oe=function oe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return oe.c(arguments[0]);case 2:return oe.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),oe.j(arguments[0],arguments[1],c)}};oe.c=function(){return!0};oe.b=function(b,a){return b<a};oe.j=function(b,a,c){for(;;)if(b<a)if(H(c))b=a,a=G(c),c=H(c);else return a<G(c);else return!1};oe.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return oe.j(a,b,c)};oe.C=2;
var pe=function pe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return pe.c(arguments[0]);case 2:return pe.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),pe.j(arguments[0],arguments[1],c)}};pe.c=function(){return!0};pe.b=function(b,a){return b<=a};pe.j=function(b,a,c){for(;;)if(b<=a)if(H(c))b=a,a=G(c),c=H(c);else return a<=G(c);else return!1};pe.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return pe.j(a,b,c)};
pe.C=2;var qe=function qe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return qe.c(arguments[0]);case 2:return qe.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),qe.j(arguments[0],arguments[1],c)}};qe.c=function(){return!0};qe.b=function(b,a){return b>a};qe.j=function(b,a,c){for(;;)if(b>a)if(H(c))b=a,a=G(c),c=H(c);else return a>G(c);else return!1};qe.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return qe.j(a,b,c)};
qe.C=2;var re=function re(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return re.c(arguments[0]);case 2:return re.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),re.j(arguments[0],arguments[1],c)}};re.c=function(){return!0};re.b=function(b,a){return b>=a};re.j=function(b,a,c){for(;;)if(b>=a)if(H(c))b=a,a=G(c),c=H(c);else return a>=G(c);else return!1};
re.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return re.j(a,b,c)};re.C=2;var se=function se(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return se.c(arguments[0]);case 2:return se.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),se.j(arguments[0],arguments[1],c)}};se.c=function(b){return b};se.b=function(b,a){return b>a?b:a};se.j=function(b,a,c){return v.f(se,b>a?b:a,c)};
se.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return se.j(a,b,c)};se.C=2;var te=function te(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return te.c(arguments[0]);case 2:return te.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),te.j(arguments[0],arguments[1],c)}};te.c=function(b){return b};te.b=function(b,a){return b<a?b:a};te.j=function(b,a,c){return v.f(te,b<a?b:a,c)};
te.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return te.j(a,b,c)};te.C=2;ue;function we(b){return 0<=b?Math.floor(b):Math.ceil(b)}function ue(b,a){return(b%a+a)%a}function xe(b,a){return we((b-b%a)/a)}function ye(b){b-=b>>1&1431655765;b=(b&858993459)+(b>>2&858993459);return 16843009*(b+(b>>4)&252645135)>>24}
var ze=function ze(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return ze.c(arguments[0]);case 2:return ze.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),ze.j(arguments[0],arguments[1],c)}};ze.c=function(){return!0};ze.b=function(b,a){return Ob(b,a)};ze.j=function(b,a,c){for(;;)if(b===a)if(H(c))b=a,a=G(c),c=H(c);else return a===G(c);else return!1};ze.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return ze.j(a,b,c)};
ze.C=2;function Ae(b){return 0>b}function Be(b,a){for(var c=a,d=E(b);;)if(d&&0<c)--c,d=H(d);else return d}var t=function t(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return t.H();case 1:return t.c(arguments[0]);default:return c=new Nc(c.slice(1),0),t.j(arguments[0],c)}};t.H=function(){return""};t.c=function(b){return null==b?"":""+b};t.j=function(b,a){for(var c=new oa(""+t(b)),d=a;;)if(p(d))c=c.append(""+t(G(d))),d=H(d);else return c.toString()};
t.K=function(b){var a=G(b);b=H(b);return t.j(a,b)};t.C=1;function Ce(b,a){return b.substring(a)}De;Ee;function ad(b,a){var c;if(Jd(a))if(od(b)&&od(a)&&L(b)!==L(a))c=!1;else a:{c=E(b);for(var d=E(a);;){if(null==c){c=null==d;break a}if(null!=d&&A.b(G(c),G(d)))c=H(c),d=H(d);else{c=!1;break a}}}else c=null;return Vd(c)}function kd(b){if(E(b)){var a=Hc(G(b));for(b=H(b);;){if(null==b)return a;a=Ic(a,Hc(G(b)));b=H(b)}}else return 0}Fe;Ge;
function He(b){var a=0;for(b=E(b);;)if(b){var c=G(b),a=(a+(Hc(Fe.c?Fe.c(c):Fe.call(null,c))^Hc(Ge.c?Ge.c(c):Ge.call(null,c))))%4503599627370496;b=H(b)}else return a}Ee;Ie;Je;function nd(b,a,c,d,e){this.w=b;this.first=a;this.Sa=c;this.count=d;this.i=e;this.m=65937646;this.D=8192}g=nd.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.w};g.ya=function(){return 1===this.count?null:this.Sa};g.R=function(){return this.count};g.Lb=function(){return this.first};
g.Mb=function(){return nb(this)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return Kb(Qc,this.w)};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};g.ha=function(){return this.first};g.ra=function(){return 1===this.count?Qc:this.Sa};g.M=function(){return this};g.O=function(b,a){return new nd(a,this.first,this.Sa,this.count,this.i)};
g.P=function(b,a){return new nd(this.w,a,this,this.count+1,null)};function Ke(b){return null!=b?b.m&33554432||b.ze?!0:b.m?!1:Sa(Ub,b):Sa(Ub,b)}nd.prototype[Wa]=function(){return Sc(this)};function Le(b){this.w=b;this.m=65937614;this.D=8192}g=Le.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.w};g.ya=function(){return null};g.R=function(){return 0};g.Lb=function(){return null};
g.Mb=function(){throw Error("Can't pop empty list");};g.L=function(){return Xc};g.B=function(b,a){return Ke(a)||Jd(a)?null==E(a):!1};g.ea=function(){return this};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};g.ha=function(){return null};g.ra=function(){return Qc};g.M=function(){return null};g.O=function(b,a){return new Le(a)};g.P=function(b,a){return new nd(this.w,a,null,1,null)};var Qc=new Le(null);Le.prototype[Wa]=function(){return Sc(this)};
function Me(b){return(null!=b?b.m&134217728||b.je||(b.m?0:Sa(Wb,b)):Sa(Wb,b))?Xb(b):v.f(J,Qc,b)}var Bc=function Bc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Nc(c.slice(0),0):null;return Bc.j(c)};Bc.j=function(b){var a;if(b instanceof Nc&&0===b.F)a=b.l;else a:for(a=[];;)if(null!=b)a.push(b.ha(null)),b=b.ya(null);else break a;b=a.length;for(var c=Qc;;)if(0<b){var d=b-1,c=c.P(null,a[b-1]);b=d}else return c};Bc.C=0;Bc.K=function(b){return Bc.j(E(b))};
function Ne(b,a,c,d){this.w=b;this.first=a;this.Sa=c;this.i=d;this.m=65929452;this.D=8192}g=Ne.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.w};g.ya=function(){return null==this.Sa?null:E(this.Sa)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Qc,this.w)};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};g.ha=function(){return this.first};
g.ra=function(){return null==this.Sa?Qc:this.Sa};g.M=function(){return this};g.O=function(b,a){return new Ne(a,this.first,this.Sa,this.i)};g.P=function(b,a){return new Ne(null,a,this,this.i)};Ne.prototype[Wa]=function(){return Sc(this)};function ld(b,a){var c=null==a;return(c?c:null!=a&&(a.m&64||a.Ua))?new Ne(null,b,a,null):new Ne(null,b,E(a),null)}
function Oe(b,a){if(b.V===a.V)return 0;var c=Ra(b.ns);if(p(c?a.ns:c))return-1;if(p(b.ns)){if(Ra(a.ns))return 1;c=va(b.ns,a.ns);return 0===c?va(b.name,a.name):c}return va(b.name,a.name)}function q(b,a,c,d){this.ns=b;this.name=a;this.V=c;this.oc=d;this.m=2153775105;this.D=4096}g=q.prototype;g.toString=function(){return[t(":"),t(this.V)].join("")};g.equiv=function(b){return this.B(null,b)};g.B=function(b,a){return a instanceof q?this.V===a.V:!1};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return B.b(b,this);case 3:return B.f(b,this,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return B.b(b,this)};b.f=function(a,b,d){return B.f(b,this,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return B.b(b,this)};g.b=function(b,a){return B.f(b,this,a)};
g.L=function(){var b=this.oc;return null!=b?b:this.oc=b=Ic(Ac(this.name),Gc(this.ns))+2654435769|0};g.Fc=function(){return this.name};g.Gc=function(){return this.ns};g.J=function(b,a){return Yb(a,[t(":"),t(this.V)].join(""))};function S(b,a){return b===a?!0:b instanceof q&&a instanceof q?b.V===a.V:!1}function Pe(b){if(null!=b&&(b.D&4096||b.he))return b.Gc(null);throw Error([t("Doesn't support namespace: "),t(b)].join(""));}
var Qe=function Qe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Qe.c(arguments[0]);case 2:return Qe.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Qe.c=function(b){if(b instanceof q)return b;if(b instanceof y)return new q(Pe(b),Ee.c?Ee.c(b):Ee.call(null,b),b.Db,null);if("string"===typeof b){var a=b.split("/");return 2===a.length?new q(a[0],a[1],b,null):new q(null,a[0],b,null)}return null};
Qe.b=function(b,a){return new q(b,a,[t(p(b)?[t(b),t("/")].join(""):null),t(a)].join(""),null)};Qe.C=2;function Re(b,a,c,d){this.w=b;this.fn=a;this.Z=c;this.i=d;this.m=32374988;this.D=0}g=Re.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};function Te(b){null!=b.fn&&(b.Z=b.fn.H?b.fn.H():b.fn.call(null),b.fn=null);return b.Z}g.N=function(){return this.w};g.ya=function(){Sb(this);return null==this.Z?null:H(this.Z)};
g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Qc,this.w)};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};g.ha=function(){Sb(this);return null==this.Z?null:G(this.Z)};g.ra=function(){Sb(this);return null!=this.Z?Pc(this.Z):Qc};g.M=function(){Te(this);if(null==this.Z)return null;for(var b=this.Z;;)if(b instanceof Re)b=Te(b);else return this.Z=b,E(this.Z)};
g.O=function(b,a){return new Re(a,this.fn,this.Z,this.i)};g.P=function(b,a){return ld(a,this)};Re.prototype[Wa]=function(){return Sc(this)};Ue;function Ve(b,a){this.dd=b;this.end=a;this.m=2;this.D=0}Ve.prototype.add=function(b){this.dd[this.end]=b;return this.end+=1};Ve.prototype.ba=function(){var b=new Ue(this.dd,0,this.end);this.dd=null;return b};Ve.prototype.R=function(){return this.end};function We(b){return new Ve(Array(b),0)}
function Ue(b,a,c){this.l=b;this.off=a;this.end=c;this.m=524306;this.D=0}g=Ue.prototype;g.R=function(){return this.end-this.off};g.X=function(b,a){return this.l[this.off+a]};g.Ra=function(b,a,c){return 0<=a&&a<this.end-this.off?this.l[this.off+a]:c};g.Ad=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Ue(this.l,this.off+1,this.end)};g.na=function(b,a){return jd(this.l,a,this.l[this.off],this.off+1)};g.oa=function(b,a,c){return jd(this.l,a,c,this.off)};
function Nd(b,a,c,d){this.ba=b;this.zb=a;this.w=c;this.i=d;this.m=31850732;this.D=1536}g=Nd.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.w};g.ya=function(){if(1<db(this.ba))return new Nd(jc(this.ba),this.zb,this.w,null);var b=Sb(this.zb);return null==b?null:b};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Qc,this.w)};
g.ha=function(){return x.b(this.ba,0)};g.ra=function(){return 1<db(this.ba)?new Nd(jc(this.ba),this.zb,this.w,null):null==this.zb?Qc:this.zb};g.M=function(){return this};g.Xc=function(){return this.ba};g.Yc=function(){return null==this.zb?Qc:this.zb};g.O=function(b,a){return new Nd(this.ba,this.zb,a,this.i)};g.P=function(b,a){return ld(a,this)};g.Wc=function(){return null==this.zb?null:this.zb};Nd.prototype[Wa]=function(){return Sc(this)};
function Xe(b,a){return 0===db(b)?a:new Nd(b,a,null,null)}function Ye(b,a){b.add(a)}function Ie(b){return kc(b)}function Je(b){return lc(b)}function de(b){for(var a=[];;)if(E(b))a.push(G(b)),b=H(b);else return a}function Ze(b,a){if(od(b))return L(b);for(var c=b,d=a,e=0;;)if(0<d&&E(c))c=H(c),--d,e+=1;else return e}
var $e=function $e(a){return null==a?null:null==H(a)?E(G(a)):ld(G(a),$e(H(a)))},U=function U(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return U.H();case 1:return U.c(arguments[0]);case 2:return U.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),U.j(arguments[0],arguments[1],c)}};U.H=function(){return new Re(null,function(){return null},null,null)};U.c=function(b){return new Re(null,function(){return b},null,null)};
U.b=function(b,a){return new Re(null,function(){var c=E(b);return c?Pd(c)?Xe(kc(c),U.b(lc(c),a)):ld(G(c),U.b(Pc(c),a)):a},null,null)};U.j=function(b,a,c){return function e(a,b){return new Re(null,function(){var c=E(a);return c?Pd(c)?Xe(kc(c),e(lc(c),b)):ld(G(c),e(Pc(c),b)):p(b)?e(G(b),H(b)):null},null,null)}(U.b(b,a),c)};U.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return U.j(a,b,c)};U.C=2;function af(b){return E(b)}function bf(b){return cc(b)}function cf(b){return ec(b)}
var df=function df(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return df.H();case 1:return df.c(arguments[0]);case 2:return df.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),df.j(arguments[0],arguments[1],c)}};df.H=function(){return cc(wd)};df.c=function(b){return b};df.b=function(b,a){return dc(b,a)};df.j=function(b,a,c){for(;;)if(b=dc(b,a),p(c))a=G(c),c=H(c);else return b};
df.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return df.j(a,b,c)};df.C=2;var ef=function ef(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return ef.f(arguments[0],arguments[1],arguments[2]);default:return c=new Nc(c.slice(3),0),ef.j(arguments[0],arguments[1],arguments[2],c)}};ef.f=function(b,a,c){return fc(b,a,c)};ef.j=function(b,a,c,d){for(;;)if(b=fc(b,a,c),p(d))a=G(d),c=td(d),d=H(H(d));else return b};
ef.K=function(b){var a=G(b),c=H(b);b=G(c);var d=H(c),c=G(d),d=H(d);return ef.j(a,b,c,d)};ef.C=3;
function ff(b,a,c){var d=E(c);if(0===a)return b.H?b.H():b.call(null);c=mb(d);var e=nb(d);if(1===a)return b.c?b.c(c):b.c?b.c(c):b.call(null,c);var d=mb(e),f=nb(e);if(2===a)return b.b?b.b(c,d):b.b?b.b(c,d):b.call(null,c,d);var e=mb(f),h=nb(f);if(3===a)return b.f?b.f(c,d,e):b.f?b.f(c,d,e):b.call(null,c,d,e);var f=mb(h),k=nb(h);if(4===a)return b.A?b.A(c,d,e,f):b.A?b.A(c,d,e,f):b.call(null,c,d,e,f);var h=mb(k),m=nb(k);if(5===a)return b.S?b.S(c,d,e,f,h):b.S?b.S(c,d,e,f,h):b.call(null,c,d,e,f,h);var k=mb(m),
n=nb(m);if(6===a)return b.fa?b.fa(c,d,e,f,h,k):b.fa?b.fa(c,d,e,f,h,k):b.call(null,c,d,e,f,h,k);var m=mb(n),r=nb(n);if(7===a)return b.ma?b.ma(c,d,e,f,h,k,m):b.ma?b.ma(c,d,e,f,h,k,m):b.call(null,c,d,e,f,h,k,m);var n=mb(r),u=nb(r);if(8===a)return b.qa?b.qa(c,d,e,f,h,k,m,n):b.qa?b.qa(c,d,e,f,h,k,m,n):b.call(null,c,d,e,f,h,k,m,n);var r=mb(u),w=nb(u);if(9===a)return b.Ka?b.Ka(c,d,e,f,h,k,m,n,r):b.Ka?b.Ka(c,d,e,f,h,k,m,n,r):b.call(null,c,d,e,f,h,k,m,n,r);var u=mb(w),z=nb(w);if(10===a)return b.ua?b.ua(c,
d,e,f,h,k,m,n,r,u):b.ua?b.ua(c,d,e,f,h,k,m,n,r,u):b.call(null,c,d,e,f,h,k,m,n,r,u);var w=mb(z),C=nb(z);if(11===a)return b.Ba?b.Ba(c,d,e,f,h,k,m,n,r,u,w):b.Ba?b.Ba(c,d,e,f,h,k,m,n,r,u,w):b.call(null,c,d,e,f,h,k,m,n,r,u,w);var z=mb(C),F=nb(C);if(12===a)return b.Ca?b.Ca(c,d,e,f,h,k,m,n,r,u,w,z):b.Ca?b.Ca(c,d,e,f,h,k,m,n,r,u,w,z):b.call(null,c,d,e,f,h,k,m,n,r,u,w,z);var C=mb(F),K=nb(F);if(13===a)return b.Da?b.Da(c,d,e,f,h,k,m,n,r,u,w,z,C):b.Da?b.Da(c,d,e,f,h,k,m,n,r,u,w,z,C):b.call(null,c,d,e,f,h,k,m,
n,r,u,w,z,C);var F=mb(K),Q=nb(K);if(14===a)return b.pa?b.pa(c,d,e,f,h,k,m,n,r,u,w,z,C,F):b.pa?b.pa(c,d,e,f,h,k,m,n,r,u,w,z,C,F):b.call(null,c,d,e,f,h,k,m,n,r,u,w,z,C,F);var K=mb(Q),T=nb(Q);if(15===a)return b.Ea?b.Ea(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K):b.Ea?b.Ea(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K):b.call(null,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K);var Q=mb(T),ga=nb(T);if(16===a)return b.Fa?b.Fa(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q):b.Fa?b.Fa(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q):b.call(null,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q);var T=
mb(ga),sa=nb(ga);if(17===a)return b.Ga?b.Ga(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T):b.Ga?b.Ga(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T):b.call(null,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T);var ga=mb(sa),Ga=nb(sa);if(18===a)return b.Ha?b.Ha(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga):b.Ha?b.Ha(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga):b.call(null,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga);sa=mb(Ga);Ga=nb(Ga);if(19===a)return b.Ia?b.Ia(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa):b.Ia?b.Ia(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa):b.call(null,
c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa);var N=mb(Ga);nb(Ga);if(20===a)return b.Ja?b.Ja(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa,N):b.Ja?b.Ja(c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa,N):b.call(null,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa,N);throw Error("Only up to 20 arguments supported on functions");}
var ab=function ab(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return ab.b(arguments[0],arguments[1]);case 3:return ab.f(arguments[0],arguments[1],arguments[2]);case 4:return ab.A(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ab.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:return c=new Nc(c.slice(5),0),ab.j(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],c)}};
ab.b=function(b,a){var c=b.C;if(b.K){var d=Ze(a,c+1);return d<=c?ff(b,d,a):b.K(a)}return b.apply(b,de(a))};ab.f=function(b,a,c){a=ld(a,c);c=b.C;if(b.K){var d=Ze(a,c+1);return d<=c?ff(b,d,a):b.K(a)}return b.apply(b,de(a))};ab.A=function(b,a,c,d){a=ld(a,ld(c,d));c=b.C;return b.K?(d=Ze(a,c+1),d<=c?ff(b,d,a):b.K(a)):b.apply(b,de(a))};ab.S=function(b,a,c,d,e){a=ld(a,ld(c,ld(d,e)));c=b.C;return b.K?(d=Ze(a,c+1),d<=c?ff(b,d,a):b.K(a)):b.apply(b,de(a))};
ab.j=function(b,a,c,d,e,f){a=ld(a,ld(c,ld(d,ld(e,$e(f)))));c=b.C;return b.K?(d=Ze(a,c+1),d<=c?ff(b,d,a):b.K(a)):b.apply(b,de(a))};ab.K=function(b){var a=G(b),c=H(b);b=G(c);var d=H(c),c=G(d),e=H(d),d=G(e),f=H(e),e=G(f),f=H(f);return ab.j(a,b,c,d,e,f)};ab.C=5;
var gf=function gf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return gf.c(arguments[0]);case 2:return gf.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),gf.j(arguments[0],arguments[1],c)}};gf.c=function(){return!1};gf.b=function(b,a){return!A.b(b,a)};gf.j=function(b,a,c){return Ra(ab.A(A,b,a,c))};gf.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return gf.j(a,b,c)};gf.C=2;function hf(b){return E(b)?b:null}
var jf=function jf(){"undefined"===typeof ya&&(ya=function(a,c){this.re=a;this.qe=c;this.m=393216;this.D=0},ya.prototype.O=function(a,c){return new ya(this.re,c)},ya.prototype.N=function(){return this.qe},ya.prototype.va=function(){return!1},ya.prototype.next=function(){return Error("No such element")},ya.prototype.remove=function(){return Error("Unsupported operation")},ya.Ge=function(){return new V(null,2,5,W,[bd(kf,new l(null,1,[lf,Bc(mf,Bc(wd))],null)),nf],null)},ya.Md=!0,ya.$c="cljs.core/t_cljs$core13479",
ya.ke=function(a){return Yb(a,"cljs.core/t_cljs$core13479")});return new ya(jf,R)};of;function of(b,a,c,d){this.zc=b;this.first=a;this.Sa=c;this.w=d;this.m=31719628;this.D=0}g=of.prototype;g.O=function(b,a){return new of(this.zc,this.first,this.Sa,a)};g.P=function(b,a){return ld(a,Sb(this))};g.ea=function(){return Qc};g.B=function(b,a){return null!=Sb(this)?ad(this,a):Jd(a)&&null==E(a)};g.L=function(){return Wc(this)};g.M=function(){null!=this.zc&&this.zc.step(this);return null==this.Sa?null:this};
g.ha=function(){null!=this.zc&&Sb(this);return null==this.Sa?null:this.first};g.ra=function(){null!=this.zc&&Sb(this);return null==this.Sa?Qc:this.Sa};g.ya=function(){null!=this.zc&&Sb(this);return null==this.Sa?null:Sb(this.Sa)};of.prototype[Wa]=function(){return Sc(this)};function pf(b,a){for(;;){if(null==E(a))return!0;var c;c=G(a);c=b.c?b.c(c):b.call(null,c);if(p(c)){c=b;var d=H(a);b=c;a=d}else return!1}}
function qf(b,a){for(;;)if(E(a)){var c;c=G(a);c=b.c?b.c(c):b.call(null,c);if(p(c))return c;c=b;var d=H(a);b=c;a=d}else return null}function rf(b){if("number"===typeof b&&!isNaN(b)&&Infinity!==b&&parseFloat(b)===parseInt(b,10))return 0===(b&1);throw Error([t("Argument must be an integer: "),t(b)].join(""));}function sf(b){return!rf(b)}
function tf(b){return function(){function a(a,c){return Ra(b.b?b.b(a,c):b.call(null,a,c))}function c(a){return Ra(b.c?b.c(a):b.call(null,a))}function d(){return Ra(b.H?b.H():b.call(null))}var e=null,f=function(){function a(b,d,e){var f=null;if(2<arguments.length){for(var f=0,h=Array(arguments.length-2);f<h.length;)h[f]=arguments[f+2],++f;f=new Nc(h,0)}return c.call(this,b,d,f)}function c(a,d,e){return Ra(ab.A(b,a,d,e))}a.C=2;a.K=function(a){var b=G(a);a=H(a);var d=G(a);a=Pc(a);return c(b,d,a)};a.j=
c;return a}(),e=function(b,e,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,b);case 2:return a.call(this,b,e);default:var n=null;if(2<arguments.length){for(var n=0,r=Array(arguments.length-2);n<r.length;)r[n]=arguments[n+2],++n;n=new Nc(r,0)}return f.j(b,e,n)}throw Error("Invalid arity: "+arguments.length);};e.C=2;e.K=f.K;e.H=d;e.c=c;e.b=a;e.j=f.j;return e}()}
var uf=function uf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return uf.H();case 1:return uf.c(arguments[0]);case 2:return uf.b(arguments[0],arguments[1]);case 3:return uf.f(arguments[0],arguments[1],arguments[2]);default:return c=new Nc(c.slice(3),0),uf.j(arguments[0],arguments[1],arguments[2],c)}};uf.H=function(){return ie};uf.c=function(b){return b};
uf.b=function(b,a){return function(){function c(c,d,e){c=a.f?a.f(c,d,e):a.call(null,c,d,e);return b.c?b.c(c):b.call(null,c)}function d(c,d){var e=a.b?a.b(c,d):a.call(null,c,d);return b.c?b.c(e):b.call(null,e)}function e(c){c=a.c?a.c(c):a.call(null,c);return b.c?b.c(c):b.call(null,c)}function f(){var c=a.H?a.H():a.call(null);return b.c?b.c(c):b.call(null,c)}var h=null,k=function(){function c(a,b,e,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+
3],++h;h=new Nc(k,0)}return d.call(this,a,b,e,h)}function d(c,e,f,h){c=ab.S(a,c,e,f,h);return b.c?b.c(c):b.call(null,c)}c.C=3;c.K=function(a){var b=G(a);a=H(a);var c=G(a);a=H(a);var e=G(a);a=Pc(a);return d(b,c,e,a)};c.j=d;return c}(),h=function(a,b,h,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,h);default:var w=null;if(3<arguments.length){for(var w=0,z=Array(arguments.length-3);w<z.length;)z[w]=arguments[w+
3],++w;w=new Nc(z,0)}return k.j(a,b,h,w)}throw Error("Invalid arity: "+arguments.length);};h.C=3;h.K=k.K;h.H=f;h.c=e;h.b=d;h.f=c;h.j=k.j;return h}()};
uf.f=function(b,a,c){return function(){function d(d,e,f){d=c.f?c.f(d,e,f):c.call(null,d,e,f);d=a.c?a.c(d):a.call(null,d);return b.c?b.c(d):b.call(null,d)}function e(d,e){var f;f=c.b?c.b(d,e):c.call(null,d,e);f=a.c?a.c(f):a.call(null,f);return b.c?b.c(f):b.call(null,f)}function f(d){d=c.c?c.c(d):c.call(null,d);d=a.c?a.c(d):a.call(null,d);return b.c?b.c(d):b.call(null,d)}function h(){var d;d=c.H?c.H():c.call(null);d=a.c?a.c(d):a.call(null,d);return b.c?b.c(d):b.call(null,d)}var k=null,m=function(){function d(a,
b,c,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new Nc(k,0)}return e.call(this,a,b,c,h)}function e(d,f,h,k){d=ab.S(c,d,f,h,k);d=a.c?a.c(d):a.call(null,d);return b.c?b.c(d):b.call(null,d)}d.C=3;d.K=function(a){var b=G(a);a=H(a);var c=G(a);a=H(a);var d=G(a);a=Pc(a);return e(b,c,d,a)};d.j=e;return d}(),k=function(a,b,c,k){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,a);case 2:return e.call(this,a,
b);case 3:return d.call(this,a,b,c);default:var z=null;if(3<arguments.length){for(var z=0,C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new Nc(C,0)}return m.j(a,b,c,z)}throw Error("Invalid arity: "+arguments.length);};k.C=3;k.K=m.K;k.H=h;k.c=f;k.b=e;k.f=d;k.j=m.j;return k}()};
uf.j=function(b,a,c,d){return function(a){return function(){function b(a){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new Nc(e,0)}return c.call(this,d)}function c(b){b=ab.b(G(a),b);for(var d=H(a);;)if(d)b=G(d).call(null,b),d=H(d);else return b}b.C=0;b.K=function(a){a=E(a);return c(a)};b.j=c;return b}()}(Me(ld(b,ld(a,ld(c,d)))))};uf.K=function(b){var a=G(b),c=H(b);b=G(c);var d=H(c),c=G(d),d=H(d);return uf.j(a,b,c,d)};uf.C=3;
function vf(b,a){return function(){function c(c,d,e){return b.A?b.A(a,c,d,e):b.call(null,a,c,d,e)}function d(c,d){return b.f?b.f(a,c,d):b.call(null,a,c,d)}function e(c){return b.b?b.b(a,c):b.call(null,a,c)}function f(){return b.c?b.c(a):b.call(null,a)}var h=null,k=function(){function c(a,b,e,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new Nc(k,0)}return d.call(this,a,b,e,h)}function d(c,e,f,h){return ab.j(b,a,c,e,f,D([h],0))}c.C=
3;c.K=function(a){var b=G(a);a=H(a);var c=G(a);a=H(a);var e=G(a);a=Pc(a);return d(b,c,e,a)};c.j=d;return c}(),h=function(a,b,h,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,h);default:var w=null;if(3<arguments.length){for(var w=0,z=Array(arguments.length-3);w<z.length;)z[w]=arguments[w+3],++w;w=new Nc(z,0)}return k.j(a,b,h,w)}throw Error("Invalid arity: "+arguments.length);};h.C=3;h.K=k.K;h.H=f;h.c=
e;h.b=d;h.f=c;h.j=k.j;return h}()}
function wf(b,a){return function(){function c(c,d,e){c=null==c?a:c;return b.f?b.f(c,d,e):b.call(null,c,d,e)}function d(c,d){var e=null==c?a:c;return b.b?b.b(e,d):b.call(null,e,d)}function e(c){c=null==c?a:c;return b.c?b.c(c):b.call(null,c)}var f=null,h=function(){function c(a,b,e,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new Nc(k,0)}return d.call(this,a,b,e,h)}function d(c,e,f,h){return ab.S(b,null==c?a:c,e,f,h)}c.C=3;c.K=function(a){var b=
G(a);a=H(a);var c=G(a);a=H(a);var e=G(a);a=Pc(a);return d(b,c,e,a)};c.j=d;return c}(),f=function(a,b,f,r){switch(arguments.length){case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,f);default:var u=null;if(3<arguments.length){for(var u=0,w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new Nc(w,0)}return h.j(a,b,f,u)}throw Error("Invalid arity: "+arguments.length);};f.C=3;f.K=h.K;f.c=e;f.b=d;f.f=c;f.j=h.j;return f}()}xf;
function yf(b,a,c,d){this.state=b;this.w=a;this.we=c;this.Ib=d;this.D=16386;this.m=6455296}g=yf.prototype;g.equiv=function(b){return this.B(null,b)};g.B=function(b,a){return this===a};g.pc=function(){return this.state};g.N=function(){return this.w};
g.jd=function(b,a,c){b=E(this.Ib);for(var d=null,e=0,f=0;;)if(f<e){var h=d.X(null,f),k=M(h,0),h=M(h,1);h.A?h.A(k,this,a,c):h.call(null,k,this,a,c);f+=1}else if(b=E(b))Pd(b)?(d=kc(b),b=lc(b),k=d,e=L(d),d=k):(d=G(b),k=M(d,0),h=M(d,1),h.A?h.A(k,this,a,c):h.call(null,k,this,a,c),b=H(b),d=null,e=0),f=0;else return null};g.hd=function(b,a,c){this.Ib=O.f(this.Ib,a,c);return this};g.L=function(){return this[fa]||(this[fa]=++ha)};
var zf=function zf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return zf.c(arguments[0]);default:return c=new Nc(c.slice(1),0),zf.j(arguments[0],c)}};zf.c=function(b){return new yf(b,null,null,null)};zf.j=function(b,a){var c=null!=a&&(a.m&64||a.Ua)?ab.b($c,a):a,d=B.b(c,Ja),c=B.b(c,Af);return new yf(b,d,c,null)};zf.K=function(b){var a=G(b);b=H(b);return zf.j(a,b)};zf.C=1;Bf;
function Cf(b,a){if(b instanceof yf){var c=b.we;if(null!=c&&!p(c.c?c.c(a):c.call(null,a)))throw Error([t("Assert failed: "),t("Validator rejected reference state"),t("\n"),t(function(){var a=Bc(Df,Ef);return Bf.c?Bf.c(a):Bf.call(null,a)}())].join(""));c=b.state;b.state=a;null!=b.Ib&&$b(b,c,a);return a}return pc(b,a)}
var Ff=function Ff(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Ff.b(arguments[0],arguments[1]);case 3:return Ff.f(arguments[0],arguments[1],arguments[2]);case 4:return Ff.A(arguments[0],arguments[1],arguments[2],arguments[3]);default:return c=new Nc(c.slice(4),0),Ff.j(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Ff.b=function(b,a){var c;b instanceof yf?(c=b.state,c=a.c?a.c(c):a.call(null,c),c=Cf(b,c)):c=qc.b(b,a);return c};Ff.f=function(b,a,c){if(b instanceof yf){var d=b.state;a=a.b?a.b(d,c):a.call(null,d,c);b=Cf(b,a)}else b=qc.f(b,a,c);return b};Ff.A=function(b,a,c,d){if(b instanceof yf){var e=b.state;a=a.f?a.f(e,c,d):a.call(null,e,c,d);b=Cf(b,a)}else b=qc.A(b,a,c,d);return b};Ff.j=function(b,a,c,d,e){return b instanceof yf?Cf(b,ab.S(a,b.state,c,d,e)):qc.S(b,a,c,d,e)};
Ff.K=function(b){var a=G(b),c=H(b);b=G(c);var d=H(c),c=G(d),e=H(d),d=G(e),e=H(e);return Ff.j(a,b,c,d,e)};Ff.C=4;function Gf(b){this.state=b;this.m=32768;this.D=0}Gf.prototype.Kd=function(b,a){return this.state=a};Gf.prototype.pc=function(){return this.state};function xf(b){return new Gf(b)}function Hf(b,a){sc(b,a)}
function If(){var b=Jf,a=Kf;return function(){function c(c,d,e){var f=b.c?b.c(c):b.call(null,c);if(p(f))return f;f=b.c?b.c(d):b.call(null,d);if(p(f))return f;f=b.c?b.c(e):b.call(null,e);if(p(f))return f;c=a.c?a.c(c):a.call(null,c);if(p(c))return c;d=a.c?a.c(d):a.call(null,d);return p(d)?d:a.c?a.c(e):a.call(null,e)}function d(c,d){var e=b.c?b.c(c):b.call(null,c);if(p(e))return e;e=b.c?b.c(d):b.call(null,d);if(p(e))return e;e=a.c?a.c(c):a.call(null,c);return p(e)?e:a.c?a.c(d):a.call(null,d)}function e(c){var d=
b.c?b.c(c):b.call(null,c);return p(d)?d:a.c?a.c(c):a.call(null,c)}var f=null,h=function(){function c(a,b,e,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new Nc(k,0)}return d.call(this,a,b,e,h)}function d(c,e,h,k){c=f.f(c,e,h);return p(c)?c:qf(function(){return function(c){var d=b.c?b.c(c):b.call(null,c);return p(d)?d:a.c?a.c(c):a.call(null,c)}}(c),k)}c.C=3;c.K=function(a){var b=G(a);a=H(a);var c=G(a);a=H(a);var e=G(a);a=Pc(a);return d(b,
c,e,a)};c.j=d;return c}(),f=function(a,b,f,r){switch(arguments.length){case 0:return null;case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,f);default:var u=null;if(3<arguments.length){for(var u=0,w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new Nc(w,0)}return h.j(a,b,f,u)}throw Error("Invalid arity: "+arguments.length);};f.C=3;f.K=h.K;f.H=function(){return null};f.c=e;f.b=d;f.f=c;f.j=h.j;return f}()}
var De=function De(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return De.c(arguments[0]);case 2:return De.b(arguments[0],arguments[1]);case 3:return De.f(arguments[0],arguments[1],arguments[2]);case 4:return De.A(arguments[0],arguments[1],arguments[2],arguments[3]);default:return c=new Nc(c.slice(4),0),De.j(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
De.c=function(b){return function(a){return function(){function c(c,d){var e=b.c?b.c(d):b.call(null,d);return a.b?a.b(c,e):a.call(null,c,e)}function d(b){return a.c?a.c(b):a.call(null,b)}function e(){return a.H?a.H():a.call(null)}var f=null,h=function(){function c(a,b,e){var f=null;if(2<arguments.length){for(var f=0,h=Array(arguments.length-2);f<h.length;)h[f]=arguments[f+2],++f;f=new Nc(h,0)}return d.call(this,a,b,f)}function d(c,e,f){e=ab.f(b,e,f);return a.b?a.b(c,e):a.call(null,c,e)}c.C=2;c.K=function(a){var b=
G(a);a=H(a);var c=G(a);a=Pc(a);return d(b,c,a)};c.j=d;return c}(),f=function(a,b,f){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b);default:var r=null;if(2<arguments.length){for(var r=0,u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new Nc(u,0)}return h.j(a,b,r)}throw Error("Invalid arity: "+arguments.length);};f.C=2;f.K=h.K;f.H=e;f.c=d;f.b=c;f.j=h.j;return f}()}};
De.b=function(b,a){return new Re(null,function(){var c=E(a);if(c){if(Pd(c)){for(var d=kc(c),e=L(d),f=We(e),h=0;;)if(h<e)Ye(f,function(){var a=x.b(d,h);return b.c?b.c(a):b.call(null,a)}()),h+=1;else break;return Xe(f.ba(),De.b(b,lc(c)))}return ld(function(){var a=G(c);return b.c?b.c(a):b.call(null,a)}(),De.b(b,Pc(c)))}return null},null,null)};
De.f=function(b,a,c){return new Re(null,function(){var d=E(a),e=E(c);if(d&&e){var f=ld,h;h=G(d);var k=G(e);h=b.b?b.b(h,k):b.call(null,h,k);d=f(h,De.f(b,Pc(d),Pc(e)))}else d=null;return d},null,null)};De.A=function(b,a,c,d){return new Re(null,function(){var e=E(a),f=E(c),h=E(d);if(e&&f&&h){var k=ld,m;m=G(e);var n=G(f),r=G(h);m=b.f?b.f(m,n,r):b.call(null,m,n,r);e=k(m,De.A(b,Pc(e),Pc(f),Pc(h)))}else e=null;return e},null,null)};
De.j=function(b,a,c,d,e){var f=function k(a){return new Re(null,function(){var b=De.b(E,a);return pf(ie,b)?ld(De.b(G,b),k(De.b(Pc,b))):null},null,null)};return De.b(function(){return function(a){return ab.b(b,a)}}(f),f(J.j(e,d,D([c,a],0))))};De.K=function(b){var a=G(b),c=H(b);b=G(c);var d=H(c),c=G(d),e=H(d),d=G(e),e=H(e);return De.j(a,b,c,d,e)};De.C=4;
function Lf(b){if("number"!==typeof b)throw Error([t("Assert failed: "),t(function(){var a=Bc(Mf,Nf);return Bf.c?Bf.c(a):Bf.call(null,a)}())].join(""));return function(a){return function(b){return function(){function d(d,e){var f=Gb(b),h=sc(b,Gb(b)-1),f=0<f?a.b?a.b(d,e):a.call(null,d,e):d;return 0<h?f:ed(f)?f:new dd(f)}function e(b){return a.c?a.c(b):a.call(null,b)}function f(){return a.H?a.H():a.call(null)}var h=null,h=function(a,b){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,
a);case 2:return d.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};h.H=f;h.c=e;h.b=d;return h}()}(xf(b))}}function Of(b,a){if("number"!==typeof b)throw Error([t("Assert failed: "),t(function(){var a=Bc(Mf,Nf);return Bf.c?Bf.c(a):Bf.call(null,a)}())].join(""));return new Re(null,function(){if(0<b){var c=E(a);return c?ld(G(c),Of(b-1,Pc(c))):null}return null},null,null)}
function Pf(b,a){if("number"!==typeof b)throw Error([t("Assert failed: "),t(function(){var a=Bc(Mf,Nf);return Bf.c?Bf.c(a):Bf.call(null,a)}())].join(""));return new Re(null,function(c){return function(){return c(b,a)}}(function(a,b){for(;;){var e=E(b);if(0<a&&e){var f=a-1,e=Pc(e);a=f;b=e}else return e}}),null,null)}
function Qf(b,a){return new Re(null,function(c){return function(){return c(b,a)}}(function(a,b){for(;;){var e=E(b),f;if(f=e)f=G(e),f=a.c?a.c(f):a.call(null,f);if(p(f))f=a,e=Pc(e),a=f,b=e;else return e}}),null,null)}function Rf(b){return new Re(null,function(){return ld(b,Rf(b))},null,null)}function Sf(b){return new Re(null,function(){return ld(b.H?b.H():b.call(null),Sf(b))},null,null)}function Tf(b,a){return Of(b,Sf(a))}Uf;function Vf(b,a){return ab.b(U,ab.f(De,b,a))}
function Wf(b){return function(a){return function(){function c(c,d){return p(b.c?b.c(d):b.call(null,d))?a.b?a.b(c,d):a.call(null,c,d):c}function d(b){return a.c?a.c(b):a.call(null,b)}function e(){return a.H?a.H():a.call(null)}var f=null,f=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};f.H=e;f.c=d;f.b=c;return f}()}}
function Xf(b,a){return new Re(null,function(){var c=E(a);if(c){if(Pd(c)){for(var d=kc(c),e=L(d),f=We(e),h=0;;)if(h<e){var k;k=x.b(d,h);k=b.c?b.c(k):b.call(null,k);p(k)&&(k=x.b(d,h),f.add(k));h+=1}else break;return Xe(f.ba(),Xf(b,lc(c)))}d=G(c);c=Pc(c);return p(b.c?b.c(d):b.call(null,d))?ld(d,Xf(b,c)):Xf(b,c)}return null},null,null)}function Yf(b,a){return Xf(tf(b),a)}
function Zf(b){return function c(b){return new Re(null,function(){return ld(b,p(Jd.c?Jd.c(b):Jd.call(null,b))?Vf(c,D([E.c?E.c(b):E.call(null,b)],0)):null)},null,null)}(b)}function $f(b){return Xf(function(a){return!Jd(a)},Pc(Zf(b)))}
var ag=function ag(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return ag.b(arguments[0],arguments[1]);case 3:return ag.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};ag.b=function(b,a){return null!=b?null!=b&&(b.D&4||b.ae)?bd(cf(v.f(dc,cc(b),a)),Dd(b)):v.f(hb,b,a):v.f(J,Qc,a)};ag.f=function(b,a,c){return null!=b&&(b.D&4||b.ae)?bd(cf(je(a,df,cc(b),c)),Dd(b)):je(a,J,b,c)};
ag.C=3;function bg(b,a){return cf(v.f(function(a,d){return df.b(a,b.c?b.c(d):b.call(null,d))},cc(wd),a))}function cg(b,a,c){return ag.b(wd,De.f(b,a,c))}function dg(b,a,c){return ag.b(wd,De.A(b,a,c,eg()))}function fg(b,a){return gg(b,a,null)}function gg(b,a,c){var d=Sd;for(a=E(a);;)if(a)if(null!=b?b.m&256||b.Dd||(b.m?0:Sa(pb,b)):Sa(pb,b)){b=B.f(b,G(a),d);if(d===b)return c;a=H(a)}else return c;else return b}
var hg=function hg(a,c,d){var e=M(c,0);c=Be(c,1);return p(c)?O.f(a,e,hg(B.b(a,e),c,d)):O.f(a,e,d)},ig=function ig(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return ig.f(arguments[0],arguments[1],arguments[2]);case 4:return ig.A(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ig.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ig.fa(arguments[0],arguments[1],arguments[2],arguments[3],
arguments[4],arguments[5]);default:return c=new Nc(c.slice(6),0),ig.j(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ig.f=function(b,a,c){var d=M(a,0);a=Be(a,1);return p(a)?O.f(b,d,ig.f(B.b(b,d),a,c)):O.f(b,d,function(){var a=B.b(b,d);return c.c?c.c(a):c.call(null,a)}())};ig.A=function(b,a,c,d){var e=M(a,0);a=Be(a,1);return p(a)?O.f(b,e,ig.A(B.b(b,e),a,c,d)):O.f(b,e,function(){var a=B.b(b,e);return c.b?c.b(a,d):c.call(null,a,d)}())};
ig.S=function(b,a,c,d,e){var f=M(a,0);a=Be(a,1);return p(a)?O.f(b,f,ig.S(B.b(b,f),a,c,d,e)):O.f(b,f,function(){var a=B.b(b,f);return c.f?c.f(a,d,e):c.call(null,a,d,e)}())};ig.fa=function(b,a,c,d,e,f){var h=M(a,0);a=Be(a,1);return p(a)?O.f(b,h,ig.fa(B.b(b,h),a,c,d,e,f)):O.f(b,h,function(){var a=B.b(b,h);return c.A?c.A(a,d,e,f):c.call(null,a,d,e,f)}())};ig.j=function(b,a,c,d,e,f,h){var k=M(a,0);a=Be(a,1);return p(a)?O.f(b,k,ab.j(ig,B.b(b,k),a,c,d,D([e,f,h],0))):O.f(b,k,ab.j(c,B.b(b,k),d,e,f,D([h],0)))};
ig.K=function(b){var a=G(b),c=H(b);b=G(c);var d=H(c),c=G(d),e=H(d),d=G(e),f=H(e),e=G(f),h=H(f),f=G(h),h=H(h);return ig.j(a,b,c,d,e,f,h)};ig.C=6;function jg(b,a,c){return O.f(b,a,function(){var d=B.b(b,a);return c.c?c.c(d):c.call(null,d)}())}function kg(b,a,c,d){return O.f(b,a,function(){var e=B.b(b,a);return c.b?c.b(e,d):c.call(null,e,d)}())}function lg(b,a,c,d,e){return O.f(b,a,function(){var f=B.b(b,a);return c.f?c.f(f,d,e):c.call(null,f,d,e)}())}function mg(b,a){this.ga=b;this.l=a}
function og(b){return new mg(b,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function pg(b){return new mg(b.ga,Za(b.l))}function qg(b){b=b.u;return 32>b?0:b-1>>>5<<5}function rg(b,a,c){for(;;){if(0===a)return c;var d=og(b);d.l[0]=c;c=d;a-=5}}var sg=function sg(a,c,d,e){var f=pg(d),h=a.u-1>>>c&31;5===c?f.l[h]=e:(d=d.l[h],a=null!=d?sg(a,c-5,d,e):rg(null,c-5,e),f.l[h]=a);return f};
function tg(b,a){throw Error([t("No item "),t(b),t(" in vector of length "),t(a)].join(""));}function ug(b,a){if(a>=qg(b))return b.Na;for(var c=b.root,d=b.shift;;)if(0<d)var e=d-5,c=c.l[a>>>d&31],d=e;else return c.l}function wg(b,a){return 0<=a&&a<b.u?ug(b,a):tg(a,b.u)}
var xg=function xg(a,c,d,e,f){var h=pg(d);if(0===c)h.l[e&31]=f;else{var k=e>>>c&31;a=xg(a,c-5,d.l[k],e,f);h.l[k]=a}return h},yg=function yg(a,c,d){var e=a.u-2>>>c&31;if(5<c){a=yg(a,c-5,d.l[e]);if(null==a&&0===e)return null;d=pg(d);d.l[e]=a;return d}if(0===e)return null;d=pg(d);d.l[e]=null;return d};function zg(b,a,c,d,e,f){this.F=b;this.cd=a;this.l=c;this.v=d;this.start=e;this.end=f}zg.prototype.va=function(){return this.F<this.end};
zg.prototype.next=function(){32===this.F-this.cd&&(this.l=ug(this.v,this.F),this.cd+=32);var b=this.l[this.F&31];this.F+=1;return b};Ag;Bg;Cg;I;X;Y;Dg;function V(b,a,c,d,e,f){this.w=b;this.u=a;this.shift=c;this.root=d;this.Na=e;this.i=f;this.m=167668511;this.D=8196}g=V.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){return"number"===typeof a?x.f(this,a,c):c};
g.rc=function(b,a,c){b=0;for(var d=c;;)if(b<this.u){var e=ug(this,b);c=e.length;a:for(var f=0;;)if(f<c){var h=f+b,k=e[f],d=a.f?a.f(d,h,k):a.call(null,d,h,k);if(ed(d)){e=d;break a}f+=1}else{e=d;break a}if(ed(e))return I.c?I.c(e):I.call(null,e);b+=c;d=e}else return d};g.X=function(b,a){return wg(this,a)[a&31]};g.Ra=function(b,a,c){return 0<=a&&a<this.u?ug(this,a)[a&31]:c};
g.cc=function(b,a,c){if(0<=a&&a<this.u)return qg(this)<=a?(b=Za(this.Na),b[a&31]=c,new V(this.w,this.u,this.shift,this.root,b,null)):new V(this.w,this.u,this.shift,xg(this,this.shift,this.root,a,c),this.Na,null);if(a===this.u)return hb(this,c);throw Error([t("Index "),t(a),t(" out of bounds  [0,"),t(this.u),t("]")].join(""));};g.U=function(){var b=this.u;return new zg(0,0,0<L(this)?ug(this,0):null,this,0,b)};g.N=function(){return this.w};g.R=function(){return this.u};
g.Dc=function(){return x.b(this,0)};g.Ec=function(){return x.b(this,1)};g.Lb=function(){return 0<this.u?x.b(this,this.u-1):null};
g.Mb=function(){if(0===this.u)throw Error("Can't pop empty vector");if(1===this.u)return Kb(wd,this.w);if(1<this.u-qg(this))return new V(this.w,this.u-1,this.shift,this.root,this.Na.slice(0,-1),null);var b=ug(this,this.u-2),a=yg(this,this.shift,this.root),a=null==a?W:a,c=this.u-1;return 5<this.shift&&null==a.l[1]?new V(this.w,c,this.shift-5,a.l[0],b,null):new V(this.w,c,this.shift,a,b,null)};g.vb=function(){return 0<this.u?new md(this,this.u-1,null):null};
g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){if(a instanceof V)if(this.u===L(a))for(var c=tc(this),d=tc(a);;)if(p(c.va())){var e=c.next(),f=d.next();if(!A.b(e,f))return!1}else return!0;else return!1;else return ad(this,a)};g.qc=function(){return new Cg(this.u,this.shift,Ag.c?Ag.c(this.root):Ag.call(null,this.root),Bg.c?Bg.c(this.Na):Bg.call(null,this.Na))};g.ea=function(){return bd(wd,this.w)};g.na=function(b,a){return fd(this,a)};
g.oa=function(b,a,c){b=0;for(var d=c;;)if(b<this.u){var e=ug(this,b);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f],d=a.b?a.b(d,h):a.call(null,d,h);if(ed(d)){e=d;break a}f+=1}else{e=d;break a}if(ed(e))return I.c?I.c(e):I.call(null,e);b+=c;d=e}else return d};g.T=function(b,a,c){if("number"===typeof a)return Fb(this,a,c);throw Error("Vector's key for assoc must be a number.");};
g.M=function(){if(0===this.u)return null;if(32>=this.u)return new Nc(this.Na,0);var b;a:{b=this.root;for(var a=this.shift;;)if(0<a)a-=5,b=b.l[0];else{b=b.l;break a}}return Dg.A?Dg.A(this,b,0,0):Dg.call(null,this,b,0,0)};g.O=function(b,a){return new V(a,this.u,this.shift,this.root,this.Na,this.i)};
g.P=function(b,a){if(32>this.u-qg(this)){for(var c=this.Na.length,d=Array(c+1),e=0;;)if(e<c)d[e]=this.Na[e],e+=1;else break;d[c]=a;return new V(this.w,this.u+1,this.shift,this.root,d,null)}c=(d=this.u>>>5>1<<this.shift)?this.shift+5:this.shift;d?(d=og(null),d.l[0]=this.root,e=rg(null,this.shift,new mg(null,this.Na)),d.l[1]=e):d=sg(this,this.shift,this.root,new mg(null,this.Na));return new V(this.w,this.u+1,c,d,[a],null)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.X(null,b);case 3:return this.Ra(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.X(null,b)};b.f=function(a,b,d){return this.Ra(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.X(null,b)};g.b=function(b,a){return this.Ra(null,b,a)};
var W=new mg(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),wd=new V(null,0,5,W,[],Xc);function Eg(b){var a=b.length;if(32>a)return new V(null,a,5,W,b,null);for(var c=b.slice(0,32),d=32,e=(new V(null,32,5,W,c,null)).qc(null);;)if(d<a)c=d+1,e=df.b(e,b[d]),d=c;else return ec(e)}V.prototype[Wa]=function(){return Sc(this)};function ge(b){return Qa(b)?Eg(b):ec(v.f(dc,cc(wd),b))}
var Fg=function Fg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Nc(c.slice(0),0):null;return Fg.j(c)};Fg.j=function(b){return b instanceof Nc&&0===b.F?Eg(b.l):ge(b)};Fg.C=0;Fg.K=function(b){return Fg.j(E(b))};Gg;function Od(b,a,c,d,e,f){this.$a=b;this.node=a;this.F=c;this.off=d;this.w=e;this.i=f;this.m=32375020;this.D=1536}g=Od.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.w};
g.ya=function(){if(this.off+1<this.node.length){var b;b=this.$a;var a=this.node,c=this.F,d=this.off+1;b=Dg.A?Dg.A(b,a,c,d):Dg.call(null,b,a,c,d);return null==b?null:b}return mc(this)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(wd,this.w)};g.na=function(b,a){var c;c=this.$a;var d=this.F+this.off,e=L(this.$a);c=Gg.f?Gg.f(c,d,e):Gg.call(null,c,d,e);return fd(c,a)};
g.oa=function(b,a,c){b=this.$a;var d=this.F+this.off,e=L(this.$a);b=Gg.f?Gg.f(b,d,e):Gg.call(null,b,d,e);return gd(b,a,c)};g.ha=function(){return this.node[this.off]};g.ra=function(){if(this.off+1<this.node.length){var b;b=this.$a;var a=this.node,c=this.F,d=this.off+1;b=Dg.A?Dg.A(b,a,c,d):Dg.call(null,b,a,c,d);return null==b?Qc:b}return lc(this)};g.M=function(){return this};g.Xc=function(){var b=this.node;return new Ue(b,this.off,b.length)};
g.Yc=function(){var b=this.F+this.node.length;if(b<db(this.$a)){var a=this.$a,c=ug(this.$a,b);return Dg.A?Dg.A(a,c,b,0):Dg.call(null,a,c,b,0)}return Qc};g.O=function(b,a){return Dg.S?Dg.S(this.$a,this.node,this.F,this.off,a):Dg.call(null,this.$a,this.node,this.F,this.off,a)};g.P=function(b,a){return ld(a,this)};g.Wc=function(){var b=this.F+this.node.length;if(b<db(this.$a)){var a=this.$a,c=ug(this.$a,b);return Dg.A?Dg.A(a,c,b,0):Dg.call(null,a,c,b,0)}return null};Od.prototype[Wa]=function(){return Sc(this)};
var Dg=function Dg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return Dg.f(arguments[0],arguments[1],arguments[2]);case 4:return Dg.A(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Dg.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Dg.f=function(b,a,c){return new Od(b,wg(b,a),a,c,null,null)};
Dg.A=function(b,a,c,d){return new Od(b,a,c,d,null,null)};Dg.S=function(b,a,c,d,e){return new Od(b,a,c,d,e,null)};Dg.C=5;Hg;function Ig(b,a,c,d,e){this.w=b;this.v=a;this.start=c;this.end=d;this.i=e;this.m=167666463;this.D=8192}g=Ig.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){return"number"===typeof a?x.f(this,a,c):c};
g.rc=function(b,a,c){b=this.start;for(var d=0;;)if(b<this.end){var e=d,f=x.b(this.v,b);c=a.f?a.f(c,e,f):a.call(null,c,e,f);if(ed(c))return I.c?I.c(c):I.call(null,c);d+=1;b+=1}else return c};g.X=function(b,a){return 0>a||this.end<=this.start+a?tg(a,this.end-this.start):x.b(this.v,this.start+a)};g.Ra=function(b,a,c){return 0>a||this.end<=this.start+a?c:x.f(this.v,this.start+a,c)};
g.cc=function(b,a,c){var d=this.start+a;b=this.w;c=O.f(this.v,d,c);a=this.start;var e=this.end,d=d+1,d=e>d?e:d;return Hg.S?Hg.S(b,c,a,d,null):Hg.call(null,b,c,a,d,null)};g.N=function(){return this.w};g.R=function(){return this.end-this.start};g.Lb=function(){return x.b(this.v,this.end-1)};g.Mb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var b=this.w,a=this.v,c=this.start,d=this.end-1;return Hg.S?Hg.S(b,a,c,d,null):Hg.call(null,b,a,c,d,null)};
g.vb=function(){return this.start!==this.end?new md(this,this.end-this.start-1,null):null};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(wd,this.w)};g.na=function(b,a){return fd(this,a)};g.oa=function(b,a,c){return gd(this,a,c)};g.T=function(b,a,c){if("number"===typeof a)return Fb(this,a,c);throw Error("Subvec's key for assoc must be a number.");};
g.M=function(){var b=this;return function(a){return function d(e){return e===b.end?null:ld(x.b(b.v,e),new Re(null,function(){return function(){return d(e+1)}}(a),null,null))}}(this)(b.start)};g.O=function(b,a){return Hg.S?Hg.S(a,this.v,this.start,this.end,this.i):Hg.call(null,a,this.v,this.start,this.end,this.i)};g.P=function(b,a){var c=this.w,d=Fb(this.v,this.end,a),e=this.start,f=this.end+1;return Hg.S?Hg.S(c,d,e,f,null):Hg.call(null,c,d,e,f,null)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.X(null,b);case 3:return this.Ra(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.X(null,b)};b.f=function(a,b,d){return this.Ra(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.X(null,b)};g.b=function(b,a){return this.Ra(null,b,a)};Ig.prototype[Wa]=function(){return Sc(this)};
function Hg(b,a,c,d,e){for(;;)if(a instanceof Ig)c=a.start+c,d=a.start+d,a=a.v;else{var f=L(a);if(0>c||0>d||c>f||d>f)throw Error("Index out of bounds");return new Ig(b,a,c,d,e)}}var Gg=function Gg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Gg.b(arguments[0],arguments[1]);case 3:return Gg.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
Gg.b=function(b,a){return Gg.f(b,a,L(b))};Gg.f=function(b,a,c){return Hg(null,b,a,c,null)};Gg.C=3;function Jg(b,a){return b===a.ga?a:new mg(b,Za(a.l))}function Ag(b){return new mg({},Za(b.l))}function Bg(b){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Rd(b,0,a,0,b.length);return a}
var Kg=function Kg(a,c,d,e){d=Jg(a.root.ga,d);var f=a.u-1>>>c&31;if(5===c)a=e;else{var h=d.l[f];a=null!=h?Kg(a,c-5,h,e):rg(a.root.ga,c-5,e)}d.l[f]=a;return d};function Cg(b,a,c,d){this.u=b;this.shift=a;this.root=c;this.Na=d;this.D=88;this.m=275}g=Cg.prototype;
g.bc=function(b,a){if(this.root.ga){if(32>this.u-qg(this))this.Na[this.u&31]=a;else{var c=new mg(this.root.ga,this.Na),d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];d[0]=a;this.Na=d;if(this.u>>>5>1<<this.shift){var d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],e=this.shift+
5;d[0]=this.root;d[1]=rg(this.root.ga,this.shift,c);this.root=new mg(this.root.ga,d);this.shift=e}else this.root=Kg(this,this.shift,this.root,c)}this.u+=1;return this}throw Error("conj! after persistent!");};g.sc=function(){if(this.root.ga){this.root.ga=null;var b=this.u-qg(this),a=Array(b);Rd(this.Na,0,a,0,b);return new V(null,this.u,this.shift,this.root,a,null)}throw Error("persistent! called twice");};
g.Hc=function(b,a,c){if("number"===typeof a)return gc(this,a,c);throw Error("TransientVector's key for assoc! must be a number.");};
g.Jd=function(b,a,c){var d=this;if(d.root.ga){if(0<=a&&a<d.u)return qg(this)<=a?d.Na[a&31]=c:(b=function(){return function f(b,k){var m=Jg(d.root.ga,k);if(0===b)m.l[a&31]=c;else{var n=a>>>b&31,r=f(b-5,m.l[n]);m.l[n]=r}return m}}(this).call(null,d.shift,d.root),d.root=b),this;if(a===d.u)return dc(this,c);throw Error([t("Index "),t(a),t(" out of bounds for TransientVector of length"),t(d.u)].join(""));}throw Error("assoc! after persistent!");};
g.R=function(){if(this.root.ga)return this.u;throw Error("count after persistent!");};g.X=function(b,a){if(this.root.ga)return wg(this,a)[a&31];throw Error("nth after persistent!");};g.Ra=function(b,a,c){return 0<=a&&a<this.u?x.b(this,a):c};g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){return"number"===typeof a?x.f(this,a,c):c};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.I(null,b);case 3:return this.G(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.I(null,b)};b.f=function(a,b,d){return this.G(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.I(null,b)};g.b=function(b,a){return this.G(null,b,a)};function Lg(b,a){this.uc=b;this.Sc=a}
Lg.prototype.va=function(){var b=null!=this.uc&&E(this.uc);return b?b:(b=null!=this.Sc)?this.Sc.va():b};Lg.prototype.next=function(){if(null!=this.uc){var b=G(this.uc);this.uc=H(this.uc);return b}if(null!=this.Sc&&this.Sc.va())return this.Sc.next();throw Error("No such element");};Lg.prototype.remove=function(){return Error("Unsupported operation")};function Mg(b,a,c,d){this.w=b;this.Xa=a;this.sb=c;this.i=d;this.m=31850572;this.D=0}g=Mg.prototype;g.toString=function(){return vc(this)};
g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.w};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Qc,this.w)};g.ha=function(){return G(this.Xa)};g.ra=function(){var b=H(this.Xa);return b?new Mg(this.w,b,this.sb,null):null==this.sb?eb(this):new Mg(this.w,this.sb,null,null)};g.M=function(){return this};g.O=function(b,a){return new Mg(a,this.Xa,this.sb,this.i)};g.P=function(b,a){return ld(a,this)};
Mg.prototype[Wa]=function(){return Sc(this)};function Ng(b,a,c,d,e){this.w=b;this.count=a;this.Xa=c;this.sb=d;this.i=e;this.m=31858766;this.D=8192}g=Ng.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.U=function(){return new Lg(this.Xa,tc(this.sb))};g.N=function(){return this.w};g.R=function(){return this.count};g.Lb=function(){return G(this.Xa)};
g.Mb=function(){if(p(this.Xa)){var b=H(this.Xa);return b?new Ng(this.w,this.count-1,b,this.sb,null):new Ng(this.w,this.count-1,E(this.sb),wd,null)}return this};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Og,this.w)};g.ha=function(){return G(this.Xa)};g.ra=function(){return Pc(E(this))};g.M=function(){var b=E(this.sb),a=this.Xa;return p(p(a)?a:b)?new Mg(null,this.Xa,E(b),null):null};
g.O=function(b,a){return new Ng(a,this.count,this.Xa,this.sb,this.i)};g.P=function(b,a){var c;p(this.Xa)?(c=this.sb,c=new Ng(this.w,this.count+1,this.Xa,J.b(p(c)?c:wd,a),null)):c=new Ng(this.w,this.count+1,J.b(this.Xa,a),wd,null);return c};var Og=new Ng(null,0,null,wd,Xc);Ng.prototype[Wa]=function(){return Sc(this)};function Pg(){this.m=2097152;this.D=0}Pg.prototype.equiv=function(b){return this.B(null,b)};Pg.prototype.B=function(){return!1};var Qg=new Pg;
function Rg(b,a){return Vd(Kd(a)?L(b)===L(a)?pf(ie,De.b(function(b){return A.b(B.f(a,G(b),Qg),td(b))},b)):null:null)}function Sg(b,a,c,d,e){this.F=b;this.ue=a;this.yd=c;this.oe=d;this.Ud=e}Sg.prototype.va=function(){var b=this.F<this.yd;return b?b:this.Ud.va()};Sg.prototype.next=function(){if(this.F<this.yd){var b=yd(this.oe,this.F);this.F+=1;return new V(null,2,5,W,[b,rb.b(this.ue,b)],null)}return this.Ud.next()};Sg.prototype.remove=function(){return Error("Unsupported operation")};
function Tg(b){this.Z=b}Tg.prototype.next=function(){if(null!=this.Z){var b=G(this.Z),a=M(b,0),b=M(b,1);this.Z=H(this.Z);return{value:[a,b],done:!1}}return{value:null,done:!0}};function Ug(b){return new Tg(E(b))}function Vg(b){this.Z=b}Vg.prototype.next=function(){if(null!=this.Z){var b=G(this.Z);this.Z=H(this.Z);return{value:[b,b],done:!1}}return{value:null,done:!0}};
function Wg(b,a){var c;if(a instanceof q)a:{c=b.length;for(var d=a.V,e=0;;){if(c<=e){c=-1;break a}if(b[e]instanceof q&&d===b[e].V){c=e;break a}e+=2}}else if(da(a)||"number"===typeof a)a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(a===b[d]){c=d;break a}d+=2}else if(a instanceof y)a:for(c=b.length,d=a.Db,e=0;;){if(c<=e){c=-1;break a}if(b[e]instanceof y&&d===b[e].Db){c=e;break a}e+=2}else if(null==a)a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(null==b[d]){c=d;break a}d+=2}else a:for(c=b.length,
d=0;;){if(c<=d){c=-1;break a}if(A.b(a,b[d])){c=d;break a}d+=2}return c}Xg;function Yg(b,a,c){this.l=b;this.F=a;this.Ta=c;this.m=32374990;this.D=0}g=Yg.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.Ta};g.ya=function(){return this.F<this.l.length-2?new Yg(this.l,this.F+2,this.Ta):null};g.R=function(){return(this.l.length-this.F)/2};g.L=function(){return Wc(this)};g.B=function(b,a){return ad(this,a)};
g.ea=function(){return bd(Qc,this.Ta)};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};g.ha=function(){return new V(null,2,5,W,[this.l[this.F],this.l[this.F+1]],null)};g.ra=function(){return this.F<this.l.length-2?new Yg(this.l,this.F+2,this.Ta):Qc};g.M=function(){return this};g.O=function(b,a){return new Yg(this.l,this.F,a)};g.P=function(b,a){return ld(a,this)};Yg.prototype[Wa]=function(){return Sc(this)};Zg;$g;function ah(b,a,c){this.l=b;this.F=a;this.u=c}
ah.prototype.va=function(){return this.F<this.u};ah.prototype.next=function(){var b=new V(null,2,5,W,[this.l[this.F],this.l[this.F+1]],null);this.F+=2;return b};function l(b,a,c,d){this.w=b;this.u=a;this.l=c;this.i=d;this.m=16647951;this.D=8196}g=l.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.keys=function(){return Sc(Zg.c?Zg.c(this):Zg.call(null,this))};g.entries=function(){return Ug(E(this))};
g.values=function(){return Sc($g.c?$g.c(this):$g.call(null,this))};g.has=function(b){return Wd(this,b)};g.get=function(b,a){return this.G(null,b,a)};g.forEach=function(b){for(var a=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.X(null,e),h=M(f,0),f=M(f,1);b.b?b.b(f,h):b.call(null,f,h);e+=1}else if(a=E(a))Pd(a)?(c=kc(a),a=lc(a),h=c,d=L(c),c=h):(c=G(a),h=M(c,0),f=M(c,1),b.b?b.b(f,h):b.call(null,f,h),a=H(a),c=null,d=0),e=0;else return null};g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){b=Wg(this.l,a);return-1===b?c:this.l[b+1]};g.rc=function(b,a,c){b=this.l.length;for(var d=0;;)if(d<b){var e=this.l[d],f=this.l[d+1];c=a.f?a.f(c,e,f):a.call(null,c,e,f);if(ed(c))return I.c?I.c(c):I.call(null,c);d+=2}else return c};g.U=function(){return new ah(this.l,0,2*this.u)};g.N=function(){return this.w};g.R=function(){return this.u};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Yc(this)};
g.B=function(b,a){if(null!=a&&(a.m&1024||a.ee)){var c=this.l.length;if(this.u===a.R(null))for(var d=0;;)if(d<c){var e=a.G(null,this.l[d],Sd);if(e!==Sd)if(A.b(this.l[d+1],e))d+=2;else return!1;else return!1}else return!0;else return!1}else return Rg(this,a)};g.qc=function(){return new Xg({},this.l.length,Za(this.l))};g.ea=function(){return Kb(R,this.w)};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};
g.W=function(b,a){if(0<=Wg(this.l,a)){var c=this.l.length,d=c-2;if(0===d)return eb(this);for(var d=Array(d),e=0,f=0;;){if(e>=c)return new l(this.w,this.u-1,d,null);A.b(a,this.l[e])||(d[f]=this.l[e],d[f+1]=this.l[e+1],f+=2);e+=2}}else return this};
g.T=function(b,a,c){b=Wg(this.l,a);if(-1===b){if(this.u<Yd){b=this.l;for(var d=b.length,e=Array(d+2),f=0;;)if(f<d)e[f]=b[f],f+=1;else break;e[d]=a;e[d+1]=c;return new l(this.w,this.u+1,e,null)}return Kb(tb(ag.b(bh,this),a,c),this.w)}if(c===this.l[b+1])return this;a=Za(this.l);a[b+1]=c;return new l(this.w,this.u,a,null)};g.$b=function(b,a){return-1!==Wg(this.l,a)};g.M=function(){var b=this.l;return 0<=b.length-2?new Yg(b,0,null):null};g.O=function(b,a){return new l(a,this.u,this.l,this.i)};
g.P=function(b,a){if(Md(a))return tb(this,x.b(a,0),x.b(a,1));for(var c=this,d=E(a);;){if(null==d)return c;var e=G(d);if(Md(e))c=tb(c,x.b(e,0),x.b(e,1)),d=H(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.I(null,b);case 3:return this.G(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.I(null,b)};b.f=function(a,b,d){return this.G(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.I(null,b)};g.b=function(b,a){return this.G(null,b,a)};var R=new l(null,0,[],Zc),Yd=8;
function ch(b){for(var a=[],c=0;;)if(c<b.length){var d=b[c],e=b[c+1];-1===Wg(a,d)&&(a.push(d),a.push(e));c+=2}else break;return new l(null,a.length/2,a,null)}l.prototype[Wa]=function(){return Sc(this)};dh;function Xg(b,a,c){this.tc=b;this.ic=a;this.l=c;this.m=258;this.D=56}g=Xg.prototype;g.R=function(){if(p(this.tc))return xe(this.ic,2);throw Error("count after persistent!");};g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){if(p(this.tc))return b=Wg(this.l,a),-1===b?c:this.l[b+1];throw Error("lookup after persistent!");};g.bc=function(b,a){if(p(this.tc)){if(null!=a?a.m&2048||a.fe||(a.m?0:Sa(xb,a)):Sa(xb,a))return fc(this,Fe.c?Fe.c(a):Fe.call(null,a),Ge.c?Ge.c(a):Ge.call(null,a));for(var c=E(a),d=this;;){var e=G(c);if(p(e))c=H(c),d=fc(d,Fe.c?Fe.c(e):Fe.call(null,e),Ge.c?Ge.c(e):Ge.call(null,e));else return d}}else throw Error("conj! after persistent!");};
g.sc=function(){if(p(this.tc))return this.tc=!1,new l(null,xe(this.ic,2),this.l,null);throw Error("persistent! called twice");};g.Hc=function(b,a,c){if(p(this.tc)){b=Wg(this.l,a);if(-1===b)return this.ic+2<=2*Yd?(this.ic+=2,this.l.push(a),this.l.push(c),this):ef.f(dh.b?dh.b(this.ic,this.l):dh.call(null,this.ic,this.l),a,c);c!==this.l[b+1]&&(this.l[b+1]=c);return this}throw Error("assoc! after persistent!");};eh;zd;
function dh(b,a){for(var c=cc(bh),d=0;;)if(d<b)c=ef.f(c,a[d],a[d+1]),d+=2;else return c}function fh(){this.val=!1}gh;hh;Cf;ih;zf;I;function jh(b,a){return b===a?!0:S(b,a)?!0:A.b(b,a)}function kh(b,a,c){b=Za(b);b[a]=c;return b}function lh(b,a){var c=Array(b.length-2);Rd(b,0,c,0,2*a);Rd(b,2*(a+1),c,2*a,c.length-2*a);return c}function mh(b,a,c,d){b=b.dc(a);b.l[c]=d;return b}
function nh(b,a,c){for(var d=b.length,e=0,f=c;;)if(e<d){c=b[e];if(null!=c){var h=b[e+1];c=a.f?a.f(f,c,h):a.call(null,f,c,h)}else c=b[e+1],c=null!=c?c.hc(a,f):f;if(ed(c))return I.c?I.c(c):I.call(null,c);e+=2;f=c}else return f}oh;function ph(b,a,c,d){this.l=b;this.F=a;this.Qc=c;this.rb=d}ph.prototype.advance=function(){for(var b=this.l.length;;)if(this.F<b){var a=this.l[this.F],c=this.l[this.F+1];null!=a?a=this.Qc=new V(null,2,5,W,[a,c],null):null!=c?(a=tc(c),a=a.va()?this.rb=a:!1):a=!1;this.F+=2;if(a)return!0}else return!1};
ph.prototype.va=function(){var b=null!=this.Qc;return b?b:(b=null!=this.rb)?b:this.advance()};ph.prototype.next=function(){if(null!=this.Qc){var b=this.Qc;this.Qc=null;return b}if(null!=this.rb)return b=this.rb.next(),this.rb.va()||(this.rb=null),b;if(this.advance())return this.next();throw Error("No such element");};ph.prototype.remove=function(){return Error("Unsupported operation")};function qh(b,a,c){this.ga=b;this.la=a;this.l=c}g=qh.prototype;
g.dc=function(b){if(b===this.ga)return this;var a=ye(this.la),c=Array(0>a?4:2*(a+1));Rd(this.l,0,c,0,2*a);return new qh(b,this.la,c)};g.Nc=function(){return gh.c?gh.c(this.l):gh.call(null,this.l)};g.hc=function(b,a){return nh(this.l,b,a)};g.Vb=function(b,a,c,d){var e=1<<(a>>>b&31);if(0===(this.la&e))return d;var f=ye(this.la&e-1),e=this.l[2*f],f=this.l[2*f+1];return null==e?f.Vb(b+5,a,c,d):jh(c,e)?f:d};
g.pb=function(b,a,c,d,e,f){var h=1<<(c>>>a&31),k=ye(this.la&h-1);if(0===(this.la&h)){var m=ye(this.la);if(2*m<this.l.length){b=this.dc(b);a=b.l;f.val=!0;a:for(c=2*(m-k),f=2*k+(c-1),m=2*(k+1)+(c-1);;){if(0===c)break a;a[m]=a[f];--m;--c;--f}a[2*k]=d;a[2*k+1]=e;b.la|=h;return b}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>a&31]=rh.pb(b,a+5,c,d,e,f);for(e=d=0;;)if(32>
d)0!==(this.la>>>d&1)&&(k[d]=null!=this.l[e]?rh.pb(b,a+5,Hc(this.l[e]),this.l[e],this.l[e+1],f):this.l[e+1],e+=2),d+=1;else break;return new oh(b,m+1,k)}a=Array(2*(m+4));Rd(this.l,0,a,0,2*k);a[2*k]=d;a[2*k+1]=e;Rd(this.l,2*k,a,2*(k+1),2*(m-k));f.val=!0;b=this.dc(b);b.l=a;b.la|=h;return b}m=this.l[2*k];h=this.l[2*k+1];if(null==m)return m=h.pb(b,a+5,c,d,e,f),m===h?this:mh(this,b,2*k+1,m);if(jh(d,m))return e===h?this:mh(this,b,2*k+1,e);f.val=!0;f=a+5;d=ih.ma?ih.ma(b,f,m,h,c,d,e):ih.call(null,b,f,m,h,
c,d,e);e=2*k;k=2*k+1;b=this.dc(b);b.l[e]=null;b.l[k]=d;return b};
g.ob=function(b,a,c,d,e){var f=1<<(a>>>b&31),h=ye(this.la&f-1);if(0===(this.la&f)){var k=ye(this.la);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[a>>>b&31]=rh.ob(b+5,a,c,d,e);for(d=c=0;;)if(32>c)0!==(this.la>>>c&1)&&(h[c]=null!=this.l[d]?rh.ob(b+5,Hc(this.l[d]),this.l[d],this.l[d+1],e):this.l[d+1],d+=2),c+=1;else break;return new oh(null,k+1,h)}b=Array(2*(k+1));Rd(this.l,
0,b,0,2*h);b[2*h]=c;b[2*h+1]=d;Rd(this.l,2*h,b,2*(h+1),2*(k-h));e.val=!0;return new qh(null,this.la|f,b)}var m=this.l[2*h],f=this.l[2*h+1];if(null==m)return k=f.ob(b+5,a,c,d,e),k===f?this:new qh(null,this.la,kh(this.l,2*h+1,k));if(jh(c,m))return d===f?this:new qh(null,this.la,kh(this.l,2*h+1,d));e.val=!0;e=this.la;k=this.l;b+=5;b=ih.fa?ih.fa(b,m,f,a,c,d):ih.call(null,b,m,f,a,c,d);c=2*h;h=2*h+1;d=Za(k);d[c]=null;d[h]=b;return new qh(null,e,d)};
g.Oc=function(b,a,c){var d=1<<(a>>>b&31);if(0===(this.la&d))return this;var e=ye(this.la&d-1),f=this.l[2*e],h=this.l[2*e+1];return null==f?(b=h.Oc(b+5,a,c),b===h?this:null!=b?new qh(null,this.la,kh(this.l,2*e+1,b)):this.la===d?null:new qh(null,this.la^d,lh(this.l,e))):jh(c,f)?new qh(null,this.la^d,lh(this.l,e)):this};g.U=function(){return new ph(this.l,0,null,null)};var rh=new qh(null,0,[]);function sh(b,a,c){this.l=b;this.F=a;this.rb=c}
sh.prototype.va=function(){for(var b=this.l.length;;){if(null!=this.rb&&this.rb.va())return!0;if(this.F<b){var a=this.l[this.F];this.F+=1;null!=a&&(this.rb=tc(a))}else return!1}};sh.prototype.next=function(){if(this.va())return this.rb.next();throw Error("No such element");};sh.prototype.remove=function(){return Error("Unsupported operation")};function oh(b,a,c){this.ga=b;this.u=a;this.l=c}g=oh.prototype;g.dc=function(b){return b===this.ga?this:new oh(b,this.u,Za(this.l))};
g.Nc=function(){return hh.c?hh.c(this.l):hh.call(null,this.l)};g.hc=function(b,a){for(var c=this.l.length,d=0,e=a;;)if(d<c){var f=this.l[d];if(null!=f&&(e=f.hc(b,e),ed(e)))return I.c?I.c(e):I.call(null,e);d+=1}else return e};g.Vb=function(b,a,c,d){var e=this.l[a>>>b&31];return null!=e?e.Vb(b+5,a,c,d):d};g.pb=function(b,a,c,d,e,f){var h=c>>>a&31,k=this.l[h];if(null==k)return b=mh(this,b,h,rh.pb(b,a+5,c,d,e,f)),b.u+=1,b;a=k.pb(b,a+5,c,d,e,f);return a===k?this:mh(this,b,h,a)};
g.ob=function(b,a,c,d,e){var f=a>>>b&31,h=this.l[f];if(null==h)return new oh(null,this.u+1,kh(this.l,f,rh.ob(b+5,a,c,d,e)));b=h.ob(b+5,a,c,d,e);return b===h?this:new oh(null,this.u,kh(this.l,f,b))};
g.Oc=function(b,a,c){var d=a>>>b&31,e=this.l[d];if(null!=e){b=e.Oc(b+5,a,c);if(b===e)d=this;else if(null==b)if(8>=this.u)a:{e=this.l;b=e.length;a=Array(2*(this.u-1));c=0;for(var f=1,h=0;;)if(c<b)c!==d&&null!=e[c]&&(a[f]=e[c],f+=2,h|=1<<c),c+=1;else{d=new qh(null,h,a);break a}}else d=new oh(null,this.u-1,kh(this.l,d,b));else d=new oh(null,this.u,kh(this.l,d,b));return d}return this};g.U=function(){return new sh(this.l,0,null)};
function th(b,a,c){a*=2;for(var d=0;;)if(d<a){if(jh(c,b[d]))return d;d+=2}else return-1}function vh(b,a,c,d){this.ga=b;this.Nb=a;this.u=c;this.l=d}g=vh.prototype;g.dc=function(b){if(b===this.ga)return this;var a=Array(2*(this.u+1));Rd(this.l,0,a,0,2*this.u);return new vh(b,this.Nb,this.u,a)};g.Nc=function(){return gh.c?gh.c(this.l):gh.call(null,this.l)};g.hc=function(b,a){return nh(this.l,b,a)};g.Vb=function(b,a,c,d){b=th(this.l,this.u,c);return 0>b?d:jh(c,this.l[b])?this.l[b+1]:d};
g.pb=function(b,a,c,d,e,f){if(c===this.Nb){a=th(this.l,this.u,d);if(-1===a){if(this.l.length>2*this.u)return a=2*this.u,c=2*this.u+1,b=this.dc(b),b.l[a]=d,b.l[c]=e,f.val=!0,b.u+=1,b;c=this.l.length;a=Array(c+2);Rd(this.l,0,a,0,c);a[c]=d;a[c+1]=e;f.val=!0;d=this.u+1;b===this.ga?(this.l=a,this.u=d,b=this):b=new vh(this.ga,this.Nb,d,a);return b}return this.l[a+1]===e?this:mh(this,b,a+1,e)}return(new qh(b,1<<(this.Nb>>>a&31),[null,this,null,null])).pb(b,a,c,d,e,f)};
g.ob=function(b,a,c,d,e){return a===this.Nb?(b=th(this.l,this.u,c),-1===b?(b=2*this.u,a=Array(b+2),Rd(this.l,0,a,0,b),a[b]=c,a[b+1]=d,e.val=!0,new vh(null,this.Nb,this.u+1,a)):A.b(this.l[b],d)?this:new vh(null,this.Nb,this.u,kh(this.l,b+1,d))):(new qh(null,1<<(this.Nb>>>b&31),[null,this])).ob(b,a,c,d,e)};g.Oc=function(b,a,c){b=th(this.l,this.u,c);return-1===b?this:1===this.u?null:new vh(null,this.Nb,this.u-1,lh(this.l,xe(b,2)))};g.U=function(){return new ph(this.l,0,null,null)};
var ih=function ih(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 6:return ih.fa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return ih.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
ih.fa=function(b,a,c,d,e,f){var h=Hc(a);if(h===d)return new vh(null,h,2,[a,c,e,f]);var k=new fh;return rh.ob(b,h,a,c,k).ob(b,d,e,f,k)};ih.ma=function(b,a,c,d,e,f,h){var k=Hc(c);if(k===e)return new vh(null,k,2,[c,d,f,h]);var m=new fh;return rh.pb(b,a,k,c,d,m).pb(b,a,e,f,h,m)};ih.C=7;function wh(b,a,c,d,e){this.w=b;this.nodes=a;this.F=c;this.Z=d;this.i=e;this.m=32374860;this.D=0}g=wh.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.w};
g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Qc,this.w)};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};g.ha=function(){return null==this.Z?new V(null,2,5,W,[this.nodes[this.F],this.nodes[this.F+1]],null):G(this.Z)};
g.ra=function(){if(null==this.Z){var b=this.nodes,a=this.F+2;return gh.f?gh.f(b,a,null):gh.call(null,b,a,null)}var b=this.nodes,a=this.F,c=H(this.Z);return gh.f?gh.f(b,a,c):gh.call(null,b,a,c)};g.M=function(){return this};g.O=function(b,a){return new wh(a,this.nodes,this.F,this.Z,this.i)};g.P=function(b,a){return ld(a,this)};wh.prototype[Wa]=function(){return Sc(this)};
var gh=function gh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return gh.c(arguments[0]);case 3:return gh.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};gh.c=function(b){return gh.f(b,0,null)};
gh.f=function(b,a,c){if(null==c)for(c=b.length;;)if(a<c){if(null!=b[a])return new wh(null,b,a,null,null);var d=b[a+1];if(p(d)&&(d=d.Nc(),p(d)))return new wh(null,b,a+2,d,null);a+=2}else return null;else return new wh(null,b,a,c,null)};gh.C=3;function xh(b,a,c,d,e){this.w=b;this.nodes=a;this.F=c;this.Z=d;this.i=e;this.m=32374860;this.D=0}g=xh.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.w};
g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Qc,this.w)};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};g.ha=function(){return G(this.Z)};g.ra=function(){var b=this.nodes,a=this.F,c=H(this.Z);return hh.A?hh.A(null,b,a,c):hh.call(null,null,b,a,c)};g.M=function(){return this};g.O=function(b,a){return new xh(a,this.nodes,this.F,this.Z,this.i)};g.P=function(b,a){return ld(a,this)};
xh.prototype[Wa]=function(){return Sc(this)};var hh=function hh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return hh.c(arguments[0]);case 4:return hh.A(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};hh.c=function(b){return hh.A(null,b,0,null)};
hh.A=function(b,a,c,d){if(null==d)for(d=a.length;;)if(c<d){var e=a[c];if(p(e)&&(e=e.Nc(),p(e)))return new xh(b,a,c+1,e,null);c+=1}else return null;else return new xh(b,a,c,d,null)};hh.C=4;eh;function yh(b,a,c){this.Qa=b;this.Zd=a;this.rd=c}yh.prototype.va=function(){return this.rd&&this.Zd.va()};yh.prototype.next=function(){if(this.rd)return this.Zd.next();this.rd=!0;return this.Qa};yh.prototype.remove=function(){return Error("Unsupported operation")};
function zd(b,a,c,d,e,f){this.w=b;this.u=a;this.root=c;this.Oa=d;this.Qa=e;this.i=f;this.m=16123663;this.D=8196}g=zd.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.keys=function(){return Sc(Zg.c?Zg.c(this):Zg.call(null,this))};g.entries=function(){return Ug(E(this))};g.values=function(){return Sc($g.c?$g.c(this):$g.call(null,this))};g.has=function(b){return Wd(this,b)};g.get=function(b,a){return this.G(null,b,a)};
g.forEach=function(b){for(var a=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.X(null,e),h=M(f,0),f=M(f,1);b.b?b.b(f,h):b.call(null,f,h);e+=1}else if(a=E(a))Pd(a)?(c=kc(a),a=lc(a),h=c,d=L(c),c=h):(c=G(a),h=M(c,0),f=M(c,1),b.b?b.b(f,h):b.call(null,f,h),a=H(a),c=null,d=0),e=0;else return null};g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){return null==a?this.Oa?this.Qa:c:null==this.root?c:this.root.Vb(0,Hc(a),a,c)};
g.rc=function(b,a,c){b=this.Oa?a.f?a.f(c,null,this.Qa):a.call(null,c,null,this.Qa):c;return ed(b)?I.c?I.c(b):I.call(null,b):null!=this.root?this.root.hc(a,b):b};g.U=function(){var b=this.root?tc(this.root):jf;return this.Oa?new yh(this.Qa,b,!1):b};g.N=function(){return this.w};g.R=function(){return this.u};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Yc(this)};g.B=function(b,a){return Rg(this,a)};g.qc=function(){return new eh({},this.root,this.u,this.Oa,this.Qa)};
g.ea=function(){return Kb(bh,this.w)};g.W=function(b,a){if(null==a)return this.Oa?new zd(this.w,this.u-1,this.root,!1,null,null):this;if(null==this.root)return this;var c=this.root.Oc(0,Hc(a),a);return c===this.root?this:new zd(this.w,this.u-1,c,this.Oa,this.Qa,null)};
g.T=function(b,a,c){if(null==a)return this.Oa&&c===this.Qa?this:new zd(this.w,this.Oa?this.u:this.u+1,this.root,!0,c,null);b=new fh;a=(null==this.root?rh:this.root).ob(0,Hc(a),a,c,b);return a===this.root?this:new zd(this.w,b.val?this.u+1:this.u,a,this.Oa,this.Qa,null)};g.$b=function(b,a){return null==a?this.Oa:null==this.root?!1:this.root.Vb(0,Hc(a),a,Sd)!==Sd};g.M=function(){if(0<this.u){var b=null!=this.root?this.root.Nc():null;return this.Oa?ld(new V(null,2,5,W,[null,this.Qa],null),b):b}return null};
g.O=function(b,a){return new zd(a,this.u,this.root,this.Oa,this.Qa,this.i)};g.P=function(b,a){if(Md(a))return tb(this,x.b(a,0),x.b(a,1));for(var c=this,d=E(a);;){if(null==d)return c;var e=G(d);if(Md(e))c=tb(c,x.b(e,0),x.b(e,1)),d=H(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.I(null,b);case 3:return this.G(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.I(null,b)};b.f=function(a,b,d){return this.G(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.I(null,b)};g.b=function(b,a){return this.G(null,b,a)};var bh=new zd(null,0,null,!1,null,Zc);
function Ad(b,a){for(var c=b.length,d=0,e=cc(bh);;)if(d<c)var f=d+1,e=e.Hc(null,b[d],a[d]),d=f;else return ec(e)}zd.prototype[Wa]=function(){return Sc(this)};function eh(b,a,c,d,e){this.ga=b;this.root=a;this.count=c;this.Oa=d;this.Qa=e;this.m=258;this.D=56}
function zh(b,a,c){if(b.ga){if(null==a)b.Qa!==c&&(b.Qa=c),b.Oa||(b.count+=1,b.Oa=!0);else{var d=new fh;a=(null==b.root?rh:b.root).pb(b.ga,0,Hc(a),a,c,d);a!==b.root&&(b.root=a);d.val&&(b.count+=1)}return b}throw Error("assoc! after persistent!");}g=eh.prototype;g.R=function(){if(this.ga)return this.count;throw Error("count after persistent!");};g.I=function(b,a){return null==a?this.Oa?this.Qa:null:null==this.root?null:this.root.Vb(0,Hc(a),a)};
g.G=function(b,a,c){return null==a?this.Oa?this.Qa:c:null==this.root?c:this.root.Vb(0,Hc(a),a,c)};g.bc=function(b,a){var c;a:if(this.ga)if(null!=a?a.m&2048||a.fe||(a.m?0:Sa(xb,a)):Sa(xb,a))c=zh(this,Fe.c?Fe.c(a):Fe.call(null,a),Ge.c?Ge.c(a):Ge.call(null,a));else{c=E(a);for(var d=this;;){var e=G(c);if(p(e))c=H(c),d=zh(d,Fe.c?Fe.c(e):Fe.call(null,e),Ge.c?Ge.c(e):Ge.call(null,e));else{c=d;break a}}}else throw Error("conj! after persistent");return c};
g.sc=function(){var b;if(this.ga)this.ga=null,b=new zd(null,this.count,this.root,this.Oa,this.Qa,null);else throw Error("persistent! called twice");return b};g.Hc=function(b,a,c){return zh(this,a,c)};function Ah(b,a,c){for(var d=a;;)if(null!=b)a=c?b.left:b.right,d=J.b(d,b),b=a;else return d}function Bh(b,a,c,d,e){this.w=b;this.stack=a;this.Uc=c;this.u=d;this.i=e;this.m=32374862;this.D=0}g=Bh.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.w};
g.R=function(){return 0>this.u?L(H(this))+1:this.u};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Qc,this.w)};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};g.ha=function(){return Ed(this.stack)};g.ra=function(){var b=G(this.stack),b=Ah(this.Uc?b.right:b.left,H(this.stack),this.Uc);return null!=b?new Bh(null,b,this.Uc,this.u-1,null):Qc};g.M=function(){return this};
g.O=function(b,a){return new Bh(a,this.stack,this.Uc,this.u,this.i)};g.P=function(b,a){return ld(a,this)};Bh.prototype[Wa]=function(){return Sc(this)};function Ch(b,a,c){return new Bh(null,Ah(b,null,a),a,c,null)}Dh;Eh;
function Fh(b,a,c,d){return c instanceof Dh?c.left instanceof Dh?new Dh(c.key,c.val,c.left.Kb(),new Eh(b,a,c.right,d,null),null):c.right instanceof Dh?new Dh(c.right.key,c.right.val,new Eh(c.key,c.val,c.left,c.right.left,null),new Eh(b,a,c.right.right,d,null),null):new Eh(b,a,c,d,null):new Eh(b,a,c,d,null)}
function Gh(b,a,c,d){return d instanceof Dh?d.right instanceof Dh?new Dh(d.key,d.val,new Eh(b,a,c,d.left,null),d.right.Kb(),null):d.left instanceof Dh?new Dh(d.left.key,d.left.val,new Eh(b,a,c,d.left.left,null),new Eh(d.key,d.val,d.left.right,d.right,null),null):new Eh(b,a,c,d,null):new Eh(b,a,c,d,null)}
function Hh(b,a,c,d){if(c instanceof Dh)return new Dh(b,a,c.Kb(),d,null);if(d instanceof Eh)return Gh(b,a,c,d.Rc());if(d instanceof Dh&&d.left instanceof Eh)return new Dh(d.left.key,d.left.val,new Eh(b,a,c,d.left.left,null),Gh(d.key,d.val,d.left.right,d.right.Rc()),null);throw Error("red-black tree invariant violation");}
var Ih=function Ih(a,c,d){d=null!=a.left?Ih(a.left,c,d):d;if(ed(d))return I.c?I.c(d):I.call(null,d);var e=a.key,f=a.val;d=c.f?c.f(d,e,f):c.call(null,d,e,f);if(ed(d))return I.c?I.c(d):I.call(null,d);a=null!=a.right?Ih(a.right,c,d):d;return ed(a)?I.c?I.c(a):I.call(null,a):a};function Eh(b,a,c,d,e){this.key=b;this.val=a;this.left=c;this.right=d;this.i=e;this.m=32402207;this.D=0}g=Eh.prototype;g.vd=function(b){return b.xd(this)};g.Rc=function(){return new Dh(this.key,this.val,this.left,this.right,null)};
g.Kb=function(){return this};g.ud=function(b){return b.wd(this)};g.replace=function(b,a,c,d){return new Eh(b,a,c,d,null)};g.wd=function(b){return new Eh(b.key,b.val,this,b.right,null)};g.xd=function(b){return new Eh(b.key,b.val,b.left,this,null)};g.hc=function(b,a){return Ih(this,b,a)};g.I=function(b,a){return x.f(this,a,null)};g.G=function(b,a,c){return x.f(this,a,c)};g.X=function(b,a){return 0===a?this.key:1===a?this.val:null};g.Ra=function(b,a,c){return 0===a?this.key:1===a?this.val:c};
g.cc=function(b,a,c){return(new V(null,2,5,W,[this.key,this.val],null)).cc(null,a,c)};g.N=function(){return null};g.R=function(){return 2};g.Dc=function(){return this.key};g.Ec=function(){return this.val};g.Lb=function(){return this.val};g.Mb=function(){return new V(null,1,5,W,[this.key],null)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return wd};g.na=function(b,a){return fd(this,a)};g.oa=function(b,a,c){return gd(this,a,c)};
g.T=function(b,a,c){return O.f(new V(null,2,5,W,[this.key,this.val],null),a,c)};g.M=function(){return hb(hb(Qc,this.val),this.key)};g.O=function(b,a){return bd(new V(null,2,5,W,[this.key,this.val],null),a)};g.P=function(b,a){return new V(null,3,5,W,[this.key,this.val,a],null)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.I(null,b);case 3:return this.G(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.I(null,b)};b.f=function(a,b,d){return this.G(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.I(null,b)};g.b=function(b,a){return this.G(null,b,a)};Eh.prototype[Wa]=function(){return Sc(this)};
function Dh(b,a,c,d,e){this.key=b;this.val=a;this.left=c;this.right=d;this.i=e;this.m=32402207;this.D=0}g=Dh.prototype;g.vd=function(b){return new Dh(this.key,this.val,this.left,b,null)};g.Rc=function(){throw Error("red-black tree invariant violation");};g.Kb=function(){return new Eh(this.key,this.val,this.left,this.right,null)};g.ud=function(b){return new Dh(this.key,this.val,b,this.right,null)};g.replace=function(b,a,c,d){return new Dh(b,a,c,d,null)};
g.wd=function(b){return this.left instanceof Dh?new Dh(this.key,this.val,this.left.Kb(),new Eh(b.key,b.val,this.right,b.right,null),null):this.right instanceof Dh?new Dh(this.right.key,this.right.val,new Eh(this.key,this.val,this.left,this.right.left,null),new Eh(b.key,b.val,this.right.right,b.right,null),null):new Eh(b.key,b.val,this,b.right,null)};
g.xd=function(b){return this.right instanceof Dh?new Dh(this.key,this.val,new Eh(b.key,b.val,b.left,this.left,null),this.right.Kb(),null):this.left instanceof Dh?new Dh(this.left.key,this.left.val,new Eh(b.key,b.val,b.left,this.left.left,null),new Eh(this.key,this.val,this.left.right,this.right,null),null):new Eh(b.key,b.val,b.left,this,null)};g.hc=function(b,a){return Ih(this,b,a)};g.I=function(b,a){return x.f(this,a,null)};g.G=function(b,a,c){return x.f(this,a,c)};
g.X=function(b,a){return 0===a?this.key:1===a?this.val:null};g.Ra=function(b,a,c){return 0===a?this.key:1===a?this.val:c};g.cc=function(b,a,c){return(new V(null,2,5,W,[this.key,this.val],null)).cc(null,a,c)};g.N=function(){return null};g.R=function(){return 2};g.Dc=function(){return this.key};g.Ec=function(){return this.val};g.Lb=function(){return this.val};g.Mb=function(){return new V(null,1,5,W,[this.key],null)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};
g.B=function(b,a){return ad(this,a)};g.ea=function(){return wd};g.na=function(b,a){return fd(this,a)};g.oa=function(b,a,c){return gd(this,a,c)};g.T=function(b,a,c){return O.f(new V(null,2,5,W,[this.key,this.val],null),a,c)};g.M=function(){return hb(hb(Qc,this.val),this.key)};g.O=function(b,a){return bd(new V(null,2,5,W,[this.key,this.val],null),a)};g.P=function(b,a){return new V(null,3,5,W,[this.key,this.val,a],null)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.I(null,b);case 3:return this.G(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.I(null,b)};b.f=function(a,b,d){return this.G(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.I(null,b)};g.b=function(b,a){return this.G(null,b,a)};Dh.prototype[Wa]=function(){return Sc(this)};
var Jh=function Jh(a,c,d,e,f){if(null==c)return new Dh(d,e,null,null,null);var h;h=c.key;h=a.b?a.b(d,h):a.call(null,d,h);if(0===h)return f[0]=c,null;if(0>h)return a=Jh(a,c.left,d,e,f),null!=a?c.ud(a):null;a=Jh(a,c.right,d,e,f);return null!=a?c.vd(a):null},Kh=function Kh(a,c){if(null==a)return c;if(null==c)return a;if(a instanceof Dh){if(c instanceof Dh){var d=Kh(a.right,c.left);return d instanceof Dh?new Dh(d.key,d.val,new Dh(a.key,a.val,a.left,d.left,null),new Dh(c.key,c.val,d.right,c.right,null),
null):new Dh(a.key,a.val,a.left,new Dh(c.key,c.val,d,c.right,null),null)}return new Dh(a.key,a.val,a.left,Kh(a.right,c),null)}if(c instanceof Dh)return new Dh(c.key,c.val,Kh(a,c.left),c.right,null);d=Kh(a.right,c.left);return d instanceof Dh?new Dh(d.key,d.val,new Eh(a.key,a.val,a.left,d.left,null),new Eh(c.key,c.val,d.right,c.right,null),null):Hh(a.key,a.val,a.left,new Eh(c.key,c.val,d,c.right,null))},Lh=function Lh(a,c,d,e){if(null!=c){var f;f=c.key;f=a.b?a.b(d,f):a.call(null,d,f);if(0===f)return e[0]=
c,Kh(c.left,c.right);if(0>f)return a=Lh(a,c.left,d,e),null!=a||null!=e[0]?c.left instanceof Eh?Hh(c.key,c.val,a,c.right):new Dh(c.key,c.val,a,c.right,null):null;a=Lh(a,c.right,d,e);if(null!=a||null!=e[0])if(c.right instanceof Eh)if(e=c.key,d=c.val,c=c.left,a instanceof Dh)c=new Dh(e,d,c,a.Kb(),null);else if(c instanceof Eh)c=Fh(e,d,c.Rc(),a);else if(c instanceof Dh&&c.right instanceof Eh)c=new Dh(c.right.key,c.right.val,Fh(c.key,c.val,c.left.Rc(),c.right.left),new Eh(e,d,c.right.right,a,null),null);
else throw Error("red-black tree invariant violation");else c=new Dh(c.key,c.val,c.left,a,null);else c=null;return c}return null},Mh=function Mh(a,c,d,e){var f=c.key,h=a.b?a.b(d,f):a.call(null,d,f);return 0===h?c.replace(f,e,c.left,c.right):0>h?c.replace(f,c.val,Mh(a,c.left,d,e),c.right):c.replace(f,c.val,c.left,Mh(a,c.right,d,e))};Fe;function Nh(b,a,c,d,e){this.gb=b;this.tree=a;this.u=c;this.w=d;this.i=e;this.m=418776847;this.D=8192}g=Nh.prototype;
g.forEach=function(b){for(var a=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.X(null,e),h=M(f,0),f=M(f,1);b.b?b.b(f,h):b.call(null,f,h);e+=1}else if(a=E(a))Pd(a)?(c=kc(a),a=lc(a),h=c,d=L(c),c=h):(c=G(a),h=M(c,0),f=M(c,1),b.b?b.b(f,h):b.call(null,f,h),a=H(a),c=null,d=0),e=0;else return null};g.get=function(b,a){return this.G(null,b,a)};g.entries=function(){return Ug(E(this))};g.toString=function(){return vc(this)};g.keys=function(){return Sc(Zg.c?Zg.c(this):Zg.call(null,this))};
g.values=function(){return Sc($g.c?$g.c(this):$g.call(null,this))};g.equiv=function(b){return this.B(null,b)};function Oh(b,a){for(var c=b.tree;;)if(null!=c){var d;d=c.key;d=b.gb.b?b.gb.b(a,d):b.gb.call(null,a,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(b){return Wd(this,b)};g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){b=Oh(this,a);return null!=b?b.val:c};g.rc=function(b,a,c){return null!=this.tree?Ih(this.tree,a,c):c};g.N=function(){return this.w};
g.R=function(){return this.u};g.vb=function(){return 0<this.u?Ch(this.tree,!1,this.u):null};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Yc(this)};g.B=function(b,a){return Rg(this,a)};g.ea=function(){return new Nh(this.gb,null,0,this.w,0)};g.W=function(b,a){var c=[null],d=Lh(this.gb,this.tree,a,c);return null==d?null==yd(c,0)?this:new Nh(this.gb,null,0,this.w,null):new Nh(this.gb,d.Kb(),this.u-1,this.w,null)};
g.T=function(b,a,c){b=[null];var d=Jh(this.gb,this.tree,a,c,b);return null==d?(b=yd(b,0),A.b(c,b.val)?this:new Nh(this.gb,Mh(this.gb,this.tree,a,c),this.u,this.w,null)):new Nh(this.gb,d.Kb(),this.u+1,this.w,null)};g.$b=function(b,a){return null!=Oh(this,a)};g.M=function(){return 0<this.u?Ch(this.tree,!0,this.u):null};g.O=function(b,a){return new Nh(this.gb,this.tree,this.u,a,this.i)};
g.P=function(b,a){if(Md(a))return tb(this,x.b(a,0),x.b(a,1));for(var c=this,d=E(a);;){if(null==d)return c;var e=G(d);if(Md(e))c=tb(c,x.b(e,0),x.b(e,1)),d=H(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.I(null,b);case 3:return this.G(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.I(null,b)};b.f=function(a,b,d){return this.G(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.I(null,b)};g.b=function(b,a){return this.G(null,b,a)};var Ph=new Nh(Cc,null,0,null,Zc);Nh.prototype[Wa]=function(){return Sc(this)};
var $c=function $c(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Nc(c.slice(0),0):null;return $c.j(c)};$c.j=function(b){b=E(b);for(var a=cc(bh);;)if(b){var c=H(H(b)),a=ef.f(a,G(b),td(b));b=c}else return ec(a)};$c.C=0;$c.K=function(b){return $c.j(E(b))};
function Qh(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;a=0<a.length?new Nc(a.slice(0),0):null;a:for(a=E(a),d=Ph;;)if(a)c=H(H(a)),d=O.f(d,G(a),td(a)),a=c;else break a;return d}function Rh(b,a){this.aa=b;this.Ta=a;this.m=32374988;this.D=0}g=Rh.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.Ta};
g.ya=function(){var b=(null!=this.aa?this.aa.m&128||this.aa.Zc||(this.aa.m?0:Sa(ob,this.aa)):Sa(ob,this.aa))?this.aa.ya(null):H(this.aa);return null==b?null:new Rh(b,this.Ta)};g.L=function(){return Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Qc,this.Ta)};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};g.ha=function(){return this.aa.ha(null).Dc(null)};
g.ra=function(){var b=(null!=this.aa?this.aa.m&128||this.aa.Zc||(this.aa.m?0:Sa(ob,this.aa)):Sa(ob,this.aa))?this.aa.ya(null):H(this.aa);return null!=b?new Rh(b,this.Ta):Qc};g.M=function(){return this};g.O=function(b,a){return new Rh(this.aa,a)};g.P=function(b,a){return ld(a,this)};Rh.prototype[Wa]=function(){return Sc(this)};function Zg(b){return(b=E(b))?new Rh(b,null):null}function Fe(b){return yb(b)}function Sh(b,a){this.aa=b;this.Ta=a;this.m=32374988;this.D=0}g=Sh.prototype;g.toString=function(){return vc(this)};
g.equiv=function(b){return this.B(null,b)};g.N=function(){return this.Ta};g.ya=function(){var b=(null!=this.aa?this.aa.m&128||this.aa.Zc||(this.aa.m?0:Sa(ob,this.aa)):Sa(ob,this.aa))?this.aa.ya(null):H(this.aa);return null==b?null:new Sh(b,this.Ta)};g.L=function(){return Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Qc,this.Ta)};g.na=function(b,a){return sd.b(a,this)};g.oa=function(b,a,c){return sd.f(a,c,this)};g.ha=function(){return this.aa.ha(null).Ec(null)};
g.ra=function(){var b=(null!=this.aa?this.aa.m&128||this.aa.Zc||(this.aa.m?0:Sa(ob,this.aa)):Sa(ob,this.aa))?this.aa.ya(null):H(this.aa);return null!=b?new Sh(b,this.Ta):Qc};g.M=function(){return this};g.O=function(b,a){return new Sh(this.aa,a)};g.P=function(b,a){return ld(a,this)};Sh.prototype[Wa]=function(){return Sc(this)};function $g(b){return(b=E(b))?new Sh(b,null):null}function Ge(b){return zb(b)}function Th(b){return p(qf(ie,b))?v.b(function(a,b){return J.b(p(a)?a:R,b)},b):null}
function Uh(b,a){for(var c=R,d=E(a);;)if(d)var e=G(d),f=B.f(b,e,Vh),c=gf.b(f,Vh)?O.f(c,e,f):c,d=H(d);else return bd(c,Dd(b))}Wh;function Xh(b){this.wc=b}Xh.prototype.va=function(){return this.wc.va()};Xh.prototype.next=function(){if(this.wc.va())return this.wc.next().Na[0];throw Error("No such element");};Xh.prototype.remove=function(){return Error("Unsupported operation")};function Zd(b,a,c){this.w=b;this.Ub=a;this.i=c;this.m=15077647;this.D=8196}g=Zd.prototype;g.toString=function(){return vc(this)};
g.equiv=function(b){return this.B(null,b)};g.keys=function(){return Sc(E(this))};g.entries=function(){var b=E(this);return new Vg(E(b))};g.values=function(){return Sc(E(this))};g.has=function(b){return Wd(this,b)};g.forEach=function(b){for(var a=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.X(null,e),h=M(f,0),f=M(f,1);b.b?b.b(f,h):b.call(null,f,h);e+=1}else if(a=E(a))Pd(a)?(c=kc(a),a=lc(a),h=c,d=L(c),c=h):(c=G(a),h=M(c,0),f=M(c,1),b.b?b.b(f,h):b.call(null,f,h),a=H(a),c=null,d=0),e=0;else return null};
g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){return sb(this.Ub,a)?a:c};g.U=function(){return new Xh(tc(this.Ub))};g.N=function(){return this.w};g.R=function(){return db(this.Ub)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Yc(this)};g.B=function(b,a){return Id(a)&&L(this)===L(a)&&pf(function(a){return function(b){return Wd(a,b)}}(this),a)};g.qc=function(){return new Wh(cc(this.Ub))};g.ea=function(){return bd($d,this.w)};
g.gd=function(b,a){return new Zd(this.w,wb(this.Ub,a),null)};g.M=function(){return Zg(this.Ub)};g.O=function(b,a){return new Zd(a,this.Ub,this.i)};g.P=function(b,a){return new Zd(this.w,O.f(this.Ub,a,null),null)};g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.I(null,b);case 3:return this.G(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.I(null,b)};b.f=function(a,b,d){return this.G(null,b,d)};return b}();
g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.I(null,b)};g.b=function(b,a){return this.G(null,b,a)};var $d=new Zd(null,R,Zc);Zd.prototype[Wa]=function(){return Sc(this)};function Wh(b){this.Rb=b;this.D=136;this.m=259}g=Wh.prototype;g.bc=function(b,a){this.Rb=ef.f(this.Rb,a,null);return this};g.sc=function(){return new Zd(null,ec(this.Rb),null)};g.R=function(){return L(this.Rb)};g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){return rb.f(this.Rb,a,Sd)===Sd?c:a};g.call=function(){function b(a,b,c){return rb.f(this.Rb,b,Sd)===Sd?c:b}function a(a,b){return rb.f(this.Rb,b,Sd)===Sd?null:b}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return a.call(this,c,e);case 3:return b.call(this,c,e,f)}throw Error("Invalid arity: "+arguments.length);};c.b=a;c.f=b;return c}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return rb.f(this.Rb,b,Sd)===Sd?null:b};
g.b=function(b,a){return rb.f(this.Rb,b,Sd)===Sd?a:b};function Yh(b){b=E(b);if(null==b)return $d;if(b instanceof Nc&&0===b.F){b=b.l;a:for(var a=0,c=cc($d);;)if(a<b.length)var d=a+1,c=c.bc(null,b[a]),a=d;else break a;return c.sc(null)}for(d=cc($d);;)if(null!=b)a=H(b),d=d.bc(null,b.ha(null)),b=a;else return ec(d)}
var Zh=function Zh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Zh.H();case 1:return Zh.c(arguments[0]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
Zh.H=function(){return function(b){return function(a){return function(){function c(c,d){if(Wd(I.c?I.c(a):I.call(null,a),d))return c;sc(a,J.b(Gb(a),d));return b.b?b.b(c,d):b.call(null,c,d)}function d(a){return b.c?b.c(a):b.call(null,a)}function e(){return b.H?b.H():b.call(null)}var f=null,f=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};f.H=e;f.c=d;f.b=c;return f}()}(xf($d))}};
Zh.c=function(b){return function c(b,e){return new Re(null,function(){return function(b,d){for(;;){var e=b,m=M(e,0);if(e=E(e))if(Wd(d,m))m=Pc(e),e=d,b=m,d=e;else return ld(m,c(Pc(e),J.b(d,m)));else return null}}.call(null,b,e)},null,null)}(b,$d)};Zh.C=1;function $h(b){for(var a=wd;;)if(H(b))a=J.b(a,G(b)),b=H(b);else return E(a)}function Ee(b){if(null!=b&&(b.D&4096||b.he))return b.Fc(null);if("string"===typeof b)return b;throw Error([t("Doesn't support name: "),t(b)].join(""));}
function ai(b,a){for(var c=cc(R),d=E(b),e=E(a);;)if(d&&e)c=ef.f(c,G(d),G(e)),d=H(d),e=H(e);else return ec(c)}var bi=function bi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return bi.b(arguments[0],arguments[1]);case 3:return bi.f(arguments[0],arguments[1],arguments[2]);default:return c=new Nc(c.slice(3),0),bi.j(arguments[0],arguments[1],arguments[2],c)}};bi.b=function(b,a){return a};
bi.f=function(b,a,c){return(b.c?b.c(a):b.call(null,a))>(b.c?b.c(c):b.call(null,c))?a:c};bi.j=function(b,a,c,d){return v.f(function(a,c){return bi.f(b,a,c)},bi.f(b,a,c),d)};bi.K=function(b){var a=G(b),c=H(b);b=G(c);var d=H(c),c=G(d),d=H(d);return bi.j(a,b,c,d)};bi.C=3;function ci(b,a){return new Re(null,function(){var c=E(a);if(c){var d;d=G(c);d=b.c?b.c(d):b.call(null,d);c=p(d)?ld(G(c),ci(b,Pc(c))):null}else c=null;return c},null,null)}function di(b,a,c){this.F=b;this.end=a;this.step=c}
di.prototype.va=function(){return 0<this.step?this.F<this.end:this.F>this.end};di.prototype.next=function(){var b=this.F;this.F+=this.step;return b};function ei(b,a,c,d,e){this.w=b;this.start=a;this.end=c;this.step=d;this.i=e;this.m=32375006;this.D=8192}g=ei.prototype;g.toString=function(){return vc(this)};g.equiv=function(b){return this.B(null,b)};
g.X=function(b,a){if(a<db(this))return this.start+a*this.step;if(this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Ra=function(b,a,c){return a<db(this)?this.start+a*this.step:this.start>this.end&&0===this.step?this.start:c};g.U=function(){return new di(this.start,this.end,this.step)};g.N=function(){return this.w};
g.ya=function(){return 0<this.step?this.start+this.step<this.end?new ei(this.w,this.start+this.step,this.end,this.step,null):null:this.start+this.step>this.end?new ei(this.w,this.start+this.step,this.end,this.step,null):null};g.R=function(){return Ra(Sb(this))?0:Math.ceil((this.end-this.start)/this.step)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=Wc(this)};g.B=function(b,a){return ad(this,a)};g.ea=function(){return bd(Qc,this.w)};g.na=function(b,a){return fd(this,a)};
g.oa=function(b,a,c){for(b=this.start;;)if(0<this.step?b<this.end:b>this.end){c=a.b?a.b(c,b):a.call(null,c,b);if(ed(c))return I.c?I.c(c):I.call(null,c);b+=this.step}else return c};g.ha=function(){return null==Sb(this)?null:this.start};g.ra=function(){return null!=Sb(this)?new ei(this.w,this.start+this.step,this.end,this.step,null):Qc};g.M=function(){return 0<this.step?this.start<this.end?this:null:0>this.step?this.start>this.end?this:null:this.start===this.end?null:this};
g.O=function(b,a){return new ei(a,this.start,this.end,this.step,this.i)};g.P=function(b,a){return ld(a,this)};ei.prototype[Wa]=function(){return Sc(this)};function eg(){return new ei(null,0,Number.MAX_VALUE,1,null)}function fi(b,a){return new V(null,2,5,W,[ci(b,a),Qf(b,a)],null)}
function gi(b,a){return new Re(null,function(){var c=E(a);if(c){var d=G(c),e=b.c?b.c(d):b.call(null,d),d=ld(d,ci(function(a,c){return function(a){return A.b(c,b.c?b.c(a):b.call(null,a))}}(d,e,c,c),H(c)));return ld(d,gi(b,E(Pf(L(d),c))))}return null},null,null)}function hi(b){a:for(var a=b;;)if(E(a))a=H(a);else break a;return b}function ii(b,a){if("string"===typeof a){var c=b.exec(a);return A.b(G(c),a)?1===L(c)?G(c):ge(c):null}throw new TypeError("re-matches must match against a string.");}
function ji(b,a){if("string"===typeof a){var c=b.exec(a);return null==c?null:1===L(c)?G(c):ge(c)}throw new TypeError("re-find must match against a string.");}function ki(b){if(b instanceof RegExp)return b;var a=ji(/^\(\?([idmsux]*)\)/,b),c=M(a,0),a=M(a,1);b=Ce(b,L(c));return new RegExp(b,p(a)?a:"")}
function X(b,a,c,d,e,f,h){var k=Ba;Ba=null==Ba?null:Ba-1;try{if(null!=Ba&&0>Ba)return Yb(b,"#");Yb(b,c);if(0===Ma.c(f))E(h)&&Yb(b,function(){var a=li.c(f);return p(a)?a:"..."}());else{if(E(h)){var m=G(h);a.f?a.f(m,b,f):a.call(null,m,b,f)}for(var n=H(h),r=Ma.c(f)-1;;)if(!n||null!=r&&0===r){E(n)&&0===r&&(Yb(b,d),Yb(b,function(){var a=li.c(f);return p(a)?a:"..."}()));break}else{Yb(b,d);var u=G(n);c=b;h=f;a.f?a.f(u,c,h):a.call(null,u,c,h);var w=H(n);c=r-1;n=w;r=c}}return Yb(b,e)}finally{Ba=k}}
function mi(b,a){for(var c=E(a),d=null,e=0,f=0;;)if(f<e){var h=d.X(null,f);Yb(b,h);f+=1}else if(c=E(c))d=c,Pd(d)?(c=kc(d),e=lc(d),d=c,h=L(c),c=e,e=h):(h=G(d),Yb(b,h),c=H(d),d=null,e=0),f=0;else return null}var ni={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function oi(b){return[t('"'),t(b.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(a){return ni[a]})),t('"')].join("")}pi;
function qi(b,a){var c=Vd(B.b(b,Ja));return c?(c=null!=a?a.m&131072||a.ge?!0:!1:!1)?null!=Dd(a):c:c}
function ri(b,a,c){if(null==b)return Yb(a,"nil");if(qi(c,b)){Yb(a,"^");var d=Dd(b);Y.f?Y.f(d,a,c):Y.call(null,d,a,c);Yb(a," ")}if(b.Md)return b.ke(a);if(null!=b&&(b.m&2147483648||b.ca))return b.J(null,a,c);if(!0===b||!1===b||"number"===typeof b)return Yb(a,""+t(b));if(null!=b&&b.constructor===Object)return Yb(a,"#js "),d=De.b(function(a){return new V(null,2,5,W,[Qe.c(a),b[a]],null)},Qd(b)),pi.A?pi.A(d,Y,a,c):pi.call(null,d,Y,a,c);if(Qa(b))return X(a,Y,"#js ["," ","]",c,b);if(da(b))return p(Ha.c(c))?
Yb(a,oi(b)):Yb(a,b);if(ea(b)){var e=b.name;c=p(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Function":e;return mi(a,D(["#object[",c,' "',""+t(b),'"]'],0))}if(b instanceof Date)return c=function(a,b){for(var c=""+t(a);;)if(L(c)<b)c=[t("0"),t(c)].join("");else return c},mi(a,D(['#inst "',""+t(b.getUTCFullYear()),"-",c(b.getUTCMonth()+1,2),"-",c(b.getUTCDate(),2),"T",c(b.getUTCHours(),2),":",c(b.getUTCMinutes(),2),":",c(b.getUTCSeconds(),2),".",c(b.getUTCMilliseconds(),3),"-",'00:00"'],
0));if(b instanceof RegExp)return mi(a,D(['#"',b.source,'"'],0));if(null!=b&&(b.m&2147483648||b.ca))return Zb(b,a,c);if(p(b.constructor.$c))return mi(a,D(["#object[",b.constructor.$c.replace(RegExp("/","g"),"."),"]"],0));e=b.constructor.name;c=p(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Object":e;return mi(a,D(["#object[",c," ",""+t(b),"]"],0))}function Y(b,a,c){var d=si.c(c);return p(d)?(c=O.f(c,ti,ri),d.f?d.f(b,a,c):d.call(null,b,a,c)):ri(b,a,c)}
var Bf=function Bf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Nc(c.slice(0),0):null;return Bf.j(c)};Bf.j=function(b){var a=Ea();if(Gd(b))a="";else{var c=t,d=new oa;a:{var e=new uc(d);Y(G(b),e,a);b=E(H(b));for(var f=null,h=0,k=0;;)if(k<h){var m=f.X(null,k);Yb(e," ");Y(m,e,a);k+=1}else if(b=E(b))f=b,Pd(f)?(b=kc(f),h=lc(f),f=b,m=L(b),b=h,h=m):(m=G(f),Yb(e," "),Y(m,e,a),b=H(f),f=null,h=0),k=0;else break a}a=""+c(d)}return a};Bf.C=0;Bf.K=function(b){return Bf.j(E(b))};
function pi(b,a,c,d){return X(c,function(b,c,d){var k=yb(b);a.f?a.f(k,c,d):a.call(null,k,c,d);Yb(c," ");b=zb(b);return a.f?a.f(b,c,d):a.call(null,b,c,d)},"{",", ","}",d,E(b))}Gf.prototype.ca=!0;Gf.prototype.J=function(b,a,c){Yb(a,"#object [cljs.core.Volatile ");Y(new l(null,1,[ui,this.state],null),a,c);return Yb(a,"]")};Nc.prototype.ca=!0;Nc.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};Re.prototype.ca=!0;Re.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};
Bh.prototype.ca=!0;Bh.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};wh.prototype.ca=!0;wh.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};Eh.prototype.ca=!0;Eh.prototype.J=function(b,a,c){return X(a,Y,"["," ","]",c,this)};Yg.prototype.ca=!0;Yg.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};Uc.prototype.ca=!0;Uc.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};Od.prototype.ca=!0;Od.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};
Ne.prototype.ca=!0;Ne.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};md.prototype.ca=!0;md.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};zd.prototype.ca=!0;zd.prototype.J=function(b,a,c){return pi(this,Y,a,c)};xh.prototype.ca=!0;xh.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};Ig.prototype.ca=!0;Ig.prototype.J=function(b,a,c){return X(a,Y,"["," ","]",c,this)};Nh.prototype.ca=!0;Nh.prototype.J=function(b,a,c){return pi(this,Y,a,c)};Zd.prototype.ca=!0;
Zd.prototype.J=function(b,a,c){return X(a,Y,"#{"," ","}",c,this)};Nd.prototype.ca=!0;Nd.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};yf.prototype.ca=!0;yf.prototype.J=function(b,a,c){Yb(a,"#object [cljs.core.Atom ");Y(new l(null,1,[ui,this.state],null),a,c);return Yb(a,"]")};Sh.prototype.ca=!0;Sh.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};Dh.prototype.ca=!0;Dh.prototype.J=function(b,a,c){return X(a,Y,"["," ","]",c,this)};V.prototype.ca=!0;
V.prototype.J=function(b,a,c){return X(a,Y,"["," ","]",c,this)};Mg.prototype.ca=!0;Mg.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};Le.prototype.ca=!0;Le.prototype.J=function(b,a){return Yb(a,"()")};of.prototype.ca=!0;of.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};Ng.prototype.ca=!0;Ng.prototype.J=function(b,a,c){return X(a,Y,"#queue ["," ","]",c,E(this))};l.prototype.ca=!0;l.prototype.J=function(b,a,c){return pi(this,Y,a,c)};ei.prototype.ca=!0;
ei.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};Rh.prototype.ca=!0;Rh.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};nd.prototype.ca=!0;nd.prototype.J=function(b,a,c){return X(a,Y,"("," ",")",c,this)};y.prototype.Bc=!0;y.prototype.ac=function(b,a){if(a instanceof y)return Kc(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};q.prototype.Bc=!0;
q.prototype.ac=function(b,a){if(a instanceof q)return Oe(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};Ig.prototype.Bc=!0;Ig.prototype.ac=function(b,a){if(Md(a))return ae(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};V.prototype.Bc=!0;V.prototype.ac=function(b,a){if(Md(a))return ae(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};function vi(b,a,c){ac(b,a,c)}var wi=null;
function xi(b){null==wi&&(wi=zf.c?zf.c(0):zf.call(null,0));return Lc.c([t(b),t(Ff.b(wi,cd))].join(""))}function yi(b){return function(a,c){var d=b.b?b.b(a,c):b.call(null,a,c);return ed(d)?new dd(d):d}}
function Uf(b){return function(a){return function(){function c(b,c){return v.f(a,b,c)}function d(a){return b.c?b.c(a):b.call(null,a)}function e(){return b.H?b.H():b.call(null)}var f=null,f=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};f.H=e;f.c=d;f.b=c;return f}()}(yi(b))}zi;function Ai(){}
var Bi=function Bi(a){if(null!=a&&null!=a.ce)return a.ce(a);var c=Bi[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Bi._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IEncodeJS.-clj-\x3ejs",a);};Ci;function Di(b){return(null!=b?b.be||(b.wb?0:Sa(Ai,b)):Sa(Ai,b))?Bi(b):"string"===typeof b||"number"===typeof b||b instanceof q||b instanceof y?Ci.c?Ci.c(b):Ci.call(null,b):Bf.j(D([b],0))}
var Ci=function Ci(a){if(null==a)return null;if(null!=a?a.be||(a.wb?0:Sa(Ai,a)):Sa(Ai,a))return Bi(a);if(a instanceof q)return Ee(a);if(a instanceof y)return""+t(a);if(Kd(a)){var c={};a=E(a);for(var d=null,e=0,f=0;;)if(f<e){var h=d.X(null,f),k=M(h,0),h=M(h,1);c[Di(k)]=Ci(h);f+=1}else if(a=E(a))Pd(a)?(e=kc(a),a=lc(a),d=e,e=L(e)):(e=G(a),d=M(e,0),e=M(e,1),c[Di(d)]=Ci(e),a=H(a),d=null,e=0),f=0;else break;return c}if(Hd(a)){c=[];a=E(De.b(Ci,a));d=null;for(f=e=0;;)if(f<e)k=d.X(null,f),c.push(k),f+=1;else if(a=
E(a))d=a,Pd(d)?(a=kc(d),f=lc(d),d=a,e=L(a),a=f):(a=G(d),c.push(a),a=H(d),d=null,e=0),f=0;else break;return c}return a},zi=function zi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return zi.H();case 1:return zi.c(arguments[0]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};zi.H=function(){return zi.c(1)};zi.c=function(b){return Math.random()*b};zi.C=1;function Ei(b){b*=Math.random();return Math.floor(b)}
function Fi(b,a){return cf(v.f(function(a,d){var e=b.c?b.c(d):b.call(null,d);return ef.f(a,e,J.b(B.f(a,e,wd),d))},cc(R),a))}var Gi=null;function Hi(){if(null==Gi){var b=new l(null,3,[Ii,R,Ji,R,Ki,R],null);Gi=zf.c?zf.c(b):zf.call(null,b)}return Gi}function Li(b,a,c){var d=A.b(a,c);if(!d&&!(d=Wd(Ki.c(b).call(null,a),c))&&(d=Md(c))&&(d=Md(a)))if(d=L(c)===L(a))for(var d=!0,e=0;;)if(d&&e!==L(c))d=Li(b,a.c?a.c(e):a.call(null,e),c.c?c.c(e):c.call(null,e)),e+=1;else return d;else return d;else return d}
function Mi(b){var a;a=Hi();a=I.c?I.c(a):I.call(null,a);return hf(B.b(Ii.c(a),b))}function Ni(b,a,c,d){Ff.b(b,function(){return I.c?I.c(a):I.call(null,a)});Ff.b(c,function(){return I.c?I.c(d):I.call(null,d)})}
var Oi=function Oi(a,c,d){var e=(I.c?I.c(d):I.call(null,d)).call(null,a),e=p(p(e)?e.c?e.c(c):e.call(null,c):e)?!0:null;if(p(e))return e;e=function(){for(var e=Mi(c);;)if(0<L(e))Oi(a,G(e),d),e=Pc(e);else return null}();if(p(e))return e;e=function(){for(var e=Mi(a);;)if(0<L(e))Oi(G(e),c,d),e=Pc(e);else return null}();return p(e)?e:!1};function Pi(b,a,c){c=Oi(b,a,c);if(p(c))b=c;else{c=Li;var d;d=Hi();d=I.c?I.c(d):I.call(null,d);b=c(d,b,a)}return b}
var Qi=function Qi(a,c,d,e,f,h,k){var m=v.f(function(e,h){var k=M(h,0);M(h,1);if(Li(I.c?I.c(d):I.call(null,d),c,k)){var m;m=(m=null==e)?m:Pi(k,G(e),f);m=p(m)?h:e;if(!p(Pi(G(m),k,f)))throw Error([t("Multiple methods in multimethod '"),t(a),t("' match dispatch value: "),t(c),t(" -\x3e "),t(k),t(" and "),t(G(m)),t(", and neither is preferred")].join(""));return m}return e},null,I.c?I.c(e):I.call(null,e));if(p(m)){if(A.b(I.c?I.c(k):I.call(null,k),I.c?I.c(d):I.call(null,d)))return Ff.A(h,O,c,td(m)),td(m);
Ni(h,e,k,d);return Qi(a,c,d,e,f,h,k)}return null};function Si(b,a){throw Error([t("No method in multimethod '"),t(b),t("' for dispatch value: "),t(a)].join(""));}function Ti(b,a,c,d,e,f,h,k){this.name=b;this.s=a;this.ne=c;this.hierarchy=d;this.xc=e;this.te=f;this.Pc=h;this.Ac=k;this.m=4194305;this.D=4352}g=Ti.prototype;
g.call=function(){function b(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N,ga,sa){a=this;var Ga=ab.j(a.s,b,c,d,e,D([f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N,ga,sa],0)),Tp=Ui(this,Ga);p(Tp)||Si(a.name,Ga);return ab.j(Tp,b,c,d,e,D([f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N,ga,sa],0))}function a(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N,ga){a=this;var sa=a.s.Ja?a.s.Ja(b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N,ga):a.s.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N,ga),Ga=Ui(this,sa);p(Ga)||Si(a.name,sa);return Ga.Ja?Ga.Ja(b,c,d,e,f,h,
k,m,n,r,u,w,z,C,K,F,T,Q,N,ga):Ga.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N,ga)}function c(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N){a=this;var ga=a.s.Ia?a.s.Ia(b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N):a.s.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N),sa=Ui(this,ga);p(sa)||Si(a.name,ga);return sa.Ia?sa.Ia(b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N):sa.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q,N)}function d(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q){a=this;var N=a.s.Ha?a.s.Ha(b,c,d,e,f,h,k,m,n,r,u,
w,z,C,K,F,T,Q):a.s.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q),ga=Ui(this,N);p(ga)||Si(a.name,N);return ga.Ha?ga.Ha(b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q):ga.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T,Q)}function e(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T){a=this;var Q=a.s.Ga?a.s.Ga(b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T):a.s.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T),N=Ui(this,Q);p(N)||Si(a.name,Q);return N.Ga?N.Ga(b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T):N.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F,T)}function f(a,
b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F){a=this;var T=a.s.Fa?a.s.Fa(b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F):a.s.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F),Q=Ui(this,T);p(Q)||Si(a.name,T);return Q.Fa?Q.Fa(b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F):Q.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K,F)}function h(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K){a=this;var F=a.s.Ea?a.s.Ea(b,c,d,e,f,h,k,m,n,r,u,w,z,C,K):a.s.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C,K),T=Ui(this,F);p(T)||Si(a.name,F);return T.Ea?T.Ea(b,c,d,e,f,h,k,m,n,r,u,w,z,C,K):T.call(null,
b,c,d,e,f,h,k,m,n,r,u,w,z,C,K)}function k(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C){a=this;var K=a.s.pa?a.s.pa(b,c,d,e,f,h,k,m,n,r,u,w,z,C):a.s.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C),F=Ui(this,K);p(F)||Si(a.name,K);return F.pa?F.pa(b,c,d,e,f,h,k,m,n,r,u,w,z,C):F.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z,C)}function m(a,b,c,d,e,f,h,k,m,n,r,u,w,z){a=this;var C=a.s.Da?a.s.Da(b,c,d,e,f,h,k,m,n,r,u,w,z):a.s.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z),K=Ui(this,C);p(K)||Si(a.name,C);return K.Da?K.Da(b,c,d,e,f,h,k,m,n,r,u,w,z):
K.call(null,b,c,d,e,f,h,k,m,n,r,u,w,z)}function n(a,b,c,d,e,f,h,k,m,n,r,u,w){a=this;var z=a.s.Ca?a.s.Ca(b,c,d,e,f,h,k,m,n,r,u,w):a.s.call(null,b,c,d,e,f,h,k,m,n,r,u,w),C=Ui(this,z);p(C)||Si(a.name,z);return C.Ca?C.Ca(b,c,d,e,f,h,k,m,n,r,u,w):C.call(null,b,c,d,e,f,h,k,m,n,r,u,w)}function r(a,b,c,d,e,f,h,k,m,n,r,u){a=this;var w=a.s.Ba?a.s.Ba(b,c,d,e,f,h,k,m,n,r,u):a.s.call(null,b,c,d,e,f,h,k,m,n,r,u),z=Ui(this,w);p(z)||Si(a.name,w);return z.Ba?z.Ba(b,c,d,e,f,h,k,m,n,r,u):z.call(null,b,c,d,e,f,h,k,m,
n,r,u)}function u(a,b,c,d,e,f,h,k,m,n,r){a=this;var u=a.s.ua?a.s.ua(b,c,d,e,f,h,k,m,n,r):a.s.call(null,b,c,d,e,f,h,k,m,n,r),w=Ui(this,u);p(w)||Si(a.name,u);return w.ua?w.ua(b,c,d,e,f,h,k,m,n,r):w.call(null,b,c,d,e,f,h,k,m,n,r)}function w(a,b,c,d,e,f,h,k,m,n){a=this;var r=a.s.Ka?a.s.Ka(b,c,d,e,f,h,k,m,n):a.s.call(null,b,c,d,e,f,h,k,m,n),u=Ui(this,r);p(u)||Si(a.name,r);return u.Ka?u.Ka(b,c,d,e,f,h,k,m,n):u.call(null,b,c,d,e,f,h,k,m,n)}function z(a,b,c,d,e,f,h,k,m){a=this;var n=a.s.qa?a.s.qa(b,c,d,e,
f,h,k,m):a.s.call(null,b,c,d,e,f,h,k,m),r=Ui(this,n);p(r)||Si(a.name,n);return r.qa?r.qa(b,c,d,e,f,h,k,m):r.call(null,b,c,d,e,f,h,k,m)}function C(a,b,c,d,e,f,h,k){a=this;var m=a.s.ma?a.s.ma(b,c,d,e,f,h,k):a.s.call(null,b,c,d,e,f,h,k),n=Ui(this,m);p(n)||Si(a.name,m);return n.ma?n.ma(b,c,d,e,f,h,k):n.call(null,b,c,d,e,f,h,k)}function F(a,b,c,d,e,f,h){a=this;var k=a.s.fa?a.s.fa(b,c,d,e,f,h):a.s.call(null,b,c,d,e,f,h),m=Ui(this,k);p(m)||Si(a.name,k);return m.fa?m.fa(b,c,d,e,f,h):m.call(null,b,c,d,e,f,
h)}function K(a,b,c,d,e,f){a=this;var h=a.s.S?a.s.S(b,c,d,e,f):a.s.call(null,b,c,d,e,f),k=Ui(this,h);p(k)||Si(a.name,h);return k.S?k.S(b,c,d,e,f):k.call(null,b,c,d,e,f)}function Q(a,b,c,d,e){a=this;var f=a.s.A?a.s.A(b,c,d,e):a.s.call(null,b,c,d,e),h=Ui(this,f);p(h)||Si(a.name,f);return h.A?h.A(b,c,d,e):h.call(null,b,c,d,e)}function T(a,b,c,d){a=this;var e=a.s.f?a.s.f(b,c,d):a.s.call(null,b,c,d),f=Ui(this,e);p(f)||Si(a.name,e);return f.f?f.f(b,c,d):f.call(null,b,c,d)}function ga(a,b,c){a=this;var d=
a.s.b?a.s.b(b,c):a.s.call(null,b,c),e=Ui(this,d);p(e)||Si(a.name,d);return e.b?e.b(b,c):e.call(null,b,c)}function sa(a,b){a=this;var c=a.s.c?a.s.c(b):a.s.call(null,b),d=Ui(this,c);p(d)||Si(a.name,c);return d.c?d.c(b):d.call(null,b)}function Ga(a){a=this;var b=a.s.H?a.s.H():a.s.call(null),c=Ui(this,b);p(c)||Si(a.name,b);return c.H?c.H():c.call(null)}var N=null,N=function(N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve,bc,rc,Oc,rd,ce,Se,ng,Ri,uh){switch(arguments.length){case 1:return Ga.call(this,N);case 2:return sa.call(this,
N,ia);case 3:return ga.call(this,N,ia,xa);case 4:return T.call(this,N,ia,xa,Ca);case 5:return Q.call(this,N,ia,xa,Ca,Ia);case 6:return K.call(this,N,ia,xa,Ca,Ia,La);case 7:return F.call(this,N,ia,xa,Ca,Ia,La,$a);case 8:return C.call(this,N,ia,xa,Ca,Ia,La,$a,fb);case 9:return z.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb);case 10:return w.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb);case 11:return u.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb);case 12:return r.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb);case 13:return n.call(this,
N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve);case 14:return m.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve,bc);case 15:return k.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve,bc,rc);case 16:return h.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve,bc,rc,Oc);case 17:return f.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve,bc,rc,Oc,rd);case 18:return e.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve,bc,rc,Oc,rd,ce);case 19:return d.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve,bc,rc,Oc,rd,ce,Se);case 20:return c.call(this,
N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve,bc,rc,Oc,rd,ce,Se,ng);case 21:return a.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve,bc,rc,Oc,rd,ce,Se,ng,Ri);case 22:return b.call(this,N,ia,xa,Ca,Ia,La,$a,fb,qb,jb,kb,Pb,ve,bc,rc,Oc,rd,ce,Se,ng,Ri,uh)}throw Error("Invalid arity: "+arguments.length);};N.c=Ga;N.b=sa;N.f=ga;N.A=T;N.S=Q;N.fa=K;N.ma=F;N.qa=C;N.Ka=z;N.ua=w;N.Ba=u;N.Ca=r;N.Da=n;N.pa=m;N.Ea=k;N.Fa=h;N.Ga=f;N.Ha=e;N.Ia=d;N.Ja=c;N.ed=a;N.Cc=b;return N}();
g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.H=function(){var b=this.s.H?this.s.H():this.s.call(null),a=Ui(this,b);p(a)||Si(this.name,b);return a.H?a.H():a.call(null)};g.c=function(b){var a=this.s.c?this.s.c(b):this.s.call(null,b),c=Ui(this,a);p(c)||Si(this.name,a);return c.c?c.c(b):c.call(null,b)};g.b=function(b,a){var c=this.s.b?this.s.b(b,a):this.s.call(null,b,a),d=Ui(this,c);p(d)||Si(this.name,c);return d.b?d.b(b,a):d.call(null,b,a)};
g.f=function(b,a,c){var d=this.s.f?this.s.f(b,a,c):this.s.call(null,b,a,c),e=Ui(this,d);p(e)||Si(this.name,d);return e.f?e.f(b,a,c):e.call(null,b,a,c)};g.A=function(b,a,c,d){var e=this.s.A?this.s.A(b,a,c,d):this.s.call(null,b,a,c,d),f=Ui(this,e);p(f)||Si(this.name,e);return f.A?f.A(b,a,c,d):f.call(null,b,a,c,d)};g.S=function(b,a,c,d,e){var f=this.s.S?this.s.S(b,a,c,d,e):this.s.call(null,b,a,c,d,e),h=Ui(this,f);p(h)||Si(this.name,f);return h.S?h.S(b,a,c,d,e):h.call(null,b,a,c,d,e)};
g.fa=function(b,a,c,d,e,f){var h=this.s.fa?this.s.fa(b,a,c,d,e,f):this.s.call(null,b,a,c,d,e,f),k=Ui(this,h);p(k)||Si(this.name,h);return k.fa?k.fa(b,a,c,d,e,f):k.call(null,b,a,c,d,e,f)};g.ma=function(b,a,c,d,e,f,h){var k=this.s.ma?this.s.ma(b,a,c,d,e,f,h):this.s.call(null,b,a,c,d,e,f,h),m=Ui(this,k);p(m)||Si(this.name,k);return m.ma?m.ma(b,a,c,d,e,f,h):m.call(null,b,a,c,d,e,f,h)};
g.qa=function(b,a,c,d,e,f,h,k){var m=this.s.qa?this.s.qa(b,a,c,d,e,f,h,k):this.s.call(null,b,a,c,d,e,f,h,k),n=Ui(this,m);p(n)||Si(this.name,m);return n.qa?n.qa(b,a,c,d,e,f,h,k):n.call(null,b,a,c,d,e,f,h,k)};g.Ka=function(b,a,c,d,e,f,h,k,m){var n=this.s.Ka?this.s.Ka(b,a,c,d,e,f,h,k,m):this.s.call(null,b,a,c,d,e,f,h,k,m),r=Ui(this,n);p(r)||Si(this.name,n);return r.Ka?r.Ka(b,a,c,d,e,f,h,k,m):r.call(null,b,a,c,d,e,f,h,k,m)};
g.ua=function(b,a,c,d,e,f,h,k,m,n){var r=this.s.ua?this.s.ua(b,a,c,d,e,f,h,k,m,n):this.s.call(null,b,a,c,d,e,f,h,k,m,n),u=Ui(this,r);p(u)||Si(this.name,r);return u.ua?u.ua(b,a,c,d,e,f,h,k,m,n):u.call(null,b,a,c,d,e,f,h,k,m,n)};g.Ba=function(b,a,c,d,e,f,h,k,m,n,r){var u=this.s.Ba?this.s.Ba(b,a,c,d,e,f,h,k,m,n,r):this.s.call(null,b,a,c,d,e,f,h,k,m,n,r),w=Ui(this,u);p(w)||Si(this.name,u);return w.Ba?w.Ba(b,a,c,d,e,f,h,k,m,n,r):w.call(null,b,a,c,d,e,f,h,k,m,n,r)};
g.Ca=function(b,a,c,d,e,f,h,k,m,n,r,u){var w=this.s.Ca?this.s.Ca(b,a,c,d,e,f,h,k,m,n,r,u):this.s.call(null,b,a,c,d,e,f,h,k,m,n,r,u),z=Ui(this,w);p(z)||Si(this.name,w);return z.Ca?z.Ca(b,a,c,d,e,f,h,k,m,n,r,u):z.call(null,b,a,c,d,e,f,h,k,m,n,r,u)};g.Da=function(b,a,c,d,e,f,h,k,m,n,r,u,w){var z=this.s.Da?this.s.Da(b,a,c,d,e,f,h,k,m,n,r,u,w):this.s.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w),C=Ui(this,z);p(C)||Si(this.name,z);return C.Da?C.Da(b,a,c,d,e,f,h,k,m,n,r,u,w):C.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w)};
g.pa=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z){var C=this.s.pa?this.s.pa(b,a,c,d,e,f,h,k,m,n,r,u,w,z):this.s.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z),F=Ui(this,C);p(F)||Si(this.name,C);return F.pa?F.pa(b,a,c,d,e,f,h,k,m,n,r,u,w,z):F.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z)};
g.Ea=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C){var F=this.s.Ea?this.s.Ea(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C):this.s.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C),K=Ui(this,F);p(K)||Si(this.name,F);return K.Ea?K.Ea(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C):K.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C)};
g.Fa=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F){var K=this.s.Fa?this.s.Fa(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F):this.s.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F),Q=Ui(this,K);p(Q)||Si(this.name,K);return Q.Fa?Q.Fa(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F):Q.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F)};
g.Ga=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K){var Q=this.s.Ga?this.s.Ga(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K):this.s.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K),T=Ui(this,Q);p(T)||Si(this.name,Q);return T.Ga?T.Ga(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K):T.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K)};
g.Ha=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q){var T=this.s.Ha?this.s.Ha(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q):this.s.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q),ga=Ui(this,T);p(ga)||Si(this.name,T);return ga.Ha?ga.Ha(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q):ga.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q)};
g.Ia=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T){var ga=this.s.Ia?this.s.Ia(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T):this.s.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T),sa=Ui(this,ga);p(sa)||Si(this.name,ga);return sa.Ia?sa.Ia(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T):sa.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T)};
g.Ja=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga){var sa=this.s.Ja?this.s.Ja(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga):this.s.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga),Ga=Ui(this,sa);p(Ga)||Si(this.name,sa);return Ga.Ja?Ga.Ja(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga):Ga.call(null,b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga)};
g.ed=function(b,a,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa){var Ga=ab.j(this.s,b,a,c,d,D([e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa],0)),N=Ui(this,Ga);p(N)||Si(this.name,Ga);return ab.j(N,b,a,c,d,D([e,f,h,k,m,n,r,u,w,z,C,F,K,Q,T,ga,sa],0))};function Vi(b,a,c){Ff.A(b.xc,O,a,c);Ni(b.Pc,b.xc,b.Ac,b.hierarchy)}
function Ui(b,a){A.b(I.c?I.c(b.Ac):I.call(null,b.Ac),I.c?I.c(b.hierarchy):I.call(null,b.hierarchy))||Ni(b.Pc,b.xc,b.Ac,b.hierarchy);var c=(I.c?I.c(b.Pc):I.call(null,b.Pc)).call(null,a);if(p(c))return c;c=Qi(b.name,a,b.hierarchy,b.xc,b.te,b.Pc,b.Ac);return p(c)?c:(I.c?I.c(b.xc):I.call(null,b.xc)).call(null,b.ne)}g.Fc=function(){return nc(this.name)};g.Gc=function(){return oc(this.name)};g.L=function(){return this[fa]||(this[fa]=++ha)};
function Wi(b,a){this.mc=b;this.i=a;this.m=2153775104;this.D=2048}g=Wi.prototype;g.toString=function(){return this.mc};g.equiv=function(b){return this.B(null,b)};g.B=function(b,a){return a instanceof Wi&&this.mc===a.mc};g.J=function(b,a){return Yb(a,[t('#uuid "'),t(this.mc),t('"')].join(""))};g.L=function(){null==this.i&&(this.i=Fc(this.mc));return this.i};g.ac=function(b,a){return va(this.mc,a.mc)};
function Xi(b,a,c){var d=Error(b);this.message=b;this.data=a;this.zd=c;this.name=d.name;this.description=d.description;this.se=d.se;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}Xi.prototype.__proto__=Error.prototype;Xi.prototype.ca=!0;Xi.prototype.J=function(b,a,c){Yb(a,"#error {:message ");Y(this.message,a,c);p(this.data)&&(Yb(a,", :data "),Y(this.data,a,c));p(this.zd)&&(Yb(a,", :cause "),Y(this.zd,a,c));return Yb(a,"}")};
Xi.prototype.toString=function(){return vc(this)};function Yi(b,a){return new Xi(b,a,null)};var Zi=new q(null,"y","y",-1757859776),$i=new q("javelin.core","none","javelin.core/none",1150337088),aj=new q("transact","unique","transact/unique",-940992320),bj=new q(null,"used-args","used-args",23596256),cj=new q(null,"args","args",1315556576),dj=new q("parser","in","parser/in",1617442048),ej=new q(null,"rel","rel",1378823488),fj=new q(null,"properties","properties",685819552),gj=new q(null,"updated-at","updated-at",-1592622336),hj=new q(null,"find","find",496279456),ij=new q(null,"tempids",
"tempids",1767509089),jj=new q(null,"schema","schema",-1582001791),kj=new y(null,"get-else","get-else",1312024065,null),lj=new q(null,"box-sizing","box-sizing",-1956090239),mj=new q(null,"tuples","tuples",-676032639),nj=new q("parser","find","parser/find",-801023103),oj=new q(null,"attribute","attribute",-2074029119),pj=new y(null,"aggregate","aggregate",-1142967327,null),qj=new q(null,"min","min",444991522),rj=new q("transact","cas","transact/cas",816687170),sj=new q("lookup-ref","unique","lookup-ref/unique",
-960647710),tj=new q(null,"el","el",-1618201118),uj=new q(null,"expand-kvps","expand-kvps",44141154),vj=new q("db.unique","identity","db.unique/identity",1675950722),wj=new y(null,"pull","pull",779986722,null),xj=new q(null,"*","*",-1294732318),yj=new q("db","index","db/index",-1531680669),zj=new q("datascript.pull-api","expand-rev","datascript.pull-api/expand-rev",2143627459),Aj=new q("tailrecursion.priority-map","not-found","tailrecursion.priority-map/not-found",-436727517),Bj=new y(null,"\x3d",
"\x3d",-1501502141,null),Cj=new q(null,"max-tx","max-tx",1119558339),Dj=new y(null,"dec","dec",-766002333,null),Ej=new q(null,"multi?","multi?",-749311069),Fj=new q(null,"where","where",-2044795965),Gj=new q(null,"v","v",21465059),Hj=new q(null,"fn","fn",-1175266204),Ij=new y(null,"\x3c","\x3c",993667236,null),Jj=new q("db","unique","db/unique",329396388),Kj=new q(null,"wildcard","wildcard",-622473020),Lj=new q(null,"fade-toggle","fade-toggle",-1468421852),Mj=new q(null,"done","done",-889844188),
Ja=new q(null,"meta","meta",1499536964),Nj=new q(null,"variable","variable",-281346492),Oj=new q(null,"color","color",1011675173),Ka=new q(null,"dup","dup",556298533),Pj=new q(null,"vertical-align","vertical-align",651007333),Qj=new q(null,"aevt","aevt",-585148059),Rj=new q(null,"rattr","rattr",-1122345563),Sj=new q(null,"key","key",-1516042587),Tj=new q(null,"element","element",1974019749),Uj=new q(null,"limit","limit",-1355822363),Vj=new y(null,"sum","sum",1777518341,null),Wj=new q("parser","where",
"parser/where",-966053850),Xj=new q(null,"datom","datom",-371556090),Yj=new y(null,"conn","conn",1918841190,null),Zj=new y(null,"pos?","pos?",-244377722,null),ak=new q(null,"db-after","db-after",-571884666),bk=new q(null,"offset","offset",296498311),ck=new q(null,"scale","scale",-230427353),dk=new q("parser","rule-vars","parser/rule-vars",-1493174969),Ef=new y(null,"new-value","new-value",-1567397401,null),ek=new y(null,"neg?","neg?",-1902175577,null),Af=new q(null,"validator","validator",-1966190681),
fk=new q(null,"content","content",15833224),gk=new q(null,"fragment","fragment",826775688),hk=new q(null,"axes","axes",1970866440),ik=new q(null,"default","default",-1987822328),jk=new q(null,"rule-vars","rule-vars",1665972520),kk=new q(null,"free","free",801364328),lk=new q(null,"added","added",2057651688),mk=new q(null,"new","new",-2085437848),nk=new q(null,"other","other",995793544),ok=new q(null,"bindings","bindings",1271397192),pk=new q("db","valueType","db/valueType",1827971944),qk=new q(null,
"symbol","symbol",-1038572696),rk=new q(null,"avet","avet",1383857032),sk=new q(null,"sources","sources",-321166424),tk=new y(null,"schema","schema",58529736,null),uk=new q(null,"name","name",1843675177),vk=new y(null,"\x3c\x3d","\x3c\x3d",1244895369,null),wk=new q(null,"permalink","permalink",1009167849),xk=new q("query","binding","query/binding",698240489),yk=new y(null,"*","*",345799209,null),zk=new y(null,"min","min",2085523049,null),Ak=new q("db.type","ref","db.type/ref",-1728373079),Bk=new q(null,
"fill","fill",883462889),Ck=new q(null,"value","value",305978217),Dk=new q(null,"prefix-context","prefix-context",-1269613591),Ek=new q(null,"slide-toggle","slide-toggle",968641513),Fk=new q("datascript.pull-api","recursion","datascript.pull-api/recursion",-1897884534),Gk=new y(null,"map?","map?",-1780568534,null),Hk=new q(null,"expand-rev","expand-rev",1249112650),Ik=new q(null,"operation","operation",-1267664310),Jk=new y(null,"get-some","get-some",409442058,null),Kk=new y(null,"identity","identity",
-1007039734,null),Lk=new q(null,"static","static",1214358571),Mk=new q(null,"max-eid","max-eid",2134868075),Nk=new q(null,"width","width",-384071477),Ok=new q(null,"band","band",-770104117),Pk=new q(null,"css","css",1135045163),Qk=new y(null,"quot","quot",-1125214196,null),Rk=new y(null,"db?","db?",1715863724,null),ui=new q(null,"val","val",128701612),Sk=new y(null,"stddev","stddev",775056588,null),Tk=new y(null,"not\x3d","not\x3d",1466536204,null),Uk=new y(null,"limit","limit",284709164,null),Vk=
new q(null,"field","field",-1302436500),Wk=new q(null,"type","type",1174270348),Xk=new q(null,"eids","eids",1546550700),Yk=new q(null,"update","update",1045576396),Df=new y(null,"validate","validate",1439230700,null),Zk=new y(null,"or-join","or-join",591375469,null),$k=new y(null,"ground","ground",-1460862835,null),al=new q(null,"state","state",-1988618099),bl=new y(null,"rand","rand",-1745930995,null),cl=new q(null,"entity-id","entity-id",1485898093),dl=new y(null,"\x3e","\x3e",1085014381,null),
ti=new q(null,"fallback-impl","fallback-impl",-1501286995),el=new q(null,"source","source",-433931539),fl=new q("transaction","filtered","transaction/filtered",1699706605),gl=new y("dc","db?","dc/db?",1715868461,null),Fa=new q(null,"flush-on-newline","flush-on-newline",-151457939),hl=new y(null,"db","db",-1661185010,null),il=new q("db","isComponent","db/isComponent",423352398),jl=new q(null,"scales","scales",-1197224722),kl=new y(null,"even?","even?",-1827825394,null),ll=new y(null,"_","_",-1201019570,
null),ml=new q(null,"toggle","toggle",1291842030),nl=new q("db.fn","call","db.fn/call",-151594418),ol=new q("transact","upsert","transact/upsert",412688078),pl=new q(null,"e","e",1381269198),ql=new q(null,"rules","rules",1198912366),rl=new y(null,"%","%",-950237169,null),sl=new q(null,"elements","elements",657646735),Ji=new q(null,"descendants","descendants",1824886031),tl=new q(null,"renderer","renderer",336841071),ul=new q(null,"title","title",636505583),vl=new y(null,"mod","mod",1510044207,null),
wl=new q(null,"eavt","eavt",-666437073),xl=new q("db.fn","retractEntity","db.fn/retractEntity",-1423535441),yl=new y(null,"default","default",-347290801,null),zl=new q(null,"enter","enter",1792452624),Al=new y("datascript","Datom","datascript/Datom",-901340080,null),Ki=new q(null,"ancestors","ancestors",-776045424),Bl=new q("db.unique","value","db.unique/value",276903088),Cl=new y(null,"-","-",-471816912,null),Dl=new y(null,"or","or",1876275696,null),El=new q(null,"db-before","db-before",-553691536),
Fl=new q(null,"rows","rows",850049680),Nf=new y(null,"n","n",-2092305744,null),Ha=new q(null,"readably","readably",1129599760),li=new q(null,"more-marker","more-marker",-14717935),Gl=new q(null,"tx-data","tx-data",934159761),Hl=new q(null,"rels","rels",1770187185),Il=new y(null,"entity?","entity?",555338193,null),Jl=new q("db","retract","db/retract",-1549825231),Kl=new q(null,"hover","hover",-341141711),Ll=new q(null,"keyup","keyup",-794526927),Ml=new q(null,"click","click",1912301393),Nl=new y(null,
"zero?","zero?",325758897,null),Ol=new q(null,"binding","binding",539932593),Pl=new y(null,"rem","rem",664046770,null),Ql=new y(null,"?permalink","?permalink",-1396906766,null),Rl=new q(null,"tx","tx",466630418),Sl=new y(null,"nil?","nil?",1612038930,null),Tl=new q(null,"porrl","porrl",-1693905102),Ul=new y(null,"variance","variance",-1522424942,null),Vl=new q("parser","with","parser/with",-386255821),Wl=new q(null,"recursion","recursion",-749738765),Xl=new q(null,"seen","seen",-518999789),Yl=new q("hoplon.core",
"default","hoplon.core/default",-778824365),Zl=new y(null,"not","not",1044554643,null),$l=new y(null,"$","$",-1580747756,null),am=new q(null,"with","with",-1536296876),bm=new q(null,"from","from",1815293044),cm=new q(null,"pending-guards","pending-guards",-1255527308),dm=new q("db","current-tx","db/current-tx",1600722132),Ma=new q(null,"print-length","print-length",1931866356),em=new q(null,"max","max",61366548),fm=new y(null,"not-join","not-join",-645515756,null),gm=new q(null,"values","values",
372645556),hm=new q(null,"class","class",-2030961996),im=new q("db.fn","retractAttribute","db.fn/retractAttribute",937402164),jm=new q("lookup-ref","syntax","lookup-ref/syntax",-317304012),km=new q("db.fn","cas","db.fn/cas",-379352172),lm=new q("entity-id","syntax","entity-id/syntax",1921317045),mm=new y(null,"e","e",-1273166571,null),nm=new y(null,"?post","?post",1630125397,null),om=new y(null,"resolve-datom","resolve-datom",-294110827,null),pm=new y(null,"true?","true?",-1600332395,null),qm=new q(null,
"specs","specs",1426570741),Ii=new q(null,"parents","parents",-2027538891),rm=new q("db","cardinality","db/cardinality",-104975659),sm=new q(null,"expected","expected",1583670997),tm=new y(null,"/","/",-1371932971,null),um=new y(null,"vector","vector",-751469611,null),vm=new y(null,"\x3e\x3d","\x3e\x3d",1016916022,null),wm=new y(null,"distinct","distinct",-148347594,null),xm=new q(null,"code","code",1586293142),ym=new q("db","id","db/id",-1388397098),zm=new q(null,"focus-select","focus-select",1107982934),
Am=new q("entity-id","missing","entity-id/missing",1234588374),Bm=new q(null,"attrs","attrs",-2090668713),Cm=new q(null,"marks","marks",-1844991497),Dm=new q(null,"context","context",-830191113),Em=new q(null,"focus","focus",234677911),Fm=new q("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353),Gm=new q(null,"subpattern","subpattern",45002743),Hm=new q(null,"display","display",242065432),Im=new y(null,"sample","sample",1719555128,null),Jm=new y("datascript","DB","datascript/DB",
-487332776,null),Km=new q(null,"nice","nice",1404040504),Lm=new q(null,"error","error",-978969032),Mm=new q(null,"depth","depth",1768663640),Nm=new q("parser","binding","parser/binding",-346395752),Om=new y(null,"spec","spec",1988051928,null),Pm=new q(null,"x","x",2099068185),Qm=new q("schema","validation","schema/validation",1178447161),Rm=new q("db","add","db/add",235286841),Sm=new q(null,"clauses","clauses",1454841241),Tm=new y(null,"?title","?title",-835622503,null),Um=new y(null,"odd?","odd?",
-1458588199,null),Vm=new q(null,"form","form",-1624062471),Wm=new q(null,"tag","tag",-1290361223),Xm=new y(null,"inc","inc",324505433,null),Ym=new q(null,"domain","domain",1847214937),Zm=new q(null,"input","input",556931961),$m=new y(null,".",".",1975675962,null),an=new q(null,"eid","eid",559519930),bn=new y(null,"+","+",-740910886,null),cn=new y(null,"missing?","missing?",-1710383910,null),dn=new q(null,"rschema","rschema",-1196134054),mf=new y(null,"quote","quote",1377916282,null),en=new q(null,
"tx-meta","tx-meta",1159283194),fn=new y(null,"median","median",-2084869638,null),gn=new y(null,"conn?","conn?",1807755802,null),hn=new q("db.cardinality","many","db.cardinality/many",772806234),jn=new q("transact","syntax","transact/syntax",-299207078),kn=new y(null,"str","str",-1564826950,null),lf=new q(null,"arglists","arglists",1661989754),ln=new q(null,"y2","y2",-718691301),mn=new q(null,"wildcard?","wildcard?",-686044101),nf=new y(null,"meta13480","meta13480",1150723195,null),kf=new y(null,
"nil-iter","nil-iter",1101030523,null),nn=new y(null,"false?","false?",-1522377573,null),on=new q(null,"hierarchy","hierarchy",-1053470341),si=new q(null,"alt-impl","alt-impl",670969595),pn=new y(null,"max","max",1701898075,null),qn=new y(null,"...","...",-1926939749,null),rn=new y(null,"!\x3d","!\x3d",-201205829,null),sn=new y(null,"\x3d\x3d","\x3d\x3d",-234118149,null),tn=new q(null,"created-at","created-at",-89248644),un=new q("parser","pull","parser/pull",-2147427204),vn=new y(null,"count","count",
-514511684,null),wn=new q(null,"entity","entity",-450970276),xn=new q(null,"prefix-clauses","prefix-clauses",1294180028),yn=new y(null,"?created-at","?created-at",902546172,null),zn=new q(null,"step","step",1288888124),An=new y(null,"deref","deref",1494944732,null),Bn=new q(null,"expand","expand",595248157),Cn=new y(null,"-differ?","-differ?",1465687357,null),Dn=new q(null,"listeners","listeners",394544445),En=new q(null,"map","map",1371690461),Fn=new q(null,"kvps","kvps",65308317),Gn=new y(null,
"count-distinct","count-distinct",-1566572514,null),Hn=new q(null,"href","href",-793805698),In=new q("db.cardinality","one","db.cardinality/one",1428352190),Jn=new q(null,"required","required",1807647006),Kn=new y(null,"and","and",668631710,null),Mf=new y(null,"number?","number?",-1747282210,null),Ln=new q(null,"scroll-to","scroll-to",-34957602),Mn=new q(null,"a","a",-2123407586),Nn=new q(null,"datoms","datoms",-290874434),On=new q(null,"old","old",-1825222690),Pn=new q(null,"range","range",1639692286),
Qn=new q(null,"height","height",1025178622),Rn=new y(null,"avg","avg",1837937727,null),Sn=new q(null,"select","select",1147833503),Tn=new q(null,"in","in",-1531184865),Un=new q(null,"vars","vars",-2046957217),Vn=new q(null,"pattern","pattern",242135423),Wn=new q(null,"html","html",-998796897),Vh=new q("cljs.core","not-found","cljs.core/not-found",-1572889185),Xn=new q(null,"text","text",-1790561697),Yn=new q(null,"md","md",707286655),Zn=new q(null,"scrollTop","scrollTop",-1143661921),$n=new q(null,
"data","data",-232669377),ao=new q("parser","query","parser/query",1877320671),bo=new q(null,"attr","attr",-604132353),co=new q(null,"results","results",-1134170113);function eo(b){var a=/\//;if("/(?:)/"===""+t(a))a=3>=2+L(b)?J.b(ge(ld("",De.b(t,E(b)))),""):p(ze.b?ze.b(1,3):ze.call(null,1,3))?new V(null,1,5,W,[b],null):p(ze.b?ze.b(2,3):ze.call(null,2,3))?new V(null,2,5,W,["",b],null):J.b(ge(ld("",Gg.f(ge(De.b(t,E(b))),0,1))),b.substring(1));else a:for(var c=3,d=wd;;){if(1===c){a=J.b(d,b);break a}var e=ji(a,b);if(null!=e){var f=b.indexOf(e),e=b.substring(f+L(e)),c=c-1,d=J.b(d,b.substring(0,f));b=e}else{a=J.b(d,b);break a}}return a}
function fo(b){return/^[\s\xa0]*$/.test(null==b?"":String(b))};var go=function(b,a){return function(){function c(c,d,e){return Vd(function(){var f=b.c?b.c(c):b.call(null,c);return p(f)&&(f=b.c?b.c(d):b.call(null,d),p(f)&&(f=b.c?b.c(e):b.call(null,e),p(f)&&(f=a.c?a.c(c):a.call(null,c),p(f))))?(f=a.c?a.c(d):a.call(null,d),p(f)?a.c?a.c(e):a.call(null,e):f):f}())}function d(c,d){return Vd(function(){var e=b.c?b.c(c):b.call(null,c);return p(e)&&(e=b.c?b.c(d):b.call(null,d),p(e))?(e=a.c?a.c(c):a.call(null,c),p(e)?a.c?a.c(d):a.call(null,d):e):e}())}function e(c){var d=
b.c?b.c(c):b.call(null,c);c=p(d)?a.c?a.c(c):a.call(null,c):d;return Vd(c)}var f=null,h=function(){function c(a,b,e,f){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new Nc(k,0)}return d.call(this,a,b,e,h)}function d(c,e,h,k){return Vd(function(){var d=f.f(c,e,h);return p(d)?pf(function(){return function(c){var d=b.c?b.c(c):b.call(null,c);return p(d)?a.c?a.c(c):a.call(null,c):d}}(d),k):d}())}c.C=3;c.K=function(a){var b=G(a);a=H(a);var c=
G(a);a=H(a);var e=G(a);a=Pc(a);return d(b,c,e,a)};c.j=d;return c}(),f=function(a,b,f,r){switch(arguments.length){case 0:return!0;case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,f);default:var u=null;if(3<arguments.length){for(var u=0,w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new Nc(w,0)}return h.j(a,b,f,u)}throw Error("Invalid arity: "+arguments.length);};f.C=3;f.K=h.K;f.H=function(){return!0};f.c=e;f.b=d;f.f=c;f.j=h.j;return f}()}(function(b){return"number"===
typeof b},Ae);var ho;a:{var io=aa.navigator;if(io){var jo=io.userAgent;if(jo){ho=jo;break a}}ho=""};var ko=function ko(a){if(null!=a&&null!=a.Nd)return a.Nd();var c=ko[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=ko._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("PushbackReader.read-char",a);},lo=function lo(a,c){if(null!=a&&null!=a.Od)return a.Od(0,c);var d=lo[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=lo._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("PushbackReader.unread",a);};
function mo(b,a,c){this.Z=b;this.buffer=a;this.hb=c}mo.prototype.Nd=function(){return 0===this.buffer.length?(this.hb+=1,this.Z[this.hb]):this.buffer.pop()};mo.prototype.Od=function(b,a){return this.buffer.push(a)};function no(b){var a=!/[^\t\n\r ]/.test(b);return p(a)?a:","===b}oo;po;qo;function ro(b){throw Error(ab.b(t,b));}
function so(b,a){for(var c=new oa(a),d=ko(b);;){var e;if(!(e=null==d||no(d))){e=d;var f="#"!==e;e=f?(f="'"!==e)?(f=":"!==e)?po.c?po.c(e):po.call(null,e):f:f:f}if(e)return lo(b,d),c.toString();c.append(d);d=ko(b)}}function to(b){for(;;){var a=ko(b);if("\n"===a||"\r"===a||null==a)return b}}var uo=ki("^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+))(N)?$"),vo=ki("^([-+]?[0-9]+)/([0-9]+)$"),wo=ki("^([-+]?[0-9]+(\\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?$"),xo=ki("^[:]?([^0-9/].*/)?([^0-9/][^/]*)$");
function yo(b,a){var c=b.exec(a);return null!=c&&c[0]===a?1===c.length?c[0]:c:null}var zo=ki("^[0-9A-Fa-f]{2}$"),Ao=ki("^[0-9A-Fa-f]{4}$");function Bo(b,a,c){return p(ii(b,c))?c:ro(D(["Unexpected unicode escape \\",a,c],0))}function Co(b){return String.fromCharCode(parseInt(b,16))}
function Do(b){var a=ko(b),c="t"===a?"\t":"r"===a?"\r":"n"===a?"\n":"\\"===a?"\\":'"'===a?'"':"b"===a?"\b":"f"===a?"\f":null;p(c)?a=c:"x"===a?(b=(new oa(ko(b),ko(b))).toString(),a=Co(Bo(zo,a,b))):"u"===a?(b=(new oa(ko(b),ko(b),ko(b),ko(b))).toString(),a=Co(Bo(Ao,a,b))):a=/[^0-9]/.test(a)?ro(D(["Unexpected unicode escape \\",a],0)):String.fromCharCode(a);return a}
function Eo(b,a){for(var c=cc(wd);;){var d;a:{d=no;for(var e=a,f=ko(e);;)if(p(d.c?d.c(f):d.call(null,f)))f=ko(e);else{d=f;break a}}p(d)||ro(D(["EOF while reading"],0));if(b===d)return ec(c);e=po.c?po.c(d):po.call(null,d);p(e)?d=e.b?e.b(a,d):e.call(null,a,d):(lo(a,d),d=oo.A?oo.A(a,!0,null,!0):oo.call(null,a,!0,null));c=d===a?c:df.b(c,d)}}function Fo(b,a){return ro(D(["Reader for ",a," not implemented yet"],0))}Go;
function Ho(b,a){var c=ko(b),d=qo.c?qo.c(c):qo.call(null,c);if(p(d))return d.b?d.b(b,a):d.call(null,b,a);d=Go.b?Go.b(b,c):Go.call(null,b,c);return p(d)?d:ro(D(["No dispatch macro for ",c],0))}function Io(b,a){return ro(D(["Unmatched delimiter ",a],0))}function Jo(b){return ab.b(Bc,Eo(")",b))}function Ko(b){return Eo("]",b)}function Lo(b){b=Eo("}",b);sf(L(b))&&ro(D(["Map literal must contain an even number of forms"],0));return ab.b($c,b)}
function Mo(b){for(var a=new oa,c=ko(b);;){if(null==c)return ro(D(["EOF while reading"],0));if("\\"===c)a.append(Do(b));else{if('"'===c)return a.toString();a.append(c)}c=ko(b)}}
function No(b){for(var a=new oa,c=ko(b);;){if(null==c)return ro(D(["EOF while reading"],0));if("\\"===c){a.append(c);var d=ko(b);if(null==d)return ro(D(["EOF while reading"],0));var e=function(){var b=a;b.append(d);return b}(),f=ko(b)}else{if('"'===c)return a.toString();e=function(){var b=a;b.append(c);return b}();f=ko(b)}a=e;c=f}}
function Oo(b,a){var c=so(b,a),d=ka(c,"/");p(p(d)?1!==c.length:d)?c=Lc.b(c.substring(0,c.indexOf("/")),c.substring(c.indexOf("/")+1,c.length)):(d=Lc.c(c),c="nil"===c?null:"true"===c?!0:"false"===c?!1:"/"===c?tm:d);return c}
function Po(b,a){var c=so(b,a),d=c.substring(1);return 1===d.length?d:"tab"===d?"\t":"return"===d?"\r":"newline"===d?"\n":"space"===d?" ":"backspace"===d?"\b":"formfeed"===d?"\f":"u"===d.charAt(0)?Co(d.substring(1)):"o"===d.charAt(0)?Fo(0,c):ro(D(["Unknown character literal: ",c],0))}
function Qo(b){b=so(b,ko(b));var a=yo(xo,b);b=a[0];var c=a[1],a=a[2];return void 0!==c&&":/"===c.substring(c.length-2,c.length)||":"===a[a.length-1]||-1!==b.indexOf("::",1)?ro(D(["Invalid token: ",b],0)):null!=c&&0<c.length?Qe.b(c.substring(0,c.indexOf("/")),a):Qe.c(b)}function Ro(b){return function(a){return hb(hb(Qc,oo.A?oo.A(a,!0,null,!0):oo.call(null,a,!0,null)),b)}}function So(){return function(){return ro(D(["Unreadable form"],0))}}
function To(b){var a;a=oo.A?oo.A(b,!0,null,!0):oo.call(null,b,!0,null);a=a instanceof y?new l(null,1,[Wm,a],null):"string"===typeof a?new l(null,1,[Wm,a],null):a instanceof q?ch([a,!0]):a;Kd(a)||ro(D(["Metadata must be Symbol,Keyword,String or Map"],0));b=oo.A?oo.A(b,!0,null,!0):oo.call(null,b,!0,null);return(null!=b?b.m&262144||b.Ee||(b.m?0:Sa(Jb,b)):Sa(Jb,b))?bd(b,Th(D([Dd(b),a],0))):ro(D(["Metadata can only be applied to IWithMetas"],0))}function Uo(b){return Yh(Eo("}",b))}
function Vo(b){return ki(No(b))}function Wo(b){oo.A?oo.A(b,!0,null,!0):oo.call(null,b,!0,null);return b}function po(b){return'"'===b?Mo:":"===b?Qo:";"===b?to:"'"===b?Ro(mf):"@"===b?Ro(An):"^"===b?To:"`"===b?Fo:"~"===b?Fo:"("===b?Jo:")"===b?Io:"["===b?Ko:"]"===b?Io:"{"===b?Lo:"}"===b?Io:"\\"===b?Po:"#"===b?Ho:null}function qo(b){return"{"===b?Uo:"\x3c"===b?So():'"'===b?Vo:"!"===b?to:"_"===b?Wo:null}
function oo(b,a,c){for(;;){var d=ko(b);if(null==d)return p(a)?ro(D(["EOF while reading"],0)):c;if(!no(d))if(";"===d)b=to.b?to.b(b,d):to.call(null,b);else{var e=po(d);if(p(e))e=e.b?e.b(b,d):e.call(null,b,d);else{var e=b,f=void 0;!(f=!/[^0-9]/.test(d))&&(f=void 0,f="+"===d||"-"===d)&&(f=ko(e),lo(e,f),f=!/[^0-9]/.test(f));if(f)a:for(e=b,d=new oa(d),f=ko(e);;){var h;h=null==f;h||(h=(h=no(f))?h:po.c?po.c(f):po.call(null,f));if(p(h)){lo(e,f);d=e=d.toString();f=void 0;p(yo(uo,d))?(d=yo(uo,d),f=d[2],null!=
(A.b(f,"")?null:f)?f=0:(f=p(d[3])?[d[3],10]:p(d[4])?[d[4],16]:p(d[5])?[d[5],8]:p(d[6])?[d[7],parseInt(d[6],10)]:[null,null],h=f[0],null==h?f=null:(f=parseInt(h,f[1]),f="-"===d[1]?-f:f))):(f=void 0,p(yo(vo,d))?(d=yo(vo,d),f=parseInt(d[1],10)/parseInt(d[2],10)):f=p(yo(wo,d))?parseFloat(d):null);d=f;e=p(d)?d:ro(D(["Invalid number format [",e,"]"],0));break a}d.append(f);f=ko(e)}else e=Oo(b,d)}if(e!==b)return e}}}
function Xo(b){if("string"!==typeof b)throw Error("Cannot read from non-string object.");return oo(new mo(b,[],-1),!1,null)}var Yo=function(b,a){return function(c,d){return B.b(p(d)?a:b,c)}}(new V(null,13,5,W,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),new V(null,13,5,W,[null,31,29,31,30,31,30,31,31,30,31,30,31],null)),Zo=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;
function $o(b){b=parseInt(b,10);return Ra(isNaN(b))?b:null}function ap(b,a,c,d){b<=a&&a<=c||ro(D([[t(d),t(" Failed:  "),t(b),t("\x3c\x3d"),t(a),t("\x3c\x3d"),t(c)].join("")],0));return a}
function bp(b){var a=ii(Zo,b);M(a,0);var c=M(a,1),d=M(a,2),e=M(a,3),f=M(a,4),h=M(a,5),k=M(a,6),m=M(a,7),n=M(a,8),r=M(a,9),u=M(a,10);if(Ra(a))return ro(D([[t("Unrecognized date/time syntax: "),t(b)].join("")],0));var w=$o(c),z=function(){var a=$o(d);return p(a)?a:1}();b=function(){var a=$o(e);return p(a)?a:1}();var a=function(){var a=$o(f);return p(a)?a:0}(),c=function(){var a=$o(h);return p(a)?a:0}(),C=function(){var a=$o(k);return p(a)?a:0}(),F=function(){var a;a:if(A.b(3,L(m)))a=m;else if(3<L(m))a=
m.substring(0,3);else for(a=new oa(m);;)if(3>a.Sb.length)a=a.append("0");else{a=a.toString();break a}a=$o(a);return p(a)?a:0}(),n=(A.b(n,"-")?-1:1)*(60*function(){var a=$o(r);return p(a)?a:0}()+function(){var a=$o(u);return p(a)?a:0}());return new V(null,8,5,W,[w,ap(1,z,12,"timestamp month field must be in range 1..12"),ap(1,b,function(){var a;a=0===ue(w,4);p(a)&&(a=Ra(0===ue(w,100)),a=p(a)?a:0===ue(w,400));return Yo.b?Yo.b(z,a):Yo.call(null,z,a)}(),"timestamp day field must be in range 1..last day in month"),
ap(0,a,23,"timestamp hour field must be in range 0..23"),ap(0,c,59,"timestamp minute field must be in range 0..59"),ap(0,C,A.b(c,59)?60:59,"timestamp second field must be in range 0..60"),ap(0,F,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var cp,dp=new l(null,4,["inst",function(b){var a;if("string"===typeof b)if(a=bp(b),p(a)){b=M(a,0);var c=M(a,1),d=M(a,2),e=M(a,3),f=M(a,4),h=M(a,5),k=M(a,6);a=M(a,7);a=new Date(Date.UTC(b,c-1,d,e,f,h,k)-6E4*a)}else a=ro(D([[t("Unrecognized date/time syntax: "),t(b)].join("")],0));else a=ro(D(["Instance literal expects a string for its timestamp."],0));return a},"uuid",function(b){return"string"===typeof b?new Wi(b,null):ro(D(["UUID literal expects a string as its representation."],0))},"queue",function(b){return Md(b)?
ag.b(Og,b):ro(D(["Queue literal expects a vector for its elements."],0))},"js",function(b){if(Md(b)){var a=[];b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.X(null,e);a.push(f);e+=1}else if(b=E(b))c=b,Pd(c)?(b=kc(c),e=lc(c),c=b,d=L(b),b=e):(b=G(c),a.push(b),b=H(c),c=null,d=0),e=0;else break;return a}if(Kd(b)){a={};b=E(b);c=null;for(e=d=0;;)if(e<d){var h=c.X(null,e),f=M(h,0),h=M(h,1);a[Ee(f)]=h;e+=1}else if(b=E(b))Pd(b)?(d=kc(b),b=lc(b),c=d,d=L(d)):(d=G(b),c=M(d,0),d=M(d,1),a[Ee(c)]=d,b=H(b),c=null,
d=0),e=0;else break;return a}return ro(D([[t("JS literal expects a vector or map containing "),t("only string or unqualified keyword keys")].join("")],0))}],null);cp=zf.c?zf.c(dp):zf.call(null,dp);var ep=zf.c?zf.c(null):zf.call(null,null);
function Go(b,a){var c=Oo(b,a),d=B.b(I.c?I.c(cp):I.call(null,cp),""+t(c)),e=I.c?I.c(ep):I.call(null,ep);return p(d)?(c=oo(b,!0,null),d.c?d.c(c):d.call(null,c)):p(e)?(d=oo(b,!0,null),e.b?e.b(c,d):e.call(null,c,d)):ro(D(["Could not find tag parser for ",""+t(c)," in ",Bf.j(D([Zg(I.c?I.c(cp):I.call(null,cp))],0))],0))}function fp(b,a){var c=""+t(b);B.b(I.c?I.c(cp):I.call(null,cp),c);Ff.A(cp,O,c,a)};function gp(b,a,c,d){this.Aa=b;this.Ma=a;this.w=c;this.i=d;this.m=2565220111;this.D=0}g=gp.prototype;g.I=function(b,a){return B.b(this.Ma,a)};g.G=function(b,a,c){return B.f(this.Ma,a,c)};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#tailrecursion.priority-map {",", ","}",c,this)};g.N=function(){return this.w};g.R=function(){return L(this.Ma)};
g.Lb=function(){if(0===L(this.Ma))return null;var b=G(this.Aa);return new V(null,2,5,W,[G(zb(b)),yb(b)],null)};g.Mb=function(){if(0===L(this.Ma))throw Error("Can't pop empty priority map");var b=G(this.Aa),a=zb(b),c=G(a),b=yb(b);return A.b(L(a),1)?new gp(P.b(this.Aa,b),P.b(this.Ma,c),this.w,null):new gp(O.f(this.Aa,b,Fd.b(a,c)),P.b(this.Ma,c),this.w,null)};
g.vb=function(){var b=this,a=this;return E(function(){return function(a){return function e(b){return new Re(null,function(a){return function(){for(var c=b;;){var m=E(c);if(m){var n=m,r=G(n),u=M(r,0),w=M(r,1);if(m=E(function(a,b,c,e,f,h,k){return function Ga(m){return new Re(null,function(a,b,c){return function(){for(;;){var a=E(m);if(a){if(Pd(a)){var b=kc(a),e=L(b),f=We(e);a:for(var h=0;;)if(h<e){var k=x.b(b,h);f.add(new V(null,2,5,W,[k,c],null));h+=1}else{b=!0;break a}return b?Xe(f.ba(),Ga(lc(a))):
Xe(f.ba(),null)}f=G(a);return ld(new V(null,2,5,W,[f,c],null),Ga(Pc(a)))}return null}}}(a,b,c,e,f,h,k),null,null)}}(c,r,u,w,n,m,a)(w)))return U.b(m,e(Pc(c)));c=Pc(c)}else return null}}}(a),null,null)}}(a)(Xb(b.Aa))}())};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){return Ob(this.Ma,a)};g.ea=function(){return bd(hp,this.w)};
g.W=function(b,a){var c=this.Ma.b?this.Ma.b(a,Aj):this.Ma.call(null,a,Aj);if(A.b(c,Aj))return this;var d=this.Aa.c?this.Aa.c(c):this.Aa.call(null,c);return A.b(L(d),1)?new gp(P.b(this.Aa,c),P.b(this.Ma,a),this.w,null):new gp(O.f(this.Aa,c,Fd.b(d,a)),P.b(this.Ma,a),this.w,null)};
g.T=function(b,a,c){b=B.f(this.Ma,a,null);if(p(b)){if(A.b(b,c))return this;var d=B.b(this.Aa,b);return A.b(L(d),1)?new gp(O.f(P.b(this.Aa,b),c,J.b(B.f(this.Aa,c,$d),a)),O.f(this.Ma,a,c),this.w,null):new gp(O.j(this.Aa,b,Fd.b(B.b(this.Aa,b),a),D([c,J.b(B.f(this.Aa,c,$d),a)],0)),O.f(this.Ma,a,c),this.w,null)}return new gp(O.f(this.Aa,c,J.b(B.f(this.Aa,c,$d),a)),O.f(this.Ma,a,c),this.w,null)};g.$b=function(b,a){return Wd(this.Ma,a)};
g.M=function(){var b=this,a=this;return E(function(){return function(a){return function e(b){return new Re(null,function(a){return function(){for(var c=b;;){var m=E(c);if(m){var n=m,r=G(n),u=M(r,0),w=M(r,1);if(m=E(function(a,b,c,e,f,h,k){return function Ga(m){return new Re(null,function(a,b,c){return function(){for(;;){var a=E(m);if(a){if(Pd(a)){var b=kc(a),e=L(b),f=We(e);a:for(var h=0;;)if(h<e){var k=x.b(b,h);f.add(new V(null,2,5,W,[k,c],null));h+=1}else{b=!0;break a}return b?Xe(f.ba(),Ga(lc(a))):
Xe(f.ba(),null)}f=G(a);return ld(new V(null,2,5,W,[f,c],null),Ga(Pc(a)))}return null}}}(a,b,c,e,f,h,k),null,null)}}(c,r,u,w,n,m,a)(w)))return U.b(m,e(Pc(c)));c=Pc(c)}else return null}}}(a),null,null)}}(a)(b.Aa)}())};g.O=function(b,a){return new gp(this.Aa,this.Ma,a,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.I(null,b);case 3:return this.G(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.I(null,b)};b.f=function(a,b,d){return this.G(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.I(null,b)};g.b=function(b,a){return this.G(null,b,a)};var hp=new gp(Qh(),R,R,null);
fp("tailrecursion.priority-map",function(b){return Kd(b)?ag.b(hp,b):ro(D(["Priority map literal expects a map for its elements."],0))});ip;jp;kp;lp;mp;var np=zf.c?zf.c(0):zf.call(null,0);function op(b,a){return function d(a){var f=Ed(a);return p(f)?new Re(null,function(f){return function(){return ld(f,d(ag.b(null==a?null:Db(a),p(ie.c?ie.c(f):ie.call(null,f))?b.c?b.c(f):b.call(null,f):null)))}}(f,f),null,null):null}(J.b(Og,a))}
function pp(b){for(;;){var a=G(Ed(b));if(p(a)){var c=a,d=null==b?null:Db(b),e=c.prev,f=function(){var a=c.Tc;return p(a)?a.H?a.H():a.call(null):c.state}(),h=gf.b(f,e);h&&(c.prev=f,$b(c,e,f));b=h?v.f(function(){return function(a,b){return O.f(a,b,b.lb)}}(b,d,e,f,h,c,a),d,c.mb):d}else break}}function qp(b){return p(jp.c?jp.c(b):jp.call(null,b))?I.c?I.c(b):I.call(null,b):b}function rp(){return Ff.b(np,cd)}
function sp(b){if(p(null))Ff.A(null,O,b,b.lb);else{a:for(var a=D([b,b.lb],0),a=E(a),c=hp;;)if(a)var d=H(H(a)),c=O.f(c,G(a),td(a)),a=d;else break a;pp(c)}return b}
function tp(b){var a=D([!0],0),a=M(a,0),c=b.Za;b.Za=wd;b.update=null;b.Tc=null;p(a)||(b.Ib=R);for(var a=E(c),c=null,d=0,e=0;;)if(e<d){var f=c.X(null,e);p(jp.c?jp.c(f):jp.call(null,f))&&(f.mb=Fd.b(f.mb,b));e+=1}else if(a=E(a))c=a,Pd(c)?(a=kc(c),d=lc(c),c=a,f=L(a),a=d,d=f):(f=G(c),p(jp.c?jp.c(f):jp.call(null,f))&&(f.mb=Fd.b(f.mb,b)),a=H(c),c=null,d=0),e=0;else break}
function up(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;a=1<a.length?new Nc(a.slice(1),0):null;return vp(arguments[0],a)}
function vp(b,a){var c=M(a,0),d=M(a,1);tp(b);if(p(c)){b.Za=J.b(ge(d),c);for(var e=E(b.Za),f=null,h=0,k=0;;)if(k<h){var m=f.X(null,k);if(p(jp.c?jp.c(m):jp.call(null,m))&&(m.mb=J.b(m.mb,b),m.lb>b.lb))for(var m=E(op(function(){return function(a){return a.mb}}(e,f,h,k,m,a,c,d),m)),n=null,r=0,u=0;;)if(u<r)n.X(null,u).lb=rp(),u+=1;else if(m=E(m))n=m,Pd(n)?(m=kc(n),u=lc(n),n=m,r=L(m),m=u):(G(n).lb=rp(),m=H(n),n=null,r=0),u=0;else break;k+=1}else if(n=E(e)){m=n;if(Pd(m))e=kc(m),k=lc(m),f=e,h=L(e),e=k;else{r=
G(m);if(p(jp.c?jp.c(r):jp.call(null,r))&&(r.mb=J.b(r.mb,b),r.lb>b.lb))for(e=E(op(function(){return function(a){return a.mb}}(e,f,h,k,r,m,n,a,c,d),r)),f=null,k=h=0;;)if(k<h)f.X(null,k).lb=rp(),k+=1;else if(e=E(e))f=e,Pd(f)?(e=kc(f),k=lc(f),f=e,h=L(e),e=k):(G(f).lb=rp(),e=H(f),f=null,h=0),k=0;else break;e=H(m);f=null;h=0}k=0}else break;b.Tc=function(a){return function(){return b.state=a(b.Za)}}(function(){return function(a){return ab.b(qp(Ed(a)),De.b(qp,null==a?null:Db(a)))}}(a,c,d),a,c,d)}return sp(b)}
function ip(b,a,c,d,e,f,h,k,m){this.w=b;this.state=a;this.lb=c;this.prev=d;this.Za=e;this.mb=f;this.Tc=h;this.Ib=k;this.update=m;this.m=2147909632;this.D=98306}g=ip.prototype;g.J=function(b,a){return mi(a,D(["#\x3cCell: ",Bf.j(D([this.state],0)),"\x3e"],0))};g.O=function(b,a){return new ip(a,this.state,this.lb,this.prev,this.Za,this.mb,this.Tc,this.Ib,this.update)};g.N=function(){return this.w};g.pc=function(){return this.state};
g.Ed=function(b,a){if(p(mp.c?mp.c(this):mp.call(null,this)))this.update.call(null,a);else if(p(lp.c?lp.c(this):lp.call(null,this)))this.state=a,sp(this);else throw Error("can't swap! or reset! formula cell");return this.state};g.Fd=function(b,a){var c;c=this.state;c=a.c?a.c(c):a.call(null,c);return Cf.b?Cf.b(this,c):Cf.call(null,this,c)};g.Gd=function(b,a,c){b=this.state;a=a.b?a.b(b,c):a.call(null,b,c);return Cf.b?Cf.b(this,a):Cf.call(null,this,a)};
g.Hd=function(b,a,c,d){b=this.state;a=a.f?a.f(b,c,d):a.call(null,b,c,d);return Cf.b?Cf.b(this,a):Cf.call(null,this,a)};g.Id=function(b,a,c,d,e){b=ab.S(a,this.state,c,d,e);return Cf.b?Cf.b(this,b):Cf.call(null,this,b)};
g.jd=function(b,a,c){b=E(this.Ib);for(var d=null,e=0,f=0;;)if(f<e){var h=d.X(null,f),k=M(h,0),h=M(h,1);h.A?h.A(k,this,a,c):h.call(null,k,this,a,c);f+=1}else if(b=E(b))Pd(b)?(d=kc(b),b=lc(b),k=d,e=L(d),d=k):(d=G(b),k=M(d,0),h=M(d,1),h.A?h.A(k,this,a,c):h.call(null,k,this,a,c),b=H(b),d=null,e=0),f=0;else return null};g.hd=function(b,a,c){return this.Ib=O.f(this.Ib,a,c)};function jp(b){return A.b(Ta(b),ip)?b:null}function mp(b){var a=jp(b);return p(p(a)?b.update:a)?b:null}
function lp(b){var a=jp(b);p(a)&&(a=jp(b),a=Ra(p(p(a)?b.Tc:a)?b:null));return p(a)?b:null}function wp(b){return function(){function a(a){var b=null;if(0<arguments.length){for(var b=0,f=Array(arguments.length-0);b<f.length;)f[b]=arguments[b+0],++b;b=new Nc(f,0)}return c.call(this,b)}function c(a){return vp(kp.c?kp.c($i):kp.call(null,$i),D([b,a],0))}a.C=0;a.K=function(a){a=E(a);return c(a)};a.j=c;return a}()}
var kp=function kp(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return kp.c(arguments[0]);default:return c=new Nc(c.slice(1),0),kp.j(arguments[0],c)}};kp.c=function(b){return up(new ip(null,b,rp(),b,wd,$d,null,R,null))};kp.j=function(b,a){var c=null!=a&&(a.m&64||a.Ua)?ab.b($c,a):a,c=B.b(c,Ja);return up(new ip(c,b,rp(),b,wd,$d,null,R,null))};kp.K=function(b){var a=G(b);b=H(b);return kp.j(a,b)};kp.C=1;function xp(b){if("function"==typeof b.Qb)return b.Qb();if(da(b))return b.split("");if(ca(b)){for(var a=[],c=b.length,d=0;d<c;d++)a.push(b[d]);return a}return ma(b)}function yp(b,a,c){if("function"==typeof b.forEach)b.forEach(a,c);else if(ca(b)||da(b))qa(b,a,c);else{var d;if("function"==typeof b.fc)d=b.fc();else if("function"!=typeof b.Qb)if(ca(b)||da(b)){d=[];for(var e=b.length,f=0;f<e;f++)d.push(f)}else d=na(b);else d=void 0;for(var e=xp(b),f=e.length,h=0;h<f;h++)a.call(c,e[h],d&&d[h],b)}};function zp(b,a){this.qb={};this.Pa=[];this.La=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else b&&this.addAll(b)}g=zp.prototype;g.Qb=function(){Ap(this);for(var b=[],a=0;a<this.Pa.length;a++)b.push(this.qb[this.Pa[a]]);return b};g.fc=function(){Ap(this);return this.Pa.concat()};g.Ic=function(b){return Bp(this.qb,b)};g.clear=function(){this.qb={};this.La=this.Pa.length=0};
g.remove=function(b){return Bp(this.qb,b)?(delete this.qb[b],this.La--,this.Pa.length>2*this.La&&Ap(this),!0):!1};function Ap(b){if(b.La!=b.Pa.length){for(var a=0,c=0;a<b.Pa.length;){var d=b.Pa[a];Bp(b.qb,d)&&(b.Pa[c++]=d);a++}b.Pa.length=c}if(b.La!=b.Pa.length){for(var e={},c=a=0;a<b.Pa.length;)d=b.Pa[a],Bp(e,d)||(b.Pa[c++]=d,e[d]=1),a++;b.Pa.length=c}}g.get=function(b,a){return Bp(this.qb,b)?this.qb[b]:a};g.set=function(b,a){Bp(this.qb,b)||(this.La++,this.Pa.push(b));this.qb[b]=a};
g.addAll=function(b){var a;b instanceof zp?(a=b.fc(),b=b.Qb()):(a=na(b),b=ma(b));for(var c=0;c<a.length;c++)this.set(a[c],b[c])};g.forEach=function(b,a){for(var c=this.fc(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);b.call(a,f,e,this)}};g.clone=function(){return new zp(this)};g.transpose=function(){for(var b=new zp,a=0;a<this.Pa.length;a++){var c=this.Pa[a];b.set(this.qb[c],c)}return b};function Bp(b,a){return Object.prototype.hasOwnProperty.call(b,a)};var Cp=ka(ho,"Opera")||ka(ho,"OPR"),Dp=ka(ho,"Trident")||ka(ho,"MSIE"),Ep=ka(ho,"Edge"),Fp=ka(ho,"Gecko")&&!(ka(ho.toLowerCase(),"webkit")&&!ka(ho,"Edge"))&&!(ka(ho,"Trident")||ka(ho,"MSIE"))&&!ka(ho,"Edge"),Gp=ka(ho.toLowerCase(),"webkit")&&!ka(ho,"Edge");function Hp(){var b=ho;if(Fp)return/rv\:([^\);]+)(\)|;)/.exec(b);if(Ep)return/Edge\/([\d\.]+)/.exec(b);if(Dp)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(b);if(Gp)return/WebKit\/(\S+)/.exec(b)}
(function(){if(Cp&&aa.opera){var b=aa.opera.version;return ea(b)?b():b}var b="",a=Hp();a&&(b=a?a[1]:"");return Dp&&(a=(a=aa.document)?a.documentMode:void 0,a>parseFloat(b))?String(a):b})();var Ip=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Jp(b){if(Kp){Kp=!1;var a=aa.location;if(a){var c=a.href;if(c&&(c=(c=Jp(c)[3]||null)?decodeURI(c):c)&&c!=a.hostname)throw Kp=!0,Error();}}return b.match(Ip)}var Kp=Gp;
function Lp(b,a){if(b)for(var c=b.split("\x26"),d=0;d<c.length;d++){var e=c[d].indexOf("\x3d"),f=null,h=null;0<=e?(f=c[d].substring(0,e),h=c[d].substring(e+1)):f=c[d];a(f,h?decodeURIComponent(h.replace(/\+/g," ")):"")}};function Mp(b,a){this.Ob=this.lc=this.Zb="";this.yc=null;this.ec=this.Ab="";this.ib=this.pe=!1;var c;if(b instanceof Mp)this.ib=void 0!==a?a:b.ib,Np(this,b.Zb),c=b.lc,Op(this),this.lc=c,c=b.Ob,Op(this),this.Ob=c,Pp(this,b.yc),c=b.Ab,Op(this),this.Ab=c,Qp(this,b.Bb.clone()),c=b.ec,Op(this),this.ec=c;else if(b&&(c=Jp(String(b)))){this.ib=!!a;Np(this,c[1]||"",!0);var d=c[2]||"";Op(this);this.lc=Rp(d);d=c[3]||"";Op(this);this.Ob=Rp(d,!0);Pp(this,c[4]);d=c[5]||"";Op(this);this.Ab=Rp(d,!0);Qp(this,c[6]||
"",!0);c=c[7]||"";Op(this);this.ec=Rp(c)}else this.ib=!!a,this.Bb=new Sp(null,0,this.ib)}
Mp.prototype.toString=function(){var b=[],a=this.Zb;a&&b.push(Up(a,Vp,!0),":");if(a=this.Ob){b.push("//");var c=this.lc;c&&b.push(Up(c,Vp,!0),"@");b.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));a=this.yc;null!=a&&b.push(":",String(a))}if(a=this.Ab)this.Ob&&"/"!=a.charAt(0)&&b.push("/"),b.push(Up(a,"/"==a.charAt(0)?Wp:Xp,!0));(a=this.Bb.toString())&&b.push("?",a);(a=this.ec)&&b.push("#",Up(a,Yp));return b.join("")};
Mp.prototype.resolve=function(b){var a=this.clone(),c=!!b.Zb;c?Np(a,b.Zb):c=!!b.lc;if(c){var d=b.lc;Op(a);a.lc=d}else c=!!b.Ob;c?(d=b.Ob,Op(a),a.Ob=d):c=null!=b.yc;d=b.Ab;if(c)Pp(a,b.yc);else if(c=!!b.Ab){if("/"!=d.charAt(0))if(this.Ob&&!this.Ab)d="/"+d;else{var e=a.Ab.lastIndexOf("/");-1!=e&&(d=a.Ab.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(ka(e,"./")||ka(e,"/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],h=0;h<e.length;){var k=e[h++];"."==k?d&&h==e.length&&f.push(""):".."==
k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(Op(a),a.Ab=d):c=""!==b.Bb.toString();c?Qp(a,Rp(b.Bb.toString())):c=!!b.ec;c&&(b=b.ec,Op(a),a.ec=b);return a};Mp.prototype.clone=function(){return new Mp(this)};function Np(b,a,c){Op(b);b.Zb=c?Rp(a,!0):a;b.Zb&&(b.Zb=b.Zb.replace(/:$/,""))}function Pp(b,a){Op(b);if(a){a=Number(a);if(isNaN(a)||0>a)throw Error("Bad port number "+a);b.yc=a}else b.yc=null}
function Qp(b,a,c){Op(b);a instanceof Sp?(b.Bb=a,b.Bb.sd(b.ib)):(c||(a=Up(a,Zp)),b.Bb=new Sp(a,0,b.ib))}function Op(b){if(b.pe)throw Error("Tried to modify a read-only Uri");}Mp.prototype.sd=function(b){this.ib=b;this.Bb&&this.Bb.sd(b);return this};function Rp(b,a){return b?a?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Up(b,a,c){return da(b)?(b=encodeURI(b).replace(a,$p),c&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}
function $p(b){b=b.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Vp=/[#\/\?@]/g,Xp=/[\#\?:]/g,Wp=/[\#\?]/g,Zp=/[\#\?@]/g,Yp=/#/g;function Sp(b,a,c){this.La=this.ta=null;this.eb=b||null;this.ib=!!c}function aq(b){b.ta||(b.ta=new zp,b.La=0,b.eb&&Lp(b.eb,function(a,c){b.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}g=Sp.prototype;g.add=function(b,a){aq(this);this.eb=null;b=bq(this,b);var c=this.ta.get(b);c||this.ta.set(b,c=[]);c.push(a);this.La++;return this};
g.remove=function(b){aq(this);b=bq(this,b);return this.ta.Ic(b)?(this.eb=null,this.La-=this.ta.get(b).length,this.ta.remove(b)):!1};g.clear=function(){this.ta=this.eb=null;this.La=0};g.Ic=function(b){aq(this);b=bq(this,b);return this.ta.Ic(b)};g.fc=function(){aq(this);for(var b=this.ta.Qb(),a=this.ta.fc(),c=[],d=0;d<a.length;d++)for(var e=b[d],f=0;f<e.length;f++)c.push(a[d]);return c};
g.Qb=function(b){aq(this);var a=[];if(da(b))this.Ic(b)&&(a=ra(a,this.ta.get(bq(this,b))));else{b=this.ta.Qb();for(var c=0;c<b.length;c++)a=ra(a,b[c])}return a};g.set=function(b,a){aq(this);this.eb=null;b=bq(this,b);this.Ic(b)&&(this.La-=this.ta.get(b).length);this.ta.set(b,[a]);this.La++;return this};g.get=function(b,a){var c=b?this.Qb(b):[];return 0<c.length?String(c[0]):a};
g.toString=function(){if(this.eb)return this.eb;if(!this.ta)return"";for(var b=[],a=this.ta.fc(),c=0;c<a.length;c++)for(var d=a[c],e=encodeURIComponent(String(d)),d=this.Qb(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="\x3d"+encodeURIComponent(String(d[f])));b.push(h)}return this.eb=b.join("\x26")};g.clone=function(){var b=new Sp;b.eb=this.eb;this.ta&&(b.ta=this.ta.clone(),b.La=this.La);return b};function bq(b,a){var c=String(a);b.ib&&(c=c.toLowerCase());return c}
g.sd=function(b){b&&!this.ib&&(aq(this),this.eb=null,this.ta.forEach(function(a,b){var d=b.toLowerCase();b!=d&&(this.remove(b),this.remove(d),0<a.length&&(this.eb=null,this.ta.set(bq(this,d),ta(a)),this.La+=a.length))},this));this.ib=b};g.extend=function(b){for(var a=0;a<arguments.length;a++)yp(arguments[a],function(a,b){this.add(b,a)},this)};function cq(b,a){var c=ab.f(bi,b,a);return ld(c,Yf(function(a){return function(b){return a===b}}(c),a))}function dq(b,a){return L(b)<L(a)?v.f(J,a,b):v.f(J,b,a)}var eq=function eq(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return eq.c(arguments[0]);case 2:return eq.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),eq.j(arguments[0],arguments[1],c)}};eq.c=function(b){return b};
eq.b=function(b,a){for(;;)if(L(a)<L(b)){var c=b;b=a;a=c}else return v.f(function(a,b){return function(a,c){return Wd(b,c)?a:Fd.b(a,c)}}(b,a),b,b)};eq.j=function(b,a,c){b=cq(function(a){return-L(a)},J.j(c,a,D([b],0)));return v.f(eq,G(b),Pc(b))};eq.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return eq.j(a,b,c)};eq.C=2;
var fq=function fq(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return fq.c(arguments[0]);case 2:return fq.b(arguments[0],arguments[1]);default:return c=new Nc(c.slice(2),0),fq.j(arguments[0],arguments[1],c)}};fq.c=function(b){return b};fq.b=function(b,a){return L(b)<L(a)?v.f(function(b,d){return Wd(a,d)?Fd.b(b,d):b},b,b):v.f(Fd,b,a)};fq.j=function(b,a,c){return v.f(fq,b,J.b(c,a))};
fq.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return fq.j(a,b,c)};fq.C=2;gq;hq;iq;jq;za=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new Nc(e,0)}return a.call(this,d)}function a(a){return console.log.apply(console,Na.c?Na.c(a):Na.call(null,a))}b.C=0;b.K=function(b){b=E(b);return a(b)};b.j=a;return b}();
Aa=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new Nc(e,0)}return a.call(this,d)}function a(a){return console.error.apply(console,Na.c?Na.c(a):Na.call(null,a))}b.C=0;b.K=function(b){b=E(b);return a(b)};b.j=a;return b}();(new Mp(window.location.href)).Bb.get("prerendering");v.f(function(b,a){return O.f(b,a.getAttribute("static-id"),a)},R,jQuery("[static-id]").get());function kq(b,a){lq(b,a)}
function lq(b,a){var c=xi("G__"),d=I.c?I.c(b):I.call(null,b);a.b?a.b(null,d):a.call(null,null,d);vi(b,c,function(){return function(b,c,d,k){return a.b?a.b(d,k):a.call(null,d,k)}}(c))}function mq(b){b=b.childNodes;for(var a=b.length,c=0,d=cc(wd);;){var e;e=(e=A.b(c,a))?ec(d):e;if(p(e))return e;e=c+1;d=df.b(d,b.item(c));c=e}}function nq(b){return"string"===typeof b?iq.c?iq.c(b):iq.call(null,b):"number"===typeof b?(b=""+t(b),iq.c?iq.c(b):iq.call(null,b)):b}
var oq=Element.prototype.removeChild,pq=Element.prototype.appendChild,qq=Element.prototype.insertBefore;
function rq(b,a,c){a=Yf(Pa,$f(c));var d=Yh(a);M(a,0);Be(a,1);c=mq(b);M(c,0);for(Be(c,1);;){var e=M(a,0);a=Be(a,1);var f=M(c,0),h=Be(c,1),k=c;if(p(function(){var a=e;return p(a)?a:f}()))c=A.b(e,f)?h:Ra(f)?function(){var a=h;pq.call(b,nq(e));return a}():Ra(e)?function(){var a=h;p(d.c?d.c(f):d.call(null,f))||oq.call(b,nq(f));return a}():function(){var a=k;qq.call(b,nq(e),nq(f));return a}();else return null}}
function sq(b){if(!p(b.vc)){var a;a=mq(b);a=zf.c?zf.c(a):zf.call(null,a);b.vc=a;lq(a,vf(rq,b))}return b}(function(b,a){return b.appendChild=function(b){sq(this);var d=a.c?a.c(this):a.call(null,this),e=L(I.c?I.c(d):I.call(null,d));p(jp(b))?kq(b,function(a,b){return function(c,d){return Ff.A(a,O,b,d)}}(d,e,b,this)):Ff.A(d,O,e,b);return b}})(Element.prototype,function(b){return b.vc});
(function(b,a){return b.removeChild=function(b){sq(this);Ff.b(a.c?a.c(this):a.call(null,this),function(a){return function(b){return ag.b(wd,Yf(vf(A,a),b))}}(b,this));return b}})(Element.prototype,function(b){return b.vc});
(function(b,a){return b.insertBefore=function(b,d){sq(this);Ff.b(a.c?a.c(this):a.call(null,this),function(a,b){return function(c){return ge(Vf(function(a){return function(b){return A.b(b,d)?new V(null,2,5,W,[a,b],null):new V(null,1,5,W,[b],null)}}(a,b),D([c],0)))}}(b,this));return b}})(Element.prototype,function(b){return b.vc});
(function(b,a){return b.replaceChild=function(b,d){sq(this);Ff.b(a.c?a.c(this):a.call(null,this),function(a,d){return function(h){return bg(function(a){return function(d){return A.b(d,a)?b:d}}(a,d),h)}}(d,this));return d}})(Element.prototype,function(b){return b.vc});
var tq=function tq(a,c){if(null!=a&&null!=a.Xd)return a.Xd(0,c);var d=tq[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=tq._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("ICustomElement.-append-child!",a);},uq=Ra(window.Node),vq=Ra(uq)?Md:function(b){try{return Md(b)}catch(a){if(a instanceof Error)return null;throw a;}},wq=Ra(uq)?Td:function(b){try{return Td(b)}catch(a){if(a instanceof Error)return null;throw a;}};function xq(b){return window.setTimeout(b,0)}
function yq(b,a){return b instanceof Element?xq(function d(){return p(document.documentElement.contains(b))?a.H?a.H():a.call(null):window.setTimeout(d,20)}):a.H?a.H():a.call(null)}
function zq(b){for(var a=cc(R),c=cc(wd),d=M(b,0),e=Be(b,1),f=a,h=c,k=b;;){var m=f,n=h,r=k,u=M(r,0),w=Be(r,1);if(Ra(u))return new V(null,2,5,W,[ec(m),ec(n)],null);Kd(u)?(f=he(function(){return function(a,b,c){return ef.f(a,b,c)}}(f,h,k,m,n,r,u,w,a,c,b,b,d,e),m,u),h=n):u instanceof q?(f=ef.f(m,u,G(w)),h=n,w=Pc(w)):p(wq.c?wq.c(u):wq.call(null,u))?(f=m,h=v.f(df,n,$f(u))):p(vq.c?vq.c(u):vq.call(null,u))?(f=m,h=v.f(df,n,$f(u))):(f=m,h=df.b(n,u));k=w}}
function Aq(b,a){he(function(a){return function(b,e,f){p(jp(f))?kq(f,function(a){return function(b,c){return gq.f?gq.f(a,e,c):gq.call(null,a,e,c)}}(b,a)):Bd(f)?hq.f?hq.f(b,e,f):hq.call(null,b,e,f):gq.f?gq.f(b,e,f):gq.call(null,b,e,f);return b}}(b),b,a)}
function jq(b,a){for(var c=M(a,0),d=Be(a,1),c=function(){return function(a){return"string"===typeof a?iq.c?iq.c(a):iq.call(null,a):"number"===typeof a?(a=""+t(a),iq.c?iq.c(a):iq.call(null,a)):a}}(b,a,c,d,a),d=E($f(a)),e=null,f=0,h=0;;)if(h<f){var k=e.X(null,h),k=c(k);p(k)&&tq(b,k);h+=1}else if(d=E(d))Pd(d)?(f=kc(d),d=lc(d),e=f,f=L(f)):(e=G(d),e=c(e),p(e)&&tq(b,e),d=H(d),e=null,f=0),h=0;else break;return b}g=Element.prototype;g.ca=!0;
g.J=function(b,a){return mi(a,D(["#\x3cElement: ",this.tagName,"\x3e"],0))};g.call=function(){function b(b,d){var e=null;if(1<arguments.length){for(var e=0,f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new Nc(f,0)}return a.call(this,0,e)}function a(a,b){var e=zq(b),f=M(e,0),e=M(e,1);Aq(this,f);jq(this,e);return this}b.C=1;b.K=function(b){G(b);b=Pc(b);return a(0,b)};b.j=a;return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};
g.b=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new Nc(e,0)}return a.call(this,d)}function a(a){var b=zq(a);a=M(b,0);b=M(b,1);Aq(this,a);jq(this,b);return this}b.C=0;b.K=function(b){b=E(b);return a(b)};b.j=a;return b}();g.Xd=function(b,a){if(Ra(uq))return this.appendChild(a);try{return this.appendChild(a)}catch(c){if(c instanceof Error)return null;throw c;}};
function Bq(b){return function(){function a(a){var b=null;if(0<arguments.length){for(var b=0,f=Array(arguments.length-0);b<f.length;)f[b]=arguments[b+0],++b;b=new Nc(f,0)}return c.call(this,b)}function c(a){var c=zq(a);a=M(c,0);var c=M(c,1),f=sq(document.getElementsByTagName(b)[0]);Aq(f,a);return Ra(Lk.c(a))?(a=f.vc,c=ge(c),Cf.b?Cf.b(a,c):Cf.call(null,a,c)):null}a.C=0;a.K=function(a){a=E(a);return c(a)};a.j=c;return a}()}
function Cq(b){return function(){function a(a){var b=null;if(0<arguments.length){for(var b=0,f=Array(arguments.length-0);b<f.length;)f[b]=arguments[b+0],++b;b=new Nc(f,0)}return c.call(this,b)}function c(a){return ab.b(sq(document.createElement(b)),a)}a.C=0;a.K=function(a){a=E(a);return c(a)};a.j=c;return a}()}var Dq=Bq("body"),Eq=Bq("head"),Fq=Cq("a"),Gq=Cq("code"),Hq=Cq("div"),Iq=Cq("h1"),Jq=Cq("input"),Kq=Cq("link"),Lq=Cq("pre"),Mq=Cq("span"),Nq=Cq("table"),Oq=Cq("td"),Pq=Cq("textarea"),Qq=Cq("tr");
function iq(b){return document.createTextNode(b)}function Rq(b){jQuery(b)}jQuery(function(){return jQuery("body").on("submit",function(b){var a=jQuery(b.target),c=a.attr("action"),a=p(c)?c:a.attr("method");return p(a)?null:b.preventDefault()})});
var Sq=function Sq(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Sq.c(arguments[0]);case 2:return Sq.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Sq.c=function(b){return b.val()};Sq.b=function(b,a){var c=""+t(a);return gf.b(c,Sq.c(b))?b.val(c):null};Sq.C=2;
var Tq=function Tq(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Tq.c(arguments[0]);case 2:return Tq.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Tq.c=function(b){return b.is(":checked")};Tq.b=function(b,a){return b.prop("checked",Vd(a))};Tq.C=2;
if("undefined"===typeof gq)var gq=function(){var b=zf.c?zf.c(R):zf.call(null,R),a=zf.c?zf.c(R):zf.call(null,R),c=zf.c?zf.c(R):zf.call(null,R),d=zf.c?zf.c(R):zf.call(null,R),e=B.f(new l(null,1,[ik,Yl],null),on,Hi());return new Ti(Lc.b("hoplon.core","do!"),function(){return function(a,b){return b}}(b,a,c,d,e),Yl,e,b,a,c,d)}();Vi(gq,Yl,function(b,a,c){a=ch([a,c]);return gq.f?gq.f(b,bo,a):gq.call(null,b,bo,a)});
Vi(gq,Ck,function(){function b(b,d,e){var f=null;if(2<arguments.length){for(var f=0,h=Array(arguments.length-2);f<h.length;)h[f]=arguments[f+2],++f;f=new Nc(h,0)}return a.call(this,b,0,f)}function a(a,b,e){a=jQuery(a);return ab.f(A.b("checkbox",a.attr("type"))?Tq:Sq,a,e)}b.C=2;b.K=function(b){var d=G(b);b=H(b);G(b);b=Pc(b);return a(d,0,b)};b.j=a;return b}());
Vi(gq,bo,function(b,a,c){b=jQuery(b);c=E(c);a=null;for(var d=0,e=0;;)if(e<d){var f=a.X(null,e),h=M(f,0),f=M(f,1),h=Ee(h);A.b(!1,f)?b.removeAttr(h):b.attr(h,A.b(!0,f)?h:f);e+=1}else if(c=E(c))Pd(c)?(h=kc(c),c=lc(c),a=h,d=h=L(h)):(a=G(c),h=M(a,0),f=M(a,1),a=Ee(h),A.b(!1,f)?b.removeAttr(a):b.attr(a,A.b(!0,f)?a:f),c=H(c),a=null,d=0),e=0;else return null});
Vi(gq,hm,function(b,a,c){b=jQuery(b);a=function(){return function(a){return ai(a,Rf(!0))}}(b);c=Kd(c)?c:a("string"===typeof c?c.split(/\s+/):E(c));c=E(c);for(var d=null,e=0,f=0;;)if(f<e){var h=d.X(null,f);a=M(h,0);h=M(h,1);b.toggleClass(Ee(a),Vd(h));f+=1}else if(c=E(c))Pd(c)?(d=kc(c),c=lc(c),a=d,e=L(d),d=a):(d=G(c),a=M(d,0),h=M(d,1),b.toggleClass(Ee(a),Vd(h)),c=H(c),d=null,e=0),f=0;else return null});
Vi(gq,Pk,function(b,a,c){b=jQuery(b);c=E(c);for(var d=null,e=0,f=0;;)if(f<e){var h=d.X(null,f);a=M(h,0);h=M(h,1);b.css(Ee(a),""+t(h));f+=1}else if(c=E(c))Pd(c)?(d=kc(c),c=lc(c),a=d,e=L(d),d=a):(d=G(c),a=M(d,0),h=M(d,1),b.css(Ee(a),""+t(h)),c=H(c),d=null,e=0),f=0;else return null});Vi(gq,ml,function(b,a,c){return jQuery(b).toggle(Vd(c))});Vi(gq,Ek,function(b,a,c){return p(c)?jQuery(b).hide().slideDown("fast"):jQuery(b).slideUp("fast")});
Vi(gq,Lj,function(b,a,c){return p(c)?jQuery(b).hide().fadeIn("fast"):jQuery(b).fadeOut("fast")});Vi(gq,Em,function(b,a,c){return setTimeout(function(){return p(c)?jQuery(b).focus():jQuery(b).focusout()},0)});Vi(gq,Sn,function(b){return jQuery(b).select()});Vi(gq,zm,function(b,a,c){return p(c)?(gq.f?gq.f(b,Em,c):gq.call(null,b,Em,c),gq.f?gq.f(b,Sn,c):gq.call(null,b,Sn,c)):null});Vi(gq,Xn,function(b,a,c){return jQuery(b).text(""+t(c))});Vi(gq,Wn,function(b,a,c){return jQuery(b).html(c)});
Vi(gq,Ln,function(b,a,c){return p(c)?(a=jQuery("body,html"),b=jQuery(b),a.animate(Ci(new l(null,1,[Zn,b.offset().top],null)))):null});if("undefined"===typeof hq)var hq=function(){var b=zf.c?zf.c(R):zf.call(null,R),a=zf.c?zf.c(R):zf.call(null,R),c=zf.c?zf.c(R):zf.call(null,R),d=zf.c?zf.c(R):zf.call(null,R),e=B.f(new l(null,1,[ik,Yl],null),on,Hi());return new Ti(Lc.b("hoplon.core","on!"),function(){return function(a,b){return b}}(b,a,c,d,e),Yl,e,b,a,c,d)}();jQuery.Event.prototype.pc=function(){return jQuery(this.target).val()};
Vi(hq,Yl,function(b,a,c){return yq(b,function(){return jQuery(b).on(Ee(a),c)})});var Uq=new V(null,2,5,W,[new l(null,5,[ul,"The making of a new blog",wk,"making-a-new-blog",gj,new V(null,1,5,W,["2015-05-02"],null),tn,"2015-04-24",fk,new V(null,3,5,W,[new V(null,2,5,W,[Yn,"I decided to start writing again. And of course the first obstacle\nfor a programmer creating a new blog is choosing what to use as the\nblog stack. To make things easy on me, this choice will be the subject\nof this first post.\n\n*Update (2015-05-02)*:\n[The source is available on\n github](https://github.com/mynomoto/mynomoto.github.io/tree/sources/blog)\n\n## Hoplon\nHoplon is currently being ported to run on boot 2. Since this is a\nspace for experiments that's my choice for rendering this page. I use\nHoplon on boot 1 and while Hoplon itself has not changed, all\nsurroundings have.\n\n### Dependencies\nThere is an official way to add js dependencies on clojurescript now.\nYou can find lots of packaged js ready to use on\n[CLJSJS](http://cljsjs.github.io/). No more worring about adding\npreambles on the compiler options.\n\n### Boot 2\nThe new version of boot has immutable filesets that you handle using\nmiddlewares. Each compilation starts with a clean state so no need to\nrun `lein clean` or `lein cljsbuild clean`.\n\nThis blog is being written using several of those tasks:\n\n- `watch`: watches for file changes and run the tasks after it on the\npipeline.\n- `speak`: beeps when tasks finishes.\n- `sass`: compiles sass files.\n- `hoplon`: compiles hoplon files.\n- `reload`: sends the updated javascript to the browser.\n- `cljs`: compiles clojurescript.\n\nAlso boot has a [nice page with kittens](boot-clj.com).\n\n### Markdown\nThere is a `md` macro on Hoplon that combined with a special syntax for\nmultiline strings allows users just to write markdown intead of having to\nuse normal strings and worry about escaping special chars.\n\n*Update (2015-05-02)*: This can only be used for things that are\navailable when boot runs. It won't work on dynamic content. For that you\ncan use cljsjs/markdown that packages\n[markdown-js](https://github.com/evilstreak/markdown-js). This blog uses\nmarkdown-js now.\n\n#### Bonus: Code highlight\nThe markdown task will use pygments to highlight your code as you can\nsee below:"],
null),new V(null,2,5,W,[xm,"(defn xyabc [a]\n  (str a))\n\n(-\x3e\x3e x\n     (map str)\n     (filter y))"],null),new V(null,2,5,W,[Yn,"*Update (2015-05-02)*: This also only works for things available when boot runs.\nThis blog now uses cljsjs/highlight that packages\n[highlight.js](https://highlightjs.org/).\n\n## [MUI] (https://www.muicss.com)\nMui is simple and easy to use. Just a sprinkle of classes and\nsome color configuration go a long way."],null)],null)],null),new l(null,4,[ul,"Minimal Hoplon project",
wk,"minimal-hoplon-project",tn,"2015-05-02",fk,new V(null,11,5,W,[new V(null,2,5,W,[Yn,"I created\n[minimal Hoplon project](https://github.com/mynomoto/hoplon-minimal).\nBesides the README.md it has only two other files. Let's see their\ncontents.\n\n## build.boot\nThis has the configuration to use [boot](http://boot-clj.com/) to build\nour project.\n\n`set-env! sets the environment, and here we set the dependencies and\nsource paths for the project. So we use a bunch of dependencies and our\nsources live inside the `src` directory."],
null),new V(null,2,5,W,[xm,'(set-env!\n  :dependencies  \'[[adzerk/boot-cljs          "0.0-2814-3"]\n                   [adzerk/boot-cljs-repl     "0.1.9"]\n                   [adzerk/boot-reload        "0.2.6"]\n                   [tailrecursion/boot-hoplon "0.1.0-SNAPSHOT"]\n                   [tailrecursion/hoplon      "6.0.0-SNAPSHOT"]]\n  :source-paths   #{"src"})'],null),new V(null,2,5,W,[Yn,"`require` makes namespaces and tasks available. So the\n`'[adzerk.boot-cljs :refer [cljs]]` makes the `cljs` task from the\n`adzerk.boot-cljs` namespace available on this project."],
null),new V(null,2,5,W,[xm,"(require\n  '[adzerk.boot-cljs          :refer [cljs]]\n  '[adzerk.boot-reload        :refer [reload]]\n  '[adzerk.boot-cljs-repl     :refer [cljs-repl start-repl]]\n  '[tailrecursion.boot-hoplon :refer [hoplon prerender]])"],null),new V(null,2,5,W,[Yn,"Here we define a `dev` task that's just a composition of several other\ntasks. You can run `boot -h` in a terminal to get help about what each one\ndoes. But the summary is that this task will reload your code when you\nchange and save your source files, will beep when the compilation finishes\nor fails and will start a Clojurescript REPL server."],
null),new V(null,2,5,W,[xm,'(deftask dev\n  "Build hoplon-minimal for local development."\n  []\n  (comp\n    (watch)\n    (speak)\n    (hoplon)\n    (reload)\n    (cljs-repl)\n    (cljs)))'],null),new V(null,2,5,W,[Yn,'To connect on the Clojurescript REPL run `boot repl -c` on another\nterminal. Once the REPL starts run `(start-repl)`. You can test if this is\nworking running `(.alert js/window "From the Clojurescript REPL")`.\n\nLastly we define a `prod` task that will compile the Clojurescript using\nadvanded compilation and prerender the html file.'],
null),new V(null,2,5,W,[xm,'(deftask prod\n  "Build hoplon-minimal for production deployment."\n  []\n  (comp\n    (hoplon)\n    (cljs :optimizations :advanced)\n    (prerender)))'],null),new V(null,2,5,W,[Yn,"So this is the end of the configuration part.\n\n## index.cljs.hl\nNow we need a Hoplon file to compile. The `index.cljs.hl` contains\nClojurescript code that will generate a html page. Let's take a look on\nit's contents."],null),new V(null,2,5,W,[xm,'(page "index.html")\n\n(html\n  (head)\n  (body\n    (h1 "Hoplon Minimal")))'],
null),new V(null,2,5,W,[Yn,"The `page` form tell Hoplon to generate a `index.html` file. The rest of\nthe file will create the contents of an `html` file with default values.\n\nIf you are willing you [can find out more about\n                        Hoplon](http://hoplon.io/#/getting-started/). You\nalready have your project running so just pick it up from Task 3. Enjoy."],null)],null)],null)],null);var Vq=G(Xf(function(b){return 0!=(32&1<<b)},new ei(null,31,-1,-1,null)))+1,Wq=(1<<Vq)-1;function Xq(b,a,c,d){for(var e=0,f=we(c);;)if(e<=f){c=e+f>>>1;var h=a[c];0>(b.b?b.b(h,d):b.call(null,h,d))?e=c+1:f=c-1}else return e}function Yq(b,a,c,d){for(var e=0,f=we(c);;)if(e<=f){c=e+f>>>1;var h=a[c];0<(b.b?b.b(h,d):b.call(null,h,d))?f=c-1:e=c+1}else return e}function Zq(b,a,c){var d=a.length,e=Xq(b,a,d-1,c);if(d=e<d)a=a[e],d=0===(b.b?b.b(a,c):b.call(null,a,c));return d?e:-1}
function $q(b,a,c){var d=a.length;b=Xq(b,a,d-1,c);return b===d?-1:b}function ar(b){return b[b.length-1]}function br(b,a,c,d,e,f){var h=f.length,k=d-a,m=k+h,n;n=k+h+(c-e);n=Ya?Array(n):Xa.call(null,n);d-=a;for(var r=0;;)if(r<d)n[r+0]=b[r+a],r+=1;else break;a=h-0;for(h=0;;)if(h<a)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=b[f+e],f+=1;else break;return n}function cr(b,a,c,d){return br(b,0,b.length,a,c,d)}
function dr(b,a){var c=b.length,d=a.length,e=c+d,f=e>>>1,h=e-f,e=Ya?Array(f):Xa.call(null,f),h=Ya?Array(h):Xa.call(null,h);if(c<=f){for(var k=c-0,m=0;;)if(m<k)e[m+0]=b[m+0],m+=1;else break;k=f-c-0;for(m=0;;)if(m<k)e[m+c]=a[m+0],m+=1;else break;d-=f-c;for(k=0;;)if(k<d)h[k+0]=a[k+(f-c)],k+=1;else break}else{k=f-0;for(m=0;;)if(m<k)e[m+0]=b[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)h[m+0]=b[m+f],m+=1;else break;d-=0;for(k=0;;)if(k<d)h[k+(c-f)]=a[k+0],k+=1;else break}return[e,h]}
function er(b,a,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var h=a[f+c],k=e[f+0];if(0!==(b.b?b.b(h,k):b.call(null,h,k)))return!1;f+=1}else return f}function fr(b,a){for(var c=a.length,d=0;;)if(d<c){var e=d,f;f=a[d];f=b.c?b.c(f):b.call(null,f);a[e]=f;d+=1}else break;return a}function gr(b){var a=b.length,c=cc(wd);if(0<a)for(var d=0;;){var e=a-d;if(32>=e){df.b(c,b.slice(d));break}else 40<=e?(df.b(c,b.slice(d,d+24)),d+=24):(e>>>=1,df.b(c,b.slice(d,d+e)),d+=e)}return de(ec(c))}
function hr(b,a){return p(b)?p(a)?[b,a]:[b]:[a]}function ir(b,a,c){return p(b)?p(a)?p(c)?[b,a,c]:[b,a]:p(c)?[b,c]:[b]:p(a)?p(c)?[a,c]:[a]:[c]}
var jr=function jr(a){if(null!=a&&null!=a.md)return a.md(a);var c=jr[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=jr._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("INode.node-lim-key",a);},kr=function kr(a){if(null!=a&&null!=a.Pd)return a.keys.length;var c=kr[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=kr._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("INode.node-len",a);},lr=function lr(a,c){if(null!=a&&null!=a.od)return a.od(a,c);var d=
lr[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=lr._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("INode.node-merge",a);},mr=function mr(a,c){if(null!=a&&null!=a.pd)return a.pd(a,c);var d=mr[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=mr._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("INode.node-merge-n-split",a);},nr=function nr(a,c,d){if(null!=a&&null!=a.nd)return a.nd(a,c,d);var e=nr[ba(null==a?null:a)];if(null!=e)return e.f?
e.f(a,c,d):e.call(null,a,c,d);e=nr._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("INode.node-lookup",a);},or=function or(a,c,d){if(null!=a&&null!=a.kd)return a.kd(a,c,d);var e=or[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=or._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("INode.node-conj",a);},pr=function pr(a,c,d,e,f,h){if(null!=a&&null!=a.ld)return a.ld(a,c,d,e,f,h);var k=pr[ba(null==a?null:a)];if(null!=k)return k.fa?k.fa(a,c,d,e,f,
h):k.call(null,a,c,d,e,f,h);k=pr._;if(null!=k)return k.fa?k.fa(a,c,d,e,f,h):k.call(null,a,c,d,e,f,h);throw Ua("INode.node-disj",a);};function qr(b,a,c,d){if(p(a))return[b];if(16<kr(b))return ir(c,b,d);if(p(p(c)?16>=kr(c):c))return hr(lr(c,b),d);if(p(p(d)?16>=kr(d):d))return hr(c,lr(b,d));if(p(p(c)?null==d||kr(c)<kr(d):c))return b=mr(c,b),ir(b[0],b[1],d);b=mr(b,d);return ir(c,b[0],b[1])}function rr(b,a){this.keys=b;this.sa=a}g=rr.prototype;g.md=function(){return ar(this.keys)};g.Pd=function(){return this.keys.length};
g.od=function(b,a){return new rr(this.keys.concat(a.keys),this.sa.concat(a.sa))};g.pd=function(b,a){var c=dr(this.keys,a.keys),d=dr(this.sa,a.sa);return hr(new rr(c[0],d[0]),new rr(c[1],d[1]))};g.nd=function(b,a,c){b=$q(a,this.keys,c);return-1===b?null:nr(this.sa[b],a,c)};
g.kd=function(b,a,c){b=Xq(a,this.keys,this.keys.length-2,c);c=or(this.sa[b],a,c);if(p(c)){var d=this.keys,e=b+1,f=c.map(jr);a=er(a,d,b,e,f,f.length)?d:cr(d,b,e,f);b=cr(this.sa,b,b+1,c);if(32>=b.length)return[new rr(a,b)];c=b.length>>>1;return[new rr(a.slice(0,c),b.slice(0,c)),new rr(a.slice(c),b.slice(c))]}return null};
g.ld=function(b,a,c,d,e,f){var h=$q(a,this.keys,c);if(-1===h)return null;b=0<=h-1?this.sa[h-1]:null;var k=h+1<this.sa.length?this.sa[h+1]:null;c=pr(this.sa[h],a,c,!1,b,k);if(p(c)){b=p(b)?h-1:h;var h=p(k)?2+h:1+h,k=this.keys,m=c.map(jr);a=er(a,k,b,h,m,m.length)?k:cr(k,b,h,m);c=cr(this.sa,b,h,c);return qr(new rr(a,c),d,e,f)}return null};function sr(b){this.keys=b}g=sr.prototype;g.md=function(){return ar(this.keys)};g.Pd=function(){return this.keys.length};g.od=function(b,a){return new sr(this.keys.concat(a.keys))};
g.pd=function(b,a){var c=dr(this.keys,a.keys);return hr(new sr(c[0]),new sr(c[1]))};g.nd=function(b,a,c){b=Zq(a,this.keys,c);return-1===b?null:this.keys[b]};g.kd=function(b,a,c){b=Xq(a,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=b<d)e=this.keys[b],e=0===(a.b?a.b(c,e):a.call(null,c,e));return e?null:32===d?(a=d+1>>>1,b>a?[new sr(this.keys.slice(0,a)),new sr(br(this.keys,a,d,b,b,[c]))]:[new sr(br(this.keys,0,a,b,b,[c])),new sr(this.keys.slice(a,d))]):[new sr(cr(this.keys,b,b,[c]))]};
g.ld=function(b,a,c,d,e,f){b=Zq(a,this.keys,c);if(-1===b)return null;b=cr(this.keys,b,b+1,[]);return qr(new sr(b),d,e,f)};tr;ur;xr;function yr(b,a,c,d,e,f){this.root=b;this.shift=a;this.u=c;this.cb=d;this.w=e;this.i=f;this.m=2297303311;this.D=8192}g=yr.prototype;g.toString=function(){return vc(this)};g.I=function(b,a){return nr(this.root,this.cb,a)};g.G=function(b,a,c){b=nr(this.root,this.cb,a);return p(b)?b:c};g.J=function(b,a,c){return X(a,Y,"#{"," ","}",c,E(this))};g.N=function(){return this.w};
g.R=function(){return this.u};g.vb=function(){var b=xr.c?xr.c(this):xr.call(null,this);return Xb(b)};g.L=function(){var b=this.i;if(null!=b)return b;a:for(var b=0,a=E(this);;)if(a)var c=G(a),b=(b+Hc(c))%4503599627370496,a=H(a);else break a;return this.i=b};g.B=function(b,a){return Id(a)&&this.u===L(a)&&pf(function(a){return function(b){return Wd(a,b)}}(this),a)};g.ea=function(){return new yr(new sr([]),0,0,this.cb,this.w,null)};
g.gd=function(b,a){return ur.f?ur.f(this,a,this.cb):ur.call(null,this,a,this.cb)};g.na=function(b,a){var c=xr.c?xr.c(this):xr.call(null,this);return p(c)?Mb.b(c,a):a.H?a.H():a.call(null)};g.oa=function(b,a,c){b=xr.c?xr.c(this):xr.call(null,this);return p(b)?Mb.f(b,a,c):c};g.M=function(){return xr.c?xr.c(this):xr.call(null,this)};g.O=function(b,a){return new yr(this.root,this.shift,this.u,this.cb,a,this.i)};g.P=function(b,a){return tr.f?tr.f(this,a,this.cb):tr.call(null,this,a,this.cb)};
g.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.I(null,b);case 3:return this.G(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a,b){return this.I(null,b)};b.f=function(a,b,d){return this.G(null,b,d)};return b}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return this.I(null,b)};g.b=function(b,a){return this.G(null,b,a)};function zr(b,a,c,d){return new yr(a,c,d,b.cb,b.w,null)}
function Ar(b,a){for(var c=b.shift,d=b.root;;)if(0<c)d=d.sa[Wq&a>>>c],c-=Vq;else return d.keys}function tr(b,a,c){a=or(b.root,c,a);return null==a?b:1===a.length?zr(b,a[0],b.shift,b.u+1):zr(b,new rr(a.map(jr),a),b.shift+Vq,b.u+1)}function ur(b,a,c){a=pr(b.root,c,a,!0,null,null);if(null==a)return b;a=a[0];return a instanceof rr&&1===a.sa.length?zr(b,a.sa[0],b.shift-Vq,b.u-1):zr(b,a,b.shift,b.u-1)}
var Br=function Br(a,c,d){var e=Wq&c>>>d;return 0<d?(c=Br(a.sa[e],c,d-Vq),-1===c?e+1<a.sa.length?0|e+1<<d:-1:c|e<<d):e+1<a.keys.length?0|e+1<<0:-1};function Cr(b,a){for(var c=b,d=0,e=a;;)if(0<e)d|=c.sa.length-1<<e,e-=Vq,c=ar(c.sa);else return d|c.keys.length-1<<0}var Dr=function Dr(a,c,d){var e=Wq&c>>>d;if(0<d){var f=d-Vq;c=Dr(a.sa[e],c,f);return-1===c?0<=e-1?(--e,Cr(a.sa[e],f)|e<<d):-1:c|e<<d}return 0<=e-1?0|e-1<<0:-1};Er;Fr;Gr;Hr;Ir;Jr;Kr;Lr;
function xr(b){if(0<kr(b.root)){var a=Cr(b.root,b.shift)+1;return Er.f?Er.f(b,0,a):Er.call(null,b,0,a)}return null}function Mr(b,a,c,d,e){this.set=b;this.left=a;this.right=c;this.keys=d;this.hb=e;this.m=143130816;this.D=1536}g=Mr.prototype;g.M=function(){return p(this.keys)?this:null};g.ha=function(){return Gr.c?Gr.c(this):Gr.call(null,this)};g.ra=function(){var b=Hr.c?Hr.c(this):Hr.call(null,this);return p(b)?b:Qc};g.ya=function(){return Hr.c?Hr.c(this):Hr.call(null,this)};
g.Xc=function(){return Ir.c?Ir.c(this):Ir.call(null,this)};g.Yc=function(){var b=mc(this);return p(b)?b:Qc};g.Wc=function(){return Jr.c?Jr.c(this):Jr.call(null,this)};g.na=function(b,a){return Lr.b?Lr.b(this,a):Lr.call(null,this,a)};g.oa=function(b,a,c){return Lr.f?Lr.f(this,a,c):Lr.call(null,this,a,c)};g.vb=function(){return Kr.c?Kr.c(this):Kr.call(null,this)};function Er(b,a,c){return new Mr(b,a,c,Ar(b,a),Wq&a>>>0)}function Gr(b){return p(b.keys)?b.keys[b.hb]:null}
function Hr(b){var a=b.set,c=b.left,d=b.right,e=b.keys;b=b.hb;if(p(e)){if(b+1<e.length)return c+1<d?new Mr(a,c+1,d,e,b+1):null;c=Br(a.root,c,a.shift);return gf.b(-1,c)&&c<d?Er(a,c,d):null}return null}function Ir(b){var a=b.right,c=b.keys,d=b.hb;b=A.b(b.left|Wq,a|Wq)?a&Wq:c.length;return new Ue(c,d,b)}function Jr(b){var a=b.set,c=b.right;b=Br(a.root,b.left+(b.keys.length-b.hb-1),a.shift);return gf.b(-1,b)&&b<c?Er(a,b,c):null}
function Kr(b){var a=b.set,c=b.left,d=b.right;return p(b.keys)?(b=Dr(a.root,c,a.shift),d=Dr(a.root,d,a.shift),Fr.f?Fr.f(a,b,d):Fr.call(null,a,b,d)):null}var Lr=function Lr(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Lr.b(arguments[0],arguments[1]);case 3:return Lr.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
Lr.b=function(b,a){if(null==b.keys)return a.H?a.H():a.call(null);var c=Gr(b),d=Hr(b);return p(d)?Lr.f(d,a,c):c};Lr.f=function(b,a,c){var d=b.set,e=b.right,f=b.left,h=b.keys;for(b=b.hb;;){if(ed(c))return I.c?I.c(c):I.call(null,c);if(null==h)return c;var k=h[b];c=a.b?a.b(c,k):a.call(null,c,k);if(b+1<h.length)if(f+1<e)b+=1,f+=1;else return c;else if(f=Br(d.root,f,d.shift),-1!==f&&f<e)h=Ar(d,f),b=Wq&f>>>0;else return c}};Lr.C=3;Nr;Or;Pr;
function Qr(b,a,c,d,e){this.set=b;this.left=a;this.right=c;this.keys=d;this.hb=e;this.m=142606528;this.D=0}g=Qr.prototype;g.M=function(){return p(this.keys)?this:null};g.ha=function(){return Nr.c?Nr.c(this):Nr.call(null,this)};g.ra=function(){var b=Or.c?Or.c(this):Or.call(null,this);return p(b)?b:Qc};g.ya=function(){return Or.c?Or.c(this):Or.call(null,this)};g.vb=function(){return Pr.c?Pr.c(this):Pr.call(null,this)};function Fr(b,a,c){return new Qr(b,a,c,Ar(b,c),Wq&c>>>0)}
function Nr(b){return p(b.keys)?b.keys[b.hb]:null}function Or(b){var a=b.set,c=b.left,d=b.right,e=b.keys;b=b.hb;if(p(e)){if(0<=b-1)return d-1>c?new Qr(a,c,d-1,e,b-1):null;d=Dr(a.root,d,a.shift);return gf.b(-1,d)&&d>c?Fr(a,c,d):null}return null}function Pr(b){var a=b.set,c=b.left;b=b.right;if(p(Zg)){var d=Br(a.root,b,a.shift);return Er(a,-1===c?0:Br(a.root,c,a.shift),-1===d?b+1:d)}return null}
function Rr(b,a){var c;b:{c=b.root;for(var d=0,e=b.shift;;){var f=kr(c);if(0===e){var h=c.keys,h=Xq(b.cb,h,f-1,a);c=f===h?-1:d|h<<0;break b}h=c.keys;h=Xq(b.cb,h,f-2,a);d|=h<<e;e-=Vq;c=c.sa[h]}}if(0>c)c=null;else{b:for(d=b.root,e=0,h=b.shift;;){f=kr(d);if(0===h){var k=d.keys,f=Yq(b.cb,k,f-1,a),d=e|f<<0;break b}k=d.keys;f=Yq(b.cb,k,f-2,a);e|=f<<h;h-=Vq;d=d.sa[f]}c=d>c?new Mr(b,c,d,Ar(b,c),Wq&c>>>0):null}return c}
function Sr(b,a){for(var c=fr(function(a){return new sr(a)},gr(b)),d=c,e=0;;){var f=L(d);switch(f){case 0:return new yr(new sr([]),0,0,a,null,null);case 1:return new yr(G(d),e,b.length,a,null,null);default:d=fr(function(){return function(a){return new rr(a.map(jr),a)}}(d,e,f,c),gr(d)),e+=Vq}}}function Tr(b){return new yr(new sr([]),0,0,b,null,null)};function Ur(b,a,c){if(Ke(c))return c=ab.b(Bc,De.b(b,c)),a.c?a.c(c):a.call(null,c);if(Td(c))return c=hi(De.b(b,c)),a.c?a.c(c):a.call(null,c);if(Ld(c))return c=v.f(function(a,c){return J.b(a,b.c?b.c(c):b.call(null,c))},c,c),a.c?a.c(c):a.call(null,c);Hd(c)&&(c=ag.b(null==c?null:eb(c),De.b(b,c)));return a.c?a.c(c):a.call(null,c)}var Vr=function Vr(a,c){return Ur(vf(Vr,a),a,c)};var Wr=Error;Xr;Yr;Zr;$r;as;bs;function cs(b,a,c,d,e){this.e=b;this.a=a;this.v=c;this.tx=d;this.added=e;this.m=2162164496;this.D=0}g=cs.prototype;g.L=function(){var b=this.i;return p(b)?b:this.i=Xr.c?Xr.c(this):Xr.call(null,this)};g.B=function(b,a){var c=a instanceof cs;return c?Yr.b?Yr.b(this,a):Yr.call(null,this,a):c};g.M=function(){return Zr.c?Zr.c(this):Zr.call(null,this)};g.I=function(b,a){return $r.f?$r.f(this,a,null):$r.call(null,this,a,null)};
g.G=function(b,a,c){return $r.f?$r.f(this,a,c):$r.call(null,this,a,c)};g.X=function(b,a){return as.b?as.b(this,a):as.call(null,this,a)};g.Ra=function(b,a,c){return as.f?as.f(this,a,c):as.call(null,this,a,c)};g.T=function(b,a){return bs.c?bs.c(a):bs.call(null,a)};g.J=function(b,a,c){return X(a,Y,"#datascript/Datom ["," ","]",c,new V(null,5,5,W,[this.e,this.a,this.v,this.tx,this.added],null))};
var ds=function ds(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return ds.f(arguments[0],arguments[1],arguments[2]);case 4:return ds.A(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ds.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};ds.f=function(b,a,c){return new cs(b,a,c,536870912,!0)};
ds.A=function(b,a,c,d){return new cs(b,a,c,d,!0)};ds.S=function(b,a,c,d,e){return new cs(b,a,c,d,e)};ds.C=5;function Xr(b){return Ic(Ic(Hc(b.e),Hc(b.a)),Hc(b.v))}function Yr(b,a){return A.b(b.e,a.e)&&A.b(b.a,a.a)&&A.b(b.v,a.v)}function Zr(b){return hb(hb(hb(hb(hb(Qc,b.added),b.tx),b.v),b.a),b.e)}function $r(b,a,c){return A.b(Gj,a)?b.v:A.b("e",a)?b.e:A.b(lk,a)?b.added:A.b("v",a)?b.v:A.b(pl,a)?b.e:A.b("a",a)?b.a:A.b(Rl,a)?b.tx:A.b("added",a)?b.added:A.b("tx",a)?b.tx:A.b(Mn,a)?b.a:c}
var as=function as(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return as.b(arguments[0],arguments[1]);case 3:return as.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};as.b=function(b,a){switch(a){case 0:return b.e;case 1:return b.a;case 2:return b.v;case 3:return b.tx;case 4:return b.added;default:throw Error([t("Datom/-nth: Index out of bounds: "),t(a)].join(""));}};
as.f=function(b,a,c){switch(a){case 0:return b.e;case 1:return b.a;case 2:return b.v;case 3:return b.tx;case 4:return b.added;default:return c}};as.C=3;
function bs(b,a,c){switch(a instanceof q?a.V:null){case "e":return new cs(c,b.a,b.v,b.tx,b.added);case "a":return new cs(b.e,c,b.v,b.tx,b.added);case "v":return new cs(b.e,b.a,c,b.tx,b.added);case "tx":return new cs(b.e,b.a,b.v,c,b.added);case "added":return new cs(b.e,b.a,b.v,b.tx,c);default:throw new Wr([t("invalid key for #datascript/Datom: "),t(a)].join(""));}}function es(b,a){return p(p(b)?a:b)?Cc(b,a):0}function fs(b,a){return p(p(b)?a:b)?b-a:0}
function gs(b,a){return null!=b&&null!=a?Cc(b,a):0}function hs(b,a){var c=fs(b.e,a.e);return 0===c&&(c=es(b.a,a.a),0===c&&(c=gs(b.v,a.v),0===c))?(c=fs(b.tx,a.tx),0===c?0:c):c}function is(b,a){var c=es(b.a,a.a);return 0===c&&(c=fs(b.e,a.e),0===c&&(c=gs(b.v,a.v),0===c))?(c=fs(b.tx,a.tx),0===c?0:c):c}function js(b,a){var c=es(b.a,a.a);return 0===c&&(c=gs(b.v,a.v),0===c&&(c=fs(b.e,a.e),0===c))?(c=fs(b.tx,a.tx),0===c?0:c):c}function ks(b,a){return b instanceof q?ic(b,a):va(b,a)}
function ls(b,a){var c=b.e-a.e;return 0===c&&(c=ks(b.a,a.a),0===c&&(c=Cc(b.v,a.v),0===c))?(c=b.tx-a.tx,0===c?0:c):c}function ms(b,a){var c=ks(b.a,a.a);return 0===c&&(c=b.e-a.e,0===c&&(c=Cc(b.v,a.v),0===c))?(c=b.tx-a.tx,0===c?0:c):c}function ns(b,a){var c=ks(b.a,a.a);return 0===c&&(c=Cc(b.v,a.v),0===c&&(c=b.e-a.e,0===c))?(c=b.tx-a.tx,0===c?0:c):c}function os(){}
var ps=function ps(a,c){if(null!=a&&null!=a.Td)return a.Td(0,c);var d=ps[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=ps._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("ISearch.-search",a);};function qs(){}var rs=function rs(a,c,d){if(null!=a&&null!=a.Rd)return a.Rd(0,c,d);var e=rs[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=rs._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("IIndexAccess.-datoms",a);};
function ss(){}var ts=function ts(a){if(null!=a&&null!=a.le)return a.Ya;var c=ts[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=ts._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IDB.-schema",a);},us=function us(a,c){if(null!=a&&null!=a.Qd)return a.Qd(0,c);var d=us[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=us._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IDB.-attrs-by",a);};vs;ws;xs;ys;zs;As;Bs;Cs;Ds;
function Es(b,a,c,d,e,f,h,k,m,n){this.Ya=b;this.Va=a;this.ab=c;this.bb=d;this.jb=e;this.kb=f;this.fb=h;this.h=k;this.g=m;this.i=n;this.m=2229667594;this.D=8192}g=Es.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "schema":return this.Ya;case "eavt":return this.Va;case "aevt":return this.ab;case "avet":return this.bb;case "max-eid":return this.jb;case "max-tx":return this.kb;case "rschema":return this.fb;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.core.DB{",", ","}",c,U.b(new V(null,7,5,W,[new V(null,2,5,W,[jj,this.Ya],null),new V(null,2,5,W,[wl,this.Va],null),new V(null,2,5,W,[Qj,this.ab],null),new V(null,2,5,W,[rk,this.bb],null),new V(null,2,5,W,[Mk,this.jb],null),new V(null,2,5,W,[Cj,this.kb],null),new V(null,2,5,W,[dn,this.fb],null)],null),this.g))};
g.U=function(){return new Sg(0,this,7,new V(null,7,5,W,[jj,wl,Qj,rk,Mk,Cj,dn],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 7+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};
g.W=function(b,a){return Wd(new Zd(null,new l(null,7,[jj,null,Cj,null,Qj,null,rk,null,Mk,null,wl,null,dn,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Es(this.Ya,this.Va,this.ab,this.bb,this.jb,this.kb,this.fb,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(jj,a):S.call(null,jj,a))?new Es(c,this.Va,this.ab,this.bb,this.jb,this.kb,this.fb,this.h,this.g,null):p(S.b?S.b(wl,a):S.call(null,wl,a))?new Es(this.Ya,c,this.ab,this.bb,this.jb,this.kb,this.fb,this.h,this.g,null):p(S.b?S.b(Qj,a):S.call(null,Qj,a))?new Es(this.Ya,this.Va,c,this.bb,this.jb,this.kb,this.fb,this.h,this.g,null):p(S.b?S.b(rk,a):S.call(null,rk,a))?new Es(this.Ya,this.Va,this.ab,c,this.jb,this.kb,this.fb,this.h,this.g,null):p(S.b?S.b(Mk,a):S.call(null,
Mk,a))?new Es(this.Ya,this.Va,this.ab,this.bb,c,this.kb,this.fb,this.h,this.g,null):p(S.b?S.b(Cj,a):S.call(null,Cj,a))?new Es(this.Ya,this.Va,this.ab,this.bb,this.jb,c,this.fb,this.h,this.g,null):p(S.b?S.b(dn,a):S.call(null,dn,a))?new Es(this.Ya,this.Va,this.ab,this.bb,this.jb,this.kb,c,this.h,this.g,null):new Es(this.Ya,this.Va,this.ab,this.bb,this.jb,this.kb,this.fb,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,7,5,W,[new V(null,2,5,W,[jj,this.Ya],null),new V(null,2,5,W,[wl,this.Va],null),new V(null,2,5,W,[Qj,this.ab],null),new V(null,2,5,W,[rk,this.bb],null),new V(null,2,5,W,[Mk,this.jb],null),new V(null,2,5,W,[Cj,this.kb],null),new V(null,2,5,W,[dn,this.fb],null)],null),this.g))};g.O=function(b,a){return new Es(this.Ya,this.Va,this.ab,this.bb,this.jb,this.kb,this.fb,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};
function Fs(b){return new Es(jj.c(b),wl.c(b),Qj.c(b),rk.c(b),Mk.c(b),Cj.c(b),dn.c(b),null,P.j(b,jj,D([wl,Qj,rk,Mk,Cj,dn],0)),null)}g.ca=!0;g.J=function(b,a,c){return zs.f?zs.f(this,a,c):zs.call(null,this,a,c)};g.Bd=!0;g.R=function(){return L(this.Va)};g.je=!0;g.vb=function(){return Xb(this.Va)};g.de=!0;g.L=function(){return vs.c?vs.c(this):vs.call(null,this)};g.B=function(b,a){return xs.b?xs.b(this,a):xs.call(null,this,a)};g.ea=function(){var b=this.Ya;return ys.c?ys.c(b):ys.call(null,b)};g.fd=!0;
g.M=function(){return Sb(this.Va)};g.me=!0;g.Rd=function(b,a,c){return Rr(B.b(this,a),Cs.f?Cs.f(this,a,c):Cs.call(null,this,a,c))};g.qd=!0;g.le=function(){return this.Ya};g.Qd=function(b,a){return this.fb.call(null,a)};g.Sd=!0;
g.Td=function(b,a){var c=M(a,0),d=M(a,1),e=M(a,2),f=M(a,3),h=this.Va,k=this.ab,m=this.bb;return p(c)?p(d)?null!=e?p(f)?Rr(h,new cs(c,d,e,f,null)):Rr(h,new cs(c,d,e,null,null)):p(f)?Xf(function(a,b,c,d,e){return function(a){return A.b(e,a.tx)}}(a,c,d,e,f,h,k,m,this),Rr(h,new cs(c,d,null,null,null))):Rr(h,new cs(c,d,null,null,null)):null!=e?p(f)?Xf(function(a,b,c,d,e){return function(a){return A.b(d,a.v)&&A.b(e,a.tx)}}(a,c,d,e,f,h,k,m,this),Rr(h,new cs(c,null,null,null,null))):Xf(function(a,b,c,d){return function(a){return A.b(d,
a.v)}}(a,c,d,e,f,h,k,m,this),Rr(h,new cs(c,null,null,null,null))):p(f)?Xf(function(a,b,c,d,e){return function(a){return A.b(e,a.tx)}}(a,c,d,e,f,h,k,m,this),Rr(h,new cs(c,null,null,null,null))):Rr(h,new cs(c,null,null,null,null)):p(d)?null!=e?p(f)?p(Ds.b?Ds.b(this,d):Ds.call(null,this,d))?Xf(function(a,b,c,d,e){return function(a){return A.b(e,a.tx)}}(a,c,d,e,f,h,k,m,this),Rr(m,new cs(null,d,e,null,null))):Xf(function(a,b,c,d,e){return function(a){return A.b(d,a.v)&&A.b(e,a.tx)}}(a,c,d,e,f,h,k,m,this),
Rr(k,new cs(null,d,null,null,null))):p(Ds.b?Ds.b(this,d):Ds.call(null,this,d))?Rr(m,new cs(null,d,e,null,null)):Xf(function(a,b,c,d){return function(a){return A.b(d,a.v)}}(a,c,d,e,f,h,k,m,this),Rr(k,new cs(null,d,null,null,null))):p(f)?Xf(function(a,b,c,d,e){return function(a){return A.b(e,a.tx)}}(a,c,d,e,f,h,k,m,this),Rr(k,new cs(null,d,null,null,null))):Rr(k,new cs(null,d,null,null,null)):null!=e?p(f)?Xf(function(a,b,c,d,e){return function(a){return A.b(d,a.v)&&A.b(e,a.tx)}}(a,c,d,e,f,h,k,m,this),
h):Xf(function(a,b,c,d){return function(a){return A.b(d,a.v)}}(a,c,d,e,f,h,k,m,this),h):p(f)?Xf(function(a,b,c,d,e){return function(a){return A.b(e,a.tx)}}(a,c,d,e,f,h,k,m,this),h):h};function Gs(b){var a=null!=b?b.Sd?!0:b.wb?!1:Sa(os,b):Sa(os,b);return a?(a=null!=b?b.me?!0:b.wb?!1:Sa(qs,b):Sa(qs,b))?null!=b?b.qd?!0:b.wb?!1:Sa(ss,b):Sa(ss,b):a:a}
function Hs(b,a){return A.b(new V(null,2,5,W,[b,a],null),new V(null,2,5,W,[il,!0],null))?new V(null,1,5,W,[il],null):A.b(a,Ak)?new V(null,2,5,W,[Ak,yj],null):A.b(a,hn)?new V(null,1,5,W,[hn],null):A.b(a,vj)?new V(null,3,5,W,[Jj,vj,yj],null):A.b(a,Bl)?new V(null,3,5,W,[Jj,Bl,yj],null):A.b(new V(null,2,5,W,[b,a],null),new V(null,2,5,W,[yj,!0],null))?new V(null,1,5,W,[yj],null):null}
function Is(b){var a=$d;return v.f(function(b,d){var e=M(d,0),f=M(d,1);return ig.A(b,new V(null,1,5,W,[e],null),wf(J,a),f)},R,b)}
function Js(b){return Is(function(){return function c(b){return new Re(null,function(){for(var e=b;;){var f=E(e);if(f){var h=f,k=G(h),m=M(k,0),n=M(k,1);if(f=E(function(b,c,d,e,f,h){return function Q(k){return new Re(null,function(b,c,d,e,f,h){return function(){for(var m=k;;){var n=E(m);if(n){var r=n,u=G(r),w=M(u,0),z=M(u,1);if(n=E(function(b,c,d,e,f,h,k,m,n,r,u,w){return function uh(z){return new Re(null,function(b,c,d,e,f,h,k,m,n){return function(){for(;;){var b=E(z);if(b){if(Pd(b)){var c=kc(b),
d=L(c),e=We(d);a:for(var f=0;;)if(f<d){var h=x.b(c,f);e.add(new V(null,2,5,W,[h,n],null));f+=1}else{c=!0;break a}return c?Xe(e.ba(),uh(lc(b))):Xe(e.ba(),null)}e=G(b);return ld(new V(null,2,5,W,[e,n],null),uh(Pc(b)))}return null}}}(b,c,d,e,f,h,k,m,n,r,u,w),null,null)}}(m,b,u,w,z,r,n,c,d,e,f,h)(Hs(w,z))))return U.b(n,Q(Pc(m)));m=Pc(m)}else return null}}}(b,c,d,e,f,h),null,null)}}(e,k,m,n,h,f)(n)))return U.b(f,c(Pc(e)));e=Pc(e)}else return null}},null,null)}(b)}())}
function Ks(b,a,c,d){if(null!=c&&!Wd(d,c))throw Yi([t("Bad attribute specification for "),t(Bf.j(D([ch([b,ch([a,c])])],0))),t(", expected one of "),t(d)].join(""),new l(null,4,[Lm,Qm,oj,b,Sj,a,Ck,c],null));}
function Ls(b){for(var a=E(b),c=null,d=0,e=0;;)if(e<d){var f=c.X(null,e),h=M(f,0),k=M(f,1),m=il.b(k,!1);Ks(h,il,il.c(k),new Zd(null,new l(null,2,[!0,null,!1,null],null),null));if(p(function(){var a=m;return p(a)?gf.b(pk.c(k),Ak):a}()))throw Yi([t("Bad attribute specification for "),t(h),t(": {:db/isComponent true} should also have {:db/valueType :db.type/ref}")].join(""),new l(null,3,[Lm,Qm,oj,h,Sj,il],null));Ks(h,Jj,Jj.c(k),new Zd(null,new l(null,2,[vj,null,Bl,null],null),null));Ks(h,pk,pk.c(k),
new Zd(null,new l(null,1,[Ak,null],null),null));Ks(h,rm,rm.c(k),new Zd(null,new l(null,2,[hn,null,In,null],null),null));e+=1}else if(a=E(a)){if(Pd(a))d=kc(a),a=lc(a),c=d,d=L(d);else{var c=G(a),d=M(c,0),n=M(c,1),r=il.b(n,!1);Ks(d,il,il.c(n),new Zd(null,new l(null,2,[!0,null,!1,null],null),null));if(p(function(){var a=r;return p(a)?gf.b(pk.c(n),Ak):a}()))throw Yi([t("Bad attribute specification for "),t(d),t(": {:db/isComponent true} should also have {:db/valueType :db.type/ref}")].join(""),new l(null,
3,[Lm,Qm,oj,d,Sj,il],null));Ks(d,Jj,Jj.c(n),new Zd(null,new l(null,2,[vj,null,Bl,null],null),null));Ks(d,pk,pk.c(n),new Zd(null,new l(null,1,[Ak,null],null),null));Ks(d,rm,rm.c(n),new Zd(null,new l(null,2,[hn,null,In,null],null),null));a=H(a);c=null;d=0}e=0}else break;return b}
var ys=function ys(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return ys.H();case 1:return ys.c(arguments[0]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};ys.H=function(){return ys.c(null)};ys.c=function(b){if(null!=b&&!Kd(b))throw Error([t("Assert failed: "),t(Bf.j(D([Bc(Dl,Bc(Sl,tk),Bc(Gk,tk))],0)))].join(""));return Fs(new l(null,7,[jj,Ls(b),wl,Tr(hs),Qj,Tr(is),rk,Tr(js),Mk,0,Cj,536870912,dn,Js(b)],null))};
ys.C=1;function Ms(b,a){if(Gd(b))return ys.c(a);var c=Ls(a),d=Js(a),e=yj.c(d),f=Na.c?Na.c(b):Na.call(null,b),h=Sr(f.sort(ls),hs),k=Sr(f.sort(ms),is),m=v.f(function(a,b,c){return function(a,b){Wd(c,b.a)&&a.push(b);return a}}(c,d,e,f,h,k),[],b).sort(ns),n=Sr(m,js),r=pl.c(G(Xb(h))),c=je(De.c(function(){return function(a){return a.tx}}(c,d,e,f,h,k,m,n,r)),se,536870912,h);return Fs(new l(null,7,[jj,a,wl,h,Qj,k,rk,n,Mk,r,Cj,c,dn,d],null))}function vs(b){var a=b.i;return p(a)?a:b.i=Wc(rs(b,wl,wd))}
function ws(b){var a=b.i;return p(a)?a:b.i=Wc(rs(b,wl,wd))}function xs(b,a){var c=a instanceof Es||!1;if(c&&(c=A.b(ts(b),ts(a))))a:{var d=rs(b,wl,wd),c=rs(a,wl,wd),e=A.b(L(d),L(c));if(e)for(d=E(d),c=E(c);;){if(null==d){c=!0;break a}if(A.b(G(d),G(c)))d=H(d),c=H(c);else{c=!1;break a}}else c=e}return c}
function zs(b,a,c){Yb(a,"#datascript/DB {");Yb(a,":schema ");Y(ts(b),a,c);Yb(a,", :datoms ");X(a,function(a,b,c){return X(b,Y,"["," ","]",c,new V(null,4,5,W,[a.e,a.a,a.v,a.tx],null))},"["," ","]",c,rs(b,wl,wd));return Yb(a,"}")}Ns;Os;Ps;
function As(b,a,c,d,e){if(p(c)){var f=hb(hb(hb(hb(hb(hb(Qc,e),d),c),a),hl),om);Bs.b?Bs.b(c,f):Bs.call(null,c,f)}a=Os.b?Os.b(b,a):Os.call(null,b,a);f=(f=null!=d)?Ps.b?Ps.b(b,c):Ps.call(null,b,c):f;return new cs(a,c,p(f)?Ns.b?Ns.b(b,d):Ns.call(null,b,d):d,Os.b?Os.b(b,e):Os.call(null,b,e),null)}
function Cs(b,a,c){var d=M(c,0),e=M(c,1),f=M(c,2);c=M(c,3);switch(a instanceof q?a.V:null){case "eavt":return As(b,d,e,f,c);case "aevt":return As(b,e,d,f,c);case "avet":return As(b,f,d,e,c);default:throw Error([t("No matching clause: "),t(a)].join(""));}}function Qs(b,a,c,d,e,f,h,k){this.yb=b;this.xb=a;this.Fb=c;this.Eb=d;this.Gb=e;this.h=f;this.g=h;this.i=k;this.m=2229667594;this.D=8192}g=Qs.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "db-before":return this.yb;case "db-after":return this.xb;case "tx-data":return this.Fb;case "tempids":return this.Eb;case "tx-meta":return this.Gb;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.core.TxReport{",", ","}",c,U.b(new V(null,5,5,W,[new V(null,2,5,W,[El,this.yb],null),new V(null,2,5,W,[ak,this.xb],null),new V(null,2,5,W,[Gl,this.Fb],null),new V(null,2,5,W,[ij,this.Eb],null),new V(null,2,5,W,[en,this.Gb],null)],null),this.g))};g.U=function(){return new Sg(0,this,5,new V(null,5,5,W,[El,ak,Gl,ij,en],null),tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 5+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,5,[ij,null,ak,null,El,null,Gl,null,en,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Qs(this.yb,this.xb,this.Fb,this.Eb,this.Gb,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(El,a):S.call(null,El,a))?new Qs(c,this.xb,this.Fb,this.Eb,this.Gb,this.h,this.g,null):p(S.b?S.b(ak,a):S.call(null,ak,a))?new Qs(this.yb,c,this.Fb,this.Eb,this.Gb,this.h,this.g,null):p(S.b?S.b(Gl,a):S.call(null,Gl,a))?new Qs(this.yb,this.xb,c,this.Eb,this.Gb,this.h,this.g,null):p(S.b?S.b(ij,a):S.call(null,ij,a))?new Qs(this.yb,this.xb,this.Fb,c,this.Gb,this.h,this.g,null):p(S.b?S.b(en,a):S.call(null,en,a))?new Qs(this.yb,this.xb,this.Fb,this.Eb,c,this.h,this.g,
null):new Qs(this.yb,this.xb,this.Fb,this.Eb,this.Gb,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,5,5,W,[new V(null,2,5,W,[El,this.yb],null),new V(null,2,5,W,[ak,this.xb],null),new V(null,2,5,W,[Gl,this.Fb],null),new V(null,2,5,W,[ij,this.Eb],null),new V(null,2,5,W,[en,this.Gb],null)],null),this.g))};g.O=function(b,a){return new Qs(this.yb,this.xb,this.Fb,this.Eb,this.Gb,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};
function Rs(b,a,c){return Wd(us(b,c),a)}function Ps(b,a){return Rs(b,a,Ak)}function Ds(b,a){return Rs(b,a,yj)}
function Ss(b,a){if(!p(Gs(b)))throw Error([t("Assert failed: "),t(Bf.j(D([Bc(Rk,hl)],0)))].join(""));if("number"===typeof a)return a;if(Jd(a)){if(gf.b(L(a),2))throw Yi([t("Lookup ref should contain 2 elements: "),t(Bf.j(D([a],0)))].join(""),new l(null,2,[Lm,jm,cl,a],null));if(Rs(b,G(a),vj))return pl.c(G(rs(b,rk,a)));throw Yi([t("Lookup ref attribute should be marked as :db.unique/identity: "),t(Bf.j(D([a],0)))].join(""),new l(null,2,[Lm,sj,cl,a],null));}throw Yi([t("Expected number or lookup ref for entity id, got "),
t(Bf.j(D([a],0)))].join(""),new l(null,2,[Lm,lm,cl,a],null));}function Ns(b,a){var c=Ss(b,a);if(p(c))return c;throw Yi([t("Nothing found for entity id "),t(Bf.j(D([a],0)))].join(""),new l(null,2,[Lm,Am,cl,a],null));}function Os(b,a){return p(a)?Ns(b,a):null}function Bs(b,a){if(b instanceof q||"string"===typeof b)return null;throw Yi([t("Bad entity attribute "),t(Bf.j(D([b],0))),t(" at "),t(Bf.j(D([a],0))),t(", expected keyword or string")].join(""),new l(null,3,[Lm,jn,oj,b,Dm,a],null));}
function Ts(b,a){if(null==b)throw Yi([t("Cannot store nil as a value at "),t(Bf.j(D([a],0)))].join(""),new l(null,3,[Lm,jn,Ck,b,Dm,a],null));return null}function Us(b){return fg(b,new V(null,2,5,W,[El,Cj],null))+1}function Vs(b,a){return a>Mk.c(b)&&536870912>a?O.f(b,Mk,a):b}function Ws(b,a,c){return ig.A(hg(b,new V(null,2,5,W,[ij,a],null),c),new V(null,1,5,W,[ak],null),Vs,c)}function Xs(b){return A.b(b,dm)||A.b(b,":db/current-tx")}
function Ys(b,a){var c;c=a.added;c=p(c)?Rs(b,a.a,Jj):c;if(p(c)&&(c=hf(rs(b,rk,new V(null,2,5,W,[a.a,a.v],null))),p(c)))throw Yi([t("Cannot add "),t(Bf.j(D([a],0))),t(" because of unique constraint: "),t(Bf.j(D([c],0)))].join(""),new l(null,3,[Lm,aj,oj,a.a,Xj,a],null));c=Ds(b,a.a);if(p(a.added)){var d=ig.S(b,new V(null,1,5,W,[wl],null),tr,a,ls),d=ig.S(d,new V(null,1,5,W,[Qj],null),tr,a,ms);c=c?ig.S(d,new V(null,1,5,W,[rk],null),tr,a,ns):d;return Vs(c,a.e)}var d=G(ps(b,new V(null,3,5,W,[a.e,a.a,a.v],
null))),e=ig.S(b,new V(null,1,5,W,[wl],null),ur,d,ls),e=ig.S(e,new V(null,1,5,W,[Qj],null),ur,d,ms);return c?ig.S(e,new V(null,1,5,W,[rk],null),ur,d,ns):e}function Zs(b,a){return ig.A(ig.A(b,new V(null,1,5,W,[ak],null),Ys,a),new V(null,1,5,W,[Gl],null),J,a)}
function $s(b){if(b instanceof q)return A.b("_",yd(Ee(b),0));if("string"===typeof b)return Vd(ii(/(?:([^\/]+)\/)?_([^\/]+)/,b));throw Yi([t("Bad attribute type: "),t(Bf.j(D([b],0))),t(", expected keyword or string")].join(""),new l(null,2,[Lm,jn,oj,b],null));}
function at(b){if(b instanceof q)return $s(b)?Qe.b(Pe(b),Ce(Ee(b),1)):Qe.b(Pe(b),[t("_"),t(Ee(b))].join(""));if("string"===typeof b){var a=ii(/(?:([^\/]+)\/)?([^\/]+)/,b);M(a,0);b=M(a,1);a=M(a,2);return A.b("_",yd(a,0))?p(b)?[t(b),t("/"),t(a.substring(1))].join(""):a.substring(1):p(b)?[t(b),t("/_"),t(a)].join(""):[t("_"),t(a)].join("")}throw Yi([t("Bad attribute type: "),t(Bf.j(D([b],0))),t(", expected keyword or string")].join(""),new l(null,2,[Lm,jn,oj,b],null));}
function bt(b,a){var c=hf(us(b,vj));return p(c)?he(function(){return function(c,e,f){var h=G(rs(b,rk,new V(null,2,5,W,[e,f],null)));if(p(h)){var k=ym.c(c),m=h.e;if(null==k)return O.f(P.b(c,e),ym,m);if(A.b(k,m))return P.b(c,e);throw Yi([t("Cannot resolve upsert for "),t(Bf.j(D([a],0))),t(": "),t(Bf.j(D([ch([ym,k,e,f])],0))),t(" conflicts with existing "),t(Bf.j(D([h],0)))].join(""),new l(null,4,[Lm,ol,oj,e,wn,a,Xj,h],null));}return c}}(c,c),a,Uh(a,c)):a}
function ct(b,a,c){$s(a)||Rs(b,a,hn)?(a=Qa.c?Qa.c(c):Qa.call(null,c),a=p(a)?a:Hd(c)&&!Kd(c),b=Ra(a)?new V(null,1,5,W,[c],null):A.b(L(c),2)&&Rs(b,G(c),vj)?new V(null,1,5,W,[c],null):c):b=new V(null,1,5,W,[c],null);return b}
function dt(b,a){return function(a){return function e(f){return new Re(null,function(a){return function(){for(var c=f;;){var m=E(c);if(m){var n=m,r=G(n),u=M(r,0),w=M(r,1);if(gf.b(u,ym)){var z=Bs(u,ch([ym,a,u,w])),C=$s(u),F=C?at(u):u;if(C&&!Ps(b,F))throw Yi([t("Bad attribute "),t(Bf.j(D([u],0))),t(": reverse attribute name requires {:db/valueType :db.type/ref} in schema")].join(""),new l(null,3,[Lm,jn,oj,u,Dm,ch([ym,a,u,w])],null));if(m=E(function(a,c,e,f,h,k,m,n,r,u,w){return function La(z){return new Re(null,
function(a,c,e,f,h,k,m,n,r,u,w){return function(){for(;;){var a=E(z);if(a){if(Pd(a)){var c=kc(a),h=L(c),k=We(h);a:for(var n=0;;)if(n<h){var r=x.b(c,n),r=Ps(b,f)&&Kd(r)?O.f(r,at(m),w):e?new V(null,4,5,W,[Rm,r,f,w],null):new V(null,4,5,W,[Rm,w,f,r],null);k.add(r);n+=1}else{c=!0;break a}return c?Xe(k.ba(),La(lc(a))):Xe(k.ba(),null)}k=G(a);return ld(Ps(b,f)&&Kd(k)?O.f(k,at(m),w):e?new V(null,4,5,W,[Rm,k,f,w],null):new V(null,4,5,W,[Rm,w,f,k],null),La(Pc(a)))}return null}}}(a,c,e,f,h,k,m,n,r,u,w),null,
null)}}(c,z,C,F,null,r,u,w,n,m,a)(ct(b,u,w))))return U.b(m,e(Pc(c)))}c=Pc(c)}else return null}}}(a),null,null)}}(ym.c(a))(a)}function et(b,a){M(a,0);var c=M(a,1),d=M(a,2),e=M(a,3);Bs(d,a);Ts(e,a);var f=Us(b),h=ak.c(b),c=Ns(h,c),e=Ps(h,d)?Ns(h,e):e,k=new cs(c,d,e,f,!0);if(Rs(h,d,hn))return Gd(ps(h,new V(null,3,5,W,[c,d,e],null)))?Zs(b,k):b;h=G(ps(h,new V(null,2,5,W,[c,d],null)));return p(h)?A.b(h.v,e)?b:Zs(Zs(b,new cs(c,d,h.v,f,!1)),k):Zs(b,k)}
function ft(b,a){var c=Us(b);return Zs(b,new cs(a.e,a.a,a.v,c,!1))}function gt(b,a){return ag.f($d,uf.b(Wf(function(a){return Rs(b,a.a,il)}),De.c(function(a){return new V(null,2,5,W,[xl,a.v],null)})),a)}
function ht(b){for(var a=Uq;;){if(null!=a&&!Jd(a))throw Yi([t("Bad transaction data "),t(Bf.j(D([a],0))),t(", expected sequential collection")].join(""),new l(null,2,[Lm,jn,Gl,a],null));var c=a,d=M(c,0),e=Be(c,1),f=ak.c(b);if(null==d)return ig.f(hg(b,new V(null,2,5,W,[ij,dm],null),Us(b)),new V(null,2,5,W,[ak,Cj],null),cd);if(Kd(d)){var h=ym.c(d),a=Os(f,p(go.c?go.c(h):go.call(null,h))?fg(b,new V(null,2,5,W,[ij,h],null)):Xs(h)?Us(b):h),k=bt(f,O.f(d,ym,a)),d=function(){var a=ym.c(k);return p(a)?a:Mk.c(f)+
1}(),a=O.f(k,ym,d);b=null==h?ig.A(b,new V(null,1,5,W,[ak],null),Vs,d):p(go.c?go.c(h):go.call(null,h))?Ws(b,h,d):"number"===typeof h&&h>Mk.c(f)?ig.A(b,new V(null,1,5,W,[ak],null),Vs,h):b;a=e=U.b(dt(f,a),e)}else if(Jd(d)){var m=d,h=M(m,0),n=M(m,1),r=M(m,2),u=M(m,3);if(A.b(h,nl))var a=d,w=M(a,0),h=M(a,1),a=Be(a,2),a=e=U.b(ab.f(h,f,a),e);else if(A.b(h,km)){var z=d,w=M(z,0),C=M(z,1),F=M(z,2),K=M(z,3),Q=M(z,4),T=Ns(f,C),ga=Bs(F,d),sa=Ps(f,F)?Ns(f,K):K,Ga=Ps(f,F)?Ns(f,Q):Q,N=Ts(sa,d),vb=Ts(Ga,d),ia=ps(f,
new V(null,2,5,W,[T,F],null));if(Rs(f,F,hn))if(p(qf(function(a,b,c,d,e,f,h,k,m,n,r){return function(a){return A.b(a.v,r)}}(b,a,z,w,C,F,K,Q,T,ga,sa,Ga,N,vb,ia,m,h,n,r,u,c,d,e,f),ia)))b=et(b,new V(null,4,5,W,[Rm,T,F,Ga],null)),a=e;else throw Yi([t(":db.fn/cas failed on datom ["),t(Bf.j(D([T],0))),t(" "),t(Bf.j(D([F],0))),t(" "),t(Bf.j(D([De.b(Gj,ia)],0))),t("], expected "),t(Bf.j(D([sa],0)))].join(""),new l(null,4,[Lm,rj,On,ia,sm,sa,mk,Ga],null));else if(h=Gj.c(G(ia)),A.b(h,sa))b=et(b,new V(null,4,
5,W,[Rm,T,F,Ga],null)),a=e;else throw Yi([t(":db.fn/cas failed on datom ["),t(Bf.j(D([T],0))),t(" "),t(Bf.j(D([F],0))),t(" "),t(Bf.j(D([h],0))),t("], expected "),t(Bf.j(D([sa],0)))].join(""),new l(null,4,[Lm,rj,On,G(ia),sm,sa,mk,Ga],null));}else if(Xs(n))a=b,e=U.b(new V(null,1,5,W,[new V(null,4,5,W,[h,Us(b),r,u],null)],null),e),b=a,a=e;else if(Ps(f,r)&&Xs(u))a=b,e=U.b(new V(null,1,5,W,[new V(null,4,5,W,[h,n,r,Us(b)],null)],null),e),b=a,a=e;else if(p(go.c?go.c(n):go.call(null,n)))d=fg(b,new V(null,
2,5,W,[ij,n],null)),p(d)?e=U.b(new V(null,1,5,W,[new V(null,4,5,W,[h,d,r,u],null)],null),e):(b=Ws(b,n,Mk.c(f)+1),e=a),a=e;else if(p(function(){var a=Ps(f,r);return a?go.c?go.c(u):go.call(null,u):a}()))d=fg(b,new V(null,2,5,W,[ij,u],null)),p(d)?e=U.b(new V(null,1,5,W,[new V(null,4,5,W,[h,n,r,d],null)],null),e):(b=Ws(b,u,Mk.c(f)+1),e=a),a=e;else if(A.b(h,Rm))b=et(b,d),a=e;else if(A.b(h,Jl))C=Ns(f,n),h=Ps(f,r)?Ns(f,u):u,Bs(r,d),Ts(h,d),d=G(ps(f,new V(null,3,5,W,[C,r,h],null))),p(d)&&(b=ft(b,d)),a=e;
else if(A.b(h,im))C=Ns(f,n),Bs(r,d),ia=ps(f,new V(null,2,5,W,[C,r],null)),b=v.f(ft,b,ia),a=e=U.b(gt(f,ia),e);else if(A.b(h,xl))C=Ns(f,n),ia=ps(f,new V(null,1,5,W,[C],null)),h=Vf(function(a,b,c,d,e,f,h,k,m,n,r,u,w){return function(a){return ps(w,new V(null,3,5,W,[null,a,c],null))}}(b,a,C,ia,m,h,n,r,u,c,d,e,f),D([us(f,Ak)],0)),b=v.f(ft,b,U.b(ia,h)),a=e=U.b(gt(f,ia),e);else throw Yi([t("Unknown operation at "),t(Bf.j(D([d],0))),t(", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute or :db.fn/retractEntity")].join(""),
new l(null,3,[Lm,jn,Ik,h,Gl,d],null));}else throw Yi([t("Bad entity type at "),t(Bf.j(D([d],0))),t(", expected map or vector")].join(""),new l(null,2,[Lm,jn,Gl,d],null));}};Z;function it(){}var jt=function jt(a,c,d){if(null!=a&&null!=a.ja)return a.ja(a,c,d);var e=jt[ba(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);e=jt._;if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw Ua("ITraversable.-collect",a);},kt=function kt(a,c){if(null!=a&&null!=a.ka)return a.ka(a,c);var d=kt[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=kt._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("ITraversable.-collect-vars",a);};
function lt(b,a){return Jd(b)&&A.b(L(b),a)}function mt(b,a){return Jd(a)?v.f(function(a,d){var e=b.c?b.c(d):b.call(null,d);return p(e)?J.b(a,e):new dd(null)},wd,a):null}function nt(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;a=2<a.length?new Nc(a.slice(2),0):null;return ot(arguments[0],arguments[1],a)}
function ot(b,a,c){var d=M(c,0),e=p(d)?d:wd;return p(b.c?b.c(a):b.call(null,a))?J.b(e,a):(null!=a?a.ia||(a.wb?0:Sa(it,a)):Sa(it,a))?jt(a,b,e):p(Ud.c?Ud.c(a):Ud.call(null,a))?v.f(function(){return function(a,c){return ot(b,c,D([a],0))}}(e,c,d),e,a):e}function pt(b){var a=Gd(b);return a?a:ab.b(Xd,b)}function qt(b,a){return bd(b,new l(null,1,[el,a],null))}function rt(b){var a=el.c(Dd(b));return p(a)?a:b}function st(b,a,c){this.h=b;this.g=a;this.i=c;this.m=2229667594;this.D=8192}g=st.prototype;
g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a){default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Placeholder{",", ","}",c,U.b(wd,this.g))};g.U=function(){return new Sg(0,this,0,wd,tc(this.g))};g.N=function(){return this.h};g.R=function(){return 0+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd($d,a)?P.b(bd(ag.b(R,this),this.h),a):new st(this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return new st(this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(wd,this.g))};g.O=function(b,a){return new st(a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return c};g.ka=function(b,a){return a};
function tt(b,a,c,d){this.symbol=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=tt.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "symbol":return this.symbol;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Variable{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[qk,this.symbol],null)],null),this.g))};
g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[qk],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[qk,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new tt(this.symbol,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(qk,a):S.call(null,qk,a))?new tt(c,this.h,this.g,null):new tt(this.symbol,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[qk,this.symbol],null)],null),this.g))};g.O=function(b,a){return new tt(this.symbol,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.symbol,D([c],0))};
g.ka=function(b,a){return Z.b?Z.b(a,this.symbol):Z.call(null,a,this.symbol)};function ut(b,a,c,d){this.symbol=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=ut.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "symbol":return this.symbol;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.SrcVar{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[qk,this.symbol],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[qk],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[qk,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new ut(this.symbol,this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return p(S.b?S.b(qk,a):S.call(null,qk,a))?new ut(c,this.h,this.g,null):new ut(this.symbol,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[qk,this.symbol],null)],null),this.g))};
g.O=function(b,a){return new ut(this.symbol,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.symbol,D([c],0))};g.ka=function(b,a){return Z.b?Z.b(a,this.symbol):Z.call(null,a,this.symbol)};function vt(b,a,c){this.h=b;this.g=a;this.i=c;this.m=2229667594;this.D=8192}g=vt.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a){default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.DefaultSrc{",", ","}",c,U.b(wd,this.g))};g.U=function(){return new Sg(0,this,0,wd,tc(this.g))};g.N=function(){return this.h};g.R=function(){return 0+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};
g.W=function(b,a){return Wd($d,a)?P.b(bd(ag.b(R,this),this.h),a):new vt(this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return new vt(this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(wd,this.g))};g.O=function(b,a){return new vt(a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return c};g.ka=function(b,a){return a};function wt(b,a,c){this.h=b;this.g=a;this.i=c;this.m=2229667594;this.D=8192}g=wt.prototype;
g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a){default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.RulesVar{",", ","}",c,U.b(wd,this.g))};g.U=function(){return new Sg(0,this,0,wd,tc(this.g))};g.N=function(){return this.h};g.R=function(){return 0+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd($d,a)?P.b(bd(ag.b(R,this),this.h),a):new wt(this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return new wt(this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(wd,this.g))};g.O=function(b,a){return new wt(a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return c};g.ka=function(b,a){return a};
function xt(b,a,c,d){this.value=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=xt.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "value":return this.value;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Constant{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[Ck,this.value],null)],null),this.g))};
g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[Ck],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[Ck,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new xt(this.value,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(Ck,a):S.call(null,Ck,a))?new xt(c,this.h,this.g,null):new xt(this.value,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[Ck,this.value],null)],null),this.g))};g.O=function(b,a){return new xt(this.value,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.value,D([c],0))};
g.ka=function(b,a){return Z.b?Z.b(a,this.value):Z.call(null,a,this.value)};function yt(b,a,c,d){this.symbol=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=yt.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "symbol":return this.symbol;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.PlainSymbol{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[qk,this.symbol],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[qk],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[qk,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new yt(this.symbol,this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return p(S.b?S.b(qk,a):S.call(null,qk,a))?new yt(c,this.h,this.g,null):new yt(this.symbol,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[qk,this.symbol],null)],null),this.g))};
g.O=function(b,a){return new yt(this.symbol,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.symbol,D([c],0))};g.ka=function(b,a){return Z.b?Z.b(a,this.symbol):Z.call(null,a,this.symbol)};function zt(b){return b instanceof y&&A.b(G(Ee(b)),"?")?new tt(b,null,null,null):null}function At(b){return b instanceof y&&A.b(G(Ee(b)),"$")?new ut(b,null,null,null):null}
function Bt(b){return b instanceof y?null:new xt(b,null,null,null)}function Ct(b){return b instanceof y&&Ra(zt(b))&&Ra(At(b))&&Ra(A.b(ll,b)?new st(null,null,null):null)?new yt(b,null,null,null):null}function Dt(b){var a=zt(b);if(p(a))return a;a=Bt(b);return p(a)?a:At(b)}function Et(b,a,c,d,e){this.required=b;this.Pb=a;this.h=c;this.g=d;this.i=e;this.m=2229667594;this.D=8192}g=Et.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "required":return this.required;case "free":return this.Pb;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.RuleVars{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Jn,this.required],null),new V(null,2,5,W,[kk,this.Pb],null)],null),this.g))};g.U=function(){return new Sg(0,this,2,new V(null,2,5,W,[Jn,kk],null),tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 2+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,2,[kk,null,Jn,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Et(this.required,this.Pb,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(Jn,a):S.call(null,Jn,a))?new Et(c,this.Pb,this.h,this.g,null):p(S.b?S.b(kk,a):S.call(null,kk,a))?new Et(this.required,c,this.h,this.g,null):new Et(this.required,this.Pb,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Jn,this.required],null),new V(null,2,5,W,[kk,this.Pb],null)],null),this.g))};g.O=function(b,a){return new Et(this.required,this.Pb,a,this.g,this.i)};
g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.Pb,D([ot(a,this.required,D([c],0))],0))};g.ka=function(b,a){var c=Z.b?Z.b(a,this.required):Z.call(null,a,this.required),d=this.Pb;return Z.b?Z.b(c,d):Z.call(null,c,d)};function Ft(b,a,c){this.h=b;this.g=a;this.i=c;this.m=2229667594;this.D=8192}g=Ft.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a){default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.BindIgnore{",", ","}",c,U.b(wd,this.g))};g.U=function(){return new Sg(0,this,0,wd,tc(this.g))};g.N=function(){return this.h};g.R=function(){return 0+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};
g.W=function(b,a){return Wd($d,a)?P.b(bd(ag.b(R,this),this.h),a):new Ft(this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return new Ft(this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(wd,this.g))};g.O=function(b,a){return new Ft(a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return c};g.ka=function(b,a){return a};function Gt(b,a,c,d){this.wa=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=Gt.prototype;
g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "variable":return this.wa;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.BindScalar{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[Nj,this.wa],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[Nj],null),tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[Nj,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Gt(this.wa,this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return p(S.b?S.b(Nj,a):S.call(null,Nj,a))?new Gt(c,this.h,this.g,null):new Gt(this.wa,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[Nj,this.wa],null)],null),this.g))};g.O=function(b,a){return new Gt(this.wa,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.wa,D([c],0))};g.ka=function(b,a){return Z.b?Z.b(a,this.wa):Z.call(null,a,this.wa)};function Ht(b,a,c,d){this.Jb=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=Ht.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "bindings":return this.Jb;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.BindTuple{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[ok,this.Jb],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[ok],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};
g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[ok,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Ht(this.Jb,this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return p(S.b?S.b(ok,a):S.call(null,ok,a))?new Ht(c,this.h,this.g,null):new Ht(this.Jb,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[ok,this.Jb],null)],null),this.g))};g.O=function(b,a){return new Ht(this.Jb,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.Jb,D([c],0))};g.ka=function(b,a){return Z.b?Z.b(a,this.Jb):Z.call(null,a,this.Jb)};function It(b,a,c,d){this.xa=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=It.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "binding":return this.xa;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.BindColl{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[Ol,this.xa],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[Ol],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};
g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[Ol,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new It(this.xa,this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return p(S.b?S.b(Ol,a):S.call(null,Ol,a))?new It(c,this.h,this.g,null):new It(this.xa,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[Ol,this.xa],null)],null),this.g))};g.O=function(b,a){return new It(this.xa,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.xa,D([c],0))};g.ka=function(b,a){return Z.b?Z.b(a,this.xa):Z.call(null,a,this.xa)};Jt;function Kt(b){return A.b(ll,b)?qt(new Ft(null,null,null),b):null}
function Lt(b){if(p(function(){var a=lt(b,2);return p(a)?A.b(td(b),qn):a}())){var a=function(){var a=G(b);return Jt.c?Jt.c(a):Jt.call(null,a)}();if(p(a))return qt(new It(a,null,null,null),b);throw Yi(""+t("Cannot parse collection binding"),new l(null,2,[Lm,Nm,Vm,b],null));}return null}function Mt(b){var a=Kt(b);return p(a)?a:Jt.c?Jt.c(b):Jt.call(null,b)}
function Nt(b){var a=mt(Mt,b);if(p(a)){if(Gd(a))throw Yi(""+t("Tuple binding cannot be empty"),new l(null,2,[Lm,Nm,Vm,b],null));return qt(new Ht(a,null,null,null),b)}return null}
function Jt(b){var a=Lt(b);if(p(a))return a;a=lt(b,1);a=p(a)?Jd(G(b)):a;a=p(a)?qt(new It(Nt(G(b)),null,null,null),b):null;if(p(a))return a;a=Nt(b);if(p(a))return a;a=Kt(b);if(p(a))return a;a=zt(b);a=p(a)?qt(new Gt(a,null,null,null),b):null;if(p(a))return a;throw Yi(""+t("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)"),new l(null,2,[Lm,Nm,Vm,b],null));}
var Ot=function Ot(a){if(null!=a&&null!=a.ad)return a.ad(a);var c=Ot[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Ot._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IFindVars.-find-vars",a);};tt.prototype.ad=function(){return new V(null,1,5,W,[this.symbol],null)};function Pt(b,a,c,d,e){this.fn=b;this.Y=a;this.h=c;this.g=d;this.i=e;this.m=2229667594;this.D=8192}g=Pt.prototype;g.ad=function(){return Ot(vd(this.Y))};g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "fn":return this.fn;case "args":return this.Y;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Aggregate{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Hj,this.fn],null),new V(null,2,5,W,[cj,this.Y],null)],null),this.g))};g.U=function(){return new Sg(0,this,2,new V(null,2,5,W,[Hj,cj],null),tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 2+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,2,[cj,null,Hj,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Pt(this.fn,this.Y,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(Hj,a):S.call(null,Hj,a))?new Pt(c,this.Y,this.h,this.g,null):p(S.b?S.b(cj,a):S.call(null,cj,a))?new Pt(this.fn,c,this.h,this.g,null):new Pt(this.fn,this.Y,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Hj,this.fn],null),new V(null,2,5,W,[cj,this.Y],null)],null),this.g))};g.O=function(b,a){return new Pt(this.fn,this.Y,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;
g.ja=function(b,a,c){return ot(a,this.Y,D([ot(a,this.fn,D([c],0))],0))};g.ka=function(b,a){var c=Z.b?Z.b(a,this.fn):Z.call(null,a,this.fn),d=this.Y;return Z.b?Z.b(c,d):Z.call(null,c,d)};function Qt(b,a,c,d,e,f){this.source=b;this.wa=a;this.pattern=c;this.h=d;this.g=e;this.i=f;this.m=2229667594;this.D=8192}g=Qt.prototype;g.ad=function(){return Ot(this.wa)};g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "source":return this.source;case "variable":return this.wa;case "pattern":return this.pattern;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Pull{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[el,this.source],null),new V(null,2,5,W,[Nj,this.wa],null),new V(null,2,5,W,[Vn,this.pattern],null)],null),this.g))};
g.U=function(){return new Sg(0,this,3,new V(null,3,5,W,[el,Nj,Vn],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 3+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};
g.W=function(b,a){return Wd(new Zd(null,new l(null,3,[Nj,null,el,null,Vn,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Qt(this.source,this.wa,this.pattern,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(el,a):S.call(null,el,a))?new Qt(c,this.wa,this.pattern,this.h,this.g,null):p(S.b?S.b(Nj,a):S.call(null,Nj,a))?new Qt(this.source,c,this.pattern,this.h,this.g,null):p(S.b?S.b(Vn,a):S.call(null,Vn,a))?new Qt(this.source,this.wa,c,this.h,this.g,null):new Qt(this.source,this.wa,this.pattern,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,3,5,W,[new V(null,2,5,W,[el,this.source],null),new V(null,2,5,W,[Nj,this.wa],null),new V(null,2,5,W,[Vn,this.pattern],null)],null),this.g))};g.O=function(b,a){return new Qt(this.source,this.wa,this.pattern,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.pattern,D([ot(a,this.wa,D([ot(a,this.source,D([c],0))],0))],0))};
g.ka=function(b,a){var c;c=Z.b?Z.b(a,this.source):Z.call(null,a,this.source);var d=this.wa;c=Z.b?Z.b(c,d):Z.call(null,c,d);d=this.pattern;return Z.b?Z.b(c,d):Z.call(null,c,d)};var Rt=function Rt(a){if(null!=a&&null!=a.Jc)return a.Jc(a);var c=Rt[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=Rt._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IFindElements.find-elements",a);};function St(b,a,c,d){this.elements=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=St.prototype;
g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "elements":return this.elements;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.FindRel{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[sl,this.elements],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[sl],null),tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[sl,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new St(this.elements,this.h,hf(P.b(this.g,a)),null)};g.Jc=function(){return this.elements};
g.T=function(b,a,c){return p(S.b?S.b(sl,a):S.call(null,sl,a))?new St(c,this.h,this.g,null):new St(this.elements,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[sl,this.elements],null)],null),this.g))};g.O=function(b,a){return new St(this.elements,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.elements,D([c],0))};
g.ka=function(b,a){return Z.b?Z.b(a,this.elements):Z.call(null,a,this.elements)};function Tt(b,a,c,d){this.element=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=Tt.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "element":return this.element;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.FindColl{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[Tj,this.element],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[Tj],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[Tj,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Tt(this.element,this.h,hf(P.b(this.g,a)),null)};g.Jc=function(){return new V(null,1,5,W,[this.element],null)};g.T=function(b,a,c){return p(S.b?S.b(Tj,a):S.call(null,Tj,a))?new Tt(c,this.h,this.g,null):new Tt(this.element,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[Tj,this.element],null)],null),this.g))};g.O=function(b,a){return new Tt(this.element,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.element,D([c],0))};g.ka=function(b,a){return Z.b?Z.b(a,this.element):Z.call(null,a,this.element)};function Ut(b,a,c,d){this.element=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=Ut.prototype;
g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "element":return this.element;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.FindScalar{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[Tj,this.element],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[Tj],null),tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[Tj,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Ut(this.element,this.h,hf(P.b(this.g,a)),null)};g.Jc=function(){return new V(null,1,5,W,[this.element],null)};
g.T=function(b,a,c){return p(S.b?S.b(Tj,a):S.call(null,Tj,a))?new Ut(c,this.h,this.g,null):new Ut(this.element,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[Tj,this.element],null)],null),this.g))};g.O=function(b,a){return new Ut(this.element,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.element,D([c],0))};
g.ka=function(b,a){return Z.b?Z.b(a,this.element):Z.call(null,a,this.element)};function Vt(b,a,c,d){this.elements=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=Vt.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "elements":return this.elements;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.FindTuple{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[sl,this.elements],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[sl],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[sl,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Vt(this.elements,this.h,hf(P.b(this.g,a)),null)};g.Jc=function(){return this.elements};g.T=function(b,a,c){return p(S.b?S.b(sl,a):S.call(null,sl,a))?new Vt(c,this.h,this.g,null):new Vt(this.elements,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[sl,this.elements],null)],null),this.g))};g.O=function(b,a){return new Vt(this.elements,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.elements,D([c],0))};g.ka=function(b,a){return Z.b?Z.b(a,this.elements):Z.call(null,a,this.elements)};function Wt(b){return b instanceof Pt}function Xt(b){return b instanceof Qt}
function Yt(b){var a=zt(b);if(p(a))return a;a:{if(Jd(b)&&A.b(G(b),wj)){if(3<=L(b)&&4>=L(b)){var c=(a=A.b(L(b),4))?yd(b,1):$l,a=a?H(H(b)):H(b),d=M(a,0),a=M(a,1),c=At(c),d=zt(d),e=zt(a),a=p(e)?e:Bt(a);if(p(p(c)?p(d)?a:d:c)){a=new Qt(c,d,a,null,null,null);break a}}throw Yi(""+t("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable)]"),new l(null,2,[Lm,nj,gk,b],null));}a=null}if(p(a))return a;a:{if(Jd(b)&&A.b(G(b),pj)){if(3<=L(b)&&(M(b,0),c=M(b,1),a=Be(b,2),c=zt(c),a=mt(Dt,
a),p(p(c)?a:c))){a=new Pt(c,a,null,null,null);break a}throw Yi(""+t("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]"),new l(null,2,[Lm,nj,gk,b],null));}a=null}p(a)?b=a:Jd(b)&&2<=L(b)?(a=M(b,0),b=Be(b,1),a=Ct(a),b=mt(Dt,b),b=p(p(a)?b:a)?new Pt(a,b,null,null,null):null):b=null;return b}
function Zt(b){var a;a=mt(Yt,b);a=null==a?null:new St(a,null,null,null);if(p(a))return a;a:{if(Jd(b)&&A.b(L(b),1)&&(a=G(b),Jd(a)&&A.b(L(a),2)&&A.b(td(a),qn))){a=Yt(G(a));a=null==a?null:new Tt(a,null,null,null);break a}a=null}if(p(a))return a;Jd(b)&&A.b(L(b),2)&&A.b(td(b),$m)?(a=Yt(G(b)),a=null==a?null:new Ut(a,null,null,null)):a=null;if(p(a))return a;Jd(b)&&A.b(L(b),1)?(a=G(b),a=mt(Yt,a),a=null==a?null:new Vt(a,null,null,null)):a=null;if(p(a))return a;throw Yi(""+t("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)"),
new l(null,2,[Lm,nj,gk,b],null));}function $t(b){var a;a=At(b);a=p(a)?a:A.b(rl,b)?new wt(null,null,null):null;return p(a)?qt(new Gt(a,null,null,null),b):Jt(b)}function au(b,a,c,d,e){this.source=b;this.pattern=a;this.h=c;this.g=d;this.i=e;this.m=2229667594;this.D=8192}g=au.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Pattern{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[el,this.source],null),new V(null,2,5,W,[Vn,this.pattern],null)],null),this.g))};g.U=function(){return new Sg(0,this,2,new V(null,2,5,W,[el,Vn],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 2+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,2,[el,null,Vn,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new au(this.source,this.pattern,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(el,a):S.call(null,el,a))?new au(c,this.pattern,this.h,this.g,null):p(S.b?S.b(Vn,a):S.call(null,Vn,a))?new au(this.source,c,this.h,this.g,null):new au(this.source,this.pattern,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,2,5,W,[new V(null,2,5,W,[el,this.source],null),new V(null,2,5,W,[Vn,this.pattern],null)],null),this.g))};g.O=function(b,a){return new au(this.source,this.pattern,a,this.g,this.i)};
g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.pattern,D([ot(a,this.source,D([c],0))],0))};g.ka=function(b,a){var c=Z.b?Z.b(a,this.source):Z.call(null,a,this.source),d=this.pattern;return Z.b?Z.b(c,d):Z.call(null,c,d)};function bu(b,a,c,d,e){this.fn=b;this.Y=a;this.h=c;this.g=d;this.i=e;this.m=2229667594;this.D=8192}g=bu.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "fn":return this.fn;case "args":return this.Y;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Predicate{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Hj,this.fn],null),new V(null,2,5,W,[cj,this.Y],null)],null),this.g))};g.U=function(){return new Sg(0,this,2,new V(null,2,5,W,[Hj,cj],null),tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 2+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,2,[cj,null,Hj,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new bu(this.fn,this.Y,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(Hj,a):S.call(null,Hj,a))?new bu(c,this.Y,this.h,this.g,null):p(S.b?S.b(cj,a):S.call(null,cj,a))?new bu(this.fn,c,this.h,this.g,null):new bu(this.fn,this.Y,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Hj,this.fn],null),new V(null,2,5,W,[cj,this.Y],null)],null),this.g))};g.O=function(b,a){return new bu(this.fn,this.Y,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;
g.ja=function(b,a,c){return ot(a,this.Y,D([ot(a,this.fn,D([c],0))],0))};g.ka=function(b,a){var c=Z.b?Z.b(a,this.fn):Z.call(null,a,this.fn),d=this.Y;return Z.b?Z.b(c,d):Z.call(null,c,d)};function cu(b,a,c,d,e,f){this.fn=b;this.Y=a;this.xa=c;this.h=d;this.g=e;this.i=f;this.m=2229667594;this.D=8192}g=cu.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "fn":return this.fn;case "args":return this.Y;case "binding":return this.xa;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Function{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[Hj,this.fn],null),new V(null,2,5,W,[cj,this.Y],null),new V(null,2,5,W,[Ol,this.xa],null)],null),this.g))};
g.U=function(){return new Sg(0,this,3,new V(null,3,5,W,[Hj,cj,Ol],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 3+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,3,[cj,null,Hj,null,Ol,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new cu(this.fn,this.Y,this.xa,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(Hj,a):S.call(null,Hj,a))?new cu(c,this.Y,this.xa,this.h,this.g,null):p(S.b?S.b(cj,a):S.call(null,cj,a))?new cu(this.fn,c,this.xa,this.h,this.g,null):p(S.b?S.b(Ol,a):S.call(null,Ol,a))?new cu(this.fn,this.Y,c,this.h,this.g,null):new cu(this.fn,this.Y,this.xa,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,3,5,W,[new V(null,2,5,W,[Hj,this.fn],null),new V(null,2,5,W,[cj,this.Y],null),new V(null,2,5,W,[Ol,this.xa],null)],null),this.g))};
g.O=function(b,a){return new cu(this.fn,this.Y,this.xa,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.xa,D([ot(a,this.Y,D([ot(a,this.fn,D([c],0))],0))],0))};g.ka=function(b,a){var c;c=Z.b?Z.b(a,this.fn):Z.call(null,a,this.fn);var d=this.Y;c=Z.b?Z.b(c,d):Z.call(null,c,d);d=this.xa;return Z.b?Z.b(c,d):Z.call(null,c,d)};
function du(b,a,c,d,e,f){this.source=b;this.name=a;this.Y=c;this.h=d;this.g=e;this.i=f;this.m=2229667594;this.D=8192}g=du.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "source":return this.source;case "name":return this.name;case "args":return this.Y;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.RuleExpr{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[el,this.source],null),new V(null,2,5,W,[uk,this.name],null),new V(null,2,5,W,[cj,this.Y],null)],null),this.g))};g.U=function(){return new Sg(0,this,3,new V(null,3,5,W,[el,uk,cj],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 3+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,3,[cj,null,uk,null,el,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new du(this.source,this.name,this.Y,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(el,a):S.call(null,el,a))?new du(c,this.name,this.Y,this.h,this.g,null):p(S.b?S.b(uk,a):S.call(null,uk,a))?new du(this.source,c,this.Y,this.h,this.g,null):p(S.b?S.b(cj,a):S.call(null,cj,a))?new du(this.source,this.name,c,this.h,this.g,null):new du(this.source,this.name,this.Y,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,3,5,W,[new V(null,2,5,W,[el,this.source],null),new V(null,2,5,W,[uk,this.name],null),new V(null,2,5,W,[cj,this.Y],null)],null),this.g))};g.O=function(b,a){return new du(this.source,this.name,this.Y,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.Y,D([ot(a,this.name,D([ot(a,this.source,D([c],0))],0))],0))};
g.ka=function(b,a){var c;c=Z.b?Z.b(a,this.source):Z.call(null,a,this.source);var d=this.name;c=Z.b?Z.b(c,d):Z.call(null,c,d);d=this.Y;return Z.b?Z.b(c,d):Z.call(null,c,d)};function eu(b,a,c,d,e,f){this.source=b;this.Hb=a;this.da=c;this.h=d;this.g=e;this.i=f;this.m=2229667594;this.D=8192}g=eu.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "source":return this.source;case "vars":return this.Hb;case "clauses":return this.da;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Not{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[el,this.source],null),new V(null,2,5,W,[Un,this.Hb],null),new V(null,2,5,W,[Sm,this.da],null)],null),this.g))};
g.U=function(){return new Sg(0,this,3,new V(null,3,5,W,[el,Un,Sm],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 3+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};
g.W=function(b,a){return Wd(new Zd(null,new l(null,3,[el,null,Sm,null,Un,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new eu(this.source,this.Hb,this.da,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(el,a):S.call(null,el,a))?new eu(c,this.Hb,this.da,this.h,this.g,null):p(S.b?S.b(Un,a):S.call(null,Un,a))?new eu(this.source,c,this.da,this.h,this.g,null):p(S.b?S.b(Sm,a):S.call(null,Sm,a))?new eu(this.source,this.Hb,c,this.h,this.g,null):new eu(this.source,this.Hb,this.da,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,3,5,W,[new V(null,2,5,W,[el,this.source],null),new V(null,2,5,W,[Un,this.Hb],null),new V(null,2,5,W,[Sm,this.da],null)],null),this.g))};g.O=function(b,a){return new eu(this.source,this.Hb,this.da,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.da,D([ot(a,this.Hb,D([ot(a,this.source,D([c],0))],0))],0))};
g.ka=function(b,a){var c;c=Z.b?Z.b(a,this.source):Z.call(null,a,this.source);var d=this.Hb;c=Z.b?Z.b(c,d):Z.call(null,c,d);d=this.da;return Z.b?Z.b(c,d):Z.call(null,c,d)};function fu(b,a,c,d,e,f){this.source=b;this.Cb=a;this.da=c;this.h=d;this.g=e;this.i=f;this.m=2229667594;this.D=8192}g=fu.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "source":return this.source;case "rule-vars":return this.Cb;case "clauses":return this.da;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Or{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[el,this.source],null),new V(null,2,5,W,[jk,this.Cb],null),new V(null,2,5,W,[Sm,this.da],null)],null),this.g))};
g.U=function(){return new Sg(0,this,3,new V(null,3,5,W,[el,jk,Sm],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 3+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};
g.W=function(b,a){return Wd(new Zd(null,new l(null,3,[jk,null,el,null,Sm,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new fu(this.source,this.Cb,this.da,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(el,a):S.call(null,el,a))?new fu(c,this.Cb,this.da,this.h,this.g,null):p(S.b?S.b(jk,a):S.call(null,jk,a))?new fu(this.source,c,this.da,this.h,this.g,null):p(S.b?S.b(Sm,a):S.call(null,Sm,a))?new fu(this.source,this.Cb,c,this.h,this.g,null):new fu(this.source,this.Cb,this.da,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,3,5,W,[new V(null,2,5,W,[el,this.source],null),new V(null,2,5,W,[jk,this.Cb],null),new V(null,2,5,W,[Sm,this.da],null)],null),this.g))};g.O=function(b,a){return new fu(this.source,this.Cb,this.da,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.da,D([ot(a,this.Cb,D([ot(a,this.source,D([c],0))],0))],0))};
g.ka=function(b,a){var c;c=Z.b?Z.b(a,this.source):Z.call(null,a,this.source);var d=this.Cb;c=Z.b?Z.b(c,d):Z.call(null,c,d);d=this.da;return Z.b?Z.b(c,d):Z.call(null,c,d)};function gu(b,a,c,d){this.da=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=gu.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "clauses":return this.da;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.And{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[Sm,this.da],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[Sm],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[Sm,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new gu(this.da,this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return p(S.b?S.b(Sm,a):S.call(null,Sm,a))?new gu(c,this.h,this.g,null):new gu(this.da,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[Sm,this.da],null)],null),this.g))};
g.O=function(b,a){return new gu(this.da,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.da,D([c],0))};g.ka=function(b,a){return Z.b?Z.b(a,this.da):Z.call(null,a,this.da)};Kf;hu;function iu(b){var a=A.b(ll,b)?new st(null,null,null):null;if(p(a))return a;a=zt(b);return p(a)?a:Bt(b)}
function ju(b){if(Jd(b)){var a=At(G(b));return p(a)?new V(null,2,5,W,[a,H(b)],null):new V(null,2,5,W,[new vt(null,null,null),b],null)}return null}function ku(b){if(Jd(b)){var a=M(b,0);b=Be(b,1);b=null==b?wd:b;var c=Ct(a),a=p(c)?c:zt(a);b=mt(Dt,b);return p(p(a)?b:a)?new V(null,2,5,W,[a,b],null):null}return null}var Z=function Z(a,c){return c instanceof tt?J.b(a,c):c instanceof eu?ag.b(a,Un.c(c)):c instanceof fu?Z(a,jk.c(c)):(null!=c?c.ia||(c.wb?0:Sa(it,c)):Sa(it,c))?kt(c,a):Jd(c)?v.f(Z,a,c):a};
function lu(b){return Z(wd,b)}function mu(b,a,c){a=fq.b(Yh(b),Yh(lu(a)));if(!Gd(a))throw Yi([t("Join variable not declared inside clauses: "),t(Bf.j(D([bg(qk,a)],0)))].join(""),new l(null,2,[Lm,Wj,Vm,c],null));if(Gd(b))throw Yi(""+t("Join variables should not be empty"),new l(null,2,[Lm,Wj,Vm,c],null));}function nu(b,a){mu(Un.c(b),Sm.c(b),a);return b}
function ou(b,a){for(var c=null!=b&&(b.m&64||b.Ua)?ab.b($c,b):b,d=B.b(c,jk),e=null!=d&&(d.m&64||d.Ua)?ab.b($c,d):d,d=B.b(e,Jn),e=B.b(e,kk),f=B.b(c,Sm),c=U.b(d,e),d=E(f),e=null,h=f=0;;)if(h<f){var k=e.X(null,h);mu(c,new V(null,1,5,W,[k],null),a);h+=1}else if(d=E(d))e=d,Pd(e)?(d=kc(e),h=lc(e),e=d,f=L(d),d=h):(d=G(e),mu(c,new V(null,1,5,W,[d],null),a),d=H(e),e=null,f=0),h=0;else break;return b}
function Jf(b){if(Jd(b)&&A.b(Kn,G(b))){var a;a=H(b);a=hu.c?hu.c(a):hu.call(null,a);if(p(hf(a)))return new gu(a,null,null,null);throw Yi(""+t("Cannot parse 'and' clause, expected [ 'and' clause+ ]"),new l(null,2,[Lm,Wj,Vm,b],null));}return null}
function Kf(b){var a;a:{var c=ju(b);if(p(c)){a=M(c,0);var d=M(c,1),c=M(d,0),d=Be(d,1);if(A.b(Zl,c)){c=hu.c?hu.c(d):hu.call(null,d);if(p(c)){a=nu(qt(new eu(a,ge(Zh.c(lu(c))),c,null,null,null),b),b);break a}throw Yi(""+t("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]"),new l(null,2,[Lm,Wj,Vm,b],null));}}a=null}if(p(a))return a;a:{c=ju(b);if(p(c)){a=M(c,0);var e=M(c,1),c=M(e,0),d=M(e,1),e=Be(e,2);if(A.b(fm,c)){c=mt(zt,d);d=hu.c?hu.c(e):hu.call(null,e);if(p(p(c)?d:c)){a=nu(qt(new eu(a,
c,d,null,null,null),b),b);break a}throw Yi(""+t("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]"),new l(null,2,[Lm,Wj,Vm,b],null));}}a=null}if(p(a))return a;a:{c=ju(b);if(p(c)&&(a=M(c,0),d=M(c,1),c=M(d,0),d=Be(d,1),A.b(Dl,c))){c=mt(If(),d);if(p(c)){a=ou(qt(new fu(a,new Et(null,ge(Zh.c(lu(c))),null,null,null),c,null,null,null),b),b);break a}throw Yi(""+t("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]"),new l(null,2,[Lm,Wj,Vm,b],null));}a=null}if(p(a))return a;
a:{c=ju(b);if(p(c)&&(a=M(c,0),d=M(c,1),e=M(d,0),c=M(d,1),d=Be(d,2),A.b(Zk,e))){if(Jd(c)){var f=Jd(G(c))?new V(null,2,5,W,[G(c),H(c)],null):new V(null,2,5,W,[null,c],null),e=M(f,0),f=M(f,1),e=mt(zt,e),f=mt(zt,f);if(Gd(e)&&Gd(f))throw Yi(""+t("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]"),new l(null,2,[Lm,dk,Vm,c],null));if(!p(pt(U.b(e,f))))throw Yi(""+t("Rule variables should be distinct"),new l(null,2,[Lm,dk,Vm,c],null));c=new Et(e,f,null,null,null)}else throw Yi(""+
t("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]"),new l(null,2,[Lm,dk,Vm,c],null));d=mt(If(),d);if(p(p(c)?d:c)){a=ou(qt(new fu(a,c,d,null,null,null),b),b);break a}throw Yi(""+t("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]"),new l(null,2,[Lm,Wj,Vm,b],null));}a=null}if(p(a))return a;a:{if(p(lt(b,1))&&(c=ku(G(b)),p(c))){a=M(c,0);c=M(c,1);a=qt(new bu(a,c,null,null,null),b);break a}a=null}if(p(a))return a;a:{if(p(lt(b,2))&&(c=M(b,0),
a=M(b,1),d=ku(c),p(d))){c=M(d,0);d=M(d,1);a=Jt(a);a=p(a)?qt(new cu(c,d,a,null,null,null),b):null;break a}a=null}if(p(a))return a;a:{c=ju(b);if(p(c)&&(a=M(c,0),c=M(c,1),d=M(c,0),c=Be(c,1),d=Ct(d),e=mt(iu,c),p(d))){if(Gd(c))throw Yi(""+t("rule-expr requieres at least one argument"),new l(null,2,[Lm,Wj,Vm,b],null));if(null==e)throw Yi(""+t("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]"),new l(null,2,[Lm,Wj,Vm,b],null));a=new du(a,d,e,null,null,null);break a}a=null}if(p(a))return a;
a:{c=ju(b);if(p(c)&&(a=M(c,0),c=M(c,1),c=mt(iu,c),p(c))){if(Gd(c))throw Yi(""+t("Pattern could not be empty"),new l(null,2,[Lm,Wj,Vm,b],null));a=qt(new au(a,c,null,null,null),b);break a}a=null}if(p(a))return a;throw Yi(""+t("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)"),new l(null,2,[Lm,Wj,Vm,b],null));}function hu(b){return mt(Kf,b)}
function pu(b,a,c,d,e,f,h){this.find=b;this.ub=a;this.nb=c;this.tb=d;this.h=e;this.g=f;this.i=h;this.m=2229667594;this.D=8192}g=pu.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "find":return this.find;case "with":return this.ub;case "in":return this.nb;case "where":return this.tb;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.parser.Query{",", ","}",c,U.b(new V(null,4,5,W,[new V(null,2,5,W,[hj,this.find],null),new V(null,2,5,W,[am,this.ub],null),new V(null,2,5,W,[Tn,this.nb],null),new V(null,2,5,W,[Fj,this.tb],null)],null),this.g))};g.U=function(){return new Sg(0,this,4,new V(null,4,5,W,[hj,am,Tn,Fj],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 4+L(this.g)};
g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,4,[hj,null,Fj,null,am,null,Tn,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new pu(this.find,this.ub,this.nb,this.tb,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(hj,a):S.call(null,hj,a))?new pu(c,this.ub,this.nb,this.tb,this.h,this.g,null):p(S.b?S.b(am,a):S.call(null,am,a))?new pu(this.find,c,this.nb,this.tb,this.h,this.g,null):p(S.b?S.b(Tn,a):S.call(null,Tn,a))?new pu(this.find,this.ub,c,this.tb,this.h,this.g,null):p(S.b?S.b(Fj,a):S.call(null,Fj,a))?new pu(this.find,this.ub,this.nb,c,this.h,this.g,null):new pu(this.find,this.ub,this.nb,this.tb,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,4,5,W,[new V(null,2,5,W,[hj,this.find],null),new V(null,2,5,W,[am,this.ub],null),new V(null,2,5,W,[Tn,this.nb],null),new V(null,2,5,W,[Fj,this.tb],null)],null),this.g))};g.O=function(b,a){return new pu(this.find,this.ub,this.nb,this.tb,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};g.ia=!0;g.ja=function(b,a,c){return ot(a,this.tb,D([ot(a,this.nb,D([ot(a,this.ub,D([ot(a,this.find,D([c],0))],0))],0))],0))};
g.ka=function(b,a){return Z(Z(Z(Z(a,this.find),this.ub),this.nb),this.tb)};function qu(b){for(var a=R,c=null;;){var d=G(b);if(p(d))d instanceof q?c=d:a=ig.A(a,new V(null,1,5,W,[c],null),wf(J,wd),d),b=H(b);else return a}}
function ru(b,a){var c=Yh(lu(hj.c(b))),d=Yh(am.c(b)),e=Yh(lu(Tn.c(b))),f=Yh(lu(Fj.c(b))),e=fq.b(dq(c,d),dq(f,e)),c=eq.b(c,d);if(!Gd(e))throw Yi([t("Query for unknown vars: "),t(Bf.j(D([bg(qk,e)],0)))].join(""),new l(null,3,[Lm,ao,Un,e,Vm,a],null));if(!Gd(c))throw Yi([t(":in and :with should not use same variables: "),t(Bf.j(D([bg(qk,c)],0)))].join(""),new l(null,3,[Lm,ao,Un,c,Vm,a],null));var h=lu(Tn.c(b)),k=nt(function(){return function(a){return a instanceof ut}}(h),Tn.c(b)),m=nt(function(){return function(a){return a instanceof
wt}}(h,k),Tn.c(b));if(!p(function(){var a=pt(h);return p(a)?(a=pt(k),p(a)?pt(m):a):a}()))throw Yi(""+t("Vars used in :in should be distinct"),new l(null,2,[Lm,ao,Vm,a],null));c=lu(am.c(b));if(!p(pt(c)))throw Yi(""+t("Vars used in :with should be distinct"),new l(null,2,[Lm,ao,Vm,a],null));c=ot(function(a){return a instanceof ut},Tn.c(b),D([$d],0));d=ot(function(){return function(a){return a instanceof ut}}(c),Fj.c(b),D([$d],0));c=fq.b(d,c);if(!Gd(c))throw Yi([t("Where uses unknown source vars: "),
t(Bf.j(D([bg(qk,c)],0)))].join(""),new l(null,3,[Lm,ao,Un,c,Vm,a],null));c=nt(function(a){return a instanceof du},Fj.c(b));d=nt(function(){return function(a){return a instanceof wt}}(c),Tn.c(b));if(!Gd(c)&&Gd(d))throw Yi(""+t("Missing rules var '%' in :in"),new l(null,2,[Lm,ao,Vm,a],null));};su;tu;function uu(b,a,c,d,e){this.gc=b;this.Wd=a;this.Yd=c;this.Vd=d;this.za=e;this.m=2147484416;this.D=0}g=uu.prototype;g.T=function(b,a,c){return su.f?su.f(this,a,c):su.call(null,this,a,c)};g.$b=function(b,a){return sb(this.gc,a)};g.I=function(b,a){return rb.f(this.gc,a,null)};g.G=function(b,a,c){return rb.f(this.gc,a,c)};g.J=function(b,a,c){return Zb(ec(this.gc),a,c)};function vu(b,a,c,d,e){return new uu(b,a,c,d,e)}
function su(b,a,c){var d=b.gc,e=b.Wd,f=b.Yd,h=b.Vd;b=b.za;var k=f.b?f.b(a,null):f.call(null,a,null);if(p(k))return vu(d,O.f(P.b(e,k),h,a),O.f(f,a,h),h+1,b);a=vu(O.f(d,a,c),O.f(e,h,a),O.f(f,a,h),h+1,b);return tu.c?tu.c(a):tu.call(null,a)}function tu(b){if(L(b.gc)>b.za){var a=b.gc,c=b.Wd,d=b.Yd,e=b.Vd;b=b.za;var f=G(c),h=M(f,0),f=M(f,1);return vu(P.b(a,f),P.b(c,h),P.b(d,f),e,b)}return b};function wu(b,a,c,d,e){this.nc=b;this.Wa=a;this.h=c;this.g=d;this.i=e;this.m=2229667594;this.D=8192}g=wu.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "wildcard?":return this.nc;case "attrs":return this.Wa;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullSpec{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[mn,this.nc],null),new V(null,2,5,W,[Bm,this.Wa],null)],null),this.g))};g.U=function(){return new Sg(0,this,2,new V(null,2,5,W,[mn,Bm],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 2+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,2,[Bm,null,mn,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new wu(this.nc,this.Wa,this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return p(S.b?S.b(mn,a):S.call(null,mn,a))?new wu(c,this.Wa,this.h,this.g,null):p(S.b?S.b(Bm,a):S.call(null,Bm,a))?new wu(this.nc,c,this.h,this.g,null):new wu(this.nc,this.Wa,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,2,5,W,[new V(null,2,5,W,[mn,this.nc],null),new V(null,2,5,W,[Bm,this.Wa],null)],null),this.g))};g.O=function(b,a){return new wu(this.nc,this.Wa,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};
var xu=function xu(a){if(null!=a&&null!=a.Tb)return a.Tb(a);var c=xu[ba(null==a?null:a)];if(null!=c)return c.c?c.c(a):c.call(null,a);c=xu._;if(null!=c)return c.c?c.c(a):c.call(null,a);throw Ua("IPullSpecComponent.-as-spec",a);};function yu(b,a,c,d){this.attr=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=yu.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "attr":return this.attr;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullAttrName{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[bo,this.attr],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[bo],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.Tb=function(){return new V(null,2,5,W,[this.attr,new l(null,1,[bo,this.attr],null)],null)};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[bo,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new yu(this.attr,this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return p(S.b?S.b(bo,a):S.call(null,bo,a))?new yu(c,this.h,this.g,null):new yu(this.attr,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[bo,this.attr],null)],null),this.g))};g.O=function(b,a){return new yu(this.attr,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};function zu(b,a,c,d,e){this.attr=b;this.Xb=a;this.h=c;this.g=d;this.i=e;this.m=2229667594;this.D=8192}g=zu.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "attr":return this.attr;case "rattr":return this.Xb;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[bo,this.attr],null),new V(null,2,5,W,[Rj,this.Xb],null)],null),this.g))};g.U=function(){return new Sg(0,this,2,new V(null,2,5,W,[bo,Rj],null),tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 2+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.Tb=function(){return new V(null,2,5,W,[this.Xb,new l(null,1,[bo,this.attr],null)],null)};g.W=function(b,a){return Wd(new Zd(null,new l(null,2,[Rj,null,bo,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new zu(this.attr,this.Xb,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(bo,a):S.call(null,bo,a))?new zu(c,this.Xb,this.h,this.g,null):p(S.b?S.b(Rj,a):S.call(null,Rj,a))?new zu(this.attr,c,this.h,this.g,null):new zu(this.attr,this.Xb,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,2,5,W,[new V(null,2,5,W,[bo,this.attr],null),new V(null,2,5,W,[Rj,this.Xb],null)],null),this.g))};g.O=function(b,a){return new zu(this.attr,this.Xb,a,this.g,this.i)};
g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};function Au(b,a,c,d,e){this.attr=b;this.za=a;this.h=c;this.g=d;this.i=e;this.m=2229667594;this.D=8192}g=Au.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "attr":return this.attr;case "limit":return this.za;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullLimitExpr{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[bo,this.attr],null),new V(null,2,5,W,[Uj,this.za],null)],null),this.g))};g.U=function(){return new Sg(0,this,2,new V(null,2,5,W,[bo,Uj],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 2+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.Tb=function(){return hg(xu(this.attr),new V(null,2,5,W,[1,Uj],null),this.za)};g.W=function(b,a){return Wd(new Zd(null,new l(null,2,[Uj,null,bo,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Au(this.attr,this.za,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(bo,a):S.call(null,bo,a))?new Au(c,this.za,this.h,this.g,null):p(S.b?S.b(Uj,a):S.call(null,Uj,a))?new Au(this.attr,c,this.h,this.g,null):new Au(this.attr,this.za,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,2,5,W,[new V(null,2,5,W,[bo,this.attr],null),new V(null,2,5,W,[Uj,this.za],null)],null),this.g))};g.O=function(b,a){return new Au(this.attr,this.za,a,this.g,this.i)};
g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};function Bu(b,a,c,d,e){this.attr=b;this.value=a;this.h=c;this.g=d;this.i=e;this.m=2229667594;this.D=8192}g=Bu.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "attr":return this.attr;case "value":return this.value;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[bo,this.attr],null),new V(null,2,5,W,[Ck,this.value],null)],null),this.g))};g.U=function(){return new Sg(0,this,2,new V(null,2,5,W,[bo,Ck],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 2+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.Tb=function(){return hg(xu(this.attr),new V(null,2,5,W,[1,ik],null),this.value)};g.W=function(b,a){return Wd(new Zd(null,new l(null,2,[Ck,null,bo,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Bu(this.attr,this.value,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(bo,a):S.call(null,bo,a))?new Bu(c,this.value,this.h,this.g,null):p(S.b?S.b(Ck,a):S.call(null,Ck,a))?new Bu(this.attr,c,this.h,this.g,null):new Bu(this.attr,this.value,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,2,5,W,[new V(null,2,5,W,[bo,this.attr],null),new V(null,2,5,W,[Ck,this.value],null)],null),this.g))};g.O=function(b,a){return new Bu(this.attr,this.value,a,this.g,this.i)};
g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};function Cu(b,a,c){this.h=b;this.g=a;this.i=c;this.m=2229667594;this.D=8192}g=Cu.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a){default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullWildcard{",", ","}",c,U.b(wd,this.g))};g.U=function(){return new Sg(0,this,0,wd,tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 0+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd($d,a)?P.b(bd(ag.b(R,this),this.h),a):new Cu(this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return new Cu(this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(wd,this.g))};g.O=function(b,a){return new Cu(a,this.g,this.i)};
g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};function Du(b,a,c,d){this.za=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=Du.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "limit":return this.za;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[Uj,this.za],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[Uj],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.Tb=function(){return new V(null,2,5,W,[Wl,this.za],null)};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[Uj,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Du(this.za,this.h,hf(P.b(this.g,a)),null)};g.T=function(b,a,c){return p(S.b?S.b(Uj,a):S.call(null,Uj,a))?new Du(c,this.h,this.g,null):new Du(this.za,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[Uj,this.za],null)],null),this.g))};g.O=function(b,a){return new Du(this.za,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};function Eu(b,a,c,d,e){this.attr=b;this.Wb=a;this.h=c;this.g=d;this.i=e;this.m=2229667594;this.D=8192}g=Eu.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "attr":return this.attr;case "porrl":return this.Wb;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[bo,this.attr],null),new V(null,2,5,W,[Tl,this.Wb],null)],null),this.g))};g.U=function(){return new Sg(0,this,2,new V(null,2,5,W,[bo,Tl],null),tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 2+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.Tb=function(){return kg(xu(this.attr),1,J,xu(this.Wb))};g.W=function(b,a){return Wd(new Zd(null,new l(null,2,[Tl,null,bo,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Eu(this.attr,this.Wb,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(bo,a):S.call(null,bo,a))?new Eu(c,this.Wb,this.h,this.g,null):p(S.b?S.b(Tl,a):S.call(null,Tl,a))?new Eu(this.attr,c,this.h,this.g,null):new Eu(this.attr,this.Wb,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,2,5,W,[new V(null,2,5,W,[bo,this.attr],null),new V(null,2,5,W,[Tl,this.Wb],null)],null),this.g))};g.O=function(b,a){return new Eu(this.attr,this.Wb,a,this.g,this.i)};
g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};function Fu(b,a){return a instanceof Cu?O.f(b,mn,!0):kg(b,Bm,df,xu(a))}function Gu(b,a,c,d){this.jc=b;this.h=a;this.g=c;this.i=d;this.m=2229667594;this.D=8192}g=Gu.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "specs":return this.jc;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.pull-parser.PullPattern{",", ","}",c,U.b(new V(null,1,5,W,[new V(null,2,5,W,[qm,this.jc],null)],null),this.g))};g.U=function(){return new Sg(0,this,1,new V(null,1,5,W,[qm],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 1+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.Tb=function(){var b=new wu(!1,cc(R),null,null,null),b=v.f(Fu,b,this.jc);return new V(null,2,5,W,[Gm,jg(b,Bm,cf)],null)};g.W=function(b,a){return Wd(new Zd(null,new l(null,1,[qm,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Gu(this.jc,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(qm,a):S.call(null,qm,a))?new Gu(c,this.h,this.g,null):new Gu(this.jc,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,1,5,W,[new V(null,2,5,W,[qm,this.jc],null)],null),this.g))};g.O=function(b,a){return new Gu(this.jc,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};Hu;var Iu=new Zd(null,new l(null,3,[xj,null,"*",null,yk,null],null),null);
function Ju(b){return b instanceof q||"string"===typeof b?$s(b)?new zu(at(b),b,null,null,null):new yu(b,null,null,null):null}var Ku=new Zd(null,new l(null,2,["...",null,qn,null],null),null);function Lu(b){return Jd(b)&&A.b(3,L(b))}var Mu=new Zd(null,new l(null,3,[Uk,null,Uj,null,"limit",null],null),null);
function Nu(b){var a=M(b,0),c=M(b,1),d=M(b,2);if(p(Mu.c?Mu.c(a):Mu.call(null,a))){c=(a=null==d||"number"===typeof d&&0<d)?Ju(c):a;if(p(c))return new Au(c,d,null,null,null);throw Yi(""+t('Expected ["limit" attr-name (positive-number | nil)]'),new l(null,2,[Lm,un,gk,b],null));}return null}var Ou=new Zd(null,new l(null,3,[yl,null,ik,null,"default",null],null),null);
function Pu(b){var a=M(b,0),c=M(b,1);b=function(){var b=Ju(a);return p(b)?b:p(Lu(a))?Nu(a):null}();if(p(b)){var d=function(){var a;a=p(Ku.c?Ku.c(c):Ku.call(null,c))?new Du(null,null,null,null):"number"===typeof c&&0<c?new Du(c,null,null,null):null;return p(a)?a:Hu.c?Hu.c(c):Hu.call(null,c)}();if(p(d))return new Eu(b,d,null,null,null);throw Yi(""+t("Expected (pattern | recursion-limit)"),new l(null,2,[Lm,un,gk,new V(null,2,5,W,[a,c],null)],null));}throw Yi(""+t("Expected (attr-name | limit-expr)"),
new l(null,2,[Lm,un,gk,new V(null,2,5,W,[a,c],null)],null));}
function Qu(b){var a=Ju(b);if(p(a))return a;a=p(Iu.c?Iu.c(b):Iu.call(null,b))?new Cu(null,null,null):null;if(p(a))return a;if(Kd(b)){if(!A.b(1,L(b)))throw Error([t("Assert failed: "),t("Maps should contain exactly 1 entry"),t("\n"),t(Bf.j(D([Bc(Bj,1,Bc(vn,Om))],0)))].join(""));a=Pu(G(b))}else a=null;if(p(a))return a;if(p(Lu(b))){if(a=Nu(b),!p(a))b:{var c=M(b,0),d=M(b,1),a=M(b,2);if(p(Ou.c?Ou.c(c):Ou.call(null,c))){c=Ou.c?Ou.c(c):Ou.call(null,c);d=p(c)?Ju(d):c;if(p(d)){a=new Bu(d,a,null,null,null);
break b}throw Yi(""+t('Expected ["default" attr-name any-value]'),new l(null,2,[Lm,un,gk,b],null));}a=null}}else a=null;if(p(a))return a;throw Yi(""+t("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)"),new l(null,2,[Lm,un,gk,b],null));}function Ru(b){return Kd(b)?En:p(Iu.c?Iu.c(b):Iu.call(null,b))?Kj:nk}function Su(b){return ag.f(wd,De.c(function(a){return J.b(R,a)}),b)}
function Tu(b){b=Fi(Ru,b);var a=p(hf(B.b(b,Kj)))?new V(null,1,5,W,[yk],null):wd;return ag.f(ag.b(a,B.b(b,nk)),uf.b(De.c(Su),Uf),B.b(b,En))}function Hu(b){return Jd(b)?new Gu(ag.f(wd,De.c(Qu),Tu(b)),null,null,null):null}function Uu(b){var a;a=null==b?null:Hu(b);a=null==a?null:yd(xu(a),1);if(p(a))return a;throw Yi(""+t("Cannot parse pull pattern, expected: [attr-spec+]"),new l(null,2,[Lm,un,gk,b],null));};function Vu(b,a){return v.f(df,b,a)}function Wu(b,a,c){return Ad([Ej,Xk,al,Wl,qm,mn,Fn,Vn,co],[c,a,Vn,new l(null,2,[Mm,R,Xl,$d],null),E(Bm.c(b)),mn.c(b),cc(R),b,cc(wd)])}function Xu(b,a,c,d){return O.f(Wu(b,a,c),bo,d)}function Yu(b,a,c){var d=Vn.c(b);return O.j(b,Xk,a,D([qm,E(Bm.c(d)),mn,mn.c(d),Fn,cc(R),co,function(){var a=co.c(b);return E(c)?df.b(a,c):a}()],0))}
function Zu(b,a,c){var d=null!=b&&(b.m&64||b.Ua)?ab.b($c,b):b,e=B.b(d,Mm),d=B.b(d,Xl);return O.j(b,Mm,jg(e,a,wf(cd,0)),D([Xl,J.b(d,c)],0))}function $u(b,a,c){var d;d=Wd(gg(b,new V(null,2,5,W,[Wl,Xl],null),$d),c);return p(d)?J.b(a,kg(b,co,df,new l(null,1,[ym,c],null))):null}function av(b,a){var c=Fn.c(a),c=null==c?null:ec(c);return null==c?null:B.b(c,b)}var bv=vf(av,Fk);function cv(b,a){var c=bo.c(b),c=Zu(Wl.c(b),c,a);return O.f(Xu(Vn.c(b),new V(null,1,5,W,[a],null),!1,Fk),Wl,c)}
function dv(b){var a=M(b,0);b=Be(b,1);var c=E(Xk.c(a));if(c){var a=Yu(a,Pc(c),bv.c?bv.c(a):bv.call(null,a)),c=G(c),d=$u(a,b,c);return p(d)?d:J.j(b,a,D([cv(a,c)],0))}c=bv.c?bv.c(a):bv.call(null,a);d=co.c(a);c=E(c)?df.b(d,c):d;return J.b(b,O.j(a,al,Mj,D([co,c],0)))}
function ev(b,a,c,d,e){var f=null!=d&&(d.m&64||d.Ua)?ab.b($c,d):d,h=B.b(f,Wl),f=B.b(f,Vn),k=B.f(B.b(h,Mm),b,0);return A.b(Wl.c(B.b(Bm.c(f),b)),k)?J.b(e,d):dv(J.j(e,d,D([new l(null,7,[al,Wl,Vn,f,bo,b,Ej,a,Xk,c,Wl,h,co,cc(wd)],null)],0)))}var fv=function(b){return function(a,c,d,e,f){a=Zu(Wl.c(a),d,c);return O.f(Xu(b,f,e,d),Wl,a)}}(new wu(!0,R,null,null,null));
function gv(b,a,c,d,e,f,h,k){var m=M(k,0),n=Be(k,1),r=B.f(h,Uj,1E3),u=hf(p(r)?ag.f(wd,Lf(r),f):f);if(p(u)){var w=Ps(b,c),z=w&&Rs(b,c,il),C=p(e)?Rs(b,c,hn):!z,F=p(e)?function(){return function(a){return a.v}}(w,z,C,r,u,k,m,n):function(){return function(a){return a.e}}(w,z,C,r,u,k,m,n);if(Wd(h,Gm))return J.j(n,m,D([Xu(Gm.c(h),bg(F,u),C,a)],0));if(Wd(h,Wl))return ev(a,C,bg(F,u),m,n);if(p(z?e:z))return J.j(n,m,D([fv(m,d,a,C,bg(F,u))],0));var K=function(){return w?uf.b(function(){return function(a){return Ad([ym],
[a])}}(F,w,z,C,F,r,u,k,m,n),F):F}(),Q=!C;return J.b(n,lg(m,Fn,ef,a,function(){var a=ag.f(wd,De.c(K),u);return Q?G(a):a}()))}return J.b(n,Wd(h,ik)?lg(m,Fn,ef,a,ik.c(h)):m)}var hv=Wf(function(b){var a=M(b,0);b=M(b,1);return gf.b(a,bo.c(b))});function iv(b,a,c){return Xu(O.j(Vn.c(b),Bm,c,D([mn,!1],0)),new V(null,1,5,W,[a],null),!1,zj)}function jv(b,a){return J.b(Pc(b),kg(G(b),Fn,Vu,ec(a)))}function kv(b){var a=M(b,0);b=Be(b,1);var c=uj.c(a),a=av(zj,a);return jv(b,Vu(c,p(a)?a:R))}
function lv(b,a){var c=M(a,0),d=Be(a,1),e=E(Nn.c(c));if(e){var f=G(e),e=M(f,0),f=M(f,1),h=B.f(fg(c,new V(null,2,5,W,[Vn,Bm],null)),e,R);return gv(b,e,e,an.c(c),!0,f,h,J.b(d,jg(c,Nn,Pc)))}e=hf(ag.f(R,hv,fg(c,new V(null,2,5,W,[Vn,Bm],null))));return p(e)?(c=O.j(c,al,Hk,D([uj,Fn.c(c),Fn,cc(R)],0)),J.j(d,c,D([iv(c,an.c(c),e)],0))):jv(d,Fn.c(c))}
function mv(b,a,c,d,e){var f=Fi(function(a){return a.a},rs(b,wl,new V(null,1,5,W,[d],null))),h=null!=a&&(a.m&64||a.Ua)?ab.b($c,a):a,k=B.b(h,bo),h=B.b(h,Wl),k=null!=k?Zu(h,k,d):h;return lv(b,J.j(c,a,D([new l(null,6,[al,Bn,Fn,bf(new l(null,1,[ym,d],null)),an,d,Vn,e,Nn,E(f),Wl,k],null)],0)))}
function nv(b,a){for(;;){var c=a,d=M(c,0),e=Be(c,1);if(c=E(Xk.c(d))){if(p(mn.c(d))){var f=b,d=O.j(d,qm,wd,D([an,G(c),mn,!1],0)),c=e,h=null!=d&&(d.m&64||d.Ua)?ab.b($c,d):d,e=B.b(h,an),h=B.b(h,Vn),k=$u(d,c,e);return p(k)?k:mv(f,d,c,e,h)}if(f=E(qm.c(d))){h=f;f=G(h);Vn.c(d);e=J.b(e,O.f(d,qm,Pc(h)));d=b;h=f;c=G(c);f=M(h,0);h=M(h,1);if(A.b(ym,f))d=p(hf(rs(d,wl,new V(null,1,5,W,[c],null))))?J.b(Pc(e),lg(G(e),Fn,ef,ym,c)):e;else var k=bo.c(h),m=A.b(f,k),n=m?rs(d,wl,new V(null,2,5,W,[c,k],null)):rs(d,rk,new V(null,
2,5,W,[k,c],null)),d=gv(d,f,k,c,m,n,h,e);return d}f=b;d=J.b(e,Yu(d,Pc(c),hf(cf(Fn.c(d)))));b=f;a=d}else return J.b(e,O.f(d,al,Mj))}}
function ov(b,a){for(;;)switch(al.c(G(a))instanceof q?al.c(G(a)).V:null){case "expand":var c=b,d=lv(b,a);b=c;a=d;continue;case "expand-rev":c=b;d=kv(a);b=c;a=d;continue;case "pattern":c=b;d=nv(b,a);b=c;a=d;continue;case "recursion":c=b;d=dv(a);b=c;a=d;continue;case "done":var c=a,e=M(c,0),f=Be(c,1),h=function(){var a=cf(co.c(e));return Ra(Ej.c(e))?G(a):a}();if(E(f)){c=b;d=J.b(Pc(f),function(){var a=G(f);return p(h)?lg(a,Fn,ef,bo.c(e),h):a}());b=c;a=d;continue}else return h;default:throw Error([t("No matching clause: "),
t(al.c(G(a)))].join(""));}}function pv(b,a,c){c=ag.f(wd,De.c(function(a){return Ns(b,a)}),c);return ov(b,hb(Qc,Wu(a,c,!1)))};qv;rv;sv;tv;uv;function qv(b,a){if(!p(Gs(b)))throw Error([t("Assert failed: "),t(Bf.j(D([Bc(gl,hl)],0)))].join(""));var c;c="number"===typeof a||Jd(a)?Ss(b,a):null;if(p(c)){var d=xf(!1),e=xf(R);return rv.A?rv.A(b,c,d,e):rv.call(null,b,c,d,e)}return null}function vv(b,a,c){return Rs(b,a,hn)?Ps(b,a)?v.f(function(a,c){return J.b(a,qv(b,Gj.c(c)))},$d,c):v.f(function(a,b){return J.b(a,Gj.c(b))},$d,c):Ps(b,a)?qv(b,Gj.c(G(c))):Gj.c(G(c))}
function wv(b,a,c,d){a=hf(ps(b,new V(null,3,5,W,[null,c,a],null)));return p(a)?Rs(b,c,il)?qv(b,pl.c(G(a))):v.f(function(){return function(a,c){return J.b(a,qv(b,pl.c(c)))}}(a,a),$d,a):d}function xv(b){return p(b)?de(b):null}
function yv(b){uv.c?uv.c(b):uv.call(null,b);return function c(d){return new Re(null,function(){for(;;){var e=E(d);if(e){if(Pd(e)){var f=kc(e),h=L(f),k=We(h);a:for(var m=0;;)if(m<h){var n=x.b(f,m),r=M(n,0),n=M(n,1),r=Rs(b.db,r,hn)?new V(null,2,5,W,[r,xv(n)],null):new V(null,2,5,W,[r,n],null);k.add(r);m+=1}else{f=!0;break a}return f?Xe(k.ba(),c(lc(e))):Xe(k.ba(),null)}f=G(e);k=M(f,0);f=M(f,1);return ld(Rs(b.db,k,hn)?new V(null,2,5,W,[k,xv(f)],null):new V(null,2,5,W,[k,f],null),c(Pc(e)))}return null}},
null,null)}(function(){var c=b.cache;return I.c?I.c(c):I.call(null,c)}())}function zv(b,a,c,d){this.db=b;this.eid=a;this.td=c;this.cache=d;this.m=2162164483;this.D=0}g=zv.prototype;g.entry_set=function(){return de(De.b(de,yv(this)))};
g.forEach=function(){function b(a,b){for(var c=E(yv(this)),h=null,k=0,m=0;;)if(m<k){var n=h.X(null,m),r=M(n,0),n=M(n,1);a.call(b,n,r,this);m+=1}else if(c=E(c))Pd(c)?(h=kc(c),c=lc(c),r=h,k=L(h),h=r):(h=G(c),r=M(h,0),n=M(h,1),a.call(b,n,r,this),c=H(c),h=null,k=0),m=0;else return null}function a(a){for(var b=E(yv(this)),c=null,h=0,k=0;;)if(k<h){var m=c.X(null,k),n=M(m,0),m=M(m,1);a.f?a.f(m,n,this):a.call(null,m,n,this);k+=1}else if(b=E(b))Pd(b)?(c=kc(b),b=lc(b),n=c,h=L(c),c=n):(c=G(b),n=M(c,0),m=M(c,
1),a.f?a.f(m,n,this):a.call(null,m,n,this),b=H(b),c=null,h=0),k=0;else return null}var c=null,c=function(c,e){switch(arguments.length){case 1:return a.call(this,c);case 2:return b.call(this,c,e)}throw Error("Invalid arity: "+arguments.length);};c.c=a;c.b=b;return c}();g.get=function(b){if(A.b(b,":db/id"))return this.eid;if($s(b))return xv(wv(this.db,this.eid,at(b),null));var a=tv.b?tv.b(this,b):tv.call(null,this,b);return Rs(this.db,b,hn)?xv(a):a};g.key_set=function(){return de(Zg(this))};
g.entries=function(){return Ug(yv(this))};g.value_set=function(){return de(De.b(td,yv(this)))};g.toString=function(){return vc(this)};g.keys=function(){return Sc(Zg(this))};g.values=function(){return Sc(De.b(td,yv(this)))};g.equiv=function(b){return sv.b?sv.b(this,b):sv.call(null,this,b)};g.has=function(b){return null!=this.get(b)};g.B=function(b,a){return sv.b?sv.b(this,a):sv.call(null,this,a)};g.L=function(){return Hc(this.eid)};
g.M=function(){uv.c?uv.c(this):uv.call(null,this);return E(I.c?I.c(this.cache):I.call(null,this.cache))};g.R=function(){uv.c?uv.c(this):uv.call(null,this);return L(I.c?I.c(this.cache):I.call(null,this.cache))};g.I=function(b,a){return tv.f?tv.f(this,a,null):tv.call(null,this,a,null)};g.G=function(b,a,c){return tv.f?tv.f(this,a,c):tv.call(null,this,a,c)};g.$b=function(b,a){return gf.b(Fm,tv.f?tv.f(this,a,Fm):tv.call(null,this,a,Fm))};
g.call=function(){function b(a,b,c){return tv.f?tv.f(this,b,c):tv.call(null,this,b,c)}function a(a,b){return tv.b?tv.b(this,b):tv.call(null,this,b)}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return a.call(this,0,e);case 3:return b.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.b=a;c.f=b;return c}();g.apply=function(b,a){return this.call.apply(this,[this].concat(Za(a)))};g.c=function(b){return tv.b?tv.b(this,b):tv.call(null,this,b)};
g.b=function(b,a){return tv.f?tv.f(this,b,a):tv.call(null,this,b,a)};g.J=function(b,a,c){return Zb(O.f(I.c?I.c(this.cache):I.call(null,this.cache),ym,this.eid),a,c)};function rv(b,a,c,d){return new zv(b,a,c,d)}function sv(b,a){return a instanceof zv&&A.b(b.eid,a.eid)}
var tv=function tv(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return tv.b(arguments[0],arguments[1]);case 3:return tv.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};tv.b=function(b,a){return tv.f(b,a,null)};
tv.f=function(b,a,c){if(A.b(a,ym))return b.eid;if($s(a))return wv(b.db,b.eid,at(a),c);var d=function(){var a=b.cache;return I.c?I.c(a):I.call(null,a)}().call(null,a);if(p(d))return d;if(p(function(){var a=b.td;return I.c?I.c(a):I.call(null,a)}()))return c;d=hf(ps(b.db,new V(null,2,5,W,[b.eid,a],null)));p(d)&&(c=vv(b.db,a,d),Hf(b.cache,O.f(function(){var a=b.cache;return I.c?I.c(a):I.call(null,a)}(),a,c)));return c};tv.C=3;
function Av(b,a){return he(function(a,d,e){return O.f(a,d,Rs(b,d,il)?Rs(b,d,hn)?Yh(De.b(uv,e)):uv.c?uv.c(e):uv.call(null,e):e)},R,a)}function Bv(b,a){return v.f(function(a,d){var e=Mn.c(G(d));return O.f(a,e,vv(b,e,d))},R,gi(Mn,a))}function uv(b){if(!p(b instanceof zv))throw Error([t("Assert failed: "),t(Bf.j(D([Bc(Il,mm)],0)))].join(""));var a;a=b.td;a=I.c?I.c(a):I.call(null,a);p(a)||(a=hf(ps(b.db,new V(null,1,5,W,[b.eid],null))),p(a)&&(a=Av(b.db,Bv(b.db,a)),sc(b.cache,a),sc(b.td,!0)));return b}
ja("datascript.impl.entity.Entity.prototype.get",zv.prototype.get);ja("datascript.impl.entity.Entity.prototype.has",zv.prototype.has);ja("datascript.impl.entity.Entity.prototype.forEach",zv.prototype.forEach);ja("datascript.impl.entity.Entity.prototype.key_set",zv.prototype.key_set);ja("datascript.impl.entity.Entity.prototype.value_set",zv.prototype.value_set);ja("datascript.impl.entity.Entity.prototype.entry_set",zv.prototype.entry_set);ja("datascript.impl.entity.Entity.prototype.keys",zv.prototype.keys);
ja("datascript.impl.entity.Entity.prototype.values",zv.prototype.values);ja("datascript.impl.entity.Entity.prototype.entries",zv.prototype.entries);ja("cljs.core.ES6Iterator.prototype.next",Rc.prototype.next);ja("cljs.core.ES6EntriesIterator.prototype.next",Tg.prototype.next);Cv;function Dv(b,a,c,d,e,f){this.Yb=b;this.Za=a;this.rules=c;this.h=d;this.g=e;this.i=f;this.m=2229667594;this.D=8192}g=Dv.prototype;g.I=function(b,a){return rb.f(this,a,null)};g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "rels":return this.Yb;case "sources":return this.Za;case "rules":return this.rules;default:return B.f(this.g,a,c)}};
g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.query.Context{",", ","}",c,U.b(new V(null,3,5,W,[new V(null,2,5,W,[Hl,this.Yb],null),new V(null,2,5,W,[sk,this.Za],null),new V(null,2,5,W,[ql,this.rules],null)],null),this.g))};g.U=function(){return new Sg(0,this,3,new V(null,3,5,W,[Hl,sk,ql],null),tc(this.g))};g.N=function(){return this.h};g.R=function(){return 3+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};
g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,3,[sk,null,ql,null,Hl,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Dv(this.Yb,this.Za,this.rules,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(Hl,a):S.call(null,Hl,a))?new Dv(c,this.Za,this.rules,this.h,this.g,null):p(S.b?S.b(sk,a):S.call(null,sk,a))?new Dv(this.Yb,c,this.rules,this.h,this.g,null):p(S.b?S.b(ql,a):S.call(null,ql,a))?new Dv(this.Yb,this.Za,c,this.h,this.g,null):new Dv(this.Yb,this.Za,this.rules,this.h,O.f(this.g,a,c),null)};
g.M=function(){return E(U.b(new V(null,3,5,W,[new V(null,2,5,W,[Hl,this.Yb],null),new V(null,2,5,W,[sk,this.Za],null),new V(null,2,5,W,[ql,this.rules],null)],null),this.g))};g.O=function(b,a){return new Dv(this.Yb,this.Za,this.rules,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};function Ev(b,a,c,d,e){this.Wa=b;this.kc=a;this.h=c;this.g=d;this.i=e;this.m=2229667594;this.D=8192}g=Ev.prototype;g.I=function(b,a){return rb.f(this,a,null)};
g.G=function(b,a,c){switch(a instanceof q?a.V:null){case "attrs":return this.Wa;case "tuples":return this.kc;default:return B.f(this.g,a,c)}};g.J=function(b,a,c){return X(a,function(){return function(b){return X(a,Y,""," ","",c,b)}}(this),"#datascript.query.Relation{",", ","}",c,U.b(new V(null,2,5,W,[new V(null,2,5,W,[Bm,this.Wa],null),new V(null,2,5,W,[mj,this.kc],null)],null),this.g))};g.U=function(){return new Sg(0,this,2,new V(null,2,5,W,[Bm,mj],null),tc(this.g))};g.N=function(){return this.h};
g.R=function(){return 2+L(this.g)};g.L=function(){var b=this.i;return null!=b?b:this.i=b=He(this)};g.B=function(b,a){var c;c=p(a)?(c=this.constructor===a.constructor)?Rg(this,a):c:a;return p(c)?!0:!1};g.W=function(b,a){return Wd(new Zd(null,new l(null,2,[mj,null,Bm,null],null),null),a)?P.b(bd(ag.b(R,this),this.h),a):new Ev(this.Wa,this.kc,this.h,hf(P.b(this.g,a)),null)};
g.T=function(b,a,c){return p(S.b?S.b(Bm,a):S.call(null,Bm,a))?new Ev(c,this.kc,this.h,this.g,null):p(S.b?S.b(mj,a):S.call(null,mj,a))?new Ev(this.Wa,c,this.h,this.g,null):new Ev(this.Wa,this.kc,this.h,O.f(this.g,a,c),null)};g.M=function(){return E(U.b(new V(null,2,5,W,[new V(null,2,5,W,[Bm,this.Wa],null),new V(null,2,5,W,[mj,this.kc],null)],null),this.g))};g.O=function(b,a){return new Ev(this.Wa,this.kc,a,this.g,this.i)};g.P=function(b,a){return Md(a)?tb(this,x.b(a,0),x.b(a,1)):v.f(hb,this,a)};
function Fv(b,a){return eq.b(Yh(Zg(b)),Yh(Zg(a)))}function Gv(b){return ag.f(wd,Uf,b)}var Hv=function Hv(a,c){return A.b(ll,a)?!0:A.b(new V(null,1,5,W,[yk],null),a)?Jd(c):a instanceof y?A.b(c,a):Jd(a)?A.b(vd(a),yk)?Jd(c)&&pf(function(a){var c=M(a,0);a=M(a,1);return Hv(c,a)},De.f(Fg,$h(a),c)):Jd(c)&&A.b(L(c),L(a))&&pf(function(a){var c=M(a,0);a=M(a,1);return Hv(c,a)},De.f(Fg,a,c)):a.c?a.c(c):a.call(null,c)};function Iv(b){return b instanceof y&&A.b("$",G(Ee(b)))}
function Jv(b){return b instanceof y&&A.b("?",G(Ee(b)))}function Kv(b){return b instanceof q||"string"===typeof b}function Lv(b){return Hv(new V(null,2,5,W,[Kv,ll],null),b)}function Mv(b,a,c,d){var e=a.length,f=d.length,h;h=e+f;h=Ya?Array(h):Xa.call(null,h);for(var k=0;;)if(k<e)h[k]=b[a[k]],k+=1;else break;for(b=0;;)if(b<f)h[e+b]=c[d[b]],b+=1;else break;return h}function Nv(b,a){return new Ev(Bm.c(b),U.b(mj.c(b),mj.c(a)),null,null,null)}
var Ov=function Ov(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Ov.H();case 2:return Ov.b(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Ov.H=function(){return new Ev(R,new V(null,1,5,W,[Ya?[]:Xa.call(null,0)],null),null,null,null)};
Ov.b=function(b,a){var c=Zg(Bm.c(b)),d=Zg(Bm.c(a)),e=de(De.b(Bm.c(b),c)),f=de(De.b(Bm.c(a),d));return new Ev(ai(U.b(c,d),eg()),cf(v.f(function(b,c,d,e){return function(f,u){return v.f(function(a,b,c,d){return function(a,b){return df.b(a,Mv(u,c,b,d))}}(b,c,d,e),f,mj.c(a))}}(c,d,e,f),cc(wd),mj.c(b))),null,null,null)};Ov.C=2;var Pv=function Pv(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Nc(c.slice(0),0):null;return Pv.j(c)};
Pv.j=function(b){var a=L(b);return gf.b(Of(a/2,b),Pf(a/2,b))};Pv.C=0;Pv.K=function(b){return Pv.j(E(b))};var Qv=function Qv(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new Nc(c.slice(2),0):null;return Qv.j(arguments[0],arguments[1],c)};Qv.j=function(b,a,c){return v.f(function(c,e){var f=G(ps(b,new V(null,2,5,W,[a,e],null)));p(f)?(f=Gj.c(f),f=new dd(f)):f=null;return f},null,c)};Qv.C=2;
Qv.K=function(b){var a=G(b),c=H(b);b=G(c);c=H(c);return Qv.j(a,b,c)};
var Cv=Ad([pm,Um,kj,vm,dl,Jk,Sl,Xm,tm,Qk,nn,Kk,Cn,vk,Bj,zk,bn,cn,$k,sn,pn,yk,Nl,rn,Dj,um,Tk,kn,Ij,Cl,Zj,vl,Pl,kl,ek],[function(b){return!0===b},sf,function(b,a,c,d){b=G(ps(b,new V(null,2,5,W,[a,c],null)));return p(b)?Gj.c(b):d},re,qe,Qv,Pa,cd,ne,xe,function(b){return!1===b},ie,Pv,pe,A,te,ke,function(b,a,c){return null==B.b(qv(b,a),c)},ie,ze,se,me,function(b){return 0===b},gf,function(b){return b-1},Fg,gf,t,oe,le,function(b){return 0<b},ue,function(b,a){return b-a*xe(b,a)},rf,Ae]),Rv=function(){function b(b){var e=
a(b);return c(function(){return function(a){return function k(b){return new Re(null,function(a){return function(){for(;;){var c=E(b);if(c){if(Pd(c)){var d=kc(c),e=L(d),f=We(e);a:for(var C=0;;)if(C<e){var F=x.b(d,C)-a;f.add(F*F);C+=1}else{d=!0;break a}return d?Xe(f.ba(),k(lc(c))):Xe(f.ba(),null)}f=G(c)-a;return ld(f*f,k(Pc(c)))}return null}}}(a),null,null)}}(e)(b)}())/L(b)}function a(a){return c(a)/L(a)}function c(a){return v.f(ke,0,a)}return Ad([Ul,vn,fn,Vj,zk,pn,Gn,wm,Rn,Sk,bl,Im],[b,L,function(a){var b=
ee(Cc,a);a=L(a);var c=a>>1,h=yd(b,c);return rf(a)?(h+yd(b,c-1))/2:h},c,function(){function a(b,c){return ge(v.f(function(a,c){return L(a)<b?ee(Cc,J.b(a,c)):0>Cc(c,vd(a))?ee(Cc,J.b($h(a),c)):a},wd,c))}function b(a){return v.f(function(a,b){return 0>Cc(b,a)?b:a},G(a),H(a))}var c=null,c=function(c,f){switch(arguments.length){case 1:return b.call(this,c);case 2:return a.call(this,c,f)}throw Error("Invalid arity: "+arguments.length);};c.c=b;c.b=a;return c}(),function(){function a(b,c){return ge(v.f(function(a,
c){return L(a)<b?ee(Cc,J.b(a,c)):0<Cc(c,G(a))?ee(Cc,J.b(H(a),c)):a},wd,c))}function b(a){return v.f(function(a,b){return 0<Cc(b,a)?b:a},G(a),H(a))}var c=null,c=function(c,f){switch(arguments.length){case 1:return b.call(this,c);case 2:return a.call(this,c,f)}throw Error("Invalid arity: "+arguments.length);};c.c=b;c.b=a;return c}(),function(a){return L(Zh.c(a))},uf.b(ge,Zh),a,function(a){a=b(a);return Math.sqrt(a)},function(){function a(b,c){return ge(Tf(b,function(){return yd(c,Ei(L(c)))}))}var b=
null,b=function(b,c){switch(arguments.length){case 1:return yd(b,Ei(L(b)));case 2:return a.call(this,b,c)}throw Error("Invalid arity: "+arguments.length);};b.c=function(a){return yd(a,Ei(L(a)))};b.b=a;return b}(),function(a,b){var c=Of,h;h=de.c?de.c(b):de.call(null,b);for(var k=Math.random,m=h.length-1;0<m;m--){var n=Math.floor(k()*(m+1)),r=h[m];h[m]=h[n];h[n]=r}h=ge.c?ge.c(h):ge.call(null,h);return ge(c(a,h))}])}();function Sv(b){b="string"===typeof b?Xo(b):b;return Fi(ud,b)}
function Tv(b){var a=Ud.c?Ud.c(b):Ud.call(null,b);return p(a)?a:Qa.c?Qa.c(b):Qa.call(null,b)}function Uv(b){b=De.b(qk,ge(Zh.c(lu(b))));return new Ev(ai(b,eg()),wd,null,null,null)}var Vv=function Vv(a,c){if(null!=a&&null!=a.Kc)return a.Kc(a,c);var d=Vv[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Vv._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IBinding.in-\x3erel",a);};Ft.prototype.Kc=function(){return Ov.H()};
Gt.prototype.Kc=function(b,a){return new Ev(ch([fg(this,new V(null,2,5,W,[Nj,qk],null)),0]),new V(null,1,5,W,[Na.c(new V(null,1,5,W,[a],null))],null),null,null,null)};It.prototype.Kc=function(b,a){if(Ra(Tv(a)))throw Yi([t("Cannot bind value "),t(Bf.j(D([a],0))),t(" to collection "),t(Bf.j(D([rt(this)],0)))].join(""),new l(null,3,[Lm,xk,Ck,a,Ol,rt(this)],null));return Gd(a)?Uv(this):v.b(Nv,De.b(function(a){return function(b){return Vv(Ol.c(a),b)}}(this),a))};
Ht.prototype.Kc=function(b,a){if(Ra(Tv(a)))throw Yi([t("Cannot bind value "),t(Bf.j(D([a],0))),t(" to tuple "),t(Bf.j(D([rt(this)],0)))].join(""),new l(null,3,[Lm,xk,Ck,a,Ol,rt(this)],null));if(L(a)<L(ok.c(this)))throw Yi([t("Not enough elements in a collection "),t(Bf.j(D([a],0))),t(" to bind tuple "),t(Bf.j(D([rt(this)],0)))].join(""),new l(null,3,[Lm,xk,Ck,a,Ol,rt(this)],null));return v.b(Ov,De.f(function(){return function(a,b){return Vv(a,b)}}(this),ok.c(this),a))};
function Wv(b,a){var c=M(a,0),d=M(a,1);return c instanceof Gt&&Nj.c(c)instanceof ut?ig.S(b,new V(null,1,5,W,[sk],null),O,fg(c,new V(null,2,5,W,[Nj,qk],null)),d):c instanceof Gt&&Nj.c(c)instanceof wt?O.f(b,ql,Sv(d)):ig.A(b,new V(null,1,5,W,[Hl],null),J,Vv(c,d))}function Xv(b,a,c){return v.f(Wv,b,ai(a,c))}var Yv=null,Zv=null;
function $v(b,a){var c=b.c?b.c(a):b.call(null,a);return null!=Yv&&Wd(Yv,a)?function(a){return function(b){b=b[a];return"number"===typeof b?b:Ss(Zv,b)}}(c):function(a){return function(b){return b[a]}}(c)}function aw(b){return 1===L(b)?G(b):function(a){return function(b){return af(a.map(function(){return function(a){return a.c?a.c(b):a.call(null,b)}}(a)))}}(de(b))}
function bw(b,a){for(var c=a,d=cc(R);;){var e=G(c);if(p(e))var f=b.c?b.c(e):b.call(null,e),c=H(c),d=ef.f(d,f,J.b(B.f(d,f,Qc),e));else return ec(d)}}
function cw(b,a){var c=mj.c(b),d=mj.c(a),e=Bm.c(b),f=Bm.c(a),h=ge(Fv(Bm.c(b),Bm.c(a))),k=De.b(function(a,b,c){return function(a){return $v(c,a)}}(c,d,e,f,h),h),m=De.b(function(a,b,c,d){return function(a){return $v(d,a)}}(c,d,e,f,h,k),h),n=Zg(e),r=ge(fq.b(Yh(Zg(f)),Yh(Zg(e)))),u=de(De.b(e,n)),w=de(De.b(f,r)),z=aw(k),C=bw(z,c),F=aw(m),c=cf(v.f(function(a,b,c,d,e,f,h,k,m,n,r,u,w,z){return function(C,F){var jb=z.c?z.c(F):z.call(null,F),kb=B.b(w,jb);return p(kb)?v.f(function(a,b,c,d,e,f,h,k,m,n,r,u,w,
z){return function(a,b){return df.b(a,Mv(b,w,F,z))}}(kb,kb,jb,a,b,c,d,e,f,h,k,m,n,r,u,w,z),C,kb):C}}(c,d,e,f,h,k,m,n,r,u,w,z,C,F),cc(wd),d));return new Ev(ai(U.b(n,r),eg()),c,null,null,null)}function dw(b,a){var c=bg(function(a){return a instanceof y?null:a},a),d=ps(b,c),c=ag.b(R,Xf(function(){return function(a){var b=M(a,0);M(a,1);return Jv(b)}}(c,d),De.f(Fg,a,new V(null,4,5,W,["e","a","v","tx"],null))));return new Ev(c,d,null,null,null)}
function ew(b,a){var c=Xf(function(b){a:for(var c=a;;){var d=b;if(p(p(d)?c:d)){var d=G(b),k=G(c);if(k instanceof y||A.b(d,k))b=H(b),c=H(c);else{b=!1;break a}}else{b=!0;break a}}return b},b),d=ag.b(R,Xf(function(){return function(a){var b=M(a,0);M(a,1);return Jv(b)}}(c),De.f(Fg,a,eg())));return new Ev(d,De.b(de,c),null,null,null)}function fw(b){return p(Iv(G(b)))?b:U.b(new V(null,1,5,W,[$l],null),b)}function gw(b,a){return(null!=b?b.Sd||(b.wb?0:Sa(os,b)):Sa(os,b))?dw(b,a):ew(b,a)}
function hw(b,a){for(var c=b,d=a,e=wd;;){var f=G(c);if(p(f))p(hf(Fv(Bm.c(d),Bm.c(f))))?(c=H(c),d=cw(f,d)):(c=H(c),e=J.b(e,f));else return J.b(e,d)}}function iw(b,a){var c=qf(function(b){return Wd(Bm.c(b),a)?b:null},Hl.c(b));if(p(c)){var d=G(mj.c(c));return p(d)?d[Bm.c(c).call(null,a)]:null}return null}
function jw(b,a){var c=Xf(function(b){return!Gd(eq.b(Yh(a),Yh(Zg(Bm.c(b)))))},Hl.c(b)),d=v.b(Ov,c);return new V(null,2,5,W,[ig.f(b,new V(null,1,5,W,[Hl],null),function(a){return function(b){return Yf(Yh(a),b)}}(c,d)),d],null)}function kw(b,a,c,d){return function(e){var f=De.b(function(c){if(c instanceof y){var d=B.b(sk.c(b),c);return p(d)?d:e[B.b(Bm.c(a),c)]}return c},d);return ab.b(c,f)}}
function lw(b,a){var c=M(a,0),d=M(c,0),e=Be(c,1),f=function(){var a=B.b(Cv,d);return p(a)?a:iw(b,d)}(),h=jw(b,Xf(Jc,e)),k=M(h,0),m=M(h,1),n=p(f)?function(){return ig.f(m,new V(null,1,5,W,[mj],null),function(a){return function(b){return Xf(a,b)}}(kw(k,m,f,e),a,c,d,e,f,h,k,m))}():O.f(m,new V(null,1,5,W,[mj],null),wd);return ig.A(k,new V(null,1,5,W,[Hl],null),J,n)}
function mw(b,a){var c=M(a,0),d=M(c,0),e=Be(c,1),f=M(a,1),h=Jt(f),k=function(){var a=B.b(Cv,d);return p(a)?a:iw(b,d)}(),m=jw(b,Xf(Jc,e)),n=M(m,0),r=M(m,1),u=p(k)?function(){var b=kw(n,r,k,e),u=hf(mj.c(r));return p(u)?v.b(Nv,De.b(function(a,b,c,d,e,f,h,k,m,n,r,u,w){return function(a){var b=c.c?c.c(a):c.call(null,a),b=Vv(m,b);return Ov.b(new Ev(Bm.c(w),new V(null,1,5,W,[a],null),null,null,null),b)}}(u,u,b,a,c,d,e,f,h,k,m,n,r),u)):Ov.b(r,Uv(h))}():Ov.b(O.f(r,new V(null,1,5,W,[mj],null),wd),Uv(h));return ig.A(n,
new V(null,1,5,W,[Hl],null),J,u)}function nw(b,a){return Jd(a)&&Wd(ql.c(b),p(Iv(G(a)))?td(a):G(a))}ow;pw;var qw=zf.c?zf.c(0):zf.call(null,0);
function rw(b,a){var c=M(b,0),d=Be(b,1),e=Ff.b(qw,cd),f=B.b(ql.c(a),c);return function(a,b,c,d,e){return function w(f){return new Re(null,function(a,b,c,d,e){return function(){for(;;){var h=E(f);if(h){var k=h;if(Pd(k)){var m=kc(k),n=L(m),r=We(n);return function(){for(var f=0;;)if(f<n){var w=x.b(m,f),z=w,ia=M(z,0),La=M(ia,0),xa=Be(ia,1),Ca=Be(z,1),Ia=ai(xa,c);Ye(r,Vr(function(a,b,c,d,e,f,h,k,m,n,r,w,z,C,F,K,N){return function(a){if(p(Jv(a))){var b=h.c?h.c(a):h.call(null,a);return p(b)?b:Lc.c([t(Ee(a)),
t("__auto__"),t(N)].join(""))}return a}}(f,z,ia,La,xa,Ca,Ia,w,m,n,r,k,h,a,b,c,d,e),Ca));f+=1}else return!0}()?Xe(r.ba(),w(lc(k))):Xe(r.ba(),null)}var ia=G(k),xa=ia,Ca=M(xa,0),Ia=M(Ca,0),La=Be(Ca,1),$a=Be(xa,1),fb=ai(La,c);return ld(Vr(function(a,b,c,d,e,f,h,k,m,n,r,w,z){return function(a){if(p(Jv(a))){var b=f.c?f.c(a):f.call(null,a);return p(b)?b:Lc.c([t(Ee(a)),t("__auto__"),t(z)].join(""))}return a}}(xa,Ca,Ia,La,$a,fb,ia,k,h,a,b,c,d,e),$a),w(Pc(k)))}return null}}}(a,b,c,d,e),null,null)}}(b,c,d,e,
f)(f)}function sw(b,a){var c=Yf(function(a){var b=M(a,0);a=M(a,1);return A.b(b,a)},De.f(Fg,b,a));return new V(null,2,5,W,[De.b(G,c),De.b(td,c)],null)}
function tw(b,a){var c=M(b,0),d=Be(b,1),e=B.b(a,c);return function(a,b,c,d){return function r(e){return new Re(null,function(a,b,c){return function(){for(;;){var a=E(e);if(a){if(Pd(a)){var b=kc(a),d=L(b),f=We(d);a:for(var h=0;;)if(h<d){var k=x.b(b,h),m=sw(c,k),k=M(m,0),m=M(m,1),k=new V(null,1,5,W,[U.j(new V(null,1,5,W,[Cn],null),k,D([m],0))],null);f.add(k);h+=1}else{b=!0;break a}return b?Xe(f.ba(),r(lc(a))):Xe(f.ba(),null)}f=G(a);b=sw(c,f);f=M(b,0);b=M(b,1);return ld(new V(null,1,5,W,[U.j(new V(null,
1,5,W,[Cn],null),f,D([b],0))],null),r(Pc(a)))}return null}}}(a,b,c,d),null,null)}}(b,c,d,e)(e)}function uw(b){var a=zf.c?zf.c(wd):zf.call(null,wd);Vr(function(a){return function(b){p(Jv.c?Jv.c(b):Jv.call(null,b))&&Ff.f(a,J,b);return b}}(a),b);return I.c?I.c(a):I.call(null,a)}function vw(b,a){var c=function(a){return function(b){b=M(b,0);M(b,0);b=Be(b,1);return pf(a,b)}}(Yh(uw(b)));return new V(null,2,5,W,[Xf(c,a),Yf(c,a)],null)}
function ww(b,a){for(var c=Xf(Jv,a),d=ai(c,eg()),e=function(){return function(a,b){return v.f(pw,a,b)}}(c,d),f=function(a,b,c){return function(d){return qf(function(){return function(a){return Gd(mj.c(a))}}(a,b,c),Hl.c(d))}}(c,d,e),h=hb(Qc,new l(null,5,[xn,wd,Dk,b,Sm,new V(null,1,5,W,[a],null),bj,R,cm,R],null)),k=new Ev(d,wd,null,null,null);;){var m=G(h);if(p(m)){var n=m,r=fi(function(){return function(a){return Ra(nw(b,a))}}(h,k,n,m,c,d,e,f),Sm.c(n)),u=M(r,0),w=M(r,1),z=M(w,0),C=Be(w,1);if(null==
z)var F=e(Dk.c(n),u),F=ow.b?ow.b(F,c):ow.call(null,F,c),K=new Ev(d,F,null,null,null),F=H(h),K=Nv(k,K);else{var Q=z,T=M(Q,0),ga=Be(Q,1),sa=tw(z,bj.c(n)),Ga=vw(U.b(xn.c(n),u),U.b(sa,cm.c(n))),N=M(Ga,0),vb=M(Ga,1);if(p(qf(function(){return function(a){return A.b(a,new V(null,1,5,W,[Bc(Cn)],null))}}(h,k,Q,T,ga,sa,Ga,N,vb,r,u,w,z,C,n,m,c,d,e,f),N)))F=H(h);else{var ia=U.b(u,N),xa=e(Dk.c(n),ia);if(p(f(xa)))F=H(h);else var Ca=O.f(bj.c(n),T,J.b(B.f(bj.c(n),T,wd),ga)),Ia=rw(z,b),F=U.b(function(){return function(a,
b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,N,Q,T,ga,ia,sa,xa){return function wr(Ca){return new Re(null,function(a,b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,N){return function(){for(;;){var a=E(Ca);if(a){if(Pd(a)){var b=kc(a),d=L(b),h=We(d);a:for(var k=0;;)if(k<d){var m=x.b(b,k),m=new l(null,5,[xn,e,Dk,f,Sm,Gv(D([m,N],0)),bj,c,cm,w],null);h.add(m);k+=1}else{b=!0;break a}return b?Xe(h.ba(),wr(lc(a))):Xe(h.ba(),null)}h=G(a);return ld(new l(null,5,[xn,e,Dk,f,Sm,Gv(D([h,N],0)),bj,c,cm,w],null),wr(Pc(a)))}return null}}}(a,
b,c,d,e,f,h,k,m,n,r,u,w,z,C,F,K,N,Q,T,ga,ia,sa,xa),null,null)}}(h,k,Ca,Ia,ia,xa,Q,T,ga,sa,Ga,N,vb,r,u,w,z,C,n,m,c,d,e,f)(Ia)}(),H(h))}K=k}h=F;k=K}else return k}}function xw(b,a){if(null!=b?b.qd||(b.wb?0:Sa(ss,b)):Sa(ss,b)){var c=M(a,0),d=M(a,1),e=M(a,2),f=M(a,3);return Gg.f(new V(null,4,5,W,[p(Lv(c))?Ns(b,c):c,d,p(function(){if(p(e)){var a=Kv(d);return p(a)?(a=Ps(b,d))?Lv(e):a:a}return e}())?Ns(b,e):e,p(Lv(f))?Ns(b,f):f],null),0,L(a))}return a}
function yw(b,a){var c=M(a,0),d=M(a,1),e=M(a,2),f=M(a,3),c=p(Jv(c))?J.b($d,c):$d,f=p(Jv(f))?J.b(c,f):c,c=Jv(e),d=p(c)?Ra(Jv(d))&&Ps(b,d):c;return p(d)?J.b(f,e):f}
function pw(b,a){if(p(function(){var b=new V(null,1,5,W,[new V(null,2,5,W,[Jc,yk],null)],null);return Hv.b?Hv.b(b,a):Hv.call(null,b,a)}()))return lw(b,a);if(p(function(){var b=new V(null,2,5,W,[new V(null,2,5,W,[Jc,yk],null),ll],null);return Hv.b?Hv.b(b,a):Hv.call(null,b,a)}()))return mw(b,a);if(p(function(){var b=new V(null,1,5,W,[yk],null);return Hv.b?Hv.b(b,a):Hv.call(null,b,a)}())){var c=fw(a),d=M(c,0),c=Be(c,1),d=B.b(sk.c(b),d),c=xw(d,c),e=gw(d,c),f=null!=d?d.qd?!0:d.wb?!1:Sa(ss,d):Sa(ss,d),
h=Zv,k=Yv;Zv=f?d:null;Yv=f?yw(d,c):null;try{return ig.A(b,new V(null,1,5,W,[Hl],null),hw,e)}finally{Yv=k,Zv=h}}else throw Error([t("No matching clause: "),t(a)].join(""));}function zw(b,a){if(p(nw(b,a))){var c=p(Iv(G(a)))?new V(null,2,5,W,[G(a),H(a)],null):new V(null,2,5,W,[$l,a],null),d=M(c,0),c=M(c,1),d=fg(b,new V(null,2,5,W,[sk,d],null)),d=ww(O.f(b,sk,new l(null,1,[$l,d],null)),c);return ig.A(b,new V(null,1,5,W,[Hl],null),hw,d)}return pw(b,a)}
var ow=function ow(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return ow.b(arguments[0],arguments[1]);case 3:return ow.f(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};ow.b=function(b,a){var c=Hl.c(b);return ow.f(new V(null,1,5,W,[function(){var b=L(a);return Ya?Array(b):Xa.call(null,b)}()],null),c,a)};
ow.f=function(b,a,c){for(;;){var d=G(a);if(p(d)){var e=d,f=Uh(Bm.c(e),c);if(Gd(f))var h=b,k=H(a),m=c;else var n=de(De.b(function(a,b,c,d){return function(a){return B.b(d,a)}}(b,a,c,f,e,d),c)),r=L(c),h=function(){return function(a,b,c,d,e,f,h,k){return function sa(m){return new Re(null,function(a,b,c,d,e,f,h,k){return function(){for(var n=m;;){var r=E(n);if(r){var u=r,w=G(u);if(r=E(function(a,b,c,d,e,f,h,k,m,n,r,u){return function vr(w){return new Re(null,function(a,b,c,d,e,f,h,k,m){return function(){for(;;){var a=
E(w);if(a){if(Pd(a)){var b=kc(a),c=L(b),d=We(c);return function(){for(var a=0;;)if(a<c){for(var f=x.b(b,a),h=d,n=Za(e),r=0;;)if(r<m){var u=k[r];p(u)&&(n[r]=f[u]);r+=1}else break;h.add(n);a+=1}else return!0}()?Xe(d.ba(),vr(lc(a))):Xe(d.ba(),null)}var f=G(a);return ld(function(){for(var a=Za(e),b=0;;)if(b<m){var c=k[b];p(c)&&(a[b]=f[c]);b+=1}else break;return a}(),vr(Pc(a)))}return null}}}(a,b,c,d,e,f,h,k,m,n,r,u),null,null)}}(n,a,b,c,w,u,r,d,e,f,h,k)(mj.c(h))))return U.b(r,sa(Pc(n)));n=Pc(n)}else return null}}}(a,
b,c,d,e,f,h,k),null,null)}}(b,a,c,n,r,f,e,d)(b)}(),k=H(a),m=c;b=h;a=k;c=m}else return b}};ow.C=3;function Aw(b,a){return Yh(De.b(ge,ow.b(b,a)))}var Bw=function Bw(a,c){if(null!=a&&null!=a.Lc)return a.Lc(a,c);var d=Bw[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Bw._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IContextResolve.-context-resolve",a);};tt.prototype.Lc=function(b,a){return iw(a,this.symbol)};
ut.prototype.Lc=function(b,a){return fg(a,new V(null,2,5,W,[sk,this.symbol],null))};yt.prototype.Lc=function(){return B.b(Rv,this.symbol)};xt.prototype.Lc=function(){return this.value};function Cw(b,a,c){return dg(function(b,e,f){if(p(Wt(b))){e=Bw(Hj.c(b),a);b=De.b(function(){return function(b){return Bw(b,a)}}(e),$h(cj.c(b)));var h=De.b(function(){return function(a){return yd(a,f)}}(e,b),c);return ab.b(e,U.b(b,new V(null,1,5,W,[h],null)))}return e},b,G(c))}
function Dw(b){var a=tf(Wt);return Yf(Pa,De.f(function(b,d){return p(a.c?a.c(b):a.call(null,b))?d:null},b,eg()))}
function Ew(b,a,c){var d=Dw(b),e=function(a){return function(b){return De.b(function(){return function(a){return yd(b,a)}}(a),a)}}(d);c=Fi(e,c);return function(c,d,e){return function n(r){return new Re(null,function(){return function(){for(;;){var c=E(r);if(c){if(Pd(c)){var d=kc(c),e=L(d),f=We(e);a:for(var h=0;;)if(h<e){var k=x.b(d,h);M(k,0);k=M(k,1);k=Cw(b,a,k);f.add(k);h+=1}else{d=!0;break a}return d?Xe(f.ba(),n(lc(c))):Xe(f.ba(),null)}f=G(c);M(f,0);f=M(f,1);return ld(Cw(b,a,f),n(Pc(c)))}return null}}}(c,
d,e),null,null)}}(d,e,c)(c)}var Fw=function Fw(a,c){if(null!=a&&null!=a.Mc)return a.Mc(a,c);var d=Fw[ba(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);d=Fw._;if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw Ua("IPostProcess.-post-process",a);};St.prototype.Mc=function(b,a){return a};Tt.prototype.Mc=function(b,a){return ag.f(wd,De.c(G),a)};Ut.prototype.Mc=function(b,a){return ud(a)};Vt.prototype.Mc=function(b,a){return G(a)};
function Gw(b,a,c){return function(a){return function f(b){return new Re(null,function(a){return function(){for(;;){var c=E(b);if(c){var d=c;if(Pd(d)){var r=kc(d),u=L(r),w=We(u);return function(){for(var b=0;;)if(b<u){var f=x.b(r,b);Ye(w,cg(function(){return function(a,b){if(p(a)){var c=M(a,0),d=M(a,1);return pv(c,d,new V(null,1,5,W,[b],null))}return b}}(b,f,r,u,w,d,c,a),a,f));b+=1}else return!0}()?Xe(w.ba(),f(lc(d))):Xe(w.ba(),null)}var z=G(d);return ld(cg(function(){return function(a,b){if(p(a)){var c=
M(a,0),d=M(a,1);return pv(c,d,new V(null,1,5,W,[b],null))}return b}}(z,d,c,a),a,z),f(Pc(d)))}return null}}}(a),null,null)}}(function(){return function e(b){return new Re(null,function(){for(;;){var c=E(b);if(c){if(Pd(c)){var k=kc(c),m=L(k),n=We(m);a:for(var r=0;;)if(r<m){var u=x.b(k,r),u=p(Xt(u))?new V(null,2,5,W,[Bw(el.c(u),a),Uu(Bw(Vn.c(u),a))],null):null;n.add(u);r+=1}else{k=!0;break a}return k?Xe(n.ba(),e(lc(c))):Xe(n.ba(),null)}n=G(c);return ld(p(Xt(n))?new V(null,2,5,W,[Bw(el.c(n),a),Uu(Bw(Vn.c(n),
a))],null):null,e(Pc(c)))}return null}},null,null)}(b)}())(c)}var Hw=xf(vu(R,Qh(),R,0,100));
function Iw(b){var a=B.f(I.c?I.c(Hw):I.call(null,Hw),b,null);if(p(a))return a;if(Kd(b))a=b;else if(Jd(b))a=qu(b);else throw Yi(""+t("Query should be a vector or a map"),new l(null,2,[Lm,ao,Vm,b],null));var c=a,a=Zt(hj.c(c)),d=am.c(c);if(p(d)){var e=mt(zt,d);if(p(e))d=e;else throw Yi(""+t("Cannot parse :with clause, expected [ variable+ ]"),new l(null,2,[Lm,Vl,Vm,d],null));}else d=null;var e=Tn.b(c,new V(null,1,5,W,[$l],null)),f=mt($t,e);if(!p(f))throw Yi(""+t("Cannot parse :in clause, expected (src-var | % | bind-scalar | bind-tuple | bind-coll | bind-rel)"),
new l(null,2,[Lm,dj,Vm,e],null));e=f;c=Fj.b(c,wd);f=hu(c);if(!p(f))throw Yi(""+t("Cannot parse :where clause, expected [clause+]"),new l(null,2,[Lm,Wj,Vm,c],null));a=new l(null,4,[hj,a,am,d,Tn,e,Fj,f],null);a=new pu(hj.c(a),am.c(a),Tn.c(a),Fj.c(a),null,P.j(a,hj,D([am,Tn,Fj],0)),null);ru(a,b);sc(Hw,O.f(Gb(Hw),b,a));return a}function Jw(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;a=1<a.length?new Nc(a.slice(1),0):null;return Kw(arguments[0],a)}
function Kw(b,a){var c=Iw(b),d=hj.c(c),e=Rt(d),f=Vf(Ot,D([Rt(d)],0)),h=L(e),k=am.c(c),m=U.b(f,De.b(qk,k)),n=Jd(b)?qu(b):b,r=Fj.c(n),u=Xv(new Dv(wd,R,R,null,null,null),Tn.c(c),a),w=Aw(v.f(zw,u,r),m),c=p(am.c(n))?bg(function(a,b,c,d,e,f){return function(a){return ge(Gg.f(a,0,f))}}(w,c,d,e,f,h,k,m,n,r,u,w),w):w,c=p(qf(Wt,e))?Ew(e,u,c):c,e=p(qf(Xt,e))?Gw(e,u,c):c;return Fw(d,e)};for(var Lw=E(new l(null,2,[Al,function(b){return ab.b(ds,b)},Jm,function(b){var a=null!=b&&(b.m&64||b.Ua)?ab.b($c,b):b,c=B.b(a,jj),d=B.b(a,Nn);return Ms(De.b(function(){return function(a){var b=M(a,0),c=M(a,1),d=M(a,2);a=M(a,3);return new cs(b,c,d,a,!0)}}(b,a,c,d),d),c)}],null)),Mw=null,Nw=0,Ow=0;;)if(Ow<Nw){var Pw=Mw.X(null,Ow),Qw=M(Pw,0),Rw=M(Pw,1);fp(Qw,Rw);Ow+=1}else{var Sw=E(Lw);if(Sw){var Tw=Sw;if(Pd(Tw))var Uw=kc(Tw),Vw=lc(Tw),Ww=Uw,Xw=L(Uw),Lw=Vw,Mw=Ww,Nw=Xw;else{var Yw=G(Tw),Zw=M(Yw,0),$w=
M(Yw,1);fp(Zw,$w);Lw=H(Tw);Mw=null;Nw=0}Ow=0}else break}zf.c?zf.c(-1E6):zf.call(null,-1E6);function ax(b){return Gs(I.c?I.c(b):I.call(null,b))}
function bx(){var b=cx;if(!p(ax(b)))throw Error([t("Assert failed: "),t(Bf.j(D([Bc(gn,Yj)],0)))].join(""));var a=zf.c?zf.c(null):zf.call(null,null);Ff.b(b,function(a){return function(b){if(!p(Gs(b)))throw Error([t("Assert failed: "),t(Bf.j(D([Bc(gl,hl)],0)))].join(""));if(p(!1))throw Yi("Filtered DB cannot be modified",new l(null,1,[Lm,fl],null));b=new l(null,5,[El,b,ak,b,Gl,wd,ij,R,en,null],null);b=new Qs(El.c(b),ak.c(b),Gl.c(b),ij.c(b),en.c(b),null,P.j(b,El,D([ak,Gl,ij,en],0)),null);b=ht(b);Cf.b?
Cf.b(a,b):Cf.call(null,a,b);return ak.c(b)}}(a));return I.c?I.c(a):I.call(null,a)};var cx,dx=D([new l(null,2,[Wm,new l(null,1,[rm,hn],null),wk,new l(null,1,[Jj,vj],null)],null)],0),ex=M(dx,0);cx=kp.j(ys.c?ys.c(ex):ys.call(null,ex),D([Ja,new l(null,1,[Dn,zf.c?zf.c(R):zf.call(null,R)],null)],0));function fx(b,a){var c;c=new V(null,4,5,W,[hj,Bc(wj,nm,new V(null,1,5,W,[yk],null)),Fj,new V(null,3,5,W,[nm,wk,b],null)],null);c=Jw.b?Jw.b(c,a):Jw.call(null,c,a);return ud(c)}
function gx(b){var a=new V(null,8,5,W,[hj,Tm,yn,Ql,Fj,new V(null,3,5,W,[nm,wk,Ql],null),new V(null,3,5,W,[nm,ul,Tm],null),new V(null,3,5,W,[nm,tn,yn],null)],null);return Jw.b?Jw.b(a,b):Jw.call(null,a,b)}
jQuery(function(){if(!p(ax(cx)))throw Error([t("Assert failed: "),t(Bf.j(D([Bc(gn,Yj)],0)))].join(""));var b=bx(),a;a=Dn.c(Dd(cx));a=I.c?I.c(a):I.call(null,a);a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.X(null,e);M(f,0);f=M(f,1);f.c?f.c(b):f.call(null,b);e+=1}else if(a=E(a))Pd(a)?(d=kc(a),a=lc(a),c=d,d=L(d)):(c=G(a),M(c,0),c=M(c,1),c.c?c.c(b):c.call(null,b),a=H(a),c=null,d=0),e=0;else break;return b});var hx=function(b){var a=M(b,0),c=kp.c(window.location.hash),d=wp(function(){return function(a,b,c){a=a.c?a.c(c):a.call(null,c);c=p(a)?c:a;return p(c)?c:b}}(c,b,a)).call(null,E,a,c);jQuery(window).on("hashchange",function(a,b){return function(){var a=window.location.hash;return Cf.b?Cf.b(b,a):Cf.call(null,b,a)}}(d,c,b,a));return d}(D(["#/blog"],0)),ix=wp(function(b,a){return b.c?b.c(a):b.call(null,a)}).call(null,function(b){b=eo(b);M(b,0);var a=M(b,1);M(b,2);return a},hx),jx=wp(function(b,a){return b.c?
b.c(a):b.call(null,a)}).call(null,function(b){var a=eo(b);M(a,0);b=M(a,1);a=M(a,2);return A.b("blog",b)?a:null},hx);var kx=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new Nc(e,0)}return a.call(this,d)}function a(a){a=zq(a);var b=M(a,0),e=null!=b&&(b.m&64||b.Ua)?ab.b($c,b):b,f=B.b(e,hm),h=M(a,1),k=function(){var a=ab.b(Gq.b?Gq.b(hm,f):Gq.call(null,hm,f),h);return Lq.c?Lq.c(a):Lq.call(null,a)}();Rq(function(a){return function(){return hljs.highlightBlock(a)}}(k,a,b,e,e,f,h));return k}b.C=0;b.K=function(b){b=E(b);return a(b)};
b.j=a;return b}();function lx(b,a){var c=markdown.toHTML(a,"Maruku");return b.b?b.b(Wn,c):b.call(null,Wn,c)};function mx(b){var a=new l(null,1,[Hm,"none"],null),c=wp(function(){return function(a,b){return a.b?a.b("editor",b):a.call(null,"editor",b)}}(hm,"mui-container",Pk,a,ml)).call(null,A,ix),d=Iq.c?Iq.c("Hoplon Markdown Editor"):Iq.call(null,"Hoplon Markdown Editor"),e=function(){var e=function(){var e=function(){var e=new l(null,2,[lj,"border-box",Nk,"100%"],null),f=function(){return function(a){var c=I.c?I.c(a):I.call(null,a);Cf.b?Cf.b(b,c):Cf.call(null,b,c);a=I.c?I.c(a):I.call(null,a);return localStorage.setItem("mynomoto/md-editor",
a)}}(Fl,25,Pk,e,Ck,b,Ll,hm,"mui-col-md-6",hm,"mui-row",hm,"mui-container",Pk,a,ml,c,d);return Pq.qa?Pq.qa(Fl,25,Pk,e,Ck,b,Ll,f):Pq.call(null,Fl,25,Pk,e,Ck,b,Ll,f)}();return Hq.f?Hq.f(hm,"mui-col-md-6",e):Hq.call(null,hm,"mui-col-md-6",e)}(),h=function(){var h=wp(function(){return function(a,b,c){return a.b?a.b(c,b):a.call(null,c,b)}}(hm,"mui-col-md-6",hm,"mui-row",e,hm,"mui-container",Pk,a,ml,c,d)).call(null,lx,b,Hq);return Hq.f?Hq.f(hm,"mui-col-md-6",h):Hq.call(null,hm,"mui-col-md-6",h)}();return Hq.A?
Hq.A(hm,"mui-row",e,h):Hq.call(null,hm,"mui-row",e,h)}();return Hq.qa?Hq.qa(hm,"mui-container",Pk,a,ml,c,d,e):Hq.call(null,hm,"mui-container",Pk,a,ml,c,d,e)};function nx(){var b=ox,a=xi("vega-viz"),c=Hq.H?Hq.H():Hq.call(null);vi(b,xi("G__"),function(a,c){return function(){return vg.parse.spec(I.c?I.c(b):I.call(null,b),function(a){return function(b){var c=Ci(new l(null,2,[tj,a,tl,"canvas"],null));return(b.c?b.c(c):b.call(null,c)).update()}}(a,c))}}(c,a));Rq(function(a,c){return function(){return vg.parse.spec(I.c?I.c(b):I.call(null,b),function(a){return function(b){var c=Ci(new l(null,2,[tj,a,tl,"canvas"],null));return(b.c?b.c(c):b.call(null,c)).update()}}(a,
c))}}(c,a));return c};var px=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new Nc(e,0)}return a.call(this,d)}function a(a){a=zq(a);M(a,0);var b=M(a,1);a=function(){var a=function(){var a=ab.b(function(){var a=new l(null,1,[Pj,"middle"],null);return Qq.A?Qq.A(hm,"mui-appbar-height",Pk,a):Qq.call(null,hm,"mui-appbar-height",Pk,a)}(),b);return Nq.S?Nq.S(Nk,"100%",hm,"app-bar-inner",a):Nq.call(null,Nk,"100%",hm,"app-bar-inner",a)}();
return Hq.f?Hq.f(hm,"mui-container",a):Hq.call(null,hm,"mui-container",a)}();return Hq.f?Hq.f(hm,"mui-appbar",a):Hq.call(null,hm,"mui-appbar",a)}b.C=0;b.K=function(b){b=E(b);return a(b)};b.j=a;return b}(),qx=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new Nc(e,0)}return a.call(this,d)}function a(a){a=zq(a);M(a,0);a=M(a,1);return ab.b(Hq.b?Hq.b(hm,"mui-panel"):Hq.call(null,hm,"mui-panel"),a)}b.C=0;b.K=function(b){b=
E(b);return a(b)};b.j=a;return b}();var rx=kp.c(new V(null,9,5,W,[new l(null,2,[Pm,"A",Zi,28],null),new l(null,2,[Pm,"B",Zi,55],null),new l(null,2,[Pm,"C",Zi,43],null),new l(null,2,[Pm,"D",Zi,91],null),new l(null,2,[Pm,"E",Zi,81],null),new l(null,2,[Pm,"F",Zi,53],null),new l(null,2,[Pm,"G",Zi,19],null),new l(null,2,[Pm,"H",Zi,87],null),new l(null,2,[Pm,"I",Zi,52],null)],null)),sx=kp.c("400"),tx=kp.c("200"),ux=wp(function(b,a,c,d,e){a=new l(null,4,[$n,new V(null,1,5,W,[new l(null,2,[uk,"table",gm,a],null)],null),jl,new V(null,2,5,W,
[new l(null,4,[uk,"x",Wk,"ordinal",Pn,"width",Ym,new l(null,2,[$n,"table",Vk,"x"],null)],null),new l(null,4,[uk,"y",Pn,"height",Km,!0,Ym,new l(null,2,[$n,"table",Vk,"y"],null)],null)],null),hk,new V(null,2,5,W,[new l(null,2,[Wk,"x",ck,"x"],null),new l(null,2,[Wk,"y",ck,"y"],null)],null),Cm,new V(null,1,5,W,[new l(null,3,[Wk,"rect",bm,new l(null,1,[$n,"table"],null),fj,new l(null,3,[zl,new l(null,4,[Pm,new l(null,2,[ck,"x",Vk,"x"],null),Nk,new l(null,3,[ck,"x",Ok,!0,bk,-1],null),Zi,new l(null,2,[ck,
"y",Vk,"y"],null),ln,new l(null,2,[ck,"y",Ck,0],null)],null),Yk,new l(null,1,[Bk,new l(null,1,[Ck,"steelblue"],null)],null),Kl,new l(null,1,[Bk,new l(null,1,[Ck,"red"],null)],null)],null)],null)],null)],null);d=c.c?c.c(d):c.call(null,d);b=c.c?c.c(b):c.call(null,b);return e.S?e.S(a,Nk,d,Qn,b):e.call(null,a,Nk,d,Qn,b)}).call(null,tx,rx,Xo,sx,O),ox=wp(function(b,a){return a.c?a.c(b):a.call(null,b)}).call(null,ux,Ci);function vx(b,a){var c=new l(null,1,[Oj,"grey"],null),d=[t("Original date: "),t(b),t(function(){var b=G(a);return p(b)?[t(" / Last updated: "),t(b)].join(""):null}())].join("");return Mq.f?Mq.f(Pk,c,d):Mq.call(null,Pk,c,d)}function wx(b){var a=M(b,0);b=M(b,1);switch(a instanceof q?a.V:null){case "md":return lx(Hq,b);case "code":return kx.j(D([b],0));default:throw Error([t("No matching clause: "),t(a)].join(""));}}
function xx(b){var a=null!=b&&(b.m&64||b.Ua)?ab.b($c,b):b;b=B.b(a,ul);var c=B.b(a,fk),d=B.b(a,tn),a=B.b(a,gj);return new V(null,3,5,W,[Iq.c?Iq.c(b):Iq.call(null,b),vx(d,a),qx.j(D([De.b(wx,c)],0))],null)}function yx(b){var a=M(b,0),c=M(b,1);b=M(b,2);b=[t("#/blog/"),t(b)].join("");a=[t(c),t(": "),t(a)].join("");a=Fq.f?Fq.f(Hn,b,a):Fq.call(null,Hn,b,a);return Hq.f?Hq.f(hm,"mui-text-title",a):Hq.call(null,hm,"mui-text-title",a)}
function zx(b){return new V(null,2,5,W,[Iq.c?Iq.c("Posts:"):Iq.call(null,"Posts:"),qx.j(D([De.b(yx,fe(td,qe,gx(b)))],0))],null)}var Ax=D,Bx,Cx=Kq.A?Kq.A(Hn,"blog.css",ej,"stylesheet"):Kq.call(null,Hn,"blog.css",ej,"stylesheet");Bx=Eq.c?Eq.c(Cx):Eq.call(null,Cx);
var Dx=Ax([Bx,function(){var b=px.j(D([function(){var a=Fq.S?Fq.S(hm,"mui-text-headline mui-text-accent",Hn,"#","mynomoto's experiments"):Fq.call(null,hm,"mui-text-headline mui-text-accent",Hn,"#","mynomoto's experiments");return Oq.c?Oq.c(a):Oq.call(null,a)}()],0)),a=function(){var a=new l(null,1,[Hm,"none"],null),c=wp(function(){return function(a,b){return a.b?a.b(b,"chart"):a.call(null,b,"chart")}}(hm,"mui-container",Pk,a,ml,b)).call(null,A,ix),d=function(){var d=function(a,b,c,d,e,f,h,k){return function(){return Ff.b(rx,
function(a,b,c,d,e,f,h,k){return function(m){return bg(function(){return function(a){return ig.f(a,new V(null,1,5,W,[Zi],null),cd)}}(a,b,c,d,e,f,h,k),m)}}(a,b,c,d,e,f,h,k))}}(Ml,hm,"mui-container",Pk,a,ml,c,b);return Iq.f?Iq.f(Ml,d,"Sample chart"):Iq.call(null,Ml,d,"Sample chart")}(),k=function(){var k=new l(null,1,[Nk,"400px"],null),m=function(){return function(a){a=I.c?I.c(a):I.call(null,a);return Cf.b?Cf.b(sx,a):Cf.call(null,sx,a)}}(Pk,k,Wk,"range",qj,1,em,1101,zn,5,Ck,sx,Zm,hm,"mui-container",
Pk,a,ml,c,d,b);return Jq.pa?Jq.pa(Pk,k,Wk,"range",qj,1,em,1101,zn,5,Ck,sx,Zm,m):Jq.call(null,Pk,k,Wk,"range",qj,1,em,1101,zn,5,Ck,sx,Zm,m)}(),m=function(){var m=new l(null,1,[Nk,"400px"],null),n=function(){return function(a){a=I.c?I.c(a):I.call(null,a);return Cf.b?Cf.b(tx,a):Cf.call(null,tx,a)}}(Pk,m,Wk,"range",qj,1,em,401,zn,5,Ck,tx,Zm,hm,"mui-container",Pk,a,ml,c,d,k,b);return Jq.pa?Jq.pa(Pk,m,Wk,"range",qj,1,em,401,zn,5,Ck,tx,Zm,n):Jq.call(null,Pk,m,Wk,"range",qj,1,em,401,zn,5,Ck,tx,Zm,n)}(),n=
nx();return Hq.ua?Hq.ua(hm,"mui-container",Pk,a,ml,c,d,k,m,n):Hq.call(null,hm,"mui-container",Pk,a,ml,c,d,k,m,n)}(),c=mx(kp.c(function(){var a=localStorage.getItem("mynomoto/md-editor");return p(a)?a:"#A nice markdown editor\n## Made with Hoplon\n- Simple and easy.\n- It just works."}())),d=function(){var d=new l(null,1,[Hm,"none"],null),f=wp(function(){return function(a,b){return a.b?a.b(b,"blog"):a.call(null,b,"blog")}}(hm,"mui-container",Pk,d,ml,b,a,c)).call(null,A,ix),h=wp(function(){return function(a,
b,c,d,e,f){if(p(c.c?c.c(b):c.call(null,b)))return e.c?e.c(a):e.call(null,a);a=d.b?d.b(b,a):d.call(null,b,a);return f.c?f.c(a):f.call(null,a)}}(hm,"mui-container",Pk,d,ml,f,b,a,c)).call(null,cx,jx,fo,fx,zx,xx);return Hq.ma?Hq.ma(hm,"mui-container",Pk,d,ml,f,h):Hq.call(null,hm,"mui-container",Pk,d,ml,f,h)}();return Dq.A?Dq.A(b,a,c,d):Dq.call(null,b,a,c,d)}()],0),Ex=zq(Dx),Fx=M(Ex,0);M(Ex,1);Aq(document.getElementsByTagName("html")[0],Fx);